<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.48" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://www.gisfsde.com/posts/2021/GIS.html"><meta property="og:site_name" content="GIS-FSDE"><meta property="og:title" content="GIS"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-06-10T15:59:16.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="GIS-FSDE"><meta property="article:tag" content="GIS"><meta property="article:published_time" content="2022-06-06T00:00:00.000Z"><meta property="article:modified_time" content="2022-06-10T15:59:16.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><title>GIS | GIS-FSDE</title><meta name="description" content="GISFSDE(GIS Full Stack Developer)--GIS开发、JAVA全栈开发">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.e1848475.css">
    <link rel="modulepreload" href="/assets/app.95807bc9.js"><link rel="modulepreload" href="/assets/GIS.html.054c51a3.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/GIS.html.37237efd.js"><link rel="prefetch" href="/assets/home.html.0f7ff4b0.js"><link rel="prefetch" href="/assets/index.html.2dc22d8e.js"><link rel="prefetch" href="/assets/slide.html.6304f45a.js"><link rel="prefetch" href="/assets/index.html.285ebd50.js"><link rel="prefetch" href="/assets/index.html.a2f8d94a.js"><link rel="prefetch" href="/assets/album.html.6d56e046.js"><link rel="prefetch" href="/assets/Algorithm.html.8ccf3480.js"><link rel="prefetch" href="/assets/Architect.html.e7406c77.js"><link rel="prefetch" href="/assets/BMM.html.bb333e2f.js"><link rel="prefetch" href="/assets/BUG.html.cdaa63e0.js"><link rel="prefetch" href="/assets/CRUD.html.f2fca31e.js"><link rel="prefetch" href="/assets/DesignPatterns.html.59d81280.js"><link rel="prefetch" href="/assets/DevelopersFixComputer.html.c57fc4f8.js"><link rel="prefetch" href="/assets/Docker.html.ece2584a.js"><link rel="prefetch" href="/assets/Dubbo.html.ad651a24.js"><link rel="prefetch" href="/assets/EnglishDay.html.07db0c8f.js"><link rel="prefetch" href="/assets/Flash.html.b696aa49.js"><link rel="prefetch" href="/assets/FrontEnd.html.3e7c100c.js"><link rel="prefetch" href="/assets/GuLimall.html.08153ac0.js"><link rel="prefetch" href="/assets/Health.html.ce887929.js"><link rel="prefetch" href="/assets/HowToLearn.html.2b9fdaf7.js"><link rel="prefetch" href="/assets/inconstruction.html.f392a14c.js"><link rel="prefetch" href="/assets/Interesting Programs.html.ef10e86f.js"><link rel="prefetch" href="/assets/InterviewQuestions.html.91c9e4ce.js"><link rel="prefetch" href="/assets/Java.html.faa2ffae.js"><link rel="prefetch" href="/assets/JAVAUse.html.bfbdc361.js"><link rel="prefetch" href="/assets/JVM.html.370135ab.js"><link rel="prefetch" href="/assets/Life.html.b483df11.js"><link rel="prefetch" href="/assets/Linux.html.6c84af87.js"><link rel="prefetch" href="/assets/Markdown.html.87d92193.js"><link rel="prefetch" href="/assets/MongoDB.html.52d4295b.js"><link rel="prefetch" href="/assets/Music.html.672ab2f3.js"><link rel="prefetch" href="/assets/MyBatis-Plus.html.561a2756.js"><link rel="prefetch" href="/assets/MyBatis.html.cff9e302.js"><link rel="prefetch" href="/assets/MYSQLOptimize.html.f64106bb.js"><link rel="prefetch" href="/assets/Network.html.c0b48f3e.js"><link rel="prefetch" href="/assets/Nginx.html.fafb3900.js"><link rel="prefetch" href="/assets/NO GAME NO LIFE.html.f23aa4fd.js"><link rel="prefetch" href="/assets/Office.html.8ec0cd91.js"><link rel="prefetch" href="/assets/Photography.html.145f958b.js"><link rel="prefetch" href="/assets/PM.html.6e9c10b8.js"><link rel="prefetch" href="/assets/PMThesisTemplate.html.b65e77cc.js"><link rel="prefetch" href="/assets/Python3.html.5a4e1d54.js"><link rel="prefetch" href="/assets/QuickSearch.html.1a024565.js"><link rel="prefetch" href="/assets/RabbitMQ.html.9efe14d2.js"><link rel="prefetch" href="/assets/Redis.html.cc779293.js"><link rel="prefetch" href="/assets/Resources.html.ffff7ce6.js"><link rel="prefetch" href="/assets/Software Engineer.html.f6146ac9.js"><link rel="prefetch" href="/assets/Spring.html.78aa30f0.js"><link rel="prefetch" href="/assets/SpringBoot.html.0184a75e.js"><link rel="prefetch" href="/assets/SpringCloud.html.7a46ffb6.js"><link rel="prefetch" href="/assets/SpringMVC.html.fdb8f282.js"><link rel="prefetch" href="/assets/Summarize.html.215d5fa1.js"><link rel="prefetch" href="/assets/template.html.2daa810f.js"><link rel="prefetch" href="/assets/TODO.html.9c833d9e.js"><link rel="prefetch" href="/assets/Tools.html.07bd8d46.js"><link rel="prefetch" href="/assets/VUEPressDemo.html.ae923a1c.js"><link rel="prefetch" href="/assets/We-Media.html.2bd84a8c.js"><link rel="prefetch" href="/assets/WMP.html.abb3fe3c.js"><link rel="prefetch" href="/assets/404.html.fa71a0c4.js"><link rel="prefetch" href="/assets/index.html.1630f6e5.js"><link rel="prefetch" href="/assets/index.html.7be2cbcf.js"><link rel="prefetch" href="/assets/index.html.d520d863.js"><link rel="prefetch" href="/assets/index.html.997a56db.js"><link rel="prefetch" href="/assets/index.html.1578e35b.js"><link rel="prefetch" href="/assets/index.html.28dfc5e2.js"><link rel="prefetch" href="/assets/index.html.161587db.js"><link rel="prefetch" href="/assets/index.html.6765a033.js"><link rel="prefetch" href="/assets/index.html.dd470a3f.js"><link rel="prefetch" href="/assets/index.html.251a540e.js"><link rel="prefetch" href="/assets/index.html.f7dfc136.js"><link rel="prefetch" href="/assets/index.html.b312a911.js"><link rel="prefetch" href="/assets/index.html.95d35a42.js"><link rel="prefetch" href="/assets/index.html.54859e7e.js"><link rel="prefetch" href="/assets/index.html.08c7d9e6.js"><link rel="prefetch" href="/assets/index.html.de996081.js"><link rel="prefetch" href="/assets/index.html.9b36ff1b.js"><link rel="prefetch" href="/assets/index.html.22a95d2b.js"><link rel="prefetch" href="/assets/index.html.04abf6c2.js"><link rel="prefetch" href="/assets/index.html.431cc37d.js"><link rel="prefetch" href="/assets/index.html.408cc4cf.js"><link rel="prefetch" href="/assets/index.html.0c1332da.js"><link rel="prefetch" href="/assets/index.html.e9d8b26b.js"><link rel="prefetch" href="/assets/index.html.f595a703.js"><link rel="prefetch" href="/assets/index.html.d5671b7a.js"><link rel="prefetch" href="/assets/index.html.f869349c.js"><link rel="prefetch" href="/assets/index.html.9890203e.js"><link rel="prefetch" href="/assets/index.html.05577cbd.js"><link rel="prefetch" href="/assets/index.html.416b5538.js"><link rel="prefetch" href="/assets/index.html.a05d621e.js"><link rel="prefetch" href="/assets/index.html.39c56009.js"><link rel="prefetch" href="/assets/index.html.9714ba94.js"><link rel="prefetch" href="/assets/index.html.d3c0412a.js"><link rel="prefetch" href="/assets/index.html.77f221ab.js"><link rel="prefetch" href="/assets/index.html.8a687bee.js"><link rel="prefetch" href="/assets/index.html.b37bd8ea.js"><link rel="prefetch" href="/assets/index.html.91773ac3.js"><link rel="prefetch" href="/assets/index.html.90420aed.js"><link rel="prefetch" href="/assets/index.html.2052a1a7.js"><link rel="prefetch" href="/assets/index.html.da862e2b.js"><link rel="prefetch" href="/assets/index.html.cfe4f3a2.js"><link rel="prefetch" href="/assets/index.html.982e2d64.js"><link rel="prefetch" href="/assets/index.html.541f8d65.js"><link rel="prefetch" href="/assets/index.html.db8e734b.js"><link rel="prefetch" href="/assets/index.html.a342b16d.js"><link rel="prefetch" href="/assets/index.html.ad06da2c.js"><link rel="prefetch" href="/assets/index.html.c69b413f.js"><link rel="prefetch" href="/assets/index.html.7d22a5e7.js"><link rel="prefetch" href="/assets/index.html.deaad297.js"><link rel="prefetch" href="/assets/index.html.54f914ff.js"><link rel="prefetch" href="/assets/index.html.b3ccc077.js"><link rel="prefetch" href="/assets/index.html.b540f689.js"><link rel="prefetch" href="/assets/index.html.410d1f26.js"><link rel="prefetch" href="/assets/index.html.44855d58.js"><link rel="prefetch" href="/assets/index.html.deba3e6d.js"><link rel="prefetch" href="/assets/index.html.3ae4887f.js"><link rel="prefetch" href="/assets/index.html.d058367f.js"><link rel="prefetch" href="/assets/index.html.512cc1f3.js"><link rel="prefetch" href="/assets/index.html.afd427e3.js"><link rel="prefetch" href="/assets/index.html.9d3f4b54.js"><link rel="prefetch" href="/assets/index.html.83f4f0cb.js"><link rel="prefetch" href="/assets/index.html.5e046a4f.js"><link rel="prefetch" href="/assets/index.html.746e9de3.js"><link rel="prefetch" href="/assets/index.html.a846836d.js"><link rel="prefetch" href="/assets/index.html.f3f1ba1f.js"><link rel="prefetch" href="/assets/index.html.87303c77.js"><link rel="prefetch" href="/assets/index.html.183c2250.js"><link rel="prefetch" href="/assets/index.html.ca1fc4e9.js"><link rel="prefetch" href="/assets/index.html.93c75a42.js"><link rel="prefetch" href="/assets/index.html.f78010c6.js"><link rel="prefetch" href="/assets/index.html.d5826cb7.js"><link rel="prefetch" href="/assets/index.html.9ea1953d.js"><link rel="prefetch" href="/assets/index.html.25f646f2.js"><link rel="prefetch" href="/assets/index.html.2d462000.js"><link rel="prefetch" href="/assets/index.html.ead2dad1.js"><link rel="prefetch" href="/assets/index.html.6558810c.js"><link rel="prefetch" href="/assets/index.html.fa6b5daa.js"><link rel="prefetch" href="/assets/index.html.ec7073b6.js"><link rel="prefetch" href="/assets/index.html.31694b75.js"><link rel="prefetch" href="/assets/index.html.77a697ab.js"><link rel="prefetch" href="/assets/index.html.7957309e.js"><link rel="prefetch" href="/assets/index.html.4e4af2a8.js"><link rel="prefetch" href="/assets/index.html.7bf20406.js"><link rel="prefetch" href="/assets/index.html.368b7137.js"><link rel="prefetch" href="/assets/index.html.6df77643.js"><link rel="prefetch" href="/assets/index.html.0314e6b9.js"><link rel="prefetch" href="/assets/index.html.1efd06b8.js"><link rel="prefetch" href="/assets/index.html.2c069c37.js"><link rel="prefetch" href="/assets/index.html.9dc9018a.js"><link rel="prefetch" href="/assets/index.html.5dcd9175.js"><link rel="prefetch" href="/assets/index.html.02fb9c99.js"><link rel="prefetch" href="/assets/index.html.98944189.js"><link rel="prefetch" href="/assets/index.html.b38a46d3.js"><link rel="prefetch" href="/assets/index.html.e1e49e1b.js"><link rel="prefetch" href="/assets/index.html.5496c724.js"><link rel="prefetch" href="/assets/index.html.b1d14c9a.js"><link rel="prefetch" href="/assets/index.html.ba98f040.js"><link rel="prefetch" href="/assets/index.html.6d329d22.js"><link rel="prefetch" href="/assets/index.html.1c621e4d.js"><link rel="prefetch" href="/assets/index.html.a57a0f49.js"><link rel="prefetch" href="/assets/index.html.a9f8fd70.js"><link rel="prefetch" href="/assets/index.html.d625e702.js"><link rel="prefetch" href="/assets/index.html.18605766.js"><link rel="prefetch" href="/assets/index.html.e79202e4.js"><link rel="prefetch" href="/assets/index.html.eff8d844.js"><link rel="prefetch" href="/assets/index.html.631c9d0d.js"><link rel="prefetch" href="/assets/index.html.c0a6c949.js"><link rel="prefetch" href="/assets/index.html.cf18bd5e.js"><link rel="prefetch" href="/assets/index.html.710cb22b.js"><link rel="prefetch" href="/assets/index.html.92f4a3a9.js"><link rel="prefetch" href="/assets/index.html.8640b364.js"><link rel="prefetch" href="/assets/home.html.085b0061.js"><link rel="prefetch" href="/assets/index.html.9f00494e.js"><link rel="prefetch" href="/assets/slide.html.3e1f3c6e.js"><link rel="prefetch" href="/assets/index.html.a1e90d67.js"><link rel="prefetch" href="/assets/index.html.27f93604.js"><link rel="prefetch" href="/assets/album.html.2eab66b2.js"><link rel="prefetch" href="/assets/Algorithm.html.6291a6fa.js"><link rel="prefetch" href="/assets/Architect.html.b9a5a147.js"><link rel="prefetch" href="/assets/BMM.html.483bc165.js"><link rel="prefetch" href="/assets/BUG.html.858b6654.js"><link rel="prefetch" href="/assets/CRUD.html.8827ec7a.js"><link rel="prefetch" href="/assets/DesignPatterns.html.99369aa8.js"><link rel="prefetch" href="/assets/DevelopersFixComputer.html.a02a4070.js"><link rel="prefetch" href="/assets/Docker.html.9d8d4fd2.js"><link rel="prefetch" href="/assets/Dubbo.html.86c2078a.js"><link rel="prefetch" href="/assets/EnglishDay.html.9ec8973c.js"><link rel="prefetch" href="/assets/Flash.html.0a27743b.js"><link rel="prefetch" href="/assets/FrontEnd.html.0afeb0fe.js"><link rel="prefetch" href="/assets/GuLimall.html.64b3e565.js"><link rel="prefetch" href="/assets/Health.html.82ebda53.js"><link rel="prefetch" href="/assets/HowToLearn.html.3b0c6f76.js"><link rel="prefetch" href="/assets/inconstruction.html.f8bd01e8.js"><link rel="prefetch" href="/assets/Interesting Programs.html.1643ca40.js"><link rel="prefetch" href="/assets/InterviewQuestions.html.3210a104.js"><link rel="prefetch" href="/assets/Java.html.ff8cb3e2.js"><link rel="prefetch" href="/assets/JAVAUse.html.07194d8f.js"><link rel="prefetch" href="/assets/JVM.html.dda37b1d.js"><link rel="prefetch" href="/assets/Life.html.1378fd20.js"><link rel="prefetch" href="/assets/Linux.html.06903bcf.js"><link rel="prefetch" href="/assets/Markdown.html.6b27ff2b.js"><link rel="prefetch" href="/assets/MongoDB.html.28af2725.js"><link rel="prefetch" href="/assets/Music.html.902fc704.js"><link rel="prefetch" href="/assets/MyBatis-Plus.html.7671635f.js"><link rel="prefetch" href="/assets/MyBatis.html.353b8c6a.js"><link rel="prefetch" href="/assets/MYSQLOptimize.html.edd0c14b.js"><link rel="prefetch" href="/assets/Network.html.8a7c6580.js"><link rel="prefetch" href="/assets/Nginx.html.d67929a0.js"><link rel="prefetch" href="/assets/NO GAME NO LIFE.html.0fcacda1.js"><link rel="prefetch" href="/assets/Office.html.5b5f5398.js"><link rel="prefetch" href="/assets/Photography.html.facbe0f1.js"><link rel="prefetch" href="/assets/PM.html.3e41af7c.js"><link rel="prefetch" href="/assets/PMThesisTemplate.html.d7f6dddb.js"><link rel="prefetch" href="/assets/Python3.html.bac6602a.js"><link rel="prefetch" href="/assets/QuickSearch.html.03d254cc.js"><link rel="prefetch" href="/assets/RabbitMQ.html.c9a8b391.js"><link rel="prefetch" href="/assets/Redis.html.d288ef8b.js"><link rel="prefetch" href="/assets/Resources.html.944ad882.js"><link rel="prefetch" href="/assets/Software Engineer.html.52f4d837.js"><link rel="prefetch" href="/assets/Spring.html.f733fc9a.js"><link rel="prefetch" href="/assets/SpringBoot.html.b777e587.js"><link rel="prefetch" href="/assets/SpringCloud.html.bf44609c.js"><link rel="prefetch" href="/assets/SpringMVC.html.c06af361.js"><link rel="prefetch" href="/assets/Summarize.html.a8269321.js"><link rel="prefetch" href="/assets/template.html.3529b9a2.js"><link rel="prefetch" href="/assets/TODO.html.d2fde38f.js"><link rel="prefetch" href="/assets/Tools.html.8d6263f4.js"><link rel="prefetch" href="/assets/VUEPressDemo.html.430acce9.js"><link rel="prefetch" href="/assets/We-Media.html.172dd9bd.js"><link rel="prefetch" href="/assets/WMP.html.858aabc5.js"><link rel="prefetch" href="/assets/404.html.c2e39eca.js"><link rel="prefetch" href="/assets/index.html.36fc8602.js"><link rel="prefetch" href="/assets/index.html.74a70eb4.js"><link rel="prefetch" href="/assets/index.html.028b6439.js"><link rel="prefetch" href="/assets/index.html.e27284e0.js"><link rel="prefetch" href="/assets/index.html.8f0f7f95.js"><link rel="prefetch" href="/assets/index.html.7ccbec73.js"><link rel="prefetch" href="/assets/index.html.072384b3.js"><link rel="prefetch" href="/assets/index.html.365c6e0f.js"><link rel="prefetch" href="/assets/index.html.67b47778.js"><link rel="prefetch" href="/assets/index.html.ba9a304b.js"><link rel="prefetch" href="/assets/index.html.9376ec99.js"><link rel="prefetch" href="/assets/index.html.c3501038.js"><link rel="prefetch" href="/assets/index.html.3e656c79.js"><link rel="prefetch" href="/assets/index.html.01e129a8.js"><link rel="prefetch" href="/assets/index.html.3358a380.js"><link rel="prefetch" href="/assets/index.html.e32444bc.js"><link rel="prefetch" href="/assets/index.html.2a115ca5.js"><link rel="prefetch" href="/assets/index.html.9fe62f96.js"><link rel="prefetch" href="/assets/index.html.297e00a4.js"><link rel="prefetch" href="/assets/index.html.14056e8c.js"><link rel="prefetch" href="/assets/index.html.50708293.js"><link rel="prefetch" href="/assets/index.html.b8b4c96c.js"><link rel="prefetch" href="/assets/index.html.837973f9.js"><link rel="prefetch" href="/assets/index.html.34423c8b.js"><link rel="prefetch" href="/assets/index.html.3ba8ac10.js"><link rel="prefetch" href="/assets/index.html.564f01b9.js"><link rel="prefetch" href="/assets/index.html.369bc715.js"><link rel="prefetch" href="/assets/index.html.67325de7.js"><link rel="prefetch" href="/assets/index.html.de6c8cff.js"><link rel="prefetch" href="/assets/index.html.a4caab71.js"><link rel="prefetch" href="/assets/index.html.e1acbec4.js"><link rel="prefetch" href="/assets/index.html.51163e2a.js"><link rel="prefetch" href="/assets/index.html.bddab55e.js"><link rel="prefetch" href="/assets/index.html.ba8fa283.js"><link rel="prefetch" href="/assets/index.html.0971837d.js"><link rel="prefetch" href="/assets/index.html.8b1a6a5d.js"><link rel="prefetch" href="/assets/index.html.e6e010d3.js"><link rel="prefetch" href="/assets/index.html.f472be4c.js"><link rel="prefetch" href="/assets/index.html.8e9f2ae3.js"><link rel="prefetch" href="/assets/index.html.95d046f7.js"><link rel="prefetch" href="/assets/index.html.b26db191.js"><link rel="prefetch" href="/assets/index.html.bffa044a.js"><link rel="prefetch" href="/assets/index.html.e2734a54.js"><link rel="prefetch" href="/assets/index.html.d97c08e4.js"><link rel="prefetch" href="/assets/index.html.b1be3ee9.js"><link rel="prefetch" href="/assets/index.html.22ec64df.js"><link rel="prefetch" href="/assets/index.html.42cb4f2d.js"><link rel="prefetch" href="/assets/index.html.018d6f57.js"><link rel="prefetch" href="/assets/index.html.e49bd31e.js"><link rel="prefetch" href="/assets/index.html.ec2cdda2.js"><link rel="prefetch" href="/assets/index.html.10a6845b.js"><link rel="prefetch" href="/assets/index.html.44c744ac.js"><link rel="prefetch" href="/assets/index.html.69a9c490.js"><link rel="prefetch" href="/assets/index.html.a39e4853.js"><link rel="prefetch" href="/assets/index.html.2afb19ff.js"><link rel="prefetch" href="/assets/index.html.eb7ae4bc.js"><link rel="prefetch" href="/assets/index.html.f5b3cb8d.js"><link rel="prefetch" href="/assets/index.html.0d9667bb.js"><link rel="prefetch" href="/assets/index.html.7ab1509e.js"><link rel="prefetch" href="/assets/index.html.f175ae9a.js"><link rel="prefetch" href="/assets/index.html.4d0d7fe6.js"><link rel="prefetch" href="/assets/index.html.2b699849.js"><link rel="prefetch" href="/assets/index.html.e9a4f2d3.js"><link rel="prefetch" href="/assets/index.html.e264b133.js"><link rel="prefetch" href="/assets/index.html.8fc763eb.js"><link rel="prefetch" href="/assets/index.html.93600e0e.js"><link rel="prefetch" href="/assets/index.html.ee8a9b61.js"><link rel="prefetch" href="/assets/index.html.9e4843fb.js"><link rel="prefetch" href="/assets/index.html.f346ef18.js"><link rel="prefetch" href="/assets/index.html.5e9b7b4f.js"><link rel="prefetch" href="/assets/index.html.eee10b16.js"><link rel="prefetch" href="/assets/index.html.5d647bf9.js"><link rel="prefetch" href="/assets/index.html.9b602c32.js"><link rel="prefetch" href="/assets/index.html.a94ae221.js"><link rel="prefetch" href="/assets/index.html.2a233b5d.js"><link rel="prefetch" href="/assets/index.html.2c8427e4.js"><link rel="prefetch" href="/assets/index.html.534ec82e.js"><link rel="prefetch" href="/assets/index.html.4e69cca1.js"><link rel="prefetch" href="/assets/index.html.a14a9bba.js"><link rel="prefetch" href="/assets/index.html.7fb7a2f4.js"><link rel="prefetch" href="/assets/index.html.43c805f3.js"><link rel="prefetch" href="/assets/index.html.e9d79eb5.js"><link rel="prefetch" href="/assets/index.html.b63bb5d6.js"><link rel="prefetch" href="/assets/index.html.224ae436.js"><link rel="prefetch" href="/assets/index.html.81690f21.js"><link rel="prefetch" href="/assets/index.html.9970c522.js"><link rel="prefetch" href="/assets/index.html.99d2776a.js"><link rel="prefetch" href="/assets/index.html.dee3660a.js"><link rel="prefetch" href="/assets/index.html.577aef86.js"><link rel="prefetch" href="/assets/index.html.a8d91138.js"><link rel="prefetch" href="/assets/index.html.22b06a3f.js"><link rel="prefetch" href="/assets/index.html.ea3f610f.js"><link rel="prefetch" href="/assets/index.html.ae49d0e1.js"><link rel="prefetch" href="/assets/index.html.a23f246b.js"><link rel="prefetch" href="/assets/index.html.835932b4.js"><link rel="prefetch" href="/assets/index.html.c2ecfbdd.js"><link rel="prefetch" href="/assets/index.html.d0b2e548.js"><link rel="prefetch" href="/assets/index.html.5a459a11.js"><link rel="prefetch" href="/assets/index.html.a7512111.js"><link rel="prefetch" href="/assets/index.html.2eaf85f7.js"><link rel="prefetch" href="/assets/index.html.db10f6d5.js"><link rel="prefetch" href="/assets/index.html.cd23bae0.js"><link rel="prefetch" href="/assets/index.html.02a889b0.js"><link rel="prefetch" href="/assets/index.html.ee924163.js"><link rel="prefetch" href="/assets/index.html.273e9b37.js"><link rel="prefetch" href="/assets/index.html.f20a71e3.js"><link rel="prefetch" href="/assets/index.html.93640b13.js"><link rel="prefetch" href="/assets/index.html.a1f6c1b7.js"><link rel="prefetch" href="/assets/index.html.34a5a00a.js"><link rel="prefetch" href="/assets/index.html.8cbd93a0.js"><link rel="prefetch" href="/assets/index.html.509fe415.js"><link rel="prefetch" href="/assets/404.137bcafd.js"><link rel="prefetch" href="/assets/Layout.1260b9a8.js"><link rel="prefetch" href="/assets/Slide.4e8af6f2.js"><link rel="prefetch" href="/assets/Blog.86f5f49b.js"><link rel="prefetch" href="/assets/giscus.es.44628f1d.js"><link rel="prefetch" href="/assets/auto.esm.52abc6cc.js"><link rel="prefetch" href="/assets/index.147398ee.js"><link rel="prefetch" href="/assets/index.e1c5a3de.js"><link rel="prefetch" href="/assets/mermaid.esm.min.e741c6cd.js"><link rel="prefetch" href="/assets/highlight.esm.9b852bc5.js"><link rel="prefetch" href="/assets/markdown.esm.77e8db25.js"><link rel="prefetch" href="/assets/math.esm.cb9d4be3.js"><link rel="prefetch" href="/assets/notes.esm.62c5f19d.js"><link rel="prefetch" href="/assets/reveal.esm.41ec5d7f.js"><link rel="prefetch" href="/assets/search.esm.04894411.js"><link rel="prefetch" href="/assets/zoom.esm.78977eba.js"><link rel="prefetch" href="/assets/photoswipe.esm.351abe37.js"><link rel="prefetch" href="/assets/three.module.6ea4571d.js"><link rel="prefetch" href="/assets/OrbitControls.f2b1dd1d.js"><link rel="prefetch" href="/assets/STLLoader.9a9a186e.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="GIS-FSDE"><!----><span class="site-name hide-in-pad">GIS-FSDE</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="主页"><span class="icon iconfont icon-home" style=""></span>主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/home.html" class="nav-link" aria-label="GIS-FSDE"><span class="icon iconfont icon-home" style=""></span>GIS-FSDE<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="JAVA全栈"><span class="title"><span class="icon iconfont icon-edit" style=""></span>JAVA全栈</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>后端</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/Java.html" class="nav-link" aria-label="JAVA"><span class="icon iconfont icon-edit" style=""></span>JAVA<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/JVM.html" class="nav-link" aria-label="JVM"><span class="icon iconfont icon-edit" style=""></span>JVM<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Python3.html" class="nav-link" aria-label="Python"><span class="icon iconfont icon-edit" style=""></span>Python<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/MYSQLOptimize.html" class="nav-link" aria-label="MYSQL"><span class="icon iconfont icon-edit" style=""></span>MYSQL<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="PostgreSQL"><span class="icon iconfont icon-edit" style=""></span>PostgreSQL<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/MongoDB.html" class="nav-link" aria-label="MongoDB"><span class="icon iconfont icon-edit" style=""></span>MongoDB<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="系统优化"><span class="icon iconfont icon-edit" style=""></span>系统优化<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="系统设计"><span class="icon iconfont icon-edit" style=""></span>系统设计<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="功能DEMO"><span class="icon iconfont icon-edit" style=""></span>功能DEMO<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>软件工程</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/PM.html" class="nav-link" aria-label="项目管理"><span class="icon iconfont icon-edit" style=""></span>项目管理<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Architect.html" class="nav-link" aria-label="架构师"><span class="icon iconfont icon-edit" style=""></span>架构师<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="软件工程"><span class="icon iconfont icon-edit" style=""></span>软件工程<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Network.html" class="nav-link" aria-label="网络"><span class="icon iconfont icon-edit" style=""></span>网络<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="安全"><span class="icon iconfont icon-edit" style=""></span>安全<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Algorithm.html" class="nav-link" aria-label="算法"><span class="icon iconfont icon-edit" style=""></span>算法<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/DesignPatterns.html" class="nav-link" aria-label="设计模式"><span class="icon iconfont icon-edit" style=""></span>设计模式<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="测试"><span class="icon iconfont icon-edit" style=""></span>测试<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/DevelopersFixComputer.html" class="nav-link" aria-label="程序员修电脑"><span class="icon iconfont icon-edit" style=""></span>程序员修电脑<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="数学"><span class="icon iconfont icon-edit" style=""></span>数学<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/EnglishDay.html" class="nav-link" aria-label="英语"><span class="icon iconfont icon-edit" style=""></span>英语<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>框架-中间件</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/Spring.html" class="nav-link" aria-label="Spring"><span class="icon iconfont icon-edit" style=""></span>Spring<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/SpringMVC.html" class="nav-link" aria-label="SpringMVC"><span class="icon iconfont icon-edit" style=""></span>SpringMVC<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/MyBatis.html" class="nav-link" aria-label="Mybatis"><span class="icon iconfont icon-edit" style=""></span>Mybatis<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/MyBatis-Plus.html" class="nav-link" aria-label="Mybatis-Plus"><span class="icon iconfont icon-edit" style=""></span>Mybatis-Plus<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/SpringBoot.html" class="nav-link" aria-label="SpringBoot"><span class="icon iconfont icon-edit" style=""></span>SpringBoot<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/SpringCloud.html" class="nav-link" aria-label="SpringCloud"><span class="icon iconfont icon-edit" style=""></span>SpringCloud<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Dubbo.html" class="nav-link" aria-label="Dubbo"><span class="icon iconfont icon-edit" style=""></span>Dubbo<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/RabbitMQ.html" class="nav-link" aria-label="RabbitMQ"><span class="icon iconfont icon-edit" style=""></span>RabbitMQ<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Redis.html" class="nav-link" aria-label="Redis"><span class="icon iconfont icon-edit" style=""></span>Redis<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Nginx.html" class="nav-link" aria-label="Nginx"><span class="icon iconfont icon-edit" style=""></span>Nginx<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="Maven"><span class="icon iconfont icon-edit" style=""></span>Maven<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>运维-工具</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/Linux.html" class="nav-link" aria-label="Linux"><span class="icon iconfont icon-edit" style=""></span>Linux<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Docker.html" class="nav-link" aria-label="Docker"><span class="icon iconfont icon-edit" style=""></span>Docker<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="IIS"><span class="icon iconfont icon-edit" style=""></span>IIS<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="Jenkins"><span class="icon iconfont icon-edit" style=""></span>Jenkins<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="从零网站上线"><span class="icon iconfont icon-edit" style=""></span>从零网站上线<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>前端</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/FrontEnd.html" class="nav-link" aria-label="前端"><span class="icon iconfont icon-edit" style=""></span>前端<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/FrontEnd.html" class="nav-link" aria-label="UI设计"><span class="icon iconfont icon-edit" style=""></span>UI设计<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/WMP.html" class="nav-link" aria-label="小程序"><span class="icon iconfont icon-edit" style=""></span>小程序<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="快乐编程"><span class="title"><span class="icon iconfont icon-edit" style=""></span>快乐编程</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>技术前沿</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="项目管理"><span class="icon iconfont icon-edit" style=""></span>项目管理<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>大数据</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="大数据"><span class="icon iconfont icon-edit" style=""></span>大数据<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>AI</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="深度学习"><span class="icon iconfont icon-edit" style=""></span>深度学习<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>GAME</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="UE4"><span class="icon iconfont icon-edit" style=""></span>UE4<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>GIS</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a aria-current="page" href="/posts/2021/GIS.html" class="router-link-active router-link-exact-active nav-link active" aria-label="GIS基础知识"><span class="icon iconfont icon-edit" style=""></span>GIS基础知识<!----></a></li><li class="dropdown-subitem"><a aria-current="page" href="/posts/2021/GIS.html" class="router-link-active router-link-exact-active nav-link active" aria-label="GIS软件"><span class="icon iconfont icon-edit" style=""></span>GIS软件<!----></a></li><li class="dropdown-subitem"><a aria-current="page" href="/posts/2021/GIS.html" class="router-link-active router-link-exact-active nav-link active" aria-label="Leaflet"><span class="icon iconfont icon-edit" style=""></span>Leaflet<!----></a></li><li class="dropdown-subitem"><a aria-current="page" href="/posts/2021/GIS.html" class="router-link-active router-link-exact-active nav-link active" aria-label="Mapbox"><span class="icon iconfont icon-edit" style=""></span>Mapbox<!----></a></li><li class="dropdown-subitem"><a aria-current="page" href="/posts/2021/GIS.html" class="router-link-active router-link-exact-active nav-link active" aria-label="Cesium"><span class="icon iconfont icon-edit" style=""></span>Cesium<!----></a></li><li class="dropdown-subitem"><a aria-current="page" href="/posts/2021/GIS.html" class="router-link-active router-link-exact-active nav-link active" aria-label="最新技术"><span class="icon iconfont icon-edit" style=""></span>最新技术<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="思考"><span class="title"><span class="icon iconfont icon-edit" style=""></span>思考</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>技术思考</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="项目管理"><span class="icon iconfont icon-edit" style=""></span>项目管理<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>生活思考</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/HowToLearn.html" class="nav-link" aria-label="如何学习一个新知识"><span class="icon iconfont icon-edit" style=""></span>如何学习一个新知识<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="生活"><span class="title"><span class="icon iconfont icon-hot" style=""></span>生活</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>TODO</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/TODO.html" class="nav-link" aria-label="TODO"><span class="icon iconfont icon-edit" style=""></span>TODO<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>穿搭护肤</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/Health.html" class="nav-link" aria-label="穿搭"><span class="icon iconfont icon-edit" style=""></span>穿搭<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Health.html" class="nav-link" aria-label="护肤"><span class="icon iconfont icon-edit" style=""></span>护肤<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>自媒体</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/We-Media.html" class="nav-link" aria-label="自媒体规划"><span class="icon iconfont icon-edit" style=""></span>自媒体规划<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/We-Media.html" class="nav-link" aria-label="自媒体矩阵"><span class="icon iconfont icon-edit" style=""></span>自媒体矩阵<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/We-Media.html" class="nav-link" aria-label="自媒体知识"><span class="icon iconfont icon-edit" style=""></span>自媒体知识<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>书影音</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/BMM.html" class="nav-link" aria-label="读后感"><span class="icon iconfont icon-edit" style=""></span>读后感<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/BMM.html" class="nav-link" aria-label="观后感"><span class="icon iconfont icon-edit" style=""></span>观后感<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>年月日</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/Summarize.html" class="nav-link" aria-label="年月日"><span class="icon iconfont icon-edit" style=""></span>年月日<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>健康</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="健身知识"><span class="icon iconfont icon-edit" style=""></span>健身知识<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="营养搭配"><span class="icon iconfont icon-edit" style=""></span>营养搭配<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="美食制作"><span class="icon iconfont icon-edit" style=""></span>美食制作<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>有用工具</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="电脑工具"><span class="icon iconfont icon-edit" style=""></span>电脑工具<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label><span class="icon iconfont icon-edit" style=""></span><!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Adobe</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="PS"><span class="icon iconfont icon-edit" style=""></span>PS<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="AE"><span class="icon iconfont icon-edit" style=""></span>AE<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="平面设计"><span class="icon iconfont icon-edit" style=""></span>平面设计<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>三维</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="C4D"><span class="icon iconfont icon-edit" style=""></span>C4D<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="艺术"><span class="title"><span class="icon iconfont icon-creative" style=""></span>艺术</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>音乐</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="乐理"><span class="icon iconfont icon-edit" style=""></span>乐理<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="吉他谱"><span class="icon iconfont icon-edit" style=""></span>吉他谱<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="钢琴谱"><span class="icon iconfont icon-edit" style=""></span>钢琴谱<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="其他谱"><span class="icon iconfont icon-edit" style=""></span>其他谱<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="作词编曲"><span class="icon iconfont icon-edit" style=""></span>作词编曲<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>摄影</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/album.html" class="nav-link" aria-label="审美提高"><span class="icon iconfont icon-edit" style=""></span>审美提高<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="摄影"><span class="icon iconfont icon-edit" style=""></span>摄影<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>数绘</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="审美提高"><span class="icon iconfont icon-edit" style=""></span>审美提高<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="数绘"><span class="icon iconfont icon-edit" style=""></span>数绘<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>记录</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="摄影记录"><span class="icon iconfont icon-edit" style=""></span>摄影记录<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="绘画记录"><span class="icon iconfont icon-edit" style=""></span>绘画记录<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="音乐记录"><span class="icon iconfont icon-edit" style=""></span>音乐记录<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="视频记录"><span class="icon iconfont icon-edit" style=""></span>视频记录<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/guide/" class="nav-link" aria-label="关于我"><span class="icon iconfont icon-emoji" style=""></span>关于我<!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/GISFSDE/" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!----><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/" class="nav-link sidebar-link sidebar-page" aria-label="主页"><span class="icon iconfont icon-home" style=""></span>主页<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/home.html" class="nav-link sidebar-link sidebar-page" aria-label="GIS-FSDE"><span class="icon iconfont icon-home" style=""></span>GIS-FSDE<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">JAVA全栈</span><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">后端</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/Java.html" class="nav-link sidebar-link sidebar-page" aria-label="JAVA"><span class="icon iconfont icon-edit" style=""></span>JAVA<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/JVM.html" class="nav-link sidebar-link sidebar-page" aria-label="JVM"><span class="icon iconfont icon-edit" style=""></span>JVM<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Python3.html" class="nav-link sidebar-link sidebar-page" aria-label="Python"><span class="icon iconfont icon-edit" style=""></span>Python<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/MYSQLOptimize.html" class="nav-link sidebar-link sidebar-page" aria-label="MYSQL"><span class="icon iconfont icon-edit" style=""></span>MYSQL<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="PostgreSQL"><span class="icon iconfont icon-edit" style=""></span>PostgreSQL<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/MongoDB.html" class="nav-link sidebar-link sidebar-page" aria-label="MongoDB"><span class="icon iconfont icon-edit" style=""></span>MongoDB<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="系统优化"><span class="icon iconfont icon-edit" style=""></span>系统优化<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="系统设计"><span class="icon iconfont icon-edit" style=""></span>系统设计<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="功能DEMO"><span class="icon iconfont icon-edit" style=""></span>功能DEMO<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">软件工程</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/PM.html" class="nav-link sidebar-link sidebar-page" aria-label="项目管理"><span class="icon iconfont icon-edit" style=""></span>项目管理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Architect.html" class="nav-link sidebar-link sidebar-page" aria-label="架构师"><span class="icon iconfont icon-edit" style=""></span>架构师<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="软件工程"><span class="icon iconfont icon-edit" style=""></span>软件工程<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Network.html" class="nav-link sidebar-link sidebar-page" aria-label="网络"><span class="icon iconfont icon-edit" style=""></span>网络<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="安全"><span class="icon iconfont icon-edit" style=""></span>安全<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Algorithm.html" class="nav-link sidebar-link sidebar-page" aria-label="算法"><span class="icon iconfont icon-edit" style=""></span>算法<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/DesignPatterns.html" class="nav-link sidebar-link sidebar-page" aria-label="设计模式"><span class="icon iconfont icon-edit" style=""></span>设计模式<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="测试"><span class="icon iconfont icon-edit" style=""></span>测试<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/DevelopersFixComputer.html" class="nav-link sidebar-link sidebar-page" aria-label="程序员修电脑"><span class="icon iconfont icon-edit" style=""></span>程序员修电脑<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="数学"><span class="icon iconfont icon-edit" style=""></span>数学<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/EnglishDay.html" class="nav-link sidebar-link sidebar-page" aria-label="英语"><span class="icon iconfont icon-edit" style=""></span>英语<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">框架-中间件</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/Spring.html" class="nav-link sidebar-link sidebar-page" aria-label="Spring"><span class="icon iconfont icon-edit" style=""></span>Spring<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/SpringMVC.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringMVC"><span class="icon iconfont icon-edit" style=""></span>SpringMVC<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/MyBatis.html" class="nav-link sidebar-link sidebar-page" aria-label="Mybatis"><span class="icon iconfont icon-edit" style=""></span>Mybatis<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/MyBatis-Plus.html" class="nav-link sidebar-link sidebar-page" aria-label="Mybatis-Plus"><span class="icon iconfont icon-edit" style=""></span>Mybatis-Plus<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/SpringBoot.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringBoot"><span class="icon iconfont icon-edit" style=""></span>SpringBoot<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/SpringCloud.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringCloud"><span class="icon iconfont icon-edit" style=""></span>SpringCloud<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Dubbo.html" class="nav-link sidebar-link sidebar-page" aria-label="Dubbo"><span class="icon iconfont icon-edit" style=""></span>Dubbo<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/RabbitMQ.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQ"><span class="icon iconfont icon-edit" style=""></span>RabbitMQ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Redis.html" class="nav-link sidebar-link sidebar-page" aria-label="Redis"><span class="icon iconfont icon-edit" style=""></span>Redis<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Nginx.html" class="nav-link sidebar-link sidebar-page" aria-label="Nginx"><span class="icon iconfont icon-edit" style=""></span>Nginx<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="Maven"><span class="icon iconfont icon-edit" style=""></span>Maven<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">运维-工具</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/Linux.html" class="nav-link sidebar-link sidebar-page" aria-label="Linux"><span class="icon iconfont icon-edit" style=""></span>Linux<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Docker.html" class="nav-link sidebar-link sidebar-page" aria-label="Docker"><span class="icon iconfont icon-edit" style=""></span>Docker<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="IIS"><span class="icon iconfont icon-edit" style=""></span>IIS<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="Jenkins"><span class="icon iconfont icon-edit" style=""></span>Jenkins<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="从零网站上线"><span class="icon iconfont icon-edit" style=""></span>从零网站上线<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">前端</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/FrontEnd.html" class="nav-link sidebar-link sidebar-page" aria-label="前端"><span class="icon iconfont icon-edit" style=""></span>前端<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/FrontEnd.html" class="nav-link sidebar-link sidebar-page" aria-label="UI设计"><span class="icon iconfont icon-edit" style=""></span>UI设计<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/WMP.html" class="nav-link sidebar-link sidebar-page" aria-label="小程序"><span class="icon iconfont icon-edit" style=""></span>小程序<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><span class="icon iconfont icon-edit" style=""></span><span class="title">快乐编程</span><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">技术前沿</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="项目管理"><span class="icon iconfont icon-edit" style=""></span>项目管理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">大数据</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="大数据"><span class="icon iconfont icon-edit" style=""></span>大数据<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">AI</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="深度学习"><span class="icon iconfont icon-edit" style=""></span>深度学习<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">GAME</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="UE4"><span class="icon iconfont icon-edit" style=""></span>UE4<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><span class="icon iconfont icon-edit" style=""></span><span class="title">GIS</span><!----></p><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/posts/2021/GIS.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="GIS基础知识"><span class="icon iconfont icon-edit" style=""></span>GIS基础知识<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#cgcs2000-mapbox-vue使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="cgcs2000 Mapbox VUE使用"><!---->cgcs2000 Mapbox VUE使用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox源码编译、切片流程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX源码编译、切片流程"><!---->MAPBOX源码编译、切片流程<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#详细步骤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="详细步骤"><!---->详细步骤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#环境准备" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="环境准备"><!---->环境准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#windows" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="windows："><!---->windows：<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#详细步骤-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="详细步骤："><!---->详细步骤：<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#一些小技巧" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="一些小技巧"><!---->一些小技巧<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox源码编译" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Mapbox源码编译"><!---->Mapbox源码编译<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#环境准备-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="环境准备"><!---->环境准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#项目编译-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="项目编译"><!---->项目编译<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox专业术语" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX专业术语"><!---->MAPBOX专业术语<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox学习" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX学习"><!---->MAPBOX学习<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#styles-8" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Styles (8)"><!---->Styles (8)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#layers-30" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Layers (30)"><!---->Layers (30)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#sources-9" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Sources (9)"><!---->Sources (9)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#user-interaction-17" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="User interaction (17)"><!---->User interaction (17)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#camera-11" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Camera (11)"><!---->Camera (11)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#controls-and-overlays-16" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Controls and overlays (16)"><!---->Controls and overlays (16)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#geocoder-8" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Geocoder (8)"><!---->Geocoder (8)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#browser-support-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Browser support (1)"><!---->Browser support (1)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#internationalization-support-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Internationalization support (2)"><!---->Internationalization support (2)<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#源码解析准备" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="源码解析准备"><!---->源码解析准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#获取token" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="获取Token"><!---->获取Token<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#主页说明" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="主页说明"><!---->主页说明<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#cesium-ion" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Cesium ion"><!---->Cesium ion<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#local-links" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Local links"><!---->Local links<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#external-links" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="External links"><!---->External links<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#界面介绍" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="界面介绍"><!---->界面介绍<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#自项目编写" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="自项目编写"><!---->自项目编写<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#项目创建" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="项目创建"><!---->项目创建<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#安装cesium-1-89" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="安装cesium  1.89"><!---->安装cesium  1.89<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#修改webpack-prod-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="修改webpack.prod.conf.js"><!---->修改webpack.prod.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#webpack-dev-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack.dev.conf.js"><!---->webpack.dev.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#webpack-base-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack.base.conf.js"><!---->webpack.base.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#创建地图组件-src-view-earth-vue" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建地图组件 src\view\earth.vue"><!---->创建地图组件 src\view\earth.vue<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#添加路由-src-router-index-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="添加路由  src\router\index.js"><!---->添加路由  src\router\index.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行报错1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行报错1"><!---->运行报错1<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行报错2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行报错2"><!---->运行报错2<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行"><!---->运行<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#部署dist" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="部署dist"><!---->部署dist<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#功能开发" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="功能开发"><!---->功能开发<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#控件显示控制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="控件显示控制"><!---->控件显示控制<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#创建形状" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建形状"><!---->创建形状<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#添加不同类型数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="添加不同类型数据"><!---->添加不同类型数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#an-open-source-javascript-library-for-mobile-friendly-interactive-maps" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="an open-source JavaScript library for mobile-friendly interactive maps"><!---->an open-source JavaScript library for mobile-friendly interactive maps<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1地图"><!---->3.3.1地图<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-1矢量电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.1矢量电子地图"><!---->3.3.1.1矢量电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-2影像电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.2影像电子地图"><!---->3.3.1.2影像电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-3手动加载-移除地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.3手动加载/移除地图"><!---->3.3.1.3手动加载/移除地图<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-2图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.2图层"><!---->3.3.2图层<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-2-1弹出信息框" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.2.1弹出信息框"><!---->3.3.2.1弹出信息框<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3查询"><!---->3.3.3查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-1点查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.1点查询"><!---->3.3.3.1点查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-2面查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.2面查询"><!---->3.3.3.2面查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-3属性查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.3属性查询"><!---->3.3.3.3属性查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-4组合查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.4组合查询"><!---->3.3.3.4组合查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-1地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.1地图"><!---->3.1.1地图<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-1-1矢量电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.1.1矢量电子地图"><!---->3.1.1.1矢量电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2图层"><!---->3.1.2图层<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-1弹出信息框" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.1弹出信息框"><!---->3.1.2.1弹出信息框<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-2矢量图层-wms" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.2矢量图层（wms）"><!---->3.1.2.2矢量图层（wms）<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-3矢量图层-wfs" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.3矢量图层（wfs）"><!---->3.1.2.3矢量图层（wfs）<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3查询"><!---->3.1.3查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-1点查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.1点查询"><!---->3.1.3.1点查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-2面查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.2面查询"><!---->3.1.3.2面查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-3属性查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.3属性查询"><!---->3.1.3.3属性查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-4组合查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.4组合查询"><!---->3.1.3.4组合查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="地图"><!---->地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="图层"><!---->图层<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="查询"><!---->查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wms" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WMS"><!---->WMS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-1-wms服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.1 WMS服务简介"><!---->1.2.1 WMS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.2 服务操作列表"><!---->1.2.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-3服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.3服务操作的参数列表"><!---->1.2.3服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-4-接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.4 接口调用示例"><!---->1.2.4 接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wfs" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WFS"><!---->WFS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-1-wfs服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.1 WFS服务简介"><!---->1.3.1 WFS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.2 服务操作列表"><!---->1.3.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-3服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.3服务操作的参数列表"><!---->1.3.3服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-4-接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.4 接口调用示例"><!---->1.3.4 接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wmts-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WMTS"><!---->WMTS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-1-wmts服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1 WMTS服务简介"><!---->1.1 WMTS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2 服务操作列表"><!---->1.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3 服务操作的参数列表"><!---->1.3 服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-4接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.4接口调用示例"><!---->1.4接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/posts/2021/GIS.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="GIS软件"><span class="icon iconfont icon-edit" style=""></span>GIS软件<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#cgcs2000-mapbox-vue使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="cgcs2000 Mapbox VUE使用"><!---->cgcs2000 Mapbox VUE使用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox源码编译、切片流程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX源码编译、切片流程"><!---->MAPBOX源码编译、切片流程<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#详细步骤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="详细步骤"><!---->详细步骤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#环境准备" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="环境准备"><!---->环境准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#windows" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="windows："><!---->windows：<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#详细步骤-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="详细步骤："><!---->详细步骤：<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#一些小技巧" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="一些小技巧"><!---->一些小技巧<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox源码编译" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Mapbox源码编译"><!---->Mapbox源码编译<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#环境准备-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="环境准备"><!---->环境准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#项目编译-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="项目编译"><!---->项目编译<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox专业术语" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX专业术语"><!---->MAPBOX专业术语<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox学习" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX学习"><!---->MAPBOX学习<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#styles-8" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Styles (8)"><!---->Styles (8)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#layers-30" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Layers (30)"><!---->Layers (30)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#sources-9" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Sources (9)"><!---->Sources (9)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#user-interaction-17" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="User interaction (17)"><!---->User interaction (17)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#camera-11" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Camera (11)"><!---->Camera (11)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#controls-and-overlays-16" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Controls and overlays (16)"><!---->Controls and overlays (16)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#geocoder-8" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Geocoder (8)"><!---->Geocoder (8)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#browser-support-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Browser support (1)"><!---->Browser support (1)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#internationalization-support-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Internationalization support (2)"><!---->Internationalization support (2)<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#源码解析准备" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="源码解析准备"><!---->源码解析准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#获取token" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="获取Token"><!---->获取Token<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#主页说明" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="主页说明"><!---->主页说明<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#cesium-ion" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Cesium ion"><!---->Cesium ion<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#local-links" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Local links"><!---->Local links<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#external-links" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="External links"><!---->External links<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#界面介绍" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="界面介绍"><!---->界面介绍<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#自项目编写" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="自项目编写"><!---->自项目编写<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#项目创建" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="项目创建"><!---->项目创建<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#安装cesium-1-89" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="安装cesium  1.89"><!---->安装cesium  1.89<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#修改webpack-prod-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="修改webpack.prod.conf.js"><!---->修改webpack.prod.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#webpack-dev-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack.dev.conf.js"><!---->webpack.dev.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#webpack-base-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack.base.conf.js"><!---->webpack.base.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#创建地图组件-src-view-earth-vue" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建地图组件 src\view\earth.vue"><!---->创建地图组件 src\view\earth.vue<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#添加路由-src-router-index-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="添加路由  src\router\index.js"><!---->添加路由  src\router\index.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行报错1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行报错1"><!---->运行报错1<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行报错2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行报错2"><!---->运行报错2<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行"><!---->运行<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#部署dist" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="部署dist"><!---->部署dist<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#功能开发" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="功能开发"><!---->功能开发<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#控件显示控制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="控件显示控制"><!---->控件显示控制<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#创建形状" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建形状"><!---->创建形状<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#添加不同类型数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="添加不同类型数据"><!---->添加不同类型数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#an-open-source-javascript-library-for-mobile-friendly-interactive-maps" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="an open-source JavaScript library for mobile-friendly interactive maps"><!---->an open-source JavaScript library for mobile-friendly interactive maps<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1地图"><!---->3.3.1地图<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-1矢量电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.1矢量电子地图"><!---->3.3.1.1矢量电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-2影像电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.2影像电子地图"><!---->3.3.1.2影像电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-3手动加载-移除地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.3手动加载/移除地图"><!---->3.3.1.3手动加载/移除地图<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-2图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.2图层"><!---->3.3.2图层<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-2-1弹出信息框" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.2.1弹出信息框"><!---->3.3.2.1弹出信息框<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3查询"><!---->3.3.3查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-1点查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.1点查询"><!---->3.3.3.1点查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-2面查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.2面查询"><!---->3.3.3.2面查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-3属性查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.3属性查询"><!---->3.3.3.3属性查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-4组合查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.4组合查询"><!---->3.3.3.4组合查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-1地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.1地图"><!---->3.1.1地图<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-1-1矢量电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.1.1矢量电子地图"><!---->3.1.1.1矢量电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2图层"><!---->3.1.2图层<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-1弹出信息框" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.1弹出信息框"><!---->3.1.2.1弹出信息框<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-2矢量图层-wms" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.2矢量图层（wms）"><!---->3.1.2.2矢量图层（wms）<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-3矢量图层-wfs" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.3矢量图层（wfs）"><!---->3.1.2.3矢量图层（wfs）<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3查询"><!---->3.1.3查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-1点查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.1点查询"><!---->3.1.3.1点查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-2面查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.2面查询"><!---->3.1.3.2面查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-3属性查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.3属性查询"><!---->3.1.3.3属性查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-4组合查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.4组合查询"><!---->3.1.3.4组合查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="地图"><!---->地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="图层"><!---->图层<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="查询"><!---->查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wms" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WMS"><!---->WMS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-1-wms服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.1 WMS服务简介"><!---->1.2.1 WMS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.2 服务操作列表"><!---->1.2.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-3服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.3服务操作的参数列表"><!---->1.2.3服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-4-接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.4 接口调用示例"><!---->1.2.4 接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wfs" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WFS"><!---->WFS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-1-wfs服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.1 WFS服务简介"><!---->1.3.1 WFS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.2 服务操作列表"><!---->1.3.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-3服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.3服务操作的参数列表"><!---->1.3.3服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-4-接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.4 接口调用示例"><!---->1.3.4 接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wmts-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WMTS"><!---->WMTS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-1-wmts服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1 WMTS服务简介"><!---->1.1 WMTS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2 服务操作列表"><!---->1.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3 服务操作的参数列表"><!---->1.3 服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-4接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.4接口调用示例"><!---->1.4接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/posts/2021/GIS.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Leaflet"><span class="icon iconfont icon-edit" style=""></span>Leaflet<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#cgcs2000-mapbox-vue使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="cgcs2000 Mapbox VUE使用"><!---->cgcs2000 Mapbox VUE使用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox源码编译、切片流程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX源码编译、切片流程"><!---->MAPBOX源码编译、切片流程<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#详细步骤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="详细步骤"><!---->详细步骤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#环境准备" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="环境准备"><!---->环境准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#windows" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="windows："><!---->windows：<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#详细步骤-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="详细步骤："><!---->详细步骤：<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#一些小技巧" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="一些小技巧"><!---->一些小技巧<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox源码编译" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Mapbox源码编译"><!---->Mapbox源码编译<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#环境准备-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="环境准备"><!---->环境准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#项目编译-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="项目编译"><!---->项目编译<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox专业术语" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX专业术语"><!---->MAPBOX专业术语<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox学习" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX学习"><!---->MAPBOX学习<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#styles-8" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Styles (8)"><!---->Styles (8)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#layers-30" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Layers (30)"><!---->Layers (30)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#sources-9" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Sources (9)"><!---->Sources (9)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#user-interaction-17" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="User interaction (17)"><!---->User interaction (17)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#camera-11" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Camera (11)"><!---->Camera (11)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#controls-and-overlays-16" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Controls and overlays (16)"><!---->Controls and overlays (16)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#geocoder-8" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Geocoder (8)"><!---->Geocoder (8)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#browser-support-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Browser support (1)"><!---->Browser support (1)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#internationalization-support-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Internationalization support (2)"><!---->Internationalization support (2)<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#源码解析准备" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="源码解析准备"><!---->源码解析准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#获取token" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="获取Token"><!---->获取Token<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#主页说明" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="主页说明"><!---->主页说明<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#cesium-ion" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Cesium ion"><!---->Cesium ion<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#local-links" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Local links"><!---->Local links<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#external-links" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="External links"><!---->External links<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#界面介绍" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="界面介绍"><!---->界面介绍<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#自项目编写" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="自项目编写"><!---->自项目编写<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#项目创建" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="项目创建"><!---->项目创建<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#安装cesium-1-89" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="安装cesium  1.89"><!---->安装cesium  1.89<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#修改webpack-prod-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="修改webpack.prod.conf.js"><!---->修改webpack.prod.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#webpack-dev-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack.dev.conf.js"><!---->webpack.dev.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#webpack-base-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack.base.conf.js"><!---->webpack.base.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#创建地图组件-src-view-earth-vue" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建地图组件 src\view\earth.vue"><!---->创建地图组件 src\view\earth.vue<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#添加路由-src-router-index-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="添加路由  src\router\index.js"><!---->添加路由  src\router\index.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行报错1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行报错1"><!---->运行报错1<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行报错2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行报错2"><!---->运行报错2<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行"><!---->运行<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#部署dist" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="部署dist"><!---->部署dist<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#功能开发" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="功能开发"><!---->功能开发<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#控件显示控制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="控件显示控制"><!---->控件显示控制<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#创建形状" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建形状"><!---->创建形状<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#添加不同类型数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="添加不同类型数据"><!---->添加不同类型数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#an-open-source-javascript-library-for-mobile-friendly-interactive-maps" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="an open-source JavaScript library for mobile-friendly interactive maps"><!---->an open-source JavaScript library for mobile-friendly interactive maps<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1地图"><!---->3.3.1地图<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-1矢量电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.1矢量电子地图"><!---->3.3.1.1矢量电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-2影像电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.2影像电子地图"><!---->3.3.1.2影像电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-3手动加载-移除地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.3手动加载/移除地图"><!---->3.3.1.3手动加载/移除地图<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-2图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.2图层"><!---->3.3.2图层<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-2-1弹出信息框" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.2.1弹出信息框"><!---->3.3.2.1弹出信息框<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3查询"><!---->3.3.3查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-1点查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.1点查询"><!---->3.3.3.1点查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-2面查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.2面查询"><!---->3.3.3.2面查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-3属性查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.3属性查询"><!---->3.3.3.3属性查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-4组合查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.4组合查询"><!---->3.3.3.4组合查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-1地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.1地图"><!---->3.1.1地图<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-1-1矢量电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.1.1矢量电子地图"><!---->3.1.1.1矢量电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2图层"><!---->3.1.2图层<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-1弹出信息框" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.1弹出信息框"><!---->3.1.2.1弹出信息框<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-2矢量图层-wms" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.2矢量图层（wms）"><!---->3.1.2.2矢量图层（wms）<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-3矢量图层-wfs" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.3矢量图层（wfs）"><!---->3.1.2.3矢量图层（wfs）<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3查询"><!---->3.1.3查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-1点查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.1点查询"><!---->3.1.3.1点查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-2面查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.2面查询"><!---->3.1.3.2面查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-3属性查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.3属性查询"><!---->3.1.3.3属性查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-4组合查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.4组合查询"><!---->3.1.3.4组合查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="地图"><!---->地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="图层"><!---->图层<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="查询"><!---->查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wms" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WMS"><!---->WMS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-1-wms服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.1 WMS服务简介"><!---->1.2.1 WMS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.2 服务操作列表"><!---->1.2.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-3服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.3服务操作的参数列表"><!---->1.2.3服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-4-接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.4 接口调用示例"><!---->1.2.4 接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wfs" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WFS"><!---->WFS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-1-wfs服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.1 WFS服务简介"><!---->1.3.1 WFS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.2 服务操作列表"><!---->1.3.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-3服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.3服务操作的参数列表"><!---->1.3.3服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-4-接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.4 接口调用示例"><!---->1.3.4 接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wmts-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WMTS"><!---->WMTS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-1-wmts服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1 WMTS服务简介"><!---->1.1 WMTS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2 服务操作列表"><!---->1.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3 服务操作的参数列表"><!---->1.3 服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-4接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.4接口调用示例"><!---->1.4接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/posts/2021/GIS.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Mapbox"><span class="icon iconfont icon-edit" style=""></span>Mapbox<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#cgcs2000-mapbox-vue使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="cgcs2000 Mapbox VUE使用"><!---->cgcs2000 Mapbox VUE使用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox源码编译、切片流程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX源码编译、切片流程"><!---->MAPBOX源码编译、切片流程<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#详细步骤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="详细步骤"><!---->详细步骤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#环境准备" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="环境准备"><!---->环境准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#windows" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="windows："><!---->windows：<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#详细步骤-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="详细步骤："><!---->详细步骤：<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#一些小技巧" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="一些小技巧"><!---->一些小技巧<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox源码编译" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Mapbox源码编译"><!---->Mapbox源码编译<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#环境准备-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="环境准备"><!---->环境准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#项目编译-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="项目编译"><!---->项目编译<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox专业术语" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX专业术语"><!---->MAPBOX专业术语<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox学习" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX学习"><!---->MAPBOX学习<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#styles-8" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Styles (8)"><!---->Styles (8)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#layers-30" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Layers (30)"><!---->Layers (30)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#sources-9" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Sources (9)"><!---->Sources (9)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#user-interaction-17" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="User interaction (17)"><!---->User interaction (17)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#camera-11" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Camera (11)"><!---->Camera (11)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#controls-and-overlays-16" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Controls and overlays (16)"><!---->Controls and overlays (16)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#geocoder-8" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Geocoder (8)"><!---->Geocoder (8)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#browser-support-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Browser support (1)"><!---->Browser support (1)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#internationalization-support-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Internationalization support (2)"><!---->Internationalization support (2)<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#源码解析准备" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="源码解析准备"><!---->源码解析准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#获取token" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="获取Token"><!---->获取Token<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#主页说明" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="主页说明"><!---->主页说明<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#cesium-ion" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Cesium ion"><!---->Cesium ion<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#local-links" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Local links"><!---->Local links<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#external-links" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="External links"><!---->External links<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#界面介绍" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="界面介绍"><!---->界面介绍<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#自项目编写" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="自项目编写"><!---->自项目编写<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#项目创建" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="项目创建"><!---->项目创建<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#安装cesium-1-89" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="安装cesium  1.89"><!---->安装cesium  1.89<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#修改webpack-prod-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="修改webpack.prod.conf.js"><!---->修改webpack.prod.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#webpack-dev-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack.dev.conf.js"><!---->webpack.dev.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#webpack-base-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack.base.conf.js"><!---->webpack.base.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#创建地图组件-src-view-earth-vue" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建地图组件 src\view\earth.vue"><!---->创建地图组件 src\view\earth.vue<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#添加路由-src-router-index-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="添加路由  src\router\index.js"><!---->添加路由  src\router\index.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行报错1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行报错1"><!---->运行报错1<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行报错2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行报错2"><!---->运行报错2<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行"><!---->运行<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#部署dist" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="部署dist"><!---->部署dist<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#功能开发" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="功能开发"><!---->功能开发<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#控件显示控制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="控件显示控制"><!---->控件显示控制<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#创建形状" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建形状"><!---->创建形状<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#添加不同类型数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="添加不同类型数据"><!---->添加不同类型数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#an-open-source-javascript-library-for-mobile-friendly-interactive-maps" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="an open-source JavaScript library for mobile-friendly interactive maps"><!---->an open-source JavaScript library for mobile-friendly interactive maps<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1地图"><!---->3.3.1地图<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-1矢量电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.1矢量电子地图"><!---->3.3.1.1矢量电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-2影像电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.2影像电子地图"><!---->3.3.1.2影像电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-3手动加载-移除地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.3手动加载/移除地图"><!---->3.3.1.3手动加载/移除地图<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-2图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.2图层"><!---->3.3.2图层<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-2-1弹出信息框" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.2.1弹出信息框"><!---->3.3.2.1弹出信息框<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3查询"><!---->3.3.3查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-1点查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.1点查询"><!---->3.3.3.1点查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-2面查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.2面查询"><!---->3.3.3.2面查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-3属性查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.3属性查询"><!---->3.3.3.3属性查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-4组合查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.4组合查询"><!---->3.3.3.4组合查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-1地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.1地图"><!---->3.1.1地图<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-1-1矢量电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.1.1矢量电子地图"><!---->3.1.1.1矢量电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2图层"><!---->3.1.2图层<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-1弹出信息框" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.1弹出信息框"><!---->3.1.2.1弹出信息框<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-2矢量图层-wms" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.2矢量图层（wms）"><!---->3.1.2.2矢量图层（wms）<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-3矢量图层-wfs" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.3矢量图层（wfs）"><!---->3.1.2.3矢量图层（wfs）<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3查询"><!---->3.1.3查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-1点查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.1点查询"><!---->3.1.3.1点查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-2面查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.2面查询"><!---->3.1.3.2面查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-3属性查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.3属性查询"><!---->3.1.3.3属性查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-4组合查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.4组合查询"><!---->3.1.3.4组合查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="地图"><!---->地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="图层"><!---->图层<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="查询"><!---->查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wms" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WMS"><!---->WMS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-1-wms服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.1 WMS服务简介"><!---->1.2.1 WMS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.2 服务操作列表"><!---->1.2.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-3服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.3服务操作的参数列表"><!---->1.2.3服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-4-接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.4 接口调用示例"><!---->1.2.4 接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wfs" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WFS"><!---->WFS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-1-wfs服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.1 WFS服务简介"><!---->1.3.1 WFS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.2 服务操作列表"><!---->1.3.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-3服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.3服务操作的参数列表"><!---->1.3.3服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-4-接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.4 接口调用示例"><!---->1.3.4 接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wmts-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WMTS"><!---->WMTS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-1-wmts服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1 WMTS服务简介"><!---->1.1 WMTS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2 服务操作列表"><!---->1.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3 服务操作的参数列表"><!---->1.3 服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-4接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.4接口调用示例"><!---->1.4接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/posts/2021/GIS.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Cesium"><span class="icon iconfont icon-edit" style=""></span>Cesium<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#cgcs2000-mapbox-vue使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="cgcs2000 Mapbox VUE使用"><!---->cgcs2000 Mapbox VUE使用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox源码编译、切片流程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX源码编译、切片流程"><!---->MAPBOX源码编译、切片流程<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#详细步骤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="详细步骤"><!---->详细步骤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#环境准备" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="环境准备"><!---->环境准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#windows" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="windows："><!---->windows：<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#详细步骤-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="详细步骤："><!---->详细步骤：<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#一些小技巧" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="一些小技巧"><!---->一些小技巧<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox源码编译" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Mapbox源码编译"><!---->Mapbox源码编译<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#环境准备-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="环境准备"><!---->环境准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#项目编译-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="项目编译"><!---->项目编译<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox专业术语" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX专业术语"><!---->MAPBOX专业术语<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox学习" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX学习"><!---->MAPBOX学习<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#styles-8" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Styles (8)"><!---->Styles (8)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#layers-30" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Layers (30)"><!---->Layers (30)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#sources-9" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Sources (9)"><!---->Sources (9)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#user-interaction-17" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="User interaction (17)"><!---->User interaction (17)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#camera-11" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Camera (11)"><!---->Camera (11)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#controls-and-overlays-16" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Controls and overlays (16)"><!---->Controls and overlays (16)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#geocoder-8" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Geocoder (8)"><!---->Geocoder (8)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#browser-support-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Browser support (1)"><!---->Browser support (1)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#internationalization-support-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Internationalization support (2)"><!---->Internationalization support (2)<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#源码解析准备" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="源码解析准备"><!---->源码解析准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#获取token" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="获取Token"><!---->获取Token<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#主页说明" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="主页说明"><!---->主页说明<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#cesium-ion" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Cesium ion"><!---->Cesium ion<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#local-links" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Local links"><!---->Local links<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#external-links" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="External links"><!---->External links<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#界面介绍" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="界面介绍"><!---->界面介绍<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#自项目编写" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="自项目编写"><!---->自项目编写<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#项目创建" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="项目创建"><!---->项目创建<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#安装cesium-1-89" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="安装cesium  1.89"><!---->安装cesium  1.89<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#修改webpack-prod-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="修改webpack.prod.conf.js"><!---->修改webpack.prod.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#webpack-dev-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack.dev.conf.js"><!---->webpack.dev.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#webpack-base-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack.base.conf.js"><!---->webpack.base.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#创建地图组件-src-view-earth-vue" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建地图组件 src\view\earth.vue"><!---->创建地图组件 src\view\earth.vue<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#添加路由-src-router-index-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="添加路由  src\router\index.js"><!---->添加路由  src\router\index.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行报错1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行报错1"><!---->运行报错1<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行报错2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行报错2"><!---->运行报错2<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行"><!---->运行<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#部署dist" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="部署dist"><!---->部署dist<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#功能开发" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="功能开发"><!---->功能开发<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#控件显示控制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="控件显示控制"><!---->控件显示控制<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#创建形状" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建形状"><!---->创建形状<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#添加不同类型数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="添加不同类型数据"><!---->添加不同类型数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#an-open-source-javascript-library-for-mobile-friendly-interactive-maps" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="an open-source JavaScript library for mobile-friendly interactive maps"><!---->an open-source JavaScript library for mobile-friendly interactive maps<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1地图"><!---->3.3.1地图<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-1矢量电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.1矢量电子地图"><!---->3.3.1.1矢量电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-2影像电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.2影像电子地图"><!---->3.3.1.2影像电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-3手动加载-移除地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.3手动加载/移除地图"><!---->3.3.1.3手动加载/移除地图<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-2图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.2图层"><!---->3.3.2图层<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-2-1弹出信息框" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.2.1弹出信息框"><!---->3.3.2.1弹出信息框<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3查询"><!---->3.3.3查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-1点查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.1点查询"><!---->3.3.3.1点查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-2面查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.2面查询"><!---->3.3.3.2面查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-3属性查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.3属性查询"><!---->3.3.3.3属性查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-4组合查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.4组合查询"><!---->3.3.3.4组合查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-1地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.1地图"><!---->3.1.1地图<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-1-1矢量电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.1.1矢量电子地图"><!---->3.1.1.1矢量电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2图层"><!---->3.1.2图层<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-1弹出信息框" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.1弹出信息框"><!---->3.1.2.1弹出信息框<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-2矢量图层-wms" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.2矢量图层（wms）"><!---->3.1.2.2矢量图层（wms）<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-3矢量图层-wfs" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.3矢量图层（wfs）"><!---->3.1.2.3矢量图层（wfs）<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3查询"><!---->3.1.3查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-1点查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.1点查询"><!---->3.1.3.1点查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-2面查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.2面查询"><!---->3.1.3.2面查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-3属性查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.3属性查询"><!---->3.1.3.3属性查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-4组合查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.4组合查询"><!---->3.1.3.4组合查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="地图"><!---->地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="图层"><!---->图层<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="查询"><!---->查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wms" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WMS"><!---->WMS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-1-wms服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.1 WMS服务简介"><!---->1.2.1 WMS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.2 服务操作列表"><!---->1.2.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-3服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.3服务操作的参数列表"><!---->1.2.3服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-4-接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.4 接口调用示例"><!---->1.2.4 接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wfs" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WFS"><!---->WFS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-1-wfs服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.1 WFS服务简介"><!---->1.3.1 WFS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.2 服务操作列表"><!---->1.3.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-3服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.3服务操作的参数列表"><!---->1.3.3服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-4-接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.4 接口调用示例"><!---->1.3.4 接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wmts-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WMTS"><!---->WMTS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-1-wmts服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1 WMTS服务简介"><!---->1.1 WMTS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2 服务操作列表"><!---->1.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3 服务操作的参数列表"><!---->1.3 服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-4接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.4接口调用示例"><!---->1.4接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/posts/2021/GIS.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="最新技术"><span class="icon iconfont icon-edit" style=""></span>最新技术<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#cgcs2000-mapbox-vue使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="cgcs2000 Mapbox VUE使用"><!---->cgcs2000 Mapbox VUE使用<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox源码编译、切片流程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX源码编译、切片流程"><!---->MAPBOX源码编译、切片流程<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#详细步骤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="详细步骤"><!---->详细步骤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#环境准备" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="环境准备"><!---->环境准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#windows" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="windows："><!---->windows：<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#详细步骤-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="详细步骤："><!---->详细步骤：<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#一些小技巧" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="一些小技巧"><!---->一些小技巧<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox源码编译" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Mapbox源码编译"><!---->Mapbox源码编译<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#环境准备-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="环境准备"><!---->环境准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#项目编译-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="项目编译"><!---->项目编译<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox专业术语" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX专业术语"><!---->MAPBOX专业术语<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#mapbox学习" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="MAPBOX学习"><!---->MAPBOX学习<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#styles-8" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Styles (8)"><!---->Styles (8)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#layers-30" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Layers (30)"><!---->Layers (30)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#sources-9" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Sources (9)"><!---->Sources (9)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#user-interaction-17" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="User interaction (17)"><!---->User interaction (17)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#camera-11" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Camera (11)"><!---->Camera (11)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#controls-and-overlays-16" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Controls and overlays (16)"><!---->Controls and overlays (16)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#geocoder-8" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Geocoder (8)"><!---->Geocoder (8)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#browser-support-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Browser support (1)"><!---->Browser support (1)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#internationalization-support-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Internationalization support (2)"><!---->Internationalization support (2)<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#源码解析准备" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="源码解析准备"><!---->源码解析准备<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#获取token" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="获取Token"><!---->获取Token<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#主页说明" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="主页说明"><!---->主页说明<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#cesium-ion" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Cesium ion"><!---->Cesium ion<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#local-links" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Local links"><!---->Local links<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#external-links" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="External links"><!---->External links<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#界面介绍" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="界面介绍"><!---->界面介绍<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#自项目编写" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="自项目编写"><!---->自项目编写<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#项目创建" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="项目创建"><!---->项目创建<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#安装cesium-1-89" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="安装cesium  1.89"><!---->安装cesium  1.89<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#修改webpack-prod-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="修改webpack.prod.conf.js"><!---->修改webpack.prod.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#webpack-dev-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack.dev.conf.js"><!---->webpack.dev.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#webpack-base-conf-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="webpack.base.conf.js"><!---->webpack.base.conf.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#创建地图组件-src-view-earth-vue" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建地图组件 src\view\earth.vue"><!---->创建地图组件 src\view\earth.vue<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#添加路由-src-router-index-js" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="添加路由  src\router\index.js"><!---->添加路由  src\router\index.js<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行报错1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行报错1"><!---->运行报错1<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行报错2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行报错2"><!---->运行报错2<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#运行" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="运行"><!---->运行<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#部署dist" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="部署dist"><!---->部署dist<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#功能开发" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="功能开发"><!---->功能开发<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#控件显示控制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="控件显示控制"><!---->控件显示控制<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#创建形状" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="创建形状"><!---->创建形状<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#添加不同类型数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="添加不同类型数据"><!---->添加不同类型数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#an-open-source-javascript-library-for-mobile-friendly-interactive-maps" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="an open-source JavaScript library for mobile-friendly interactive maps"><!---->an open-source JavaScript library for mobile-friendly interactive maps<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1地图"><!---->3.3.1地图<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-1矢量电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.1矢量电子地图"><!---->3.3.1.1矢量电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-2影像电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.2影像电子地图"><!---->3.3.1.2影像电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-3手动加载-移除地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.1.3手动加载/移除地图"><!---->3.3.1.3手动加载/移除地图<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-2图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.2图层"><!---->3.3.2图层<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-2-1弹出信息框" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.2.1弹出信息框"><!---->3.3.2.1弹出信息框<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3查询"><!---->3.3.3查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-1点查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.1点查询"><!---->3.3.3.1点查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-2面查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.2面查询"><!---->3.3.3.2面查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-3属性查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.3属性查询"><!---->3.3.3.3属性查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-4组合查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.3.3.4组合查询"><!---->3.3.3.4组合查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-1地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.1地图"><!---->3.1.1地图<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-1-1矢量电子地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.1.1矢量电子地图"><!---->3.1.1.1矢量电子地图<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2图层"><!---->3.1.2图层<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-1弹出信息框" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.1弹出信息框"><!---->3.1.2.1弹出信息框<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-2矢量图层-wms" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.2矢量图层（wms）"><!---->3.1.2.2矢量图层（wms）<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-3矢量图层-wfs" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.2.3矢量图层（wfs）"><!---->3.1.2.3矢量图层（wfs）<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3查询"><!---->3.1.3查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-1点查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.1点查询"><!---->3.1.3.1点查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-2面查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.2面查询"><!---->3.1.3.2面查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-3属性查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.3属性查询"><!---->3.1.3.3属性查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-4组合查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3.1.3.4组合查询"><!---->3.1.3.4组合查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#地图" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="地图"><!---->地图<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#图层" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="图层"><!---->图层<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="查询"><!---->查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wms" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WMS"><!---->WMS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-1-wms服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.1 WMS服务简介"><!---->1.2.1 WMS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.2 服务操作列表"><!---->1.2.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-3服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.3服务操作的参数列表"><!---->1.2.3服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-4-接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2.4 接口调用示例"><!---->1.2.4 接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wfs" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WFS"><!---->WFS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-1-wfs服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.1 WFS服务简介"><!---->1.3.1 WFS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.2 服务操作列表"><!---->1.3.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-3服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.3服务操作的参数列表"><!---->1.3.3服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-4-接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3.4 接口调用示例"><!---->1.3.4 接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#wmts-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="WMTS"><!---->WMTS<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-1-wmts服务简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.1 WMTS服务简介"><!---->1.1 WMTS服务简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-服务操作列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.2 服务操作列表"><!---->1.2 服务操作列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-服务操作的参数列表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.3 服务操作的参数列表"><!---->1.3 服务操作的参数列表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/GIS.html#_1-4接口调用示例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.4接口调用示例"><!---->1.4接口调用示例<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li></ul></section><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">思考</span><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">技术思考</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="项目管理"><span class="icon iconfont icon-edit" style=""></span>项目管理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">生活思考</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/HowToLearn.html" class="nav-link sidebar-link sidebar-page" aria-label="如何学习一个新知识"><span class="icon iconfont icon-edit" style=""></span>如何学习一个新知识<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-hot" style=""></span><span class="title">生活</span><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">TODO</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/TODO.html" class="nav-link sidebar-link sidebar-page" aria-label="TODO"><span class="icon iconfont icon-edit" style=""></span>TODO<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">穿搭护肤</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/Health.html" class="nav-link sidebar-link sidebar-page" aria-label="穿搭"><span class="icon iconfont icon-edit" style=""></span>穿搭<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Health.html" class="nav-link sidebar-link sidebar-page" aria-label="护肤"><span class="icon iconfont icon-edit" style=""></span>护肤<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">自媒体</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/We-Media.html" class="nav-link sidebar-link sidebar-page" aria-label="自媒体规划"><span class="icon iconfont icon-edit" style=""></span>自媒体规划<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/We-Media.html" class="nav-link sidebar-link sidebar-page" aria-label="自媒体矩阵"><span class="icon iconfont icon-edit" style=""></span>自媒体矩阵<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/We-Media.html" class="nav-link sidebar-link sidebar-page" aria-label="自媒体知识"><span class="icon iconfont icon-edit" style=""></span>自媒体知识<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">书影音</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/BMM.html" class="nav-link sidebar-link sidebar-page" aria-label="读后感"><span class="icon iconfont icon-edit" style=""></span>读后感<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/BMM.html" class="nav-link sidebar-link sidebar-page" aria-label="观后感"><span class="icon iconfont icon-edit" style=""></span>观后感<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">年月日</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/Summarize.html" class="nav-link sidebar-link sidebar-page" aria-label="年月日"><span class="icon iconfont icon-edit" style=""></span>年月日<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">健康</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="健身知识"><span class="icon iconfont icon-edit" style=""></span>健身知识<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="营养搭配"><span class="icon iconfont icon-edit" style=""></span>营养搭配<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="美食制作"><span class="icon iconfont icon-edit" style=""></span>美食制作<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">有用工具</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="电脑工具"><span class="icon iconfont icon-edit" style=""></span>电脑工具<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label><span class="icon iconfont icon-edit" style=""></span><!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">Adobe</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="PS"><span class="icon iconfont icon-edit" style=""></span>PS<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="AE"><span class="icon iconfont icon-edit" style=""></span>AE<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="平面设计"><span class="icon iconfont icon-edit" style=""></span>平面设计<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">三维</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="C4D"><span class="icon iconfont icon-edit" style=""></span>C4D<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-creative" style=""></span><span class="title">艺术</span><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">音乐</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="乐理"><span class="icon iconfont icon-edit" style=""></span>乐理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="吉他谱"><span class="icon iconfont icon-edit" style=""></span>吉他谱<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="钢琴谱"><span class="icon iconfont icon-edit" style=""></span>钢琴谱<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="其他谱"><span class="icon iconfont icon-edit" style=""></span>其他谱<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="作词编曲"><span class="icon iconfont icon-edit" style=""></span>作词编曲<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">摄影</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/album.html" class="nav-link sidebar-link sidebar-page" aria-label="审美提高"><span class="icon iconfont icon-edit" style=""></span>审美提高<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="摄影"><span class="icon iconfont icon-edit" style=""></span>摄影<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">数绘</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="审美提高"><span class="icon iconfont icon-edit" style=""></span>审美提高<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="数绘"><span class="icon iconfont icon-edit" style=""></span>数绘<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">记录</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="摄影记录"><span class="icon iconfont icon-edit" style=""></span>摄影记录<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="绘画记录"><span class="icon iconfont icon-edit" style=""></span>绘画记录<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="音乐记录"><span class="icon iconfont icon-edit" style=""></span>音乐记录<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="视频记录"><span class="icon iconfont icon-edit" style=""></span>视频记录<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul></section><!--]--></li><li><!--[--><a href="/guide/" class="nav-link sidebar-link sidebar-page" aria-label="关于我"><span class="icon iconfont icon-emoji" style=""></span>关于我<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-markdown" style=""></span>GIS</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down" localizeddate="2022年6月6日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://www.gisfsde.com" target="_blank" rel="noopener noreferrer">GIS-FSDE</a></span><span property="author" content="GIS-FSDE"></span></span><!----><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022年6月6日</span><meta property="datePublished" content="2022-06-06T00:00:00.000Z"></span><span class="category-info" aria-label="分类🌈" data-balloon-pos="down" localizeddate="2022年6月6日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category5 clickable" role="navigation">GIS</li><meta property="articleSection" content="GIS"></ul></span><span aria-label="标签🏷" data-balloon-pos="down" localizeddate="2022年6月6日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag tag5 clickable" role="navigation">GIS</li></ul><meta property="keywords" content="GIS"></span><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down" localizeddate="2022年6月6日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 65 分钟</span><meta property="timeRequired" content="PT65M"></span><span class="words-info" aria-label="字数🔠" data-balloon-pos="down" localizeddate="2022年6月6日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 19457 字</span><meta property="wordCount" content="19457"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#cgcs2000-mapbox-vue使用" class="router-link-active router-link-exact-active toc-link level2">cgcs2000 Mapbox VUE使用</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#mapbox源码编译、切片流程" class="router-link-active router-link-exact-active toc-link level2">MAPBOX源码编译、切片流程</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#详细步骤" class="router-link-active router-link-exact-active toc-link level3">详细步骤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#环境准备" class="router-link-active router-link-exact-active toc-link level3">环境准备</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#windows" class="router-link-active router-link-exact-active toc-link level3">windows：</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#详细步骤-1" class="router-link-active router-link-exact-active toc-link level3">详细步骤：</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#一些小技巧" class="router-link-active router-link-exact-active toc-link level3">一些小技巧</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#mapbox源码编译" class="router-link-active router-link-exact-active toc-link level3">Mapbox源码编译</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#环境准备-1" class="router-link-active router-link-exact-active toc-link level3">环境准备</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#项目编译-1" class="router-link-active router-link-exact-active toc-link level3">项目编译</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#mapbox专业术语" class="router-link-active router-link-exact-active toc-link level3">MAPBOX专业术语</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#mapbox学习" class="router-link-active router-link-exact-active toc-link level3">MAPBOX学习</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#styles-8" class="router-link-active router-link-exact-active toc-link level3">Styles (8)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#layers-30" class="router-link-active router-link-exact-active toc-link level3">Layers (30)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#sources-9" class="router-link-active router-link-exact-active toc-link level3">Sources (9)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#user-interaction-17" class="router-link-active router-link-exact-active toc-link level3">User interaction (17)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#camera-11" class="router-link-active router-link-exact-active toc-link level3">Camera (11)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#controls-and-overlays-16" class="router-link-active router-link-exact-active toc-link level3">Controls and overlays (16)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#geocoder-8" class="router-link-active router-link-exact-active toc-link level3">Geocoder (8)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#browser-support-1" class="router-link-active router-link-exact-active toc-link level3">Browser support (1)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#internationalization-support-2" class="router-link-active router-link-exact-active toc-link level3">Internationalization support (2)</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#源码解析准备" class="router-link-active router-link-exact-active toc-link level2">源码解析准备</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#获取token" class="router-link-active router-link-exact-active toc-link level2">获取Token</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#主页说明" class="router-link-active router-link-exact-active toc-link level2">主页说明</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#cesium-ion" class="router-link-active router-link-exact-active toc-link level3">Cesium ion</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#local-links" class="router-link-active router-link-exact-active toc-link level3">Local links</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#external-links" class="router-link-active router-link-exact-active toc-link level3">External links</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#界面介绍" class="router-link-active router-link-exact-active toc-link level2">界面介绍</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#自项目编写" class="router-link-active router-link-exact-active toc-link level2">自项目编写</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#项目创建" class="router-link-active router-link-exact-active toc-link level3">项目创建</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#安装cesium-1-89" class="router-link-active router-link-exact-active toc-link level3">安装cesium  1.89</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#修改webpack-prod-conf-js" class="router-link-active router-link-exact-active toc-link level3">修改webpack.prod.conf.js</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#webpack-dev-conf-js" class="router-link-active router-link-exact-active toc-link level3">webpack.dev.conf.js</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#webpack-base-conf-js" class="router-link-active router-link-exact-active toc-link level3">webpack.base.conf.js</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#创建地图组件-src-view-earth-vue" class="router-link-active router-link-exact-active toc-link level3">创建地图组件 src\view\earth.vue</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#添加路由-src-router-index-js" class="router-link-active router-link-exact-active toc-link level3">添加路由  src\router\index.js</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#运行报错1" class="router-link-active router-link-exact-active toc-link level3">运行报错1</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#运行报错2" class="router-link-active router-link-exact-active toc-link level3">运行报错2</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#运行" class="router-link-active router-link-exact-active toc-link level3">运行</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#部署dist" class="router-link-active router-link-exact-active toc-link level3">部署dist</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#功能开发" class="router-link-active router-link-exact-active toc-link level2">功能开发</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#控件显示控制" class="router-link-active router-link-exact-active toc-link level3">控件显示控制</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#创建形状" class="router-link-active router-link-exact-active toc-link level3">创建形状</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#添加不同类型数据" class="router-link-active router-link-exact-active toc-link level3">添加不同类型数据</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#an-open-source-javascript-library-for-mobile-friendly-interactive-maps" class="router-link-active router-link-exact-active toc-link level3">an open-source JavaScript library for mobile-friendly interactive maps</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1地图" class="router-link-active router-link-exact-active toc-link level2">3.3.1地图</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-1矢量电子地图" class="router-link-active router-link-exact-active toc-link level3">3.3.1.1矢量电子地图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-2影像电子地图" class="router-link-active router-link-exact-active toc-link level3">3.3.1.2影像电子地图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-1-3手动加载-移除地图" class="router-link-active router-link-exact-active toc-link level3">3.3.1.3手动加载/移除地图</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-2图层" class="router-link-active router-link-exact-active toc-link level2">3.3.2图层</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-2-1弹出信息框" class="router-link-active router-link-exact-active toc-link level3">3.3.2.1弹出信息框</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3查询" class="router-link-active router-link-exact-active toc-link level2">3.3.3查询</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-1点查询" class="router-link-active router-link-exact-active toc-link level3">3.3.3.1点查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-2面查询" class="router-link-active router-link-exact-active toc-link level3">3.3.3.2面查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-3属性查询" class="router-link-active router-link-exact-active toc-link level3">3.3.3.3属性查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-3-3-4组合查询" class="router-link-active router-link-exact-active toc-link level3">3.3.3.4组合查询</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-1地图" class="router-link-active router-link-exact-active toc-link level2">3.1.1地图</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-1-1矢量电子地图" class="router-link-active router-link-exact-active toc-link level3">3.1.1.1矢量电子地图</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2图层" class="router-link-active router-link-exact-active toc-link level2">3.1.2图层</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-1弹出信息框" class="router-link-active router-link-exact-active toc-link level3">3.1.2.1弹出信息框</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-2矢量图层-wms" class="router-link-active router-link-exact-active toc-link level3">3.1.2.2矢量图层（wms）</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-2-3矢量图层-wfs" class="router-link-active router-link-exact-active toc-link level3">3.1.2.3矢量图层（wfs）</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3查询" class="router-link-active router-link-exact-active toc-link level2">3.1.3查询</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-1点查询" class="router-link-active router-link-exact-active toc-link level3">3.1.3.1点查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-2面查询" class="router-link-active router-link-exact-active toc-link level3">3.1.3.2面查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-3属性查询" class="router-link-active router-link-exact-active toc-link level3">3.1.3.3属性查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_3-1-3-4组合查询" class="router-link-active router-link-exact-active toc-link level3">3.1.3.4组合查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#地图" class="router-link-active router-link-exact-active toc-link level3">地图</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#图层" class="router-link-active router-link-exact-active toc-link level3">图层</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#查询" class="router-link-active router-link-exact-active toc-link level3">查询</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#wms" class="router-link-active router-link-exact-active toc-link level2">WMS</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-1-wms服务简介" class="router-link-active router-link-exact-active toc-link level3">1.2.1 WMS服务简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-2-服务操作列表" class="router-link-active router-link-exact-active toc-link level3">1.2.2 服务操作列表</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-3服务操作的参数列表" class="router-link-active router-link-exact-active toc-link level3">1.2.3服务操作的参数列表</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-4-接口调用示例" class="router-link-active router-link-exact-active toc-link level3">1.2.4 接口调用示例</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#wfs" class="router-link-active router-link-exact-active toc-link level2">WFS</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-1-wfs服务简介" class="router-link-active router-link-exact-active toc-link level3">1.3.1 WFS服务简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-2-服务操作列表" class="router-link-active router-link-exact-active toc-link level3">1.3.2 服务操作列表</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-3服务操作的参数列表" class="router-link-active router-link-exact-active toc-link level3">1.3.3服务操作的参数列表</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-4-接口调用示例" class="router-link-active router-link-exact-active toc-link level3">1.3.4 接口调用示例</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#wmts-1" class="router-link-active router-link-exact-active toc-link level2">WMTS</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_1-1-wmts服务简介" class="router-link-active router-link-exact-active toc-link level3">1.1 WMTS服务简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_1-2-服务操作列表" class="router-link-active router-link-exact-active toc-link level3">1.2 服务操作列表</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_1-3-服务操作的参数列表" class="router-link-active router-link-exact-active toc-link level3">1.3 服务操作的参数列表</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/GIS.html#_1-4接口调用示例" class="router-link-active router-link-exact-active toc-link level3">1.4接口调用示例</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><p>关于GIS</p><h1 id="mapbox" tabindex="-1"><a class="header-anchor" href="#mapbox" aria-hidden="true">#</a> MAPBOX</h1><h2 id="cgcs2000-mapbox-vue使用" tabindex="-1"><a class="header-anchor" href="#cgcs2000-mapbox-vue使用" aria-hidden="true">#</a> cgcs2000 Mapbox VUE使用</h2><p>安装：npm i @cgcs2000/mapbox-gl</p><h2 id="mapbox源码编译、切片流程" tabindex="-1"><a class="header-anchor" href="#mapbox源码编译、切片流程" aria-hidden="true">#</a> MAPBOX源码编译、切片流程</h2><blockquote><p>准备：熟悉linux 安装、网络、文件等基本操作，JS、HTML等熟悉，Mapbox熟悉，SQL熟悉，，，</p><p>注意参数：同一套坐标、经纬度等</p></blockquote><blockquote><p>Ubuntu环境准备===》其他格式数据===》shp数据===》Windows导入postgresql数据库===》通过ogr2ogr转换为geojson===》通过tippecanoe切片（参数自控）<mark>》~~数据打包（传输更快）~~windows共享文件夹</mark>=》准备mapbox2000 js css文件====》mapbox前端代码导入数据并显示====》准备图标数据===》filter分类图标显示=====》分层数据显示====》细节优化（颜色，光，字体大小，图片大小）<mark><mark>》加入点击显示位置</mark></mark>》其他点击功能====》wfts底图切换==》控件加载===》wfs，wms数据加载（不同数据源）==》其他模型加入</p></blockquote><h3 id="详细步骤" tabindex="-1"><a class="header-anchor" href="#详细步骤" aria-hidden="true">#</a> 详细步骤</h3><h3 id="环境准备" tabindex="-1"><a class="header-anchor" href="#环境准备" aria-hidden="true">#</a> <a href="https://my.oschina.net/u/1464512/blog/1631972" target="_blank" rel="noopener noreferrer">环境准备<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h3><h4 id="ubuntu虚拟机" tabindex="-1"><a class="header-anchor" href="#ubuntu虚拟机" aria-hidden="true">#</a> Ubuntu虚拟机：</h4><p>网络环境，数据共享，Postgresql，Tippecanoe，PROJ.4、GEOS和GDAL（ogr2ogr），gcc、g++、make</p><h3 id="windows" tabindex="-1"><a class="header-anchor" href="#windows" aria-hidden="true">#</a> windows：</h3><p>Postgresql,VMware,Ubuntu镜像（官方指定），Navicat（方便查看数据和建立空间数据库），VSCode</p><h3 id="详细步骤-1" tabindex="-1"><a class="header-anchor" href="#详细步骤-1" aria-hidden="true">#</a> 详细步骤：</h3><ol><li><h4 id="安装postgresql数据库-环境配置-导入shp" tabindex="-1"><a class="header-anchor" href="#安装postgresql数据库-环境配置-导入shp" aria-hidden="true">#</a> <a href="https://blog.csdn.net/zhangshuanlai/article/details/84100165" target="_blank" rel="noopener noreferrer">安装Postgresql数据库，环境配置，导入shp<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><h4 id="windows安装postgresql" tabindex="-1"><a class="header-anchor" href="#windows安装postgresql" aria-hidden="true">#</a> Windows安装Postgresql</h4><p><a href="https://www.postgresql.org/" target="_blank" rel="noopener noreferrer">下载<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>环境变量添加</p><p>设置外网访问（pg_hba.conf）</p><div class="language-elm ext-elm line-numbers-mode"><pre class="language-elm"><code><span class="token operator">#</span> <span class="token constant">TYPE</span>  <span class="token constant">DATABASE</span>        <span class="token constant">USER</span>            <span class="token constant">ADDRESS</span>                 <span class="token constant">METHOD</span>

<span class="token operator">#</span> <span class="token constant">IPv4</span> <span class="token hvariable">local</span> <span class="token hvariable">connections</span><span class="token operator">:</span>
<span class="token hvariable">host</span>    <span class="token hvariable">all</span>             <span class="token hvariable">all</span>             <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token operator">/</span><span class="token number">32</span>            <span class="token hvariable">md5</span>
<span class="token hvariable">host</span>    <span class="token hvariable">all</span>             <span class="token hvariable">all</span>             <span class="token number">0.0</span><span class="token punctuation">.</span><span class="token number">0.0</span><span class="token operator">/</span><span class="token number">0</span>            <span class="token hvariable">md5</span>
<span class="token operator">#</span> <span class="token constant">IPv6</span> <span class="token hvariable">local</span> <span class="token hvariable">connections</span><span class="token operator">:</span>
<span class="token hvariable">host</span>    <span class="token hvariable">all</span>             <span class="token hvariable">all</span>             <span class="token operator">::</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">128</span>                 <span class="token hvariable">md5</span>
<span class="token operator">#</span> <span class="token constant">Allow</span> <span class="token hvariable">replication</span> <span class="token hvariable">connections</span> <span class="token hvariable">from</span> <span class="token hvariable">localhost</span><span class="token punctuation">,</span> <span class="token hvariable">by</span> <span class="token hvariable">a</span> <span class="token hvariable">user</span> <span class="token hvariable">with</span> <span class="token hvariable">the</span>
<span class="token operator">#</span> <span class="token hvariable">replication</span> <span class="token hvariable">privilege</span><span class="token punctuation">.</span>
<span class="token operator">#</span><span class="token hvariable">host</span>    <span class="token hvariable">replication</span>     <span class="token hvariable">postgres</span>        <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token operator">/</span><span class="token number">32</span>            <span class="token hvariable">md5</span>
<span class="token operator">#</span><span class="token hvariable">host</span>    <span class="token hvariable">replication</span>     <span class="token hvariable">postgres</span>        <span class="token operator">::</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">128</span>                 <span class="token hvariable">md5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>建立空间数据库,目标数据库执行以下语句</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> extension postgis<span class="token punctuation">;</span>
<span class="token keyword">create</span> extension postgis_topology<span class="token punctuation">;</span>
<span class="token keyword">create</span> extension fuzzystrmatch<span class="token punctuation">;</span>
<span class="token keyword">create</span> extension postgis_tiger_geocoder<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在SHP文件夹新建txt文件，粘贴以下代码，导入数据到数据库，相关参数如下，改成bat后缀，双击运行后输入密码，显示类似 insert 1成功</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>shp2pgsql <span class="token operator">-</span>s <span class="token number">4544</span> <span class="token operator">-</span>c <span class="token operator">-</span>W “GBK” DJQ5120812018<span class="token punctuation">.</span>shp <span class="token keyword">public</span><span class="token punctuation">.</span>DJQ5120812018 <span class="token operator">|</span> psql <span class="token operator">-</span>d shp2pgsqldemo <span class="token operator">-</span>U postgres <span class="token operator">-</span>W
示例  ：shp2pgsql <span class="token operator">-</span>s <span class="token number">4544</span> <span class="token operator">-</span>c <span class="token operator">-</span>W <span class="token string">&quot;UTF-8&quot;</span> ADDRESS<span class="token punctuation">.</span>shp  <span class="token keyword">public</span><span class="token punctuation">.</span>rrrrr<span class="token operator">|</span> psql <span class="token operator">-</span>h <span class="token number">192.168</span><span class="token number">.22</span><span class="token number">.128</span> <span class="token operator">-</span>d postgres <span class="token operator">-</span>U postgres <span class="token operator">-</span>W
                               编码格式  SHP数据    <span class="token keyword">public</span>下的rrrrr表        导入数据库地址     数据库名     用户名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>也可分为两个步骤，先转换为sql语句，再导入,步骤同上</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>shp2pgsql -s 4544 -c -W “GBK” DJQ5120812018.shp&gt;DJQ5120812018.sql
psql -d shp2pgsqldemo -U postgres -f DJQ5120812018.sql -W
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="可能出现的问题-解决办法" tabindex="-1"><a class="header-anchor" href="#可能出现的问题-解决办法" aria-hidden="true">#</a> 可能出现的问题 解决办法</h4><p>乱码 更改编码</p><p>导入中断，数据库无数据 数据过大</p><h4 id="参数-含义" tabindex="-1"><a class="header-anchor" href="#参数-含义" aria-hidden="true">#</a> 参数 含义</h4><p>-s 空间参考标识符（SRID） -d 重新建立表，并插入数据</p><p>-a 在同一个表中增加数据</p><p>-c 建立新表，并插入数据(缺省)</p><p>-p 只创建表</p><p>-g 指定要创建的表的空间字段名称(在追加数据时有用) -D 使用dump方式，比缺省生成sql的速度快 -G 使用类型geography -k 保持标识符（列名，模式，属性）大小写。 -i 将所有整型都转为标准的32-bit整数 -I 在几何列上建立GIST索引 -S 生成简单几何，而非MULTI几何 -t 指定几何的维度 -w 指定输出格式为WKT -W 输入的dbf文件编码方式 -N 指定几何为空时的操作 -n 只导入dbf文件 -T 指定表的表空间 -X 指定索引的表空间 -? 帮助</p></li><li><h4 id="通过ogr2ogr转换为geojson" tabindex="-1"><a class="header-anchor" href="#通过ogr2ogr转换为geojson" aria-hidden="true">#</a> 通过ogr2ogr转换为geojson</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>ogr2ogr <span class="token operator">-</span>f <span class="token string">&quot;GeoJSON&quot;</span> <span class="token punctuation">.</span><span class="token operator">/</span>asstln<span class="token punctuation">.</span>json PG:<span class="token string">&quot;host=localhost dbname=postgres user=postgres password=111111&quot;</span> <span class="token operator">-</span><span class="token keyword">sql</span> <span class="token string">&quot;select * from asstln&quot;</span>
                       目标文件名          导出数据库连接信息                                                            导出表名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><h4 id="通过tippecanoe切片-参数自控" tabindex="-1"><a class="header-anchor" href="#通过tippecanoe切片-参数自控" aria-hidden="true">#</a> 通过tippecanoe切片（参数自控）</h4><p><strong>单数据源</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>tippecanoe <span class="token operator">-</span>e tracenln <span class="token operator">-</span>pC <span class="token operator">-</span>Z0 <span class="token operator">-</span>z20 <span class="token operator">-</span>f tracenln<span class="token punctuation">.</span>json
              目标文件夹     切片等级空值   源文件名
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>单层多数据源合并</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#where确定级别</span>
ogr2ogr <span class="token operator">-</span>f <span class="token string">&quot;GeoJSON&quot;</span> <span class="token punctuation">.</span><span class="token operator">/</span>veg_py<span class="token punctuation">.</span>json PG:<span class="token string">&quot;host=126.10.9.16 dbname=postgres user=postgres password=724111&quot;</span> <span class="token operator">-</span><span class="token keyword">sql</span> <span class="token string">&quot;select * from veg_py fscale=10&quot;</span> 
tippecanoe <span class="token operator">-</span>e tracenln <span class="token operator">-</span>pC <span class="token operator">-</span>Z0 <span class="token operator">-</span>z20 <span class="token operator">-</span>f tracenln1<span class="token punctuation">.</span>json tracenln2<span class="token punctuation">.</span>json tracenln3<span class="token punctuation">.</span>json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><a href="https://www.yuque.com/geoway-vision/vision/tippecanoe" target="_blank" rel="noopener noreferrer">参数查看<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><h4 id="数据打包-复制到编程端-传输更快-windows文件共享文件夹-或tomcat-或在线服务器以便数据调用-注意解决触跨域资源访问" tabindex="-1"><a class="header-anchor" href="#数据打包-复制到编程端-传输更快-windows文件共享文件夹-或tomcat-或在线服务器以便数据调用-注意解决触跨域资源访问" aria-hidden="true">#</a> <s>数据打包</s> <s>复制到编程端（传输更快）</s> windows文件共享文件夹，或Tomcat，或在线服务器以便数据调用，注意解决触跨域资源访问</h4><p><img src="http://qnimg.gisfsde.com/image-20210325142648372.png" alt="image-20210325142648372" loading="lazy"></p></li><li><h4 id="准备mapbox2000-js-css文件" tabindex="-1"><a class="header-anchor" href="#准备mapbox2000-js-css文件" aria-hidden="true">#</a> 准备mapbox2000 js css文件</h4><p><a href="https://blog.csdn.net/donglaoxie/article/details/104453761" target="_blank" rel="noopener noreferrer">windows 安装 git<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><a href="https://blog.csdn.net/donglaoxie/article/details/104513190" target="_blank" rel="noopener noreferrer">Node.JS 安装说明<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><a href="https://blog.csdn.net/donglaoxie/article/details/104520798" target="_blank" rel="noopener noreferrer">Yarn安装、配置、镜像源修改<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install --global yarn
yarn --version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><a href="https://blog.csdn.net/donglaoxie/article/details/104532608" target="_blank" rel="noopener noreferrer">Node.js安装本地插件构建工具node-gyp<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> GitHub Mapbox源码地址：<a href="https://github.com/mapbox/mapbox-gl-js" target="_blank" rel="noopener noreferrer">https://github.com/mapbox/mapbox-gl-js<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> <a href="https://github.com/cgcs2000/tippecanoe" target="_blank" rel="noopener noreferrer">2000坐标源码<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，</p><h4 id="项目编译" tabindex="-1"><a class="header-anchor" href="#项目编译" aria-hidden="true">#</a> 项目编译</h4><ol><li><p>yarn install</p></li><li><p>安装headless-gl，并将node_modules/headless-gl/deps/windows/dll/x64/*.dll 复制到c:\windows\system32 npm install gl yarn run start-debug yarn run build-dev</p><p>准备好js和css文件</p></li></ol></li><li><h4 id="mapbox-前端代码导入地图数据并显示" tabindex="-1"><a class="header-anchor" href="#mapbox-前端代码导入地图数据并显示" aria-hidden="true">#</a> mapbox 前端代码导入地图数据并显示</h4></li><li><h4 id="_3d模型" tabindex="-1"><a class="header-anchor" href="#_3d模型" aria-hidden="true">#</a> 3D模型</h4><p>针对对应的建筑数据，进行建筑物3D显示</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>	<span class="token literal-property property">paint</span><span class="token operator">:</span> <span class="token punctuation">{</span>
							<span class="token comment">// &#39;fill-color&#39;: &#39;red&#39;,</span>
							<span class="token comment">// &#39;fill-opacity&#39;: 1,</span>
							<span class="token string-property property">&#39;fill-extrusion-color&#39;</span><span class="token operator">:</span> <span class="token string">&#39;#f5f4ee&#39;</span><span class="token punctuation">,</span>
							<span class="token comment">// use an &#39;interpolate&#39; expression to add a smooth transition effect to the</span>
							<span class="token comment">// buildings as the user zooms in</span>
							<span class="token string-property property">&#39;fill-extrusion-height&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
								<span class="token string">&quot;interpolate&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;linear&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;zoom&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
								<span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
								<span class="token number">15.05</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;height&quot;</span><span class="token punctuation">]</span>
							<span class="token punctuation">]</span><span class="token punctuation">,</span>
							<span class="token string-property property">&#39;fill-extrusion-base&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
								<span class="token string">&quot;interpolate&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;linear&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;zoom&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
								<span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
								<span class="token number">15.05</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;min_height&quot;</span><span class="token punctuation">]</span>
							<span class="token punctuation">]</span><span class="token punctuation">,</span>
							<span class="token string-property property">&#39;fill-extrusion-opacity&#39;</span><span class="token operator">:</span> <span class="token number">0.85</span>
						<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><h4 id="vscode-插件服务器" tabindex="-1"><a class="header-anchor" href="#vscode-插件服务器" aria-hidden="true">#</a> vscode 插件服务器</h4><p>插件安装 Live Server</p></li><li><h4 id="准备图标数据-pbf字体数据" tabindex="-1"><a class="header-anchor" href="#准备图标数据-pbf字体数据" aria-hidden="true">#</a> 准备图标数据，PBF字体数据</h4><p><a href="https://github.com/mapbox/spritezero" target="_blank" rel="noopener noreferrer">https://github.com/mapbox/spritezero<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>从零生成图标资源工具，可网上下载</p><p>生成如图形式文件，<img src="http://qnimg.gisfsde.com/image-20210322153503623.png" alt="图表数据" loading="lazy"><img src="http://qnimg.gisfsde.com/image-20210322153604432.png" alt="字体数据" loading="lazy"></p></li><li><h4 id="filter-分类图标显示" tabindex="-1"><a class="header-anchor" href="#filter-分类图标显示" aria-hidden="true">#</a> filter 分类图标显示</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string-property property">&#39;filter&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
							<span class="token string">&#39;any&#39;</span><span class="token punctuation">,</span>
							<span class="token punctuation">[</span>
								<span class="token string">&#39;==&#39;</span><span class="token punctuation">,</span>
								<span class="token string">&#39;fcode&#39;</span><span class="token punctuation">,</span>
								<span class="token string">&#39;4206002500&#39;</span><span class="token comment">//2</span>

							<span class="token punctuation">]</span>
							<span class="token punctuation">,</span><span class="token punctuation">[</span>
								<span class="token string">&#39;==&#39;</span><span class="token punctuation">,</span>
								<span class="token string">&#39;fcode&#39;</span><span class="token punctuation">,</span>
								<span class="token string">&#39;4305010500&#39;</span><span class="token comment">//2</span>

							<span class="token punctuation">]</span>
						<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><h4 id="分层数据显示" tabindex="-1"><a class="header-anchor" href="#分层数据显示" aria-hidden="true">#</a> 分层数据显示</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&quot;layers&quot;: []//中越靠前的在底层
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><h4 id="细节优化-颜色-光-字体大小-图片大小" tabindex="-1"><a class="header-anchor" href="#细节优化-颜色-光-字体大小-图片大小" aria-hidden="true">#</a> 细节优化（颜色，光，字体大小，图片大小）</h4></li><li><h4 id="控件加载" tabindex="-1"><a class="header-anchor" href="#控件加载" aria-hidden="true">#</a> 控件加载</h4><p><img src="http://qnimg.gisfsde.com/image-20210322154135351.png" alt="image-20210322154135351" loading="lazy"></p><p><a href="https://iclient.supermap.io/examples/mapboxgl/examples.html#iServer-map" target="_blank" rel="noopener noreferrer">Supermap查看<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><h4 id="加入点击显示相关信息" tabindex="-1"><a class="header-anchor" href="#加入点击显示相关信息" aria-hidden="true">#</a> 加入点击显示相关信息</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//弹出框</span>

​    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
​      <span class="token keyword">var</span> features <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">queryRenderedFeatures</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>point<span class="token punctuation">,</span> <span class="token punctuation">{</span>
​        layers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;13&#39;</span><span class="token punctuation">]</span> <span class="token comment">// replace this with the id of the layer</span>
​      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
​      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>features<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
​        <span class="token keyword">return</span><span class="token punctuation">;</span>
​      <span class="token punctuation">}</span>
​      <span class="token keyword">var</span> feature <span class="token operator">=</span> features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
​      <span class="token keyword">var</span> popup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mapboxgl<span class="token punctuation">.</span>Popup</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">15</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
​        <span class="token punctuation">.</span><span class="token function">setLngLat</span><span class="token punctuation">(</span>feature<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>coordinates<span class="token punctuation">)</span>
​        <span class="token punctuation">.</span><span class="token function">setHTML</span><span class="token punctuation">(</span><span class="token string">&#39;\&lt;h3&gt;&#39;</span> <span class="token operator">+</span> feature<span class="token punctuation">.</span>properties<span class="token punctuation">.</span>shortname <span class="token operator">+</span> <span class="token string">&#39;\&lt;/h3&gt;\&lt;p&gt;&#39;</span> <span class="token operator">+</span> feature<span class="token punctuation">.</span>properties<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&#39;\&lt;/p&gt;&#39;</span><span class="token punctuation">)</span>
​        <span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
​    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><h4 id="wfts-底图切换" tabindex="-1"><a class="header-anchor" href="#wfts-底图切换" aria-hidden="true">#</a> wfts 底图切换</h4></li><li><h4 id="wfs-wms-数据加载-不同数据源" tabindex="-1"><a class="header-anchor" href="#wfs-wms-数据加载-不同数据源" aria-hidden="true">#</a> wfs，wms 数据加载（不同数据源）</h4></li><li><h4 id="定位" tabindex="-1"><a class="header-anchor" href="#定位" aria-hidden="true">#</a> 定位</h4></li><li><h4 id="数据查询" tabindex="-1"><a class="header-anchor" href="#数据查询" aria-hidden="true">#</a> 数据查询</h4></li><li><h4 id="数据可视化" tabindex="-1"><a class="header-anchor" href="#数据可视化" aria-hidden="true">#</a> 数据可视化</h4><p><img src="http://qnimg.gisfsde.com/image-20210322154411490.png" alt="image-20210322154411490" loading="lazy"></p><p><a href="https://iclient.supermap.io/examples/mapboxgl/examples.html#iServer-map" target="_blank" rel="noopener noreferrer">Supermap查看<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><h4 id="优化" tabindex="-1"><a class="header-anchor" href="#优化" aria-hidden="true">#</a> 优化</h4><p>窗口样式优化，弹出框样式优化，字体等调节</p></li></ol><h3 id="一些小技巧" tabindex="-1"><a class="header-anchor" href="#一些小技巧" aria-hidden="true">#</a> 一些小技巧</h3><p>待更新</p><h3 id="mapbox源码编译" tabindex="-1"><a class="header-anchor" href="#mapbox源码编译" aria-hidden="true">#</a> Mapbox源码编译</h3><h3 id="环境准备-1" tabindex="-1"><a class="header-anchor" href="#环境准备-1" aria-hidden="true">#</a> 环境准备</h3><p><strong>GIT环境搭建：</strong> 详细点击：<a href="https://blog.csdn.net/donglaoxie/article/details/104453761" target="_blank" rel="noopener noreferrer">（一）windows 安装 git<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><strong>Node.JS环境搭建：</strong> 详细点击：<a href="https://blog.csdn.net/donglaoxie/article/details/104513190" target="_blank" rel="noopener noreferrer">（一）Node.JS 安装说明<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><strong>Yarn环境搭建：</strong> 详细点击：<a href="https://blog.csdn.net/donglaoxie/article/details/104520798" target="_blank" rel="noopener noreferrer">（一）Yarn安装、配置、镜像源修改<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install --global yarn
yarn --version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Npm and node-gyp依赖安装</strong> 详细点击：<a href="https://blog.csdn.net/donglaoxie/article/details/104532608" target="_blank" rel="noopener noreferrer">（二）Node.js安装本地插件构建工具node-gyp<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><strong>其他地址：</strong> GitHub Mapbox源码地址：<a href="https://github.com/mapbox/mapbox-gl-js" target="_blank" rel="noopener noreferrer">https://github.com/mapbox/mapbox-gl-js<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="项目编译-1" tabindex="-1"><a class="header-anchor" href="#项目编译-1" aria-hidden="true">#</a> 项目编译</h3><ol><li><p>yarn install</p></li><li><p>安装headless-gl，并将node_modules/headless-gl/deps/windows/dll/x64/*.dll 复制到c:\windows\system32 npm install gl yarn run start-debug yarn run build-dev</p></li><li><p>debug/index.html中代码最上方增加token</p><p>&lt;script&gt; mapboxgl.accessToken=&#39;pk.eyJ1IjoibGltbiIsImEiOiJja2t1bG1na2IxZGU0MnZvNmlzY3FhZXM4In0.oQx4VguycOR4TK80Pyusmw&#39;; var map = window.map = new mapboxgl.Map({</p></li></ol><h3 id="mapbox专业术语" tabindex="-1"><a class="header-anchor" href="#mapbox专业术语" aria-hidden="true">#</a> MAPBOX专业术语</h3><p>矢量瓦片：</p><p>栅格瓦片：</p><h3 id="mapbox学习" tabindex="-1"><a class="header-anchor" href="#mapbox学习" aria-hidden="true">#</a> MAPBOX学习</h3><p>中文文档：<a href="http://www.mapbox.cn/mapbox-gl-js/api/" target="_blank" rel="noopener noreferrer">http://www.mapbox.cn/mapbox-gl-js/api/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="styles-8" tabindex="-1"><a class="header-anchor" href="#styles-8" aria-hidden="true">#</a> Styles (8)</h3><p>为地图添加生成的图标 为地图添加动画图标 为地图生成及添加缺失的图标 为地图添加图标 使用自定义样式展示地图 显示卫星地图 改变一个地图的样式 显示一个地图</p><h3 id="layers-30" tabindex="-1"><a class="header-anchor" href="#layers-30" aria-hidden="true">#</a> Layers (30)</h3><p>用3D形式呈现建筑物 拉伸多边形以绘制3D室内地图 添加3D模型 调整图层不透明度 为线添加动画效果 为一系列图像添加动画效果 为点添加动画效果 按照缩放级别改变建筑颜色 更改标注的大小写 显示具有自定义属性的HTML聚类 创建样式聚类 使用按钮更改图层颜色 添加自定义样式图层 给线添加数据驱动属性的样式。 给圆添加数据驱动属性的样式 显示多种文本格式并设置其样式 为多边形添加图案 在标签下添加新图层 添加 GeoJSON 线 绘制 GeoJSON 点 添加 GeoJSON 多边形 创建热力图图层 添加晕暄 使用表达式创建渐变色线条 设置海洋深度数据样式 显示和隐藏图层 改变行政边界世界观 根据缩放级别更新等值线图层 变量标签位置 可视化人口密度</p><h3 id="sources-9" tabindex="-1"><a class="header-anchor" href="#sources-9" aria-hidden="true">#</a> Sources (9)</h3><p>将本地JSON数据与矢量切片图形连接 添加影像 添加实时数据 更新实时要素 添加栅格切片数据源 添加一个第三方矢量切片来源 添加一个矢量图片数据源 添加一个视频 添加一个 WMS 源</p><h3 id="user-interaction-17" tabindex="-1"><a class="header-anchor" href="#user-interaction-17" aria-hidden="true">#</a> User interaction (17)</h3><p>基于周边声音给3D建筑添加动画效果 禁用地图旋转 创建可拖动的点 创建可拖动的标记（Marker） 通过文本输入筛选符号 在 map view 中筛选要素 通过切换列表筛选符号 创建悬停效果 显示非交互式地图 更改地图的语言 高亮包含相似数据的部分 从点击点周围选择特征 限制地图平移在某一区域 获取鼠标下点的特征 切换交互 创建时间滑动条 高亮一个选择框范围内的特征</p><h3 id="camera-11" tabindex="-1"><a class="header-anchor" href="#camera-11" aria-hidden="true">#</a> Camera (11)</h3><p>使地图相机环绕一点运动 为路线中的点添加动画效果 将地图居中于被单击的符号上 缓慢飞至某个位置 将地图缩放至边界框内 飞至某一位置 使用游戏式控件浏览地图 跳至一系列地点 以幻灯片形式播放地图位置。 根据滚动位置飞到某处 设置 pitch 和 bearing</p><h3 id="controls-and-overlays-16" tabindex="-1"><a class="header-anchor" href="#controls-and-overlays-16" aria-hidden="true">#</a> Controls and overlays (16)</h3><p>为标记(marker)添加动画效果 改变注释的默认位置 使用 Markers 添加自定义图标 禁用滚轮缩放 全屏查看地图 定位用户 在不同地图之间滑动 显示驾驶方向 显示已绘制的多边形区域 添加地理编码器 利用地点名称添加标记 点击时显示多边形信息 悬浮时显示弹出窗 点击时显示一个弹出窗 显示一个弹出窗 将弹出窗口附加到 marker 实例</p><h3 id="geocoder-8" tabindex="-1"><a class="header-anchor" href="#geocoder-8" aria-hidden="true">#</a> Geocoder (8)</h3><p>从其他数据源中补充进一步的地理编码查询结果 接收输入坐标至地理编码器 使用地理编码器时采用自定义渲染功能 将地理编码的结果限制在指定地区范围内 在使用地理编码器的过程中结合使用自定义相机动画 在地图上添加位置搜索框 将地理编码器进行指定语言的本地化 在Geocoder产生结果后设置一个点</p><h3 id="browser-support-1" tabindex="-1"><a class="header-anchor" href="#browser-support-1" aria-hidden="true">#</a> Browser support (1)</h3><p>检查浏览器支持</p><h3 id="internationalization-support-2" tabindex="-1"><a class="header-anchor" href="#internationalization-support-2" aria-hidden="true">#</a> Internationalization support (2)</h3><p>使用本地生成的表意文字 为从右至左书写的脚本提供支持</p><h1 id="supermap" tabindex="-1"><a class="header-anchor" href="#supermap" aria-hidden="true">#</a> <a href="https://iclient.supermap.io/examples/mapboxgl/examples.html#iServer-map" target="_blank" rel="noopener noreferrer">SUPERMAP<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h1><p>一个mapbox华丽外衣与装备</p><h1 id="cusium" tabindex="-1"><a class="header-anchor" href="#cusium" aria-hidden="true">#</a> Cusium</h1><blockquote><p>3D、2.5D、2D地图展示</p></blockquote><h2 id="源码解析准备" tabindex="-1"><a class="header-anchor" href="#源码解析准备" aria-hidden="true">#</a> 源码解析准备</h2><p><a href="https://cesium.com/learn/" target="_blank" rel="noopener noreferrer">官网<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="http://cesium.xin/cesium/cn/Documentation1.72/index.html" target="_blank" rel="noopener noreferrer">中文文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://cesium.com/ion/?t=welcome" target="_blank" rel="noopener noreferrer">注册<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>源码：<a href="https://cesium.com/learn/cesiumjs-learn/" target="_blank" rel="noopener noreferrer">下载<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>环境：node、npm</p><p>使用：VUE</p><p>运行：方法一：</p><ol><li>解压</li><li>打开命令行，进入当前目录</li><li>安装依赖，输入:cnpm install,等待安装完成，然后输入: node server.js</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>$ cd <span class="token punctuation">.</span><span class="token operator">/</span>Cesium<span class="token operator">-</span><span class="token number">1.40</span>
$ cnpm install  <span class="token operator">...</span>  Installed <span class="token number">37</span> packages  Linked <span class="token number">569</span> latest versions
$ npm start 或者 node server<span class="token punctuation">.</span><span class="token function">js</span><span class="token punctuation">(</span>新版本是 node server<span class="token punctuation">.</span>cjs<span class="token punctuation">)</span>
Cesium development server running locally<span class="token punctuation">.</span>  Connect to http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8080</span><span class="token operator">/</span>复制
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方法二：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>这里如果使用 express发布遇到问题，可以使用 http<span class="token operator">-</span>server
$ npm install http<span class="token operator">-</span>server <span class="token operator">-</span>g
$ http<span class="token operator">-</span>server <span class="token operator">-</span>c<span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">(</span>如果只输入http<span class="token operator">-</span>server，更新代码后，页面不会同步更新<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方法三：VSCode 插件运行</p><h2 id="获取token" tabindex="-1"><a class="header-anchor" href="#获取token" aria-hidden="true">#</a> 获取Token</h2><p><img src="http://qnimg.gisfsde.com/work/image-20220113093336025.png" alt="image-20220113093336025" loading="lazy"></p><p>使用</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    Cesium<span class="token punctuation">.</span>Ion<span class="token punctuation">.</span>defaultAccessToken <span class="token operator">=</span> <span class="token string">&#39;token&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="主页说明" tabindex="-1"><a class="header-anchor" href="#主页说明" aria-hidden="true">#</a> 主页说明</h2><hr><hr><h3 id="cesium-ion" tabindex="-1"><a class="header-anchor" href="#cesium-ion" aria-hidden="true">#</a> Cesium ion</h3><p>Cesium ion is your hub for discovering 3D content and tiling your own data for streaming. CesiumJS and ion work together to enable you to build world class 3D mapping applications.</p><p><a href="https://cesium.com/ion/signup/" target="_blank" rel="noopener noreferrer">Sign up for a free account<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to get your access token required for using ion&#39;s Bing Maps global imagery and Cesium World Terrain assets.</p><h3 id="local-links" tabindex="-1"><a class="header-anchor" href="#local-links" aria-hidden="true">#</a> Local links</h3><table><thead><tr><th><a href="http://126.10.1.204:8081/Build/Documentation/index.html" target="_blank" rel="noopener noreferrer">Documentation<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></th><th>The complete API documentation and reference.</th></tr></thead><tbody><tr><td><a href="http://126.10.1.204:8081/Apps/HelloWorld.html" target="_blank" rel="noopener noreferrer">Hello World<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>The simplest possible Cesium application.</td></tr><tr><td><a href="http://126.10.1.204:8081/Apps/CesiumViewer/index.html" target="_blank" rel="noopener noreferrer">Cesium Viewer<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>A sample Cesium reference application which allows you to browse the globe and select from a variety of imagery and terrain layers as well as load CZML, GeoJSON, and other formats supported by Cesium.</td></tr><tr><td><a href="http://126.10.1.204:8081/Apps/Sandcastle/index.html" target="_blank" rel="noopener noreferrer">Sandcastle<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>Cesium&#39;s live code editor and example gallery. Browse examples highlighting features of the Cesium API and edit and run them all in your web browser. Cesium applications created in Sandcastle can be saved and downloaded.</td></tr><tr><td><a href="http://126.10.1.204:8081/Specs/SpecRunner.html" target="_blank" rel="noopener noreferrer">Run tests<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>Run Cesium&#39;s full suite of unit tests</td></tr></tbody></table><h3 id="external-links" tabindex="-1"><a class="header-anchor" href="#external-links" aria-hidden="true">#</a> External links</h3><table><thead><tr><th><a href="https://cesium.com/" target="_blank" rel="noopener noreferrer">Cesium<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></th><th>Learn about the Cesium team and the Cesium ion platform</th></tr></thead><tbody><tr><td><a href="https://cesium.com/blog/" target="_blank" rel="noopener noreferrer">Cesium Blog<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>Follow project news, developer tips, and posts about Cesium&#39;s innovative technology</td></tr><tr><td><a href="https://cesium.com/learn/" target="_blank" rel="noopener noreferrer">Tutorials<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>Step-by-step guides for learning to use CesiumJS</td></tr><tr><td><a href="https://community.cesium.com/" target="_blank" rel="noopener noreferrer">Community Forum<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>Questions and feedback welcome from all skill levels</td></tr><tr><td><a href="https://github.com/CesiumGS/cesium" target="_blank" rel="noopener noreferrer">GitHub<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>The official CesiumJS GitHub repository</td></tr><tr><td><a href="https://cesium.com/blog/categories/user-stories/" target="_blank" rel="noopener noreferrer">User Stories<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>Demos and information about projects using CesiumJS</td></tr><tr><td><a href="http://webglreport.com/" target="_blank" rel="noopener noreferrer">WebGL Report<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td>Provides technical information about WebGL capabilities supported by your browser</td></tr></tbody></table><hr><hr><h2 id="界面介绍" tabindex="-1"><a class="header-anchor" href="#界面介绍" aria-hidden="true">#</a> 界面介绍</h2><p><img src="http://qnimg.gisfsde.com/work/image-20220111165928042.png" alt="" loading="lazy"></p><h2 id="自项目编写" tabindex="-1"><a class="header-anchor" href="#自项目编写" aria-hidden="true">#</a> 自项目编写</h2><p>环境：VUE2 ，cesium 1.89</p><p>C:\Users\Administrator&gt;node -v v14.16.0</p><p>C:\Users\Administrator&gt;npm -v 6.14.11</p><h3 id="项目创建" tabindex="-1"><a class="header-anchor" href="#项目创建" aria-hidden="true">#</a> 项目创建</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>vue init webpack gislearn
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="安装cesium-1-89" tabindex="-1"><a class="header-anchor" href="#安装cesium-1-89" aria-hidden="true">#</a> 安装cesium 1.89</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm i cesium
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="修改webpack-prod-conf-js" tabindex="-1"><a class="header-anchor" href="#修改webpack-prod-conf-js" aria-hidden="true">#</a> 修改webpack.prod.conf.js</h3><p>修改 --Cesium--标记处</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&#39;use strict&#39;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> utils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./utils&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../config&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> baseWebpackConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.base.conf&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CopyWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;copy-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;extract-text-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> OptimizeCSSPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;optimize-css-assets-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> UglifyJsPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;uglifyjs-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// 定义路径--Cesium--</span>
<span class="token keyword">const</span> cesiumSource <span class="token operator">=</span> <span class="token string">&#39;node_modules/cesium/Source&#39;</span>
<span class="token keyword">const</span> cesiumWorkers <span class="token operator">=</span> <span class="token string">&#39;../Build/Cesium/Workers&#39;</span>

<span class="token keyword">const</span> env <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;testing&#39;</span>
  <span class="token operator">?</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../config/test.env&#39;</span><span class="token punctuation">)</span>
  <span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../config/prod.env&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> webpackConfig <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseWebpackConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">styleLoaders</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">sourceMap</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>productionSourceMap<span class="token punctuation">,</span>
      <span class="token literal-property property">extract</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">usePostCSS</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>productionSourceMap <span class="token operator">?</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>devtool <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsRoot<span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;js/[name].[chunkhash].js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;js/[id].[chunkhash].js&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 添加如下插件--Cesium--</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> cesiumWorkers<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;Workers&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> <span class="token string">&#39;Assets&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;Assets&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> <span class="token string">&#39;Widgets&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;Widgets&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> <span class="token string">&#39;ThirdParty/Workers&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;ThirdParty/Workers&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// 注意这里和dev的配置不同</span>
      <span class="token comment">// 定义Cesium从哪里加载资源，如果使用默认的&#39;&#39;，却变成了绝对路径了，所以这里使用&#39;./&#39;，使用相对路径</span>
      <span class="token constant">CESIUM_BASE_URL</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">&#39;./&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// http://vuejs.github.io/vue-loader/en/workflow/production.html</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string-property property">&#39;p<wbr>rocess.env&#39;</span><span class="token operator">:</span> env
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">uglifyOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">warnings</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">sourceMap</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>productionSourceMap<span class="token punctuation">,</span>
      <span class="token literal-property property">parallel</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// extract css into its own file</span>
    <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;css/[name].[contenthash].css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// Setting the following option to `false` will not extract CSS from codesplit chunks.</span>
      <span class="token comment">// Their CSS will instead be inserted dynamically with style-loader when the codesplit chunk has been loaded by webpack.</span>
      <span class="token comment">// It&#39;s currently set to `true` because we are seeing that sourcemaps are included in the codesplit bundle as well when it&#39;s `false`, </span>
      <span class="token comment">// increasing file size: https://github.com/vuejs-templates/webpack/issues/1110</span>
      <span class="token literal-property property">allChunks</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// Compress extracted CSS. We are using this plugin so that possible</span>
    <span class="token comment">// duplicated CSS from different components can be deduped.</span>
    <span class="token keyword">new</span> <span class="token class-name">OptimizeCSSPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">cssProcessorOptions</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>productionSourceMap
        <span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token literal-property property">safe</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">map</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">inline</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
        <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">safe</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// generate dist index.html with correct asset hash for caching.</span>
    <span class="token comment">// you can customize output by editing /index.html</span>
    <span class="token comment">// see https://github.com/ampedandwired/html-webpack-plugin</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;testing&#39;</span>
        <span class="token operator">?</span> <span class="token string">&#39;index.html&#39;</span>
        <span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>index<span class="token punctuation">,</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;index.html&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minify</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">removeComments</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">collapseWhitespace</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">removeAttributeQuotes</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token comment">// more options:</span>
        <span class="token comment">// https://github.com/kangax/html-minifier#options-quick-reference</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// necessary to consistently work with multiple chunks via CommonsChunkPlugin</span>
      <span class="token literal-property property">chunksSortMode</span><span class="token operator">:</span> <span class="token string">&#39;dependency&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// keep module.id stable when vendor modules does not change</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HashedModuleIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// enable scope hoisting</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>ModuleConcatenationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// split vendor js into its own file</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;vendor&#39;</span><span class="token punctuation">,</span>
      <span class="token function">minChunks</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// any required modules inside node_modules are extracted to vendor</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
          module<span class="token punctuation">.</span>resource <span class="token operator">&amp;&amp;</span>
          <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>resource<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
          module<span class="token punctuation">.</span>resource<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>
            path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../node_modules&#39;</span><span class="token punctuation">)</span>
          <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// extract webpack runtime and module manifest to its own file in order to</span>
    <span class="token comment">// prevent vendor hash from being updated whenever app bundle is updated</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;manifest&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minChunks</span><span class="token operator">:</span> <span class="token number">Infinity</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// This instance extracts shared chunks from code splitted chunks and bundles them</span>
    <span class="token comment">// in a separate chunk, similar to the vendor chunk</span>
    <span class="token comment">// see: https://webpack.js.org/plugins/commons-chunk-plugin/#extra-async-commons-chunk</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;app&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">async</span><span class="token operator">:</span> <span class="token string">&#39;vendor-async&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minChunks</span><span class="token operator">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">// copy custom static assets</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../static&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">to</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsSubDirectory<span class="token punctuation">,</span>
        <span class="token literal-property property">ignore</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.*&#39;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>productionGzip<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> CompressionWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;compression-webpack-plugin&#39;</span><span class="token punctuation">)</span>

  webpackConfig<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">asset</span><span class="token operator">:</span> <span class="token string">&#39;[path].gz[query]&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">algorithm</span><span class="token operator">:</span> <span class="token string">&#39;gzip&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>
        <span class="token string">&#39;\\.(&#39;</span> <span class="token operator">+</span>
        config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>productionGzipExtensions<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;|&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span>
        <span class="token string">&#39;)$&#39;</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minRatio</span><span class="token operator">:</span> <span class="token number">0.8</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>bundleAnalyzerReport<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> BundleAnalyzerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-bundle-analyzer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>BundleAnalyzerPlugin
  webpackConfig<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BundleAnalyzerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> webpackConfig

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="webpack-dev-conf-js" tabindex="-1"><a class="header-anchor" href="#webpack-dev-conf-js" aria-hidden="true">#</a> webpack.dev.conf.js</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&#39;use strict&#39;</span>
<span class="token keyword">const</span> utils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./utils&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../config&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> baseWebpackConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.base.conf&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CopyWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;copy-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> FriendlyErrorsPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;friendly-errors-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> portfinder <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;portfinder&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token constant">HOST</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">HOST</span>
<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">&amp;&amp;</span> <span class="token function">Number</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span><span class="token punctuation">)</span>
<span class="token comment">// 定义路径：--Cesium--</span>
<span class="token keyword">const</span> cesiumSource <span class="token operator">=</span> <span class="token string">&#39;node_modules/cesium/Source&#39;</span>
<span class="token keyword">const</span> cesiumWorkers <span class="token operator">=</span> <span class="token string">&#39;../Build/Cesium/Workers&#39;</span>

<span class="token keyword">const</span> devWebpackConfig <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseWebpackConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">styleLoaders</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">sourceMap</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>cssSourceMap<span class="token punctuation">,</span> <span class="token literal-property property">usePostCSS</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// cheap-module-eval-source-map is faster for development</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>devtool<span class="token punctuation">,</span>

  <span class="token comment">// these devServer options should be customized in /config/index.js</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">clientLogLevel</span><span class="token operator">:</span> <span class="token string">&#39;warning&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">rewrites</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> path<span class="token punctuation">.</span>posix<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>assetsPublicPath<span class="token punctuation">,</span> <span class="token string">&#39;index.html&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// since we use CopyWebpackPlugin.</span>
    <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token constant">HOST</span> <span class="token operator">||</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>host<span class="token punctuation">,</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token constant">PORT</span> <span class="token operator">||</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>port<span class="token punctuation">,</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>autoOpenBrowser<span class="token punctuation">,</span>
    <span class="token literal-property property">overlay</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>errorOverlay
      <span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token literal-property property">warnings</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">errors</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
      <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>assetsPublicPath<span class="token punctuation">,</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>proxyTable<span class="token punctuation">,</span>
    <span class="token literal-property property">quiet</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// necessary for FriendlyErrorsPlugin</span>
    <span class="token literal-property property">watchOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">poll</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>poll<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 添加如下插件--Cesium--</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> cesiumWorkers<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;Workers&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> <span class="token string">&#39;Assets&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;Assets&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> <span class="token string">&#39;Widgets&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;Widgets&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> <span class="token string">&#39;ThirdParty/Workers&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;ThirdParty/Workers&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Define relative base path in cesium for loading assets</span>
      <span class="token constant">CESIUM_BASE_URL</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>


    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string-property property">&#39;p<wbr>rocess.env&#39;</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../config/dev.env&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>NamedModulesPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// HMR shows correct file names in console on update.</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>NoEmitOnErrorsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// https://github.com/ampedandwired/html-webpack-plugin</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;index.html&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;index.html&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// copy custom static assets</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../static&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">to</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>assetsSubDirectory<span class="token punctuation">,</span>
        <span class="token literal-property property">ignore</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.*&#39;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  portfinder<span class="token punctuation">.</span>basePort <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>port
  portfinder<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> port</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// publish the new Port, necessary for e2e tests</span>
      process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">=</span> port
      <span class="token comment">// add port to devServer config</span>
      devWebpackConfig<span class="token punctuation">.</span>devServer<span class="token punctuation">.</span>port <span class="token operator">=</span> port

      <span class="token comment">// Add FriendlyErrorsPlugin</span>
      devWebpackConfig<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FriendlyErrorsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">compilationSuccessInfo</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">messages</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Your application is running here: http://</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>devWebpackConfig<span class="token punctuation">.</span>devServer<span class="token punctuation">.</span>host<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">onErrors</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>notifyOnErrors
          <span class="token operator">?</span> utils<span class="token punctuation">.</span><span class="token function">createNotifierCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token operator">:</span> <span class="token keyword">undefined</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

      <span class="token function">resolve</span><span class="token punctuation">(</span>devWebpackConfig<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="webpack-base-conf-js" tabindex="-1"><a class="header-anchor" href="#webpack-base-conf-js" aria-hidden="true">#</a> webpack.base.conf.js</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&#39;use strict&#39;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> utils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./utils&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../config&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> vueLoaderConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./vue-loader.conf&#39;</span><span class="token punctuation">)</span>
<span class="token comment">//定义 Cesium 源码路径  --Cesium--</span>
<span class="token keyword">const</span> cesiumSource <span class="token operator">=</span> <span class="token string">&#39;../node_modules/cesium/Source&#39;</span>
<span class="token keyword">const</span> cesiumWorkers <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> <span class="token string">&#39;Workers&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token parameter">dir</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;..&#39;</span><span class="token punctuation">,</span> dir<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">createLintingRule</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(js|vue)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;eslint-loader&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token string">&#39;pre&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">formatter</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;eslint-friendly-formatter&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">emitWarning</span><span class="token operator">:</span> <span class="token operator">!</span>config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>showEslintErrorsInOverlay
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">context</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">app</span><span class="token operator">:</span> <span class="token string">&#39;./src/main.js&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// output: {</span>
  <span class="token comment">//   path: config.build.assetsRoot,</span>
  <span class="token comment">//   filename: &#39;[name].js&#39;,</span>
  <span class="token comment">//   publicPath: p<wbr>rocess.env.NODE_ENV === &#39;production&#39;</span>
  <span class="token comment">//     ? config.build.assetsPublicPath</span>
  <span class="token comment">//     : config.dev.assetsPublicPath</span>
  <span class="token comment">// },</span>

  <span class="token comment">// 让webpack正确处理多行字符串，在output中添加sourcePrefix:&#39; &#39;--Cesium--</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsRoot<span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;production&#39;</span>
      <span class="token operator">?</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsPublicPath
      <span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>assetsPublicPath<span class="token punctuation">,</span>
    <span class="token literal-property property">sourcePrefix</span><span class="token operator">:</span> <span class="token string">&#39; &#39;</span> <span class="token comment">//让webpack正确处理多行字符串</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// resolve: {</span>
  <span class="token comment">//   extensions: [&#39;.js&#39;, &#39;.vue&#39;, &#39;.json&#39;],</span>
  <span class="token comment">//   alias: {</span>
  <span class="token comment">//     &#39;vue$&#39;: &#39;vue/dist/vue.esm.js&#39;,</span>
  <span class="token comment">//     &#39;@&#39;: resolve(&#39;src&#39;),</span>
  <span class="token comment">//   }</span>
  <span class="token comment">// },</span>

  <span class="token comment">// 需要在resolve中设置cesium别名，这样在引入的时候就可以根据别名找到Cesium的包。--Cesium--</span>
  <span class="token comment">// （注：也可以不设置别名，导包是直接导入&#39;cesium/Source/Cesium.js&#39;就行。其实设置别名的目的就是让“别名”指向/ node_modules / cesium / Source目录）</span>
  <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.vue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.json&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;vue$&#39;</span><span class="token operator">:</span> <span class="token string">&#39;vue/dist/vue.esm.js&#39;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&#39;@&#39;</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">cesium</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> cesiumSource<span class="token punctuation">)</span> <span class="token comment">//设置cesium别名</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 解决报错 1.87版本无效，只能暂时退版本--Cesium--</span>
    <span class="token comment">// npm install @open-wc/webpack-import-meta-loader --save-dev</span>
    <span class="token comment">//  error  in ./node_modules/cesium/Source/ThirdParty/zip.js</span>
    <span class="token comment">// Module parse failed: Unexpected token(6400:57)</span>
    <span class="token comment">// You may need an appropriate loader to handle this file type.</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;@open-wc/webpack-import-meta-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// 创建工程师会选择 ESLint 代码校验</span>
      <span class="token comment">//  Use ESLint to lint your code? Yes</span>
      <span class="token comment">// ...(config.dev.useEslint ? [createLintingRule()] : []),</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;vue-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> vueLoaderConfig
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;node_modules/webpack-dev-server/client&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpe?g|gif|svg)(\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;img/[name].[hash:7].[ext]&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(mp4|webm|ogg|mp3|wav|flac|aac)(\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;media/[name].[hash:7].[ext]&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(woff2?|eot|ttf|otf)(\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;fonts/[name].[hash:7].[ext]&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">unknownContextCritical</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//阻止依赖警告--Cesium--</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// prevent webpack from injecting useless setImmediate polyfill because Vue</span>
    <span class="token comment">// source contains it (although only uses it if it&#39;s native).</span>
    <span class="token literal-property property">setImmediate</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// prevent webpack from injecting mocks to Node native modules</span>
    <span class="token comment">// that does not make sense for the client</span>
    <span class="token literal-property property">dgram</span><span class="token operator">:</span> <span class="token string">&#39;empty&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">fs</span><span class="token operator">:</span> <span class="token string">&#39;empty&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">net</span><span class="token operator">:</span> <span class="token string">&#39;empty&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">tls</span><span class="token operator">:</span> <span class="token string">&#39;empty&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">child_process</span><span class="token operator">:</span> <span class="token string">&#39;empty&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建地图组件-src-view-earth-vue" tabindex="-1"><a class="header-anchor" href="#创建地图组件-src-view-earth-vue" aria-hidden="true">#</a> 创建地图组件 src\view\earth.vue</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cesiumContainer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>credit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
 
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// 这里不能使用 import Cesium from &#39;cesium/Cesium&#39; 导入模块，因为Cesium 1.63 版本以后使用的是ES6。应该使用一下方式</span>
<span class="token comment">// import { Viewer } from &quot;cesium/Cesium&quot;;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Cesium <span class="token keyword">from</span> <span class="token string">&quot;cesium/Cesium&quot;</span><span class="token punctuation">;</span> <span class="token comment">//正确</span>
<span class="token keyword">import</span> <span class="token string">&quot;cesium/Widgets/widgets.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;earth&quot;</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// let viewer = new Viewer(&quot;cesiumContainer&quot;);</span>
    <span class="token comment">// 1. Geocoder : 查找位置工具，查找到之后会将镜头对准找到的地址，默认使用bing地图</span>
    <span class="token comment">// 2. Home Button :视角返回初始位置.</span>
    <span class="token comment">// 3. Scene Mode Picker : 选择视角的模式，有三种：3D，2D，哥伦布视图(CV)</span>
    <span class="token comment">// 4. Base Layer Picker : 图层选择器，选择要显示的地图服务和地形服务.</span>
    <span class="token comment">// 5. Navigation Help Button :导航帮助按钮，显示默认的地图控制帮助.</span>
    <span class="token comment">// 6. Animation : 动画器件，控制视图动画的播放速度.</span>
    <span class="token comment">// 7. Timeline :时间线,指示当前时间，并允许用户跳到特定的时间.</span>
    <span class="token comment">// 8. Credits Display :版权显示，显示数据归属，必选</span>
    <span class="token comment">// 9. Fullscreen Button :全屏按钮.</span>
    Cesium<span class="token punctuation">.</span>Ion<span class="token punctuation">.</span>defaultAccessToken <span class="token operator">=</span><span class="token string">&quot;自己的token&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token comment">// geocoder: false,</span>
      <span class="token comment">// homeButton: false,</span>
      <span class="token comment">// sceneModePicker: false,</span>
      <span class="token comment">// baseLayerPicker: false,</span>
      <span class="token comment">// navigationHelpButton: false,</span>
      <span class="token comment">// animation: false,</span>
      <span class="token literal-property property">creditContainer</span><span class="token operator">:</span> <span class="token string">&quot;credit&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">// timeline: false,</span>
      <span class="token comment">// fullscreenButton: false,</span>
      <span class="token comment">// vrButton: false,</span>
      <span class="token comment">// skyBox : new Cesium.SkyBox({</span>
      <span class="token comment">//     sources : {</span>
      <span class="token comment">//     positiveX : &#39;stars/TychoSkymapII.t3_08192x04096_80_px.jpg&#39;,</span>
      <span class="token comment">//     negativeX : &#39;stars/TychoSkymapII.t3_08192x04096_80_mx.jpg&#39;,</span>
      <span class="token comment">//     positiveY : &#39;stars/TychoSkymapII.t3_08192x04096_80_py.jpg&#39;,</span>
      <span class="token comment">//     negativeY : &#39;stars/TychoSkymapII.t3_08192x04096_80_my.jpg&#39;,</span>
      <span class="token comment">//     positiveZ : &#39;stars/TychoSkymapII.t3_08192x04096_80_pz.jpg&#39;,</span>
      <span class="token comment">//     negativeZ : &#39;stars/TychoSkymapII.t3_08192x04096_80_mz.jpg&#39;</span>
      <span class="token comment">//     }</span>
      <span class="token comment">// })</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 显示帧速(FPS)</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>debugShowFramesPerSecond <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token comment">// 绘制形状</span>
    <span class="token comment">// 方式一：</span>
    <span class="token keyword">var</span> redBox <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Red box with black outline&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">107.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">box</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">dimensions</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">400000.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">material</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLUE</span><span class="token punctuation">.</span><span class="token function">withAlpha</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">outline</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">outlineColor</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLACK</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    viewer<span class="token punctuation">.</span><span class="token function">zoomTo</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 方式二：</span>
    <span class="token keyword">var</span> czml <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;document&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;box&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;shape2&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Red box with black outline&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">cartographicDegrees</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">107.0</span><span class="token punctuation">,</span> <span class="token number">50.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">box</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">dimensions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">cartesian</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">400000.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">material</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">solidColor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">rgba</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">outline</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">outlineColor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">rgba</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 重复创建Viewer会添加多个窗口</span>
    <span class="token comment">// var viewer = new Cesium.Viewer(&quot;cesiumContainer&quot;);</span>
    <span class="token keyword">var</span> dataSourcePromise <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>CzmlDataSource<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>czml<span class="token punctuation">)</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>dataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dataSourcePromise<span class="token punctuation">)</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span><span class="token function">zoomTo</span><span class="token punctuation">(</span>dataSourcePromise<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
 
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#cesiumContainer</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* 不占据空间，无法点击，右上角按钮组，左下角动画控件 ，时间线，logo信息*/</span>
<span class="token comment">/* .cesium-viewer-toolbar,
.cesium-viewer-animationContainer,
.cesium-viewer-timelineContainer,
.cesium-viewer-bottom {
  display: none;
} */</span>
<span class="token comment">/* 全屏按钮 */</span>
<span class="token comment">/* .cesium-viewer-fullscreenContainer  {
  position: absolute;
  top: -999em;
} */</span>

<span class="token comment">/* 注：全屏按钮不能通过display:none的方式来达到隐藏的目的，这是因为生成的按钮控件的行内样式设置了display属性，会覆盖引入的css属性

\&lt;div class=&quot;cesium-viewer-fullscreenContainer&quot; style=&quot;display: block;&quot;&gt;...\&lt;/div&gt; */</span>
\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="添加路由-src-router-index-js" tabindex="-1"><a class="header-anchor" href="#添加路由-src-router-index-js" aria-hidden="true">#</a> 添加路由 src\router\index.js</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>import Vue from &#39;vue&#39;
import Router from &#39;vue-router&#39;
import HelloWorld from &#39;@/components/HelloWorld&#39;
import earth from &#39;@/view/earth&#39;

Vue.use(Router)

export default new Router({
  routes: [
    {
      path: &#39;/&#39;,
      name: &#39;HelloWorld&#39;,
      component: HelloWorld
    },
    {
      path: &#39;/earth&#39;,
      name: &#39;earth&#39;,
      component: earth
    }
  ]
})

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="运行报错1" tabindex="-1"><a class="header-anchor" href="#运行报错1" aria-hidden="true">#</a> 运行报错1</h3><p>error in ./node_modules/cesium/Source/ThirdParty/zip.js</p><h4 id="解决" tabindex="-1"><a class="header-anchor" href="#解决" aria-hidden="true">#</a> 解决</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm i @open-wc/webpack-import-meta-loader -S
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="vue-config-js-或-webpack-base-conf-js配置" tabindex="-1"><a class="header-anchor" href="#vue-config-js-或-webpack-base-conf-js配置" aria-hidden="true">#</a> vue.config.js 或 webpack.base.conf.js配置</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                    <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;@open-wc/webpack-import-meta-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="运行报错2" tabindex="-1"><a class="header-anchor" href="#运行报错2" aria-hidden="true">#</a> 运行报错2</h3><p>error in (webpack)/hot/dev-server.js Module build failed: TypeError: Cannot read property &#39;length&#39; of undefined at Object.module.exports (F:\demo\cesiumtest-master\node_modules@open-wc\webpack-import-meta-loader\webpack-import-meta-loader.js:20:63)</p><h4 id="解决-1" tabindex="-1"><a class="header-anchor" href="#解决-1" aria-hidden="true">#</a> 解决</h4><p>点击报错跳转到对应文件行，将其注释即可</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> relativePath <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>
    <span class="token comment">// this.context.indexOf(this.rootContext) + this.rootContext.length + 1,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>resource<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>sep<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="运行" tabindex="-1"><a class="header-anchor" href="#运行" aria-hidden="true">#</a> 运行</h3><p>npm run dev</p><p><a href="http://localhost:8081/#/earth" target="_blank" rel="noopener noreferrer">http://localhost:8081/#/earth<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><img src="http://qnimg.gisfsde.com/work/image-20220111165928042.png" alt="" loading="lazy"></p><p>npm run build 打包成功</p><h3 id="部署dist" tabindex="-1"><a class="header-anchor" href="#部署dist" aria-hidden="true">#</a> 部署dist</h3><p><a href="http://xx.xx.xx.11:8084/#/earth" target="_blank" rel="noopener noreferrer">http://xx.xx.xx.11:8084/#/earth<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 成功</p><h2 id="功能开发" tabindex="-1"><a class="header-anchor" href="#功能开发" aria-hidden="true">#</a> 功能开发</h2><h3 id="控件显示控制" tabindex="-1"><a class="header-anchor" href="#控件显示控制" aria-hidden="true">#</a> 控件显示控制</h3><ol><li>Geocoder : 查找位置工具，查找到之后会将镜头对准找到的地址，默认使用bing地图</li><li>Home Button :视角返回初始位置.</li><li>Scene Mode Picker : 选择视角的模式，有三种：3D，2D，哥伦布视图(CV)</li><li>Base Layer Picker : 图层选择器，选择要显示的地图服务和地形服务.</li><li>Navigation Help Button :导航帮助按钮，显示默认的地图控制帮助.</li><li>Animation : 动画器件，控制视图动画的播放速度.</li><li>Timeline :时间线,指示当前时间，并允许用户跳到特定的时间.</li><li>Credits Display :版权显示，显示数据归属，必选</li><li>Fullscreen Button :全屏按钮.</li></ol><h4 id="js方式" tabindex="-1"><a class="header-anchor" href="#js方式" aria-hidden="true">#</a> js方式</h4><p><a href="https://cesium.com/learn/cesiumjs/ref-doc/Viewer.html?classFilter=viewer" target="_blank" rel="noopener noreferrer">官方文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">var</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">geocoder</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">homeButton</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">sceneModePicker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">baseLayerPicker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">navigationHelpButton</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">animation</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// creditContainer: &quot;credit&quot;,</span>
      <span class="token literal-property property">timeline</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fullscreenButton</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">vrButton</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// skyBox : new Cesium.SkyBox({</span>
      <span class="token comment">//     sources : {</span>
      <span class="token comment">//     positiveX : &#39;stars/TychoSkymapII.t3_08192x04096_80_px.jpg&#39;,</span>
      <span class="token comment">//     negativeX : &#39;stars/TychoSkymapII.t3_08192x04096_80_mx.jpg&#39;,</span>
      <span class="token comment">//     positiveY : &#39;stars/TychoSkymapII.t3_08192x04096_80_py.jpg&#39;,</span>
      <span class="token comment">//     negativeY : &#39;stars/TychoSkymapII.t3_08192x04096_80_my.jpg&#39;,</span>
      <span class="token comment">//     positiveZ : &#39;stars/TychoSkymapII.t3_08192x04096_80_pz.jpg&#39;,</span>
      <span class="token comment">//     negativeZ : &#39;stars/TychoSkymapII.t3_08192x04096_80_mz.jpg&#39;</span>
      <span class="token comment">//     }</span>
      <span class="token comment">// })</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 显示帧速(FPS)</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>debugShowFramesPerSecond <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="css方式" tabindex="-1"><a class="header-anchor" href="#css方式" aria-hidden="true">#</a> css方式</h4><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code>      <span class="token comment">/* 不占据空间，无法点击 */</span>
      .cesium-viewer-toolbar<span class="token punctuation">,</span>             <span class="token comment">/* 右上角按钮组 */</span>
      .cesium-viewer-animationContainer<span class="token punctuation">,</span>  <span class="token comment">/* 左下角动画控件 */</span>
      .cesium-viewer-timelineContainer<span class="token punctuation">,</span>   <span class="token comment">/* 时间线 */</span>
      .cesium-viewer-bottom               <span class="token comment">/* logo信息 */</span>
      <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      .cesium-viewer-fullscreenContainer  <span class="token comment">/* 全屏按钮 */</span>
      <span class="token punctuation">{</span> <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span> <span class="token property">top</span><span class="token punctuation">:</span> -999em<span class="token punctuation">;</span>  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建形状" tabindex="-1"><a class="header-anchor" href="#创建形状" aria-hidden="true">#</a> 创建形状</h3><p><img src="http://qnimg.gisfsde.com/work/image-20220112173200428.png" alt="image-20220112173200428" loading="lazy"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 绘制形状  正方体</span>
    <span class="token comment">// 方式一：Entity</span>
<span class="token comment">//其他形状：http://cesium.xin/cesium/Documentation/Entity.html?classFilter=entity</span>
    <span class="token keyword">var</span> redBox <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Red box with black outline&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">107.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">box</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">dimensions</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">400000.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">material</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLUE</span><span class="token punctuation">.</span><span class="token function">withAlpha</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">outline</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">outlineColor</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLACK</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    viewer<span class="token punctuation">.</span><span class="token function">zoomTo</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 方式二：CZML(可创建几何形状也可创建动画)</span>
    <span class="token keyword">var</span> czml <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;document&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;box&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;shape2&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Red box with black outline&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">cartographicDegrees</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">107.0</span><span class="token punctuation">,</span> <span class="token number">50.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">box</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">dimensions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">cartesian</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">400000.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">material</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">solidColor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">rgba</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">outline</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">outlineColor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">rgba</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 重复创建Viewer会添加多个窗口</span>
    <span class="token comment">// var viewer = new Cesium.Viewer(&quot;cesiumContainer&quot;);</span>
    <span class="token keyword">var</span> dataSourcePromise <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>CzmlDataSource<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>czml<span class="token punctuation">)</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>dataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dataSourcePromise<span class="token punctuation">)</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span><span class="token function">zoomTo</span><span class="token punctuation">(</span>dataSourcePromise<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="添加不同类型数据" tabindex="-1"><a class="header-anchor" href="#添加不同类型数据" aria-hidden="true">#</a> 添加不同类型数据</h3><p><a href="https://www.jianshu.com/p/98d4c0b2c618" target="_blank" rel="noopener noreferrer">概览<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p><a href="http://www.opengeospatial.org/standards/wms" target="_blank" rel="noopener noreferrer">Web Map Service<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> (WMS) - 一种OGC标准，从分布式地理数据库中通过地图的地理范围来请求切片。 Cesium使用 <a href="https://cesiumjs.org/Cesium/Build/Documentation/WebMapServiceImageryProvider.html" target="_blank" rel="noopener noreferrer">WebMapServiceImageryProvider<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>去支持这种。</p><p><a href="https://cesiumjs.org/Cesium/Build/Documentation/TileMapServiceImageryProvider.html" target="_blank" rel="noopener noreferrer">Tile Map Service<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> (TMS) - 一种访问地图切片的REST接口。 可以用<a href="http://www.cesiumlab.com" target="_blank" rel="noopener noreferrer">CesiumLab<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>， <a href="http://www.maptiler.org/" target="_blank" rel="noopener noreferrer">MapTiler<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 或者 <a href="http://www.klokan.cz/projects/gdal2tiles/" target="_blank" rel="noopener noreferrer">GDAL2Tiles<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> . Cesium中使用<a href="https://cesiumjs.org/Cesium/Build/Documentation/TileMapServiceImageryProvider.html" target="_blank" rel="noopener noreferrer">TileMapServiceImageryProvider<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p><a href="http://www.opengeospatial.org/standards/wmts" target="_blank" rel="noopener noreferrer">OpenGIS Web Map Tile Service<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> (WMTS) - 一种OGC标准，主要是为预渲染的地图切片形式. Cesium中使用 <a href="https://cesiumjs.org/Cesium/Build/Documentation/WebMapTileServiceImageryProvider.html" target="_blank" rel="noopener noreferrer">WebMapTileServiceImageryProvider<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p><a href="http://wiki.openstreetmap.org/wiki/Main_Page" target="_blank" rel="noopener noreferrer">OpenStreetMap<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> - 访问 OpenStreetMap 切片 或者 任意 <a href="http://wiki.openstreetmap.org/wiki/Slippy_map_tilenames" target="_blank" rel="noopener noreferrer">Slippy map tiles<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.有很多方法 <a href="http://switch2osm.org/serving-tiles/" target="_blank" rel="noopener noreferrer">发布这种服务 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.Cesium中使用<a href="https://cesiumjs.org/Cesium/Build/Documentation/createOpenStreetMapImageryProvider.html" target="_blank" rel="noopener noreferrer">createOpenStreetMapImageryProvider<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p><a href="http://www.bing.com/maps/" target="_blank" rel="noopener noreferrer">Bing 地图<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> - 使用<a href="http://msdn.microsoft.com/en-us/library/ff701713.aspx" target="_blank" rel="noopener noreferrer">Bing 地图 REST 服务<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>访问切片. 在这里 <a href="https://www.bingmapsportal.com/%E5%88%9B%E5%BB%BABing%E5%9C%B0%E5%9B%BE%E7%9A%84key" target="_blank" rel="noopener noreferrer">https://www.bingmapsportal.com/创建Bing地图的key<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. Cesium中使用 <a href="https://cesiumjs.org/Cesium/Build/Documentation/BingMapsImageryProvider.html" target="_blank" rel="noopener noreferrer">BingMapsImageryProvider<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p>Esri ArcGIS MapServer - 使用 <a href="http://resources.esri.com/help/9.3/arcgisserver/apis/rest/" target="_blank" rel="noopener noreferrer">ArcGIS Server REST API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 访问存储在ArcGIS Server上的切片。Cesium中使用<a href="https://cesiumjs.org/Cesium/Build/Documentation/ArcGisMapServerImageryProvider.html" target="_blank" rel="noopener noreferrer">ArcGisMapServerImageryProvider<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p><a href="http://www.google.com/enterprise/mapsearth/products/earthenterprise.html" target="_blank" rel="noopener noreferrer">Google Earth Enterprise<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> - 访问Google Earth 企业版服务器发布的影像切片。Cesium中 <a href="https://cesiumjs.org/Cesium/Build/Documentation/GoogleEarthImageryProvider.html" target="_blank" rel="noopener noreferrer">GoogleEarthImageryProvider<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p><a href="https://www.mapbox.com/" target="_blank" rel="noopener noreferrer">Mapbox<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> - 使用 <a href="https://www.mapbox.com/developers/api/" target="_blank" rel="noopener noreferrer">Mapbox API<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>访问切片. 在这里新建用户，并且创建一个 <a href="https://www.mapbox.com/account/apps/" target="_blank" rel="noopener noreferrer">access token<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>. Cesium中使用 <a href="https://cesiumjs.org/Cesium/Build/Documentation/MapboxImageryProvider.html" target="_blank" rel="noopener noreferrer">MapboxImageryProvider<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p>普通图片文件 - 使用一张普通图片创建影像图层. Cesium中使用 <a href="https://cesiumjs.org/Cesium/Build/Documentation/SingleTileImageryProvider.html" target="_blank" rel="noopener noreferrer">SingleTileImageryProvider<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p>自定义切片机制 - 使用<a href="https://cesiumjs.org/Cesium/Build/Documentation/UrlTemplateImageryProvider.html" target="_blank" rel="noopener noreferrer">UrlTemplateImageryProvider<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>, 可以通过 URL 模板连接各种影像资源 。比如TMS服务的URL模板是： <code>//cesiumjs.org/tilesets/imagery/naturalearthii/{z}/{x}/{reverseY}.jpg</code>.</p><p><a href="https://cesiumjs.org/Cesium/Build/Documentation/TileCoordinatesImageryProvider.html" target="_blank" rel="noopener noreferrer">切片坐标<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> - 用来显示全球是如何被切片的，支持多种切片规则，画出每个切片的地理边界，并且用文字标注每个切片的level，x，y坐标。</p><p><a href="https://www.cesiumlab.com" target="_blank" rel="noopener noreferrer">百度地图<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> - 用来加载百度默认地图或者自定义样式地图，请联系我们。</p></blockquote><h4 id="跨域问题解决" tabindex="-1"><a class="header-anchor" href="#跨域问题解决" aria-hidden="true">#</a> 跨域问题解决</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>

  <span class="token literal-property property">dev</span><span class="token operator">:</span> <span class="token punctuation">{</span>

    <span class="token comment">// Paths</span>
    <span class="token literal-property property">assetsSubDirectory</span><span class="token operator">:</span> <span class="token string">&#39;static&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">assetsPublicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">//接口地址原本是/satellite/z={z}&amp;x={x}&amp;y={y} 但是为了匹配代理地址 调用时需在前面加一个 /satellite,  因此接口地址需要写成这样的即可生效 /satellite/satellite/z={z}&amp;x={x}&amp;y={y}</span>
    <span class="token literal-property property">proxyTable</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;/ArcGIS&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">//代理的目的：只要是/satellite开头的路径都往localhost:3000进行转发  </span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;https://sampleserver1.arcgisonline.com&#39;</span><span class="token punctuation">,</span> <span class="token comment">//后端接口地址 设置代理服务器地址 转发地址</span>
        <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//WebSocket协议</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//表示是否改变原域名；这个一定要选择为true; 是否允许跨域[ 如果接口跨域 则要配置这个参数]</span>
        <span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 如果是https接口 需要配置这个参数</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">// 把程序中的地址转换成“真实地址”+‘/satellite’后面的部分如‘/satellite/satellite/z={z}&amp;x={x}&amp;y={y}&#39;，被转换成&#39;http://localhost:3000/satellite/z={z}&amp;x={x}&amp;y={y}&#39;</span>
          <span class="token string-property property">&#39;^/ArcGIS&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token comment">//修改pathRewrite地址 将前缀&#39;^satellite&#39;转为&#39;/satellite&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="加载不同类型数据" tabindex="-1"><a class="header-anchor" href="#加载不同类型数据" aria-hidden="true">#</a> 加载不同类型数据</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token comment">// 加载不同类型数据 从上到下依次覆盖==============================================</span>

    <span class="token comment">// 数据类型1： -----------------------------------Web Map Service (WMS) -------------------------------------</span>
    <span class="token comment">// var provider = new Cesium.WebMapServiceImageryProvider({</span>
    <span class="token comment">//   // url: &quot;https://sampleserver1.arcgisonline.com/ArcGIS/services/Specialty/ESRI_StatesCitiesRivers_USA/MapServer/WMSServer&quot;,</span>
    <span class="token comment">//   url: &quot;ArcGIS/ArcGIS/services/Specialty/ESRI_StatesCitiesRivers_USA/MapServer/WMSServer&quot;,</span>
    <span class="token comment">//   layers: &quot;0&quot;,</span>
    <span class="token comment">//   // proxy: new Cesium.DefaultProxy(&quot;/proxy/&quot;),</span>
    <span class="token comment">// });</span>
    <span class="token comment">// viewer.imageryLayers.addImageryProvider(provider);</span>

    <span class="token comment">// 数据类型2：-----------------------------------OpenGIS Web Map Tile Service (WMTS)-----------------------------------</span>
    <span class="token comment">// var shadedRelief2 = new Cesium.WebMapTileServiceImageryProvider({</span>
    <span class="token comment">//   url: &quot;http://basemap.nationalmap.gov/arcgis/rest/services/USGSShadedReliefOnly/MapServer/WMTS/tile/1.0.0/USGSShadedReliefOnly/{Style}/{TileMatrixSet}/{TileMatrix}/{TileRow}/{TileCol}.jpg&quot;,</span>
    <span class="token comment">//   layer: &quot;USGSShadedReliefOnly&quot;,</span>
    <span class="token comment">//   style: &quot;default&quot;,</span>
    <span class="token comment">//   format: &quot;image/jpeg&quot;,</span>
    <span class="token comment">//   tileMatrixSetID: &quot;default028mm&quot;,</span>
    <span class="token comment">//   maximumLevel: 19,</span>
    <span class="token comment">//   credit: new Cesium.Credit(&quot;U. S. Geological Survey&quot;),</span>
    <span class="token comment">// });</span>
    <span class="token comment">// viewer.imageryLayers.addImageryProvider(shadedRelief2);</span>
    <span class="token comment">// url:&quot;http://61.175.211.102/arcgis/rest/services/wzmap/map/MapServer/WMTS?service=WMTS&amp;request=GetTile&amp;layer=wzmap&amp;style=default&amp;tilematriX={TileMatrix}&amp;tilerow={TileRow}&amp;tilecoL={TileCol}&quot;</span>

    <span class="token comment">// 数据类型3： -----------------------------------Tile Map Service (TMS)-----------------------------------</span>
    <span class="token comment">// var tms = new Cesium.TileMapServiceImageryProvider({</span>
    <span class="token comment">//   url: &quot;../images/cesium_maptiler/Cesium_Logo_Color&quot;,</span>
    <span class="token comment">//   fileExtension: &quot;png&quot;,</span>
    <span class="token comment">//   maximumLevel: 4,</span>
    <span class="token comment">//   rectangle: new Cesium.Rectangle(</span>
    <span class="token comment">//     Cesium.Math.toRadians(-120.0),</span>
    <span class="token comment">//     Cesium.Math.toRadians(20.0),</span>
    <span class="token comment">//     Cesium.Math.toRadians(-60.0),</span>
    <span class="token comment">//     Cesium.Math.toRadians(40.0)</span>
    <span class="token comment">//   ),</span>
    <span class="token comment">// });</span>
    <span class="token comment">// viewer.imageryLayers.addImageryProvider(tms);</span>

    <span class="token comment">// 数据类型4： -----------------------------------ArcGis-----------------------------------</span>
    <span class="token comment">// var esri = new Cesium.ArcGisMapServerImageryProvider({</span>
    <span class="token comment">//   url: &quot;https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer&quot;,</span>
    <span class="token comment">// });</span>
    <span class="token comment">// viewer.imageryLayers.addImageryProvider(esri);</span>

    <span class="token comment">// 数据类型5：-----------------------------------Mapbox-----------------------------------</span>
    <span class="token keyword">var</span> mapbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>MapboxImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">mapId</span><span class="token operator">:</span> <span class="token string">&quot;mapbox.mapbox-streets-v8&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">accessToken</span><span class="token operator">:</span>
        <span class="token string">&quot;pk.eyJ1IjoibGltbiIsImEiOiJja2t1bG1na2IxZGU0MnZvNmlzY3FhZXM4In0.oQx4VguycOR4TK80Pyusmw&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>imageryLayers<span class="token punctuation">.</span><span class="token function">addImageryProvider</span><span class="token punctuation">(</span>mapbox<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="leaflet" tabindex="-1"><a class="header-anchor" href="#leaflet" aria-hidden="true">#</a> <a href="https://leafletjs.com/" target="_blank" rel="noopener noreferrer">Leaflet <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h1><blockquote><h3 id="an-open-source-javascript-library-for-mobile-friendly-interactive-maps" tabindex="-1"><a class="header-anchor" href="#an-open-source-javascript-library-for-mobile-friendly-interactive-maps" aria-hidden="true">#</a> an open-source JavaScript library for mobile-friendly interactive maps</h3></blockquote><p>Leaflet 是一个为建设移动设备友好的互动地图，而开发的现代的、开源的 JavaScript 库。虽然代码仅有 38 KB，但它具有开发人员开发在线地图的大部分功能。Leaflet设计坚持简便、高性能和可用性好的思想，在所有主要桌面和移动平台能高效运作，在现代浏览器上会利用HTML5和CSS3的优势，同时也支持旧的浏览器访问。支持插件扩展，有一个友好、易于使用的API文档和一个简单的、可读的源代码。详细见官方网站<a href="https://leafletjs.com/" target="_blank" rel="noopener noreferrer">https://leafletjs.com/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="_3-3-1地图" tabindex="-1"><a class="header-anchor" href="#_3-3-1地图" aria-hidden="true">#</a> 3.3.1地图</h2><h3 id="_3-3-1-1矢量电子地图" tabindex="-1"><a class="header-anchor" href="#_3-3-1-1矢量电子地图" aria-hidden="true">#</a> 3.3.1.1矢量电子地图</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>添加电子地图\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--添加leaflet样式--&gt;</span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token comment">&lt;!--添加leafletjs包--&gt;</span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--添加坐标库--&gt;</span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599E-05</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995E-05</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998E-05</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999E-05</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994E-06</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497E-06</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748E-06</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span><span class="token string">&#39;EPSG:4490&#39;</span><span class="token punctuation">,</span>
      <span class="token string">&#39;+proj=longlat +ellps=GRS80 +no_defs&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token comment">//切图原点</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&#39;mapid&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy 杭州市规划资源局&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30.25168</span><span class="token punctuation">,</span> <span class="token number">120.16179</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置比例尺和中心点级别             	</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-1-2影像电子地图" tabindex="-1"><a class="header-anchor" href="#_3-3-1-2影像电子地图" aria-hidden="true">#</a> 3.3.1.2影像电子地图</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>添加影像地图\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599E-05</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995E-05</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998E-05</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999E-05</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994E-06</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497E-06</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748E-06</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span><span class="token string">&#39;EPSG:4490&#39;</span><span class="token punctuation">,</span>
      <span class="token string">&#39;+proj=longlat +ellps=GRS80 +no_defs&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&#39;mapid&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyraster/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy 杭州市规划资源局&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置比例尺和中心点级别</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-1-3手动加载-移除地图" tabindex="-1"><a class="header-anchor" href="#_3-3-1-3手动加载-移除地图" aria-hidden="true">#</a> 3.3.1.3手动加载/移除地图</h3><h2 id="_3-3-2图层" tabindex="-1"><a class="header-anchor" href="#_3-3-2图层" aria-hidden="true">#</a> 3.3.2图层</h2><h3 id="_3-3-2-1弹出信息框" tabindex="-1"><a class="header-anchor" href="#_3-3-2-1弹出信息框" aria-hidden="true">#</a> 3.3.2.1弹出信息框</h3><p>点击地图弹出信息，示例代码bindPopup</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>添加电子地图\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--添加leaflet样式--&gt;</span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token comment">&lt;!--添加leafletjs包--&gt;</span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--添加坐标库--&gt;</span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599E-05</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995E-05</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998E-05</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999E-05</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994E-06</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497E-06</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748E-06</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span><span class="token string">&#39;EPSG:4490&#39;</span><span class="token punctuation">,</span>
      <span class="token string">&#39;+proj=longlat +ellps=GRS80 +no_defs&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token comment">//切图原点</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&#39;mapid&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy 杭州市规划资源局&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30.25168</span><span class="token punctuation">,</span> <span class="token number">120.16179</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置比例尺和中心点级别					</span>
    <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">marker</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30.25168</span><span class="token punctuation">,</span> <span class="token number">120.16179</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bindPopup</span><span class="token punctuation">(</span><span class="token string">&quot;\&lt;b&gt;Hello world!\&lt;/b&gt;\&lt;br /&gt;I am a popup.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openPopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-2-2矢量图层-wms" tabindex="-1"><a class="header-anchor" href="#_3-3-2-2矢量图层-wms" aria-hidden="true">#</a> 3.3.2.2矢量图层（wms）</h4><p>加载WMS地图服务，支持filter筛选</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>调用WMS\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet.wms.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599E-05</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995E-05</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998E-05</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999E-05</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994E-06</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497E-06</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748E-06</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span><span class="token string">&#39;EPSG:4490&#39;</span><span class="token punctuation">,</span>
      <span class="token string">&#39;+proj=longlat +ellps=GRS80 +no_defs&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&#39;mapid&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy 杭州市规划资源局&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置比例尺和中心点级别</span>
    <span class="token comment">// L.WMS.source</span>
    <span class="token keyword">var</span> wmsurl <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token constant">WMS</span><span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span><span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wms&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;transparent&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;srs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;layers&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lsyt_dmdz_csbj0619&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;CQL_FILTER&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quxian=&#39;余杭区&#39;&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>wmsurl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;You clicked the map at &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              	
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-2-3矢量图层-wfs" tabindex="-1"><a class="header-anchor" href="#_3-3-2-3矢量图层-wfs" aria-hidden="true">#</a> 3.3.2.3矢量图层（wfs）</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>加载WFS电子地图\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span>
      <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;+proj=longlat +ellps=GRS80 +no_defs&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&quot;mapid&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span>
      <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy 杭州市规划资源局&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置比例尺和中心点级别</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;You clicked the map at &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> myStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fillOpacity</span><span class="token operator">:</span> <span class="token number">0.01</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mblayer<span class="token punctuation">;</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> geojson <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mblayer <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">geoJSON</span><span class="token punctuation">(</span>geojson<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">style</span><span class="token operator">:</span> myStyle<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-3-3查询" tabindex="-1"><a class="header-anchor" href="#_3-3-3查询" aria-hidden="true">#</a> 3.3.3查询</h2><h3 id="_3-3-3-1点查询" tabindex="-1"><a class="header-anchor" href="#_3-3-3-1点查询" aria-hidden="true">#</a> 3.3.3.1点查询</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>点查询\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span>
      <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;+proj=longlat +ellps=GRS80 +no_defs&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&quot;mapid&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs<span class="token punctuation">,</span>
      <span class="token comment">/*fullscreenControl: {
        pseudoFullscreen: false
      },*/</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span>
      <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy 杭州市规划资源局&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置比例尺和中心点级别</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// alert(&quot;You clicked the map at &quot; + e.latlng);</span>
      <span class="token keyword">var</span> point <span class="token operator">=</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lng <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lat <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lng <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lat<span class="token punctuation">;</span><span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
      <span class="token keyword">var</span> qurl <span class="token operator">=</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span> point <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
      $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;You clicked the map at &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&#39;quxian&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> myStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fillOpacity</span><span class="token operator">:</span> <span class="token number">0.01</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mblayer<span class="token punctuation">;</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> geojson <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mblayer <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">geoJSON</span><span class="token punctuation">(</span>geojson<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">style</span><span class="token operator">:</span> myStyle<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-3-2面查询" tabindex="-1"><a class="header-anchor" href="#_3-3-3-2面查询" aria-hidden="true">#</a> 3.3.3.2面查询</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>面查询\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-draw/leaflet.draw.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-draw/leaflet.draw.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span>
      <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;+proj=longlat +ellps=GRS80 +no_defs&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&quot;mapid&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs<span class="token punctuation">,</span>
      <span class="token comment">/*fullscreenControl: {
        pseudoFullscreen: false
      },*/</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span>
      <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy 杭州市规划资源局&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置比例尺和中心点级别</span>
    <span class="token comment">//var draw=new L.Control.Draw(map,drawControl.options.rectangle).enable();</span>
    <span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">&quot;topleft&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">draw</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">polyline</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">polygon</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">circle</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">marker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">circlemarker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">rectangle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">shapeOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">clickable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> drawControl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Control<span class="token punctuation">.</span>Draw</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span>drawControl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token constant">L</span><span class="token punctuation">.</span>Draw<span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token constant">CREATED</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> type <span class="token operator">=</span> e<span class="token punctuation">.</span>layerType<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">&quot;rectangle&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> bound <span class="token operator">=</span> e<span class="token punctuation">.</span>layer<span class="token punctuation">.</span><span class="token function">getBounds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> point <span class="token operator">=</span>
          bound<span class="token punctuation">.</span>_southWest<span class="token punctuation">.</span>lng <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          bound<span class="token punctuation">.</span>_southWest<span class="token punctuation">.</span>lat <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          bound<span class="token punctuation">.</span>_northEast<span class="token punctuation">.</span>lng <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          bound<span class="token punctuation">.</span>_northEast<span class="token punctuation">.</span>lat<span class="token punctuation">;</span> <span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
        <span class="token keyword">var</span> qurl <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span>
          point <span class="token operator">+</span>
          <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">alert</span><span class="token punctuation">(</span>
              <span class="token string">&quot;你选择的是 &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&quot;quxian&quot;</span><span class="token punctuation">]</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> myStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fillOpacity</span><span class="token operator">:</span> <span class="token number">0.01</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mblayer<span class="token punctuation">;</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> geojson <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mblayer <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">geoJSON</span><span class="token punctuation">(</span>geojson<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">style</span><span class="token operator">:</span> myStyle<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-3-3属性查询" tabindex="-1"><a class="header-anchor" href="#_3-3-3-3属性查询" aria-hidden="true">#</a> 3.3.3.3属性查询</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>点查询\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.h1</span> <span class="token punctuation">{</span>
      <span class="token property">z-index</span><span class="token punctuation">:</span> 1009<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>点击地图根据属性查询\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span>
      <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;+proj=longlat +ellps=GRS80 +no_defs&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&quot;mapid&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs<span class="token punctuation">,</span>
      <span class="token comment">/*fullscreenControl: {
        pseudoFullscreen: false
      },*/</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span>
      <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy 杭州市规划资源局&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置比例尺和中心点级别</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> point <span class="token operator">=</span>
        e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lng <span class="token operator">+</span>
        <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
        e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lat <span class="token operator">+</span>
        <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
        e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lng <span class="token operator">+</span>
        <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
        e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lat<span class="token punctuation">;</span> <span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
      <span class="token keyword">var</span> qurl <span class="token operator">=</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=&quot;</span><span class="token punctuation">;</span>
      qurl <span class="token operator">+=</span> <span class="token string">&quot; quxian=&#39;上城区&#39;&quot;</span><span class="token punctuation">;</span>
      $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;根据属性选择的是 &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&quot;quxian&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> myStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fillOpacity</span><span class="token operator">:</span> <span class="token number">0.01</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mblayer<span class="token punctuation">;</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> geojson <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mblayer <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">geoJSON</span><span class="token punctuation">(</span>geojson<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">style</span><span class="token operator">:</span> myStyle<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-3-4组合查询" tabindex="-1"><a class="header-anchor" href="#_3-3-3-4组合查询" aria-hidden="true">#</a> 3.3.3.4组合查询</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>面查询\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-draw/leaflet.draw.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-draw/leaflet.draw.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span>
      <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;+proj=longlat +ellps=GRS80 +no_defs&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&quot;mapid&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs<span class="token punctuation">,</span>
      <span class="token comment">/*fullscreenControl: {
        pseudoFullscreen: false
      },*/</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span>
      <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy 杭州市规划资源局&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//设置比例尺和中心点级别</span>
    <span class="token comment">//var draw=new L.Control.Draw(map,drawControl.options.rectangle).enable();</span>
    <span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">&quot;topleft&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">draw</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">polyline</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">polygon</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">circle</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">marker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">circlemarker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">rectangle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">shapeOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">clickable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> drawControl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Control<span class="token punctuation">.</span>Draw</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span>drawControl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token constant">L</span><span class="token punctuation">.</span>Draw<span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token constant">CREATED</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> type <span class="token operator">=</span> e<span class="token punctuation">.</span>layerType<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">&quot;rectangle&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> bound <span class="token operator">=</span> e<span class="token punctuation">.</span>layer<span class="token punctuation">.</span><span class="token function">getBounds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> point <span class="token operator">=</span>
          bound<span class="token punctuation">.</span>_southWest<span class="token punctuation">.</span>lng <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          bound<span class="token punctuation">.</span>_southWest<span class="token punctuation">.</span>lat <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          bound<span class="token punctuation">.</span>_northEast<span class="token punctuation">.</span>lng <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          bound<span class="token punctuation">.</span>_northEast<span class="token punctuation">.</span>lat<span class="token punctuation">;</span> <span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
        <span class="token keyword">var</span> qurl <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span>
          point <span class="token operator">+</span>
          <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
        qurl <span class="token operator">+=</span> <span class="token string">&quot; and quxian=&#39;上城区&#39;&quot;</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>text<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;你选择的是非上城区，无查询结果！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;你选择的是 &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&quot;quxian&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> myStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fillOpacity</span><span class="token operator">:</span> <span class="token number">0.01</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mblayer<span class="token punctuation">;</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> geojson <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mblayer <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">geoJSON</span><span class="token punctuation">(</span>geojson<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">style</span><span class="token operator">:</span> myStyle<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="arcgis" tabindex="-1"><a class="header-anchor" href="#arcgis" aria-hidden="true">#</a> ArcGIS</h1><p>ArcGIS API for JavaScript就是ESRI公司用JavaScipt语言编写的一套程序接口。用户可以通过调用API获取ArcGIS server、geoserver等提供的服务，例如浏览、编辑、渲染地图，以及一些常用的空间分析功能。API中包含了ArcGIS API for JavaScript中每个类的详细描述。使用API查找每个类的构造函数选项以及属性、方法和事件。</p><p>详情见官方网站<a href="https://developers.arcgis.com/javascript/3/jsapi/" target="_blank" rel="noopener noreferrer">https://developers.arcgis.com/javascript/3/jsapi/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="_3-1-1地图" tabindex="-1"><a class="header-anchor" href="#_3-1-1地图" aria-hidden="true">#</a> 3.1.1地图</h2><h3 id="_3-1-1-1矢量电子地图" tabindex="-1"><a class="header-anchor" href="#_3-1-1-1矢量电子地图" aria-hidden="true">#</a> 3.1.1.1矢量电子地图</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Map with Vertor\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \#map</span> <span class="token punctuation">{</span>
      ​ <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      ​ <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.esriControlsBR .logo-med</span> <span class="token punctuation">{</span>
      ​ <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;vector&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-1-2影像电子地图" tabindex="-1"><a class="header-anchor" href="#_3-1-1-2影像电子地图" aria-hidden="true">#</a> 3.1.1.2影像电子地图</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Map with Raster\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \#map</span> <span class="token punctuation">{</span>
      ​ <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      ​ <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.esriControlsBR .logo-med</span> <span class="token punctuation">{</span>
      ​ <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyraster/Mapserver&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;raster&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-1-3手动加载-移除地图" tabindex="-1"><a class="header-anchor" href="#_3-1-1-3手动加载-移除地图" aria-hidden="true">#</a> 3.1.1.3手动加载/移除地图</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Map with Control\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \#map</span> <span class="token punctuation">{</span>
      ​ <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      ​ <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.esriControlsBR .logo-med</span> <span class="token punctuation">{</span>
      ​ <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.details span</span> <span class="token punctuation">{</span>
      ​ <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> vector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;vector&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// map.addLayer(vector);</span>
      <span class="token keyword">var</span> raster <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyraster/Mapserver&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;raster&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// map.addLayer(raster);</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#details span&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">case</span> <span class="token string">&quot;vector&quot;</span><span class="token operator">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>map<span class="token punctuation">.</span><span class="token function">getLayer</span><span class="token punctuation">(</span><span class="token string">&quot;vector&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>vector<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
          <span class="token keyword">case</span> <span class="token string">&quot;raster&quot;</span><span class="token operator">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>map<span class="token punctuation">.</span><span class="token function">getLayer</span><span class="token punctuation">(</span><span class="token string">&quot;raster&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>raster<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
          <span class="token keyword">case</span> <span class="token string">&quot;rvector&quot;</span><span class="token operator">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">getLayer</span><span class="token punctuation">(</span><span class="token string">&quot;vector&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> map<span class="token punctuation">.</span><span class="token function">removeLayer</span><span class="token punctuation">(</span>vector<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
          <span class="token keyword">case</span> <span class="token string">&quot;rraster&quot;</span><span class="token operator">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">getLayer</span><span class="token punctuation">(</span><span class="token string">&quot;raster&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> map<span class="token punctuation">.</span><span class="token function">removeLayer</span><span class="token punctuation">(</span>raster<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.BorderContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>design:<span class="token punctuation">&#39;</span>headline<span class="token punctuation">&#39;</span>, gutters:true<span class="token punctuation">&quot;</span></span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>details<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>left<span class="token punctuation">&#39;</span>, splitter:true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>
      ​ \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vector<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>添加矢量图层\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      ​ \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>raster<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>添加影像图层\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      ​ \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rvector<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>移除矢量图层\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      ​ \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rraster<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>移除影像图层\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-1-2图层" tabindex="-1"><a class="header-anchor" href="#_3-1-2图层" aria-hidden="true">#</a> 3.1.2图层</h2><h3 id="_3-1-2-1弹出信息框" tabindex="-1"><a class="header-anchor" href="#_3-1-2-1弹出信息框" aria-hidden="true">#</a> 3.1.2.1弹出信息框</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Map with infoWindow\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \#map</span> <span class="token punctuation">{</span>
      ​ <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      ​ <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.esriControlsBR .logo-med</span> <span class="token punctuation">{</span>
      ​ <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WFSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WFSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;vector&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        map<span class="token punctuation">.</span>infoWindow<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;详细信息&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span>infoWindow<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string">&quot;当前坐标：&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>mapPoint<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>mapPoint<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span>infoWindow<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>mapPoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-1-2-2矢量图层-wms" tabindex="-1"><a class="header-anchor" href="#_3-1-2-2矢量图层-wms" aria-hidden="true">#</a> 3.1.2.2矢量图层（wms）</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Map with wmslayer\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \#map</span> <span class="token punctuation">{</span>
      ​ <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      ​ <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.esriControlsBR .logo-med</span> <span class="token punctuation">{</span>
      ​ <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;vector&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> extent <span class="token operator">=</span> map<span class="token punctuation">.</span>extent<span class="token punctuation">;</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> resourceInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">extent</span><span class="token operator">:</span> extent<span class="token punctuation">,</span>
          <span class="token literal-property property">layerInfos</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.1.1&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">visibleLayers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> wmslayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>WMSLayer</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">resourceInfo</span><span class="token operator">:</span> resourceInfo<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setImageFormat</span><span class="token punctuation">(</span><span class="token string">&quot;png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setVisibleLayers</span><span class="token punctuation">(</span><span class="token string">&quot;gpserver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>wmslayer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-1-2-3矢量图层-wfs" tabindex="-1"><a class="header-anchor" href="#_3-1-2-3矢量图层-wfs" aria-hidden="true">#</a> 3.1.2.3矢量图层（wfs）</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Map with wfslayer\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \#map</span> <span class="token punctuation">{</span>
      ​ <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      ​ <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.esriControlsBR .logo-med</span> <span class="token punctuation">{</span>
      ​ <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">,</span> symbol<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WFSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/symbols/SimpleLineSymbol&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/symbols/SimpleFillSymbol&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/graphic&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Polygon&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WFSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      SimpleLineSymbol<span class="token punctuation">,</span>
      SimpleFillSymbol<span class="token punctuation">,</span>
      Graphic<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      Polygon<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;vector&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> extent <span class="token operator">=</span> map<span class="token punctuation">.</span>extent<span class="token punctuation">;</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> url<span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i \<span class="token operator">&lt;</span> text<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              symbol <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleFillSymbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">&quot;Polygon&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> polygonjson <span class="token operator">=</span> <span class="token punctuation">{</span>
                  <span class="token string-property property">&quot;rings&quot;</span><span class="token operator">:</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>coordinates<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token string-property property">&quot;spatialReference&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;wkid&quot;</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">var</span> poly <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Polygon</span><span class="token punctuation">(</span>polygonjson<span class="token punctuation">)</span>
                <span class="token keyword">var</span> graphic <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graphic</span><span class="token punctuation">(</span>poly<span class="token punctuation">,</span> symbol<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//var gra = new Graphic(text.features[i].geometry, symbol);</span>
                map<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>graphic<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">&quot;MultiPolygon&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> len <span class="token operator">=</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>coordinates<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k \<span class="token operator">&lt;</span> len<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">var</span> polygonjson <span class="token operator">=</span> <span class="token punctuation">{</span>
                    <span class="token string-property property">&quot;rings&quot;</span><span class="token operator">:</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>coordinates<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token string-property property">&quot;spatialReference&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;wkid&quot;</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span>
                  <span class="token keyword">var</span> poly <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Polygon</span><span class="token punctuation">(</span>polygonjson<span class="token punctuation">)</span>
                  <span class="token keyword">var</span> graphic <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graphic</span><span class="token punctuation">(</span>poly<span class="token punctuation">,</span> symbol<span class="token punctuation">)</span><span class="token punctuation">;</span>
                  map<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>graphic<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-1-3查询" tabindex="-1"><a class="header-anchor" href="#_3-1-3查询" aria-hidden="true">#</a> 3.1.3查询</h2><h3 id="_3-1-3-1点查询" tabindex="-1"><a class="header-anchor" href="#_3-1-3-1点查询" aria-hidden="true">#</a> 3.1.3.1点查询</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Query By Point\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \#map</span> <span class="token punctuation">{</span>
      ​ <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      ​ <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token comment">// basemap: &quot;streets&quot;,</span>
        <span class="token comment">// center: [120.1594, 30.2571],</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://21.15.116.31/e8b4611714092ac7bc35cb5e8d476e4824f85f3a/Tile/ArcGISREST/hzsyvector.gis&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token comment">// id: layerInfo.LayerName,</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;底图&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer2<span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> extent <span class="token operator">=</span> map<span class="token punctuation">.</span>extent<span class="token punctuation">;</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> resourceInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">extent</span><span class="token operator">:</span> extent<span class="token punctuation">,</span>
          <span class="token literal-property property">layerInfos</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.1.1&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">visibleLayers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> wmslayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>WMSLayer</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">resourceInfo</span><span class="token operator">:</span> resourceInfo<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setImageFormat</span><span class="token punctuation">(</span><span class="token string">&quot;png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setVisibleLayers</span><span class="token punctuation">(</span><span class="token string">&quot;gpserver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>wmslayer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;获取到的点&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> point <span class="token operator">=</span> e<span class="token punctuation">.</span>mapPoint<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>mapPoint<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>mapPoint<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>mapPoint<span class="token punctuation">.</span>y<span class="token punctuation">;</span><span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
        <span class="token keyword">var</span> qurl <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span> point <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#details&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&#39;quxian&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.BorderContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>design:<span class="token punctuation">&#39;</span>headline<span class="token punctuation">&#39;</span>, gutters:true<span class="token punctuation">&quot;</span></span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>details<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>left<span class="token punctuation">&#39;</span>, splitter:true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-1-3-2面查询" tabindex="-1"><a class="header-anchor" href="#_3-1-3-2面查询" aria-hidden="true">#</a> 3.1.3.2面查询</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Query By Rectangle\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \#map</span> <span class="token punctuation">{</span>
      ​ <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      ​ <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">,</span> toolbar<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/toolbars/draw&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/symbols/SimpleLineSymbol&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/symbols/SimpleFillSymbol&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/graphic&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      Draw<span class="token punctuation">,</span>
      SimpleLineSymbol<span class="token punctuation">,</span>
      SimpleFillSymbol<span class="token punctuation">,</span>
      Graphic<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token comment">// basemap: &quot;streets&quot;,</span>
        <span class="token comment">// center: [120.1594, 30.2571],</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://21.15.116.31/e8b4611714092ac7bc35cb5e8d476e4824f85f3a/Tile/ArcGISREST/hzsyvector.gis&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token comment">// id: layerInfo.LayerName,</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;底图&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer2<span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> extent <span class="token operator">=</span> map<span class="token punctuation">.</span>extent<span class="token punctuation">;</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> resourceInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">extent</span><span class="token operator">:</span> extent<span class="token punctuation">,</span>
          <span class="token literal-property property">layerInfos</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.1.1&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">visibleLayers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> wmslayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>WMSLayer</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">resourceInfo</span><span class="token operator">:</span> resourceInfo<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setImageFormat</span><span class="token punctuation">(</span><span class="token string">&quot;png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setVisibleLayers</span><span class="token punctuation">(</span><span class="token string">&quot;gpserver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>wmslayer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Draw</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;draw-end&quot;</span><span class="token punctuation">,</span> showinfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span>Draw<span class="token punctuation">[</span><span class="token string">&quot;RECTANGLE&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token function">showinfo</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> symbol<span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        symbol <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleFillSymbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> graphic <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graphic</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>geometry<span class="token punctuation">,</span> symbol<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>graphic<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">getAttr</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>geometry<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">function</span> <span class="token function">getAttr</span><span class="token punctuation">(</span><span class="token parameter">geo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> point <span class="token operator">=</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>xmin <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>ymin <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>xmax <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>ymax<span class="token punctuation">;</span> <span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
        <span class="token keyword">var</span> qurl <span class="token operator">=</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span> point <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> attr <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i \<span class="token operator">&lt;</span> text<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              attr <span class="token operator">+=</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&quot;quxian&quot;</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;\&lt;/br&gt;&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#details&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            toolbar<span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span>Draw<span class="token punctuation">[</span><span class="token string">&quot;RECTANGLE&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.BorderContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>design:<span class="token punctuation">&#39;</span>headline<span class="token punctuation">&#39;</span>, gutters:true<span class="token punctuation">&quot;</span></span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>details<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>left<span class="token punctuation">&#39;</span>, splitter:true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-1-3-3属性查询" tabindex="-1"><a class="header-anchor" href="#_3-1-3-3属性查询" aria-hidden="true">#</a> 3.1.3.3属性查询</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Query by Attr\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \#map</span> <span class="token punctuation">{</span>
      ​ <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      ​ <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://21.15.116.31/e8b4611714092ac7bc35cb5e8d476e4824f85f3a/Tile/ArcGISREST/hzsyvector.gis&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;底图&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer2<span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> extent <span class="token operator">=</span> map<span class="token punctuation">.</span>extent<span class="token punctuation">;</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> resourceInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">extent</span><span class="token operator">:</span> extent<span class="token punctuation">,</span>
          <span class="token literal-property property">layerInfos</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.1.1&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">visibleLayers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> wmslayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>WMSLayer</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">resourceInfo</span><span class="token operator">:</span> resourceInfo<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setImageFormat</span><span class="token punctuation">(</span><span class="token string">&quot;png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setVisibleLayers</span><span class="token punctuation">(</span><span class="token string">&quot;gpserver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>wmslayer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;获取到的点&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> point <span class="token operator">=</span>
          <span class="token string">&quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
        <span class="token keyword">var</span> qurl <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span>
          point <span class="token operator">+</span>
          <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
        qurl <span class="token operator">+=</span> <span class="token string">&quot; and quxian=&#39;上城区&#39;&quot;</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> attr <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i \<span class="token operator">&lt;</span> text<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              attr <span class="token operator">+=</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&quot;quxian&quot;</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;\&lt;/br&gt;&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#details&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.BorderContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>design:<span class="token punctuation">&#39;</span>headline<span class="token punctuation">&#39;</span>, gutters:true<span class="token punctuation">&quot;</span></span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>details<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>left<span class="token punctuation">&#39;</span>, splitter:true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>点击地图实现按属性查询（区县=上城区）\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-1-3-4组合查询" tabindex="-1"><a class="header-anchor" href="#_3-1-3-4组合查询" aria-hidden="true">#</a> 3.1.3.4组合查询</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Query\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \#map</span> <span class="token punctuation">{</span>
      ​ <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      ​ <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      ​ <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">,</span> toolbar<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/toolbars/draw&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/symbols/SimpleLineSymbol&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/symbols/SimpleFillSymbol&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/graphic&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      Draw<span class="token punctuation">,</span>
      SimpleLineSymbol<span class="token punctuation">,</span>
      SimpleFillSymbol<span class="token punctuation">,</span>
      Graphic<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://21.15.116.31/e8b4611714092ac7bc35cb5e8d476e4824f85f3a/Tile/ArcGISREST/hzsyvector.gis&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;底图&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer2<span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> extent <span class="token operator">=</span> map<span class="token punctuation">.</span>extent<span class="token punctuation">;</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> resourceInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">extent</span><span class="token operator">:</span> extent<span class="token punctuation">,</span>
          <span class="token literal-property property">layerInfos</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.1.1&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">visibleLayers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> wmslayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>WMSLayer</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">resourceInfo</span><span class="token operator">:</span> resourceInfo<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setImageFormat</span><span class="token punctuation">(</span><span class="token string">&quot;png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setVisibleLayers</span><span class="token punctuation">(</span><span class="token string">&quot;gpserver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>wmslayer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Draw</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;draw-end&quot;</span><span class="token punctuation">,</span> showinfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span>Draw<span class="token punctuation">[</span><span class="token string">&quot;RECTANGLE&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token function">showinfo</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> symbol<span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        symbol <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleFillSymbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> graphic <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graphic</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>geometry<span class="token punctuation">,</span> symbol<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>graphic<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">getAttr</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>geometry<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">function</span> <span class="token function">getAttr</span><span class="token punctuation">(</span><span class="token parameter">geo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> point <span class="token operator">=</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>xmin <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>ymin <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>xmax <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>ymax<span class="token punctuation">;</span> <span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
        <span class="token keyword">var</span> qurl <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span>
          point <span class="token operator">+</span>
          <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
        qurl <span class="token operator">+=</span> <span class="token string">&quot; and quxian=&#39;上城区&#39;&quot;</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> attr <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i \<span class="token operator">&lt;</span> text<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              attr <span class="token operator">+=</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&quot;quxian&quot;</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;\&lt;/br&gt;&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#details&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            toolbar<span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span>Draw<span class="token punctuation">[</span><span class="token string">&quot;RECTANGLE&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.BorderContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>design:<span class="token punctuation">&#39;</span>headline<span class="token punctuation">&#39;</span>, gutters:true<span class="token punctuation">&quot;</span></span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>details<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>left<span class="token punctuation">&#39;</span>, splitter:true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>在框选范围内查询属性（区县=上城区）的数据\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">​</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">​</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\</span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&lt;!DOCTYPE html&gt;</p><h1 id="openlayers" tabindex="-1"><a class="header-anchor" href="#openlayers" aria-hidden="true">#</a> Openlayers</h1><p>OpenLayers 是一个专为Web GIS 客户端开发提供的JavaScript 类库包，用于实现标准格式发布的地图数据访问。OpenLayers实现访问地理空间数据的方法都符合行业标准。OpenLayers 支持Open GIS 协会制定的WMS（Web Mapping Service）和WFS（Web Feature Service）等网络服务规范，可以通过远程服务的方式，将以OGC 服务形式发布的地图数据加载到基于浏览器的OpenLayers 客户端中进行显示。详细见官方网站<a href="https://openlayers.org/" target="_blank" rel="noopener noreferrer">https://openlayers.org/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="地图" tabindex="-1"><a class="header-anchor" href="#地图" aria-hidden="true">#</a> 地图</h3><h4 id="矢量电子地图" tabindex="-1"><a class="header-anchor" href="#矢量电子地图" aria-hidden="true">#</a> 矢量电子地图</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>添加电子地图\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&#39;image/png&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">119.347618103027</span><span class="token punctuation">,</span> <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span> <span class="token number">30.5366992950439</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&#39;EPSG:4490&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&#39;degrees&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&#39;neu&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">118.33968849655</span><span class="token punctuation">,</span> <span class="token number">29.188589472</span><span class="token punctuation">,</span> <span class="token number">120.71408849655</span><span class="token punctuation">,</span> <span class="token number">30.5651894750343</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599E-05</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995E-05</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998E-05</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999E-05</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994E-06</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497E-06</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748E-06</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ添加瓦片地图的层</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&#39;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&#39;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">+</span> x<span class="token punctuation">;</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&#39;EPSG:4490&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;map&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        tileLayer
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//非常重要</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="影像电子地图" tabindex="-1"><a class="header-anchor" href="#影像电子地图" aria-hidden="true">#</a> 影像电子地图</h4><p>&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;添加电子地图&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;<a href="http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css" target="_blank" rel="noopener noreferrer">http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot; type=&quot;text/css&quot;&gt; &lt;script src=&quot;<a href="http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js" target="_blank" rel="noopener noreferrer">http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;map&quot; class=&quot;map&quot;&gt;&lt;/div&gt; &lt;script&gt; var format = &#39;image/png&#39;; var bounds = [119.347618103027, 29.7052669525146, 120.698570251465, 30.5366992950439 ]; var projection = new ol.proj.Projection({ code: &#39;EPSG:4490&#39;, units: &#39;degrees&#39;, axisOrientation: &#39;neu&#39;, global: true }); var fullExtent = [118.33968849655, 29.188589472, 120.71408849655, 30.5651894750343]; var resolutions = [ 0.00549933137239034, 0.00274966568619517, 0.00137483284309758, 0.000687416421548792, 0.000343708210774396, 0.000171854105387198, 8.5927052693599E-05, 4.29635263467995E-05, 2.14817631733998E-05, 1.07408815866999E-05, 5.37044079334994E-06, 2.68522039667497E-06, 1.34261019833748E-06, ]; var tileGrid = new ol.tilegrid.TileGrid({ tileSize: 256, origin: [118.122911693886, 31.2869311022836], extent: fullExtent, resolutions: resolutions }); // ol.source.XYZ添加瓦片地图的层 var tileLayer = new ol.layer.Tile({ source: new ol.source.XYZ({ tileGrid: tileGrid, tileUrlFunction: function (tileCoord) { var z = tileCoord[0]; var x = tileCoord[1]; var y = (-tileCoord[2] - 1); var url = &#39;<a href="http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyraster/Mapserver/tile/" target="_blank" rel="noopener noreferrer">http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyraster/Mapserver/tile/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>&#39; + z + &#39;/&#39; + y + &#39;/&#39; + x; console.log(url); return url; }, projection: &#39;EPSG:4490&#39; }) }); var map = new ol.Map({ target: &#39;map&#39;, layers: [ tileLayer ], view: new ol.View({ projection: projection }) }); map.getView().fit(bounds, map.getSize()); //非常重要 &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;</p><h3 id="图层" tabindex="-1"><a class="header-anchor" href="#图层" aria-hidden="true">#</a> 图层</h3><h4 id="弹出框信息框" tabindex="-1"><a class="header-anchor" href="#弹出框信息框" aria-hidden="true">#</a> 弹出框信息框</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>弹出信息框\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">#map</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">#mypopup</span> <span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mypopup<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mypopup-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>内容自定义\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>closeOverlay<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>关闭\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">119.347618103027</span><span class="token punctuation">,</span>
      <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span>
      <span class="token number">30.5366992950439</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&quot;degrees&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&quot;neu&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">118.33968849655</span><span class="token punctuation">,</span>
      <span class="token number">29.188589472</span><span class="token punctuation">,</span>
      <span class="token number">120.71408849655</span><span class="token punctuation">,</span>
      <span class="token number">30.5651894750343</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ添加瓦片地图的层</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span>
            <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            y <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            x<span class="token punctuation">;</span>
          <span class="token comment">// console.log(url);</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> info <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#mypopup&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> content <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#mypopup-content&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> overlay <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Overlay</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">element</span><span class="token operator">:</span> info<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">autopan</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">autoPanMargin</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
      <span class="token literal-property property">positioning</span><span class="token operator">:</span> <span class="token string">&quot;center-center&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//map.addOverlay(overlay);</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>tileLayer<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">overlays</span><span class="token operator">:</span> <span class="token punctuation">[</span>overlay<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//非常重要</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#closeOverlay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      info<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> location <span class="token operator">=</span> e<span class="token punctuation">.</span>coordinate<span class="token punctuation">;</span>
      content<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">&quot;这是信息框&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      info<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      overlay<span class="token punctuation">.</span><span class="token function">setPosition</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="矢量图层-wms" tabindex="-1"><a class="header-anchor" href="#矢量图层-wms" aria-hidden="true">#</a> 矢量图层（wms）</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>添加电子地图\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&#39;image/png&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">119.347618103027</span><span class="token punctuation">,</span> <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span> <span class="token number">30.5366992950439</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&#39;EPSG:4490&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&#39;degrees&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&#39;neu&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">118.33968849655</span><span class="token punctuation">,</span> <span class="token number">29.188589472</span><span class="token punctuation">,</span> <span class="token number">120.71408849655</span><span class="token punctuation">,</span> <span class="token number">30.5651894750343</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599E-05</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995E-05</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998E-05</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999E-05</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994E-06</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497E-06</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748E-06</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ添加瓦片地图的层</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&#39;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&#39;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">+</span> x<span class="token punctuation">;</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&#39;EPSG:4490&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> untiled <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Image</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>ImageWMS</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">ratio</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token comment">//url: &#39;http://126.10.2.27:8080/geoserver/gpserver/wms&#39;,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms?&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string-property property">&#39;FORMAT&#39;</span><span class="token operator">:</span> format<span class="token punctuation">,</span>
          <span class="token string-property property">&#39;VERSION&#39;</span><span class="token operator">:</span> <span class="token string">&#39;1.1.1&#39;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&quot;LAYERS&quot;</span><span class="token operator">:</span> <span class="token string">&#39;lsyt_dmdz_qxbj0619&#39;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&quot;exceptions&quot;</span><span class="token operator">:</span> <span class="token string">&#39;application/vnd.ogc.se_inimage&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;map&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        tileLayer<span class="token punctuation">,</span>
        untiled
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//非常重要</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="矢量图层-wfs" tabindex="-1"><a class="header-anchor" href="#矢量图层-wfs" aria-hidden="true">#</a> 矢量图层（wfs）</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>添加WFS电子地图\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">119.347618103027</span><span class="token punctuation">,</span>
      <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span>
      <span class="token number">30.5366992950439</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&quot;degrees&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&quot;neu&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">118.33968849655</span><span class="token punctuation">,</span>
      <span class="token number">29.188589472</span><span class="token punctuation">,</span>
      <span class="token number">120.71408849655</span><span class="token punctuation">,</span>
      <span class="token number">30.5651894750343</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ添加瓦片地图的层</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span>
            <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            y <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            x<span class="token punctuation">;</span>
          <span class="token comment">//console.log(url);</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vectorSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>format<span class="token punctuation">.</span>GeoJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">url</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">extent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//strategy: bboxStrategy,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> vectorSource<span class="token punctuation">,</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Style</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Stroke</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 255, 1.0)&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>tileLayer<span class="token punctuation">,</span> vector<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//非常重要</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查询" tabindex="-1"><a class="header-anchor" href="#查询" aria-hidden="true">#</a> 查询</h3><h4 id="点查询" tabindex="-1"><a class="header-anchor" href="#点查询" aria-hidden="true">#</a> 点查询</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>点查询\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">119.347618103027</span><span class="token punctuation">,</span>
      <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span>
      <span class="token number">30.5366992950439</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&quot;degrees&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&quot;neu&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">118.33968849655</span><span class="token punctuation">,</span>
      <span class="token number">29.188589472</span><span class="token punctuation">,</span>
      <span class="token number">120.71408849655</span><span class="token punctuation">,</span>
      <span class="token number">30.5651894750343</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ添加瓦片地图的层</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span>
            <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            y <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            x<span class="token punctuation">;</span>
          <span class="token comment">//console.log(url);</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vectorSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>format<span class="token punctuation">.</span>GeoJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">url</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">extent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//strategy: bboxStrategy,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> vectorSource<span class="token punctuation">,</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Style</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Stroke</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 255, 1.0)&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>tileLayer<span class="token punctuation">,</span> vector<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//非常重要</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> location <span class="token operator">=</span> e<span class="token punctuation">.</span>coordinate<span class="token punctuation">;</span>
      <span class="token keyword">var</span> point <span class="token operator">=</span> location<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
      <span class="token keyword">var</span> qurl <span class="token operator">=</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span> point <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
      $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;You clicked the map at &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&#39;quxian&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="面查询" tabindex="-1"><a class="header-anchor" href="#面查询" aria-hidden="true">#</a> 面查询</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>框选查询\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">119.347618103027</span><span class="token punctuation">,</span>
      <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span>
      <span class="token number">30.5366992950439</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&quot;degrees&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&quot;neu&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">118.33968849655</span><span class="token punctuation">,</span>
      <span class="token number">29.188589472</span><span class="token punctuation">,</span>
      <span class="token number">120.71408849655</span><span class="token punctuation">,</span>
      <span class="token number">30.5651894750343</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ添加瓦片地图的层</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span>
            <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            y <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            x<span class="token punctuation">;</span>
          <span class="token comment">//console.log(url);</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vectorSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>format<span class="token punctuation">.</span>GeoJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">url</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">extent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//strategy: bboxStrategy,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> vectorSource<span class="token punctuation">,</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Style</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Stroke</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 255, 1.0)&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>tileLayer<span class="token punctuation">,</span> vector<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//非常重要</span>
    <span class="token keyword">var</span> dragbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>interaction<span class="token punctuation">.</span>DragBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addInteraction</span><span class="token punctuation">(</span>dragbox<span class="token punctuation">)</span><span class="token punctuation">;</span>
    dragbox<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;boxend&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> extent <span class="token operator">=</span> dragbox<span class="token punctuation">.</span><span class="token function">getGeometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getExtent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> point <span class="token operator">=</span> extent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> extent<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> extent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> extent<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
      <span class="token keyword">var</span> qurl <span class="token operator">=</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span> point <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
      $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;You clicked the map at &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&#39;quxian&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="属性查询" tabindex="-1"><a class="header-anchor" href="#属性查询" aria-hidden="true">#</a> 属性查询</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>属性查询\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">119.347618103027</span><span class="token punctuation">,</span>
      <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span>
      <span class="token number">30.5366992950439</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&quot;degrees&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&quot;neu&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">118.33968849655</span><span class="token punctuation">,</span>
      <span class="token number">29.188589472</span><span class="token punctuation">,</span>
      <span class="token number">120.71408849655</span><span class="token punctuation">,</span>
      <span class="token number">30.5651894750343</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ添加瓦片地图的层</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span>
            <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            y <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            x<span class="token punctuation">;</span>
          <span class="token comment">//console.log(url);</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vectorSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>format<span class="token punctuation">.</span>GeoJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">url</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">extent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//strategy: bboxStrategy,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> vectorSource<span class="token punctuation">,</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Style</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Stroke</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 255, 1.0)&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>tileLayer<span class="token punctuation">,</span> vector<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//非常重要</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> location <span class="token operator">=</span> e<span class="token punctuation">.</span>coordinate<span class="token punctuation">;</span>
      <span class="token keyword">var</span> point <span class="token operator">=</span> location<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
      <span class="token keyword">var</span> qurl <span class="token operator">=</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=&quot;</span><span class="token punctuation">;</span>
      qurl <span class="token operator">+=</span> <span class="token string">&quot; quxian=&#39;上城区&#39;&quot;</span><span class="token punctuation">;</span>
      $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;根据属性选择的是&quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&#39;quxian&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="组合查询" tabindex="-1"><a class="header-anchor" href="#组合查询" aria-hidden="true">#</a> 组合查询</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>组合查询\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">119.347618103027</span><span class="token punctuation">,</span>
      <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span>
      <span class="token number">30.5366992950439</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&quot;degrees&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&quot;neu&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">118.33968849655</span><span class="token punctuation">,</span>
      <span class="token number">29.188589472</span><span class="token punctuation">,</span>
      <span class="token number">120.71408849655</span><span class="token punctuation">,</span>
      <span class="token number">30.5651894750343</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ添加瓦片地图的层</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span>
            <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            y <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            x<span class="token punctuation">;</span>
          <span class="token comment">//console.log(url);</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vectorSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>format<span class="token punctuation">.</span>GeoJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">url</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">extent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//strategy: bboxStrategy,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> vectorSource<span class="token punctuation">,</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Style</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Stroke</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 255, 1.0)&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>tileLayer<span class="token punctuation">,</span> vector<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//非常重要</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> location <span class="token operator">=</span> e<span class="token punctuation">.</span>coordinate<span class="token punctuation">;</span>
      <span class="token keyword">var</span> point <span class="token operator">=</span> location<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
      <span class="token keyword">var</span> qurl <span class="token operator">=</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span> point <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
      qurl <span class="token operator">+=</span> <span class="token string">&quot; and quxian=&#39;上城区&#39;&quot;</span><span class="token punctuation">;</span>
      $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>text<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;你选择的是非上城区，无查询结果！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;你选择的是 &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&quot;quxian&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="cygwin" tabindex="-1"><a class="header-anchor" href="#cygwin" aria-hidden="true">#</a> Cygwin</h1><p>windows使用linux环境（部分机型失败）</p><h1 id="tippecanoe" tabindex="-1"><a class="header-anchor" href="#tippecanoe" aria-hidden="true">#</a> <a href="https://github.com/mapbox/tippecanoe" target="_blank" rel="noopener noreferrer">Tippecanoe<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h1><blockquote><p>Tippecanoe是Mapbox的一个开源切片工具，项目地址：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmapbox%2Ftippecanoe" target="_blank" rel="noopener noreferrer">https://github.com/mapbox/tippecanoe<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>，Mapbox常规的切片方法tilelive-copy参见<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fblog.csdn.net%2Fwan_yanyan528%2Farticle%2Fdetails%2F69266362" target="_blank" rel="noopener noreferrer">另一篇博客<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。Tippecanoe主要在处理大数据量时有很大的优势，具有很高的效率，并且有很多参数可以控制。Tippecanoe只能处理GeoJSON，因此在切片前需要将矢量数据转换为GeoJSON，推荐使用ogr2ogr工具转换。切片以后的格式为mbtiles，可自行导入mongodb等数据库。</p><p>目的：根据你的数据创造一个可自由缩放的视图</p></blockquote><p>引用地址：<a href="https://my.oschina.net/u/1464512/blog/1631972" target="_blank" rel="noopener noreferrer">https://my.oschina.net/u/1464512/blog/1631972<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h4 id="常用tippecanoe参数设置" tabindex="-1"><a class="header-anchor" href="#常用tippecanoe参数设置" aria-hidden="true">#</a> <a href="https://blog.csdn.net/u012539364/article/details/107068474/" target="_blank" rel="noopener noreferrer">常用tippecanoe参数设置<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h4><h1 id="geojson" tabindex="-1"><a class="header-anchor" href="#geojson" aria-hidden="true">#</a> GEOJSON</h1><h1 id="geosever" tabindex="-1"><a class="header-anchor" href="#geosever" aria-hidden="true">#</a> <a href="http://geoserver.org/" target="_blank" rel="noopener noreferrer">GeoSever<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h1><p>GeoServer是OGC Web服务器规范的J2EE实现，利用GeoServer可以方便地发布地图数据，允许用户对特征数据进行更新、删除、插入操作，通过GeoServer可以比较容易地在用户之间迅速共享空间地理信息。GeoServer是开源软件。</p><p>GeoServer主要包含如下一些特点：</p><ul><li><p>兼容WMS和WFS特性</p></li><li><p>支持PostGIS、Shapefile、ArcSDE、Oracle、VPF、MySQL、MapInfo</p></li><li><p>支持上百种投影</p></li><li><p>能够将网络地图输出为JPEG、GIF、PNG、SVG、KML等格式</p></li><li><p>能够运行在任何基于J2EE/Servlet容器之上</p></li><li><p>嵌入MapBuilder支持AJAX的地图客户端OpenLayers</p></li></ul><blockquote><p><a href="https://blog.csdn.net/qq_35732147/article/details/81869864" target="_blank" rel="noopener noreferrer">引用地址<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><h1 id="wms-wfs" tabindex="-1"><a class="header-anchor" href="#wms-wfs" aria-hidden="true">#</a> WMS &amp;&amp; WFS</h1><p>WMS是由服务器将一地图图像发送给客户端，而WFS是服务器将矢量数据发送给客户端，也就是在使用WMS时地图由服务器绘制，在使用WFS时地图由客户端绘制。</p><h2 id="wms" tabindex="-1"><a class="header-anchor" href="#wms" aria-hidden="true">#</a> WMS</h2><h3 id="_1-2-1-wms服务简介" tabindex="-1"><a class="header-anchor" href="#_1-2-1-wms服务简介" aria-hidden="true">#</a> 1.2.1 WMS服务简介</h3><p>Web Map Service（网络地图服务），简称WMS，由开放地理信息联盟（Open GeoSpatial Consortium，OGC）制定。该规范定义了Web客户端从网络地图服务器获取地图的接口标准。一个WMS可以动态地生成具有地理参考数据的地图，这些地图通常用GIF、JPEG或PNG等图像格式等，使用者通过指定的参数获取相应的地图图片。</p><h3 id="_1-2-2-服务操作列表" tabindex="-1"><a class="header-anchor" href="#_1-2-2-服务操作列表" aria-hidden="true">#</a> 1.2.2 服务操作列表</h3><p>WMS实现规范由三个基础性操作协议(GetCapabilities，GetMap和GetFeatureInfo)组成，这些协议共同构成了利用WMS创建和叠加显示不同来源的远程异构地图服务的基础。WMS服务操作列表见下表所示。</p><table><thead><tr><th>操作</th><th>实现要求</th><th>描述</th></tr></thead><tbody><tr><td>GetCapabilities</td><td>强制实现</td><td>暂关闭</td></tr><tr><td>GetMap</td><td>强制实现</td><td>获取地图图片。该操作根据客户端发出的请求参数在服务端进行检索，服务器端返回一个地图图像，其地理空间参数和大小参数是已经明确定义的，返回的地图图像可以是GIF、JPEG、PNG或SVG格式。</td></tr><tr><td>GetFeatureInfo</td><td>选择实现</td><td></td></tr></tbody></table><h3 id="_1-2-3服务操作的参数列表" tabindex="-1"><a class="header-anchor" href="#_1-2-3服务操作的参数列表" aria-hidden="true">#</a> 1.2.3服务操作的参数列表</h3><table><thead><tr><th>参数名称</th><th>参数个数</th><th>参数类型和值</th></tr></thead><tbody><tr><td>service</td><td>1个(必选)</td><td>字符类型，服务类型值为“WMS”</td></tr><tr><td>request</td><td>1个(必选)</td><td>字符类型，请求的操作名称，值为“GetCapabilities”</td></tr><tr><td>version</td><td>0或1个(可选)</td><td>字符类型，值为请求的WMS的版本号</td></tr><tr><td>format</td><td>0或1个(可选)</td><td>MIME类型，值为服务元数据的输出格式</td></tr></tbody></table><p>GetMap操作请求方法实现参数</p><table><thead><tr><th>参数名称</th><th>参数个数</th><th>参数类型和值</th></tr></thead><tbody><tr><td>service</td><td>1个(必选)</td><td>字符类型，服务类型标识值为“WMS”</td></tr><tr><td>request</td><td>1个(必选)</td><td>字符类型，值为“GetMap”</td></tr><tr><td>version</td><td>1个(必选)</td><td>字符类型，值为请求的WMS的版本号</td></tr><tr><td>layers</td><td>1个(必选)</td><td>字符类型，值为一个或多个地图图层列表，多个图层之间用”,”隔开</td></tr><tr><td>styles</td><td>1个(必选)</td><td>字符类型，值为请求图层的地图渲染样式</td></tr><tr><td>CRS</td><td>1个(必选)</td><td>字符类型，值为坐标参照系统</td></tr><tr><td>BBOX</td><td>1个(必选)</td><td>Wkt格式，值为某个CRS下的地图边界范围的坐标序列</td></tr><tr><td>width</td><td>1个(必选)</td><td>整型类型，值为地图图片的像素宽度</td></tr><tr><td>height</td><td>1个(必选)</td><td>整型类型，值为地图图片的像素高度</td></tr><tr><td>format</td><td>1个(必选)</td><td>字符类型，值为地图的输出格式</td></tr><tr><td>transparent</td><td>0或1个(可选)</td><td>字符类型，值为true或者false，用来表示地图图层是否透明(默认情况下是不透明的)</td></tr><tr><td>filter</td><td>0或1个(可选)</td><td>请求要素的过滤条件</td></tr></tbody></table><h3 id="_1-2-4-接口调用示例" tabindex="-1"><a class="header-anchor" href="#_1-2-4-接口调用示例" aria-hidden="true">#</a> 1.2.4 接口调用示例</h3><table><thead><tr><th>实例名称</th><th>调用实例</th></tr></thead><tbody><tr><td>GetCapabilities</td><td>暂关闭</td></tr><tr><td>GetMap</td><td><a href="http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wms?SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetMap&amp;FORMAT=image%2Fpng&amp;TRANSPARENT=true&amp;LAYERS=gpserver%3Alsyt_dmdz_csbj0619&amp;CQL_FILTER=quxian%3D%27%E6%BB%A8%E6%B1%9F%E5%8C%BA%27&amp;SRS=EPSG%3A4490&amp;STYLES=&amp;WIDTH=768&amp;HEIGHT=546&amp;BBOX=120.05413055419922%2C30.084686279296875%2C120.31780242919922%2C30.272140502929688" target="_blank" rel="noopener noreferrer">http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wms?SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetMap&amp;FORMAT=image%2Fpng&amp;TRANSPARENT=true&amp;LAYERS=gpserver%3Alsyt_dmdz_csbj0619&amp;CQL_FILTER=quxian%3D&#39;滨江区&#39;&amp;SRS=EPSG%3A4490&amp;STYLES=&amp;WIDTH=768&amp;HEIGHT=546&amp;BBOX=120.05413055419922%2C30.084686279296875%2C120.31780242919922%2C30.272140502929688<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr></tbody></table><h2 id="wfs" tabindex="-1"><a class="header-anchor" href="#wfs" aria-hidden="true">#</a> WFS</h2><h3 id="_1-3-1-wfs服务简介" tabindex="-1"><a class="header-anchor" href="#_1-3-1-wfs服务简介" aria-hidden="true">#</a> 1.3.1 WFS服务简介</h3><p>Web Feature Service（网络要素服务），简称WFS，由开放地理信息联盟（Open GeoSpatial Consortium，OGC）制定。该规范主要对OpenGIS简单要素的数据编辑操作进行规范，从而使服务器端和客户端能够在要素层面进行“通讯”。其返回结果的是XML格式的WFS服务元数据文档，通过该文档用户能够了解：WFS服务器支持的所有操作操作列表，GetFeature操作返回的数据格式，可用的坐标参照系统列表，操作异常信息的列表，WFS服务提供商的相关信息，WFS服务器的可用要素类列表等。</p><h3 id="_1-3-2-服务操作列表" tabindex="-1"><a class="header-anchor" href="#_1-3-2-服务操作列表" aria-hidden="true">#</a> 1.3.2 服务操作列表</h3><p>WFS服务接口规范定义了GetCapabilities，DescribeFeatureType、GetFeature、Transaction等操作。其中GetCapabilities，DescribeFeatureType和GetFeature为必须实现的操作，也即只要实现了这三个操作的服务均可称为WFS服务。WFS的操作见下表所示。</p><table><thead><tr><th>操作</th><th>实现要求</th><th>描述</th></tr></thead><tbody><tr><td>GetCapabilities</td><td>强制实现</td><td>GetCapabilities请求用于查询WFS服务的能力信息，包括支持的操作、支持的格式、空间坐标、包含的资源等。它主要的目的是使客户端在使用GetFeature请求前可以对WFS服务有一个基本的了解，从而可以设置正确的参数。</td></tr><tr><td>DescribeFeatureType</td><td>强制实现</td><td>用于生成一个 Schema 描述，该 Schema 描述了 WFS 服务提供的要素类型（Feature Type），以及要素类型的结构信息。该 Schema 还定义了 WFS 服务所期望的要素实例在输入时如何编码以及输出时如何生成要素实例。</td></tr><tr><td>GetFeature</td><td>强制实现</td><td>GetFeature用于向WFS的客户端程序提供查询特定地理信息的能力，通过GetFeature操作可以由指定的属性条件、空间条件或者两者叠加的条件进行空间查询。</td></tr><tr><td>Transaction</td><td>选择实现</td><td>允许Transaction操作，使客户端可对服务器端所提供的地图要素类执插入，更新，删除等命令</td></tr></tbody></table><h3 id="_1-3-3服务操作的参数列表" tabindex="-1"><a class="header-anchor" href="#_1-3-3服务操作的参数列表" aria-hidden="true">#</a> 1.3.3服务操作的参数列表</h3><p>GetCapabilities操作请求方法实现参数</p><table><thead><tr><th>参数名称</th><th>参数个数</th><th>参数类型和值</th></tr></thead><tbody><tr><td>service</td><td>1个(必选)</td><td>字符类型，服务类型值为“WFS”</td></tr><tr><td>request</td><td>1个(必选)</td><td>字符类型，请求的操作名称，值为“GetCapabilities”</td></tr><tr><td>versions</td><td>0或1个(可选)</td><td>字符类型，值为请求的WFS的版本号</td></tr></tbody></table><p>DescribeFeatureType操作请求方法实现参数</p><table><thead><tr><th>参数名称</th><th>参数个数</th><th>参数类型和值</th></tr></thead><tbody><tr><td>service</td><td>1个(必选)</td><td>字符类型，服务类型值为“WFS”</td></tr><tr><td>request</td><td>1个(必选)</td><td>字符类型，请求的操作名称，值为“DescribeFeatureType”</td></tr><tr><td>typeName</td><td>0或1个(可选)</td><td>字符类型，值为要素类型的列表，多个值之间用“，”隔开，默认解析包括的全部要素类型</td></tr><tr><td>outputFormat</td><td>0或1个(可选)</td><td>MIME类型，值为输出格式</td></tr></tbody></table><p>GetFeature操作请求方法实现参数</p><table><thead><tr><th>参数名称</th><th>参数个数</th><th>参数类型和值</th></tr></thead><tbody><tr><td>service</td><td>1个(必选)</td><td>字符类型，服务类型标识值为“WFS”</td></tr><tr><td>request</td><td>1个(必选)</td><td>字符类型，请求的操作值为“GetFeature”</td></tr><tr><td>typeName</td><td>1个(必选)</td><td>字符类型，值为请求的要素类型的名称，多个名称之间用“，”隔开</td></tr><tr><td>version</td><td>0或1个(可选)</td><td>字符类型，值为请求的WFS的版本号</td></tr><tr><td>outputFormat</td><td>0或1个(可选)</td><td>MIME类型，值为输出格式</td></tr><tr><td>resultType</td><td>0或1个(可选)</td><td>字符类型，值为请求的结果类型</td></tr><tr><td>propertyName</td><td>0或1个(可选)</td><td>字符类型，值为请求要素的属性名，多个值之间用“，”隔开</td></tr><tr><td>featureVersion</td><td>0或1个(可选)</td><td>字符类型，值为要素的版本，值为ALL返回请求的要素的所有版本，没有值默认为返回请求要素的最新版本</td></tr><tr><td>maxFeature</td><td>0或1个(可选)</td><td>整型类型，值为请求要素的最大数，默认值为满足查询的所有结果集</td></tr><tr><td>expiry</td><td>0或1个(可选)</td><td>数字类型，要素被锁定的时间</td></tr><tr><td>SRSName</td><td>0或1个(可选)</td><td>字符类型，值为坐标系统名</td></tr><tr><td>featureID</td><td>0或1个(可选)</td><td>字符类型，值为要素的ID，多个ID之间用“，”隔开</td></tr><tr><td>filter</td><td>0或1个(可选)</td><td>请求要素的过滤条件</td></tr><tr><td>bBox</td><td>0或1个(可选)</td><td>Wkt格式，请求指定要素查询范围，可以替代featureId和filter参数</td></tr></tbody></table><h3 id="_1-3-4-接口调用示例" tabindex="-1"><a class="header-anchor" href="#_1-3-4-接口调用示例" aria-hidden="true">#</a> 1.3.4 接口调用示例</h3><table><thead><tr><th>实例名称</th><th>调用实例</th></tr></thead><tbody><tr><td>GetCapabilities</td><td><a href="http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wfs?service=wfs&amp;version=1.1.0&amp;request=getcapabilities" target="_blank" rel="noopener noreferrer">http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wfs?service=wfs&amp;version=1.1.0&amp;request=getcapabilities<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr><tr><td>DescribeFeatureType</td><td><a href="http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.1.0&amp;request=describefeaturetype&amp;typename=lsyt_dmdz_csbj0619" target="_blank" rel="noopener noreferrer">http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.1.0&amp;request=describefeaturetype&amp;typename=lsyt_dmdz_csbj0619<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr><tr><td>GetFeature</td><td><a href="http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wfs?service=wfs&amp;version=1.1.0&amp;request=getfeature&amp;typename=lsyt_dmdz_csbj0619&amp;outputFormat=json&amp;CQL_FILTER=zhenjie=%27%E9%97%B2%E6%9E%97%E8%A1%97%E9%81%93%27" target="_blank" rel="noopener noreferrer">http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wfs?service=wfs&amp;version=1.1.0&amp;request=getfeature&amp;typename=lsyt_dmdz_csbj0619&amp;outputFormat=json&amp;CQL_FILTER=zhenjie=&#39;闲林街道&#39;<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr></tbody></table><h1 id="wmts" tabindex="-1"><a class="header-anchor" href="#wmts" aria-hidden="true">#</a> WMTS</h1><h2 id="wmts-1" tabindex="-1"><a class="header-anchor" href="#wmts-1" aria-hidden="true">#</a> WMTS</h2><h3 id="_1-1-wmts服务简介" tabindex="-1"><a class="header-anchor" href="#_1-1-wmts服务简介" aria-hidden="true">#</a> 1.1 WMTS服务简介</h3><p>​ Web Map Tile Service（网络地图瓦片服务），简称WMTS，由开放地理信息联盟（Open GeoSpatial Consortium，OGC）制定，是和WMS并列的重要OGC规范之一。WMTS标准定义了一些操作，这些操作允许用户访问切片地图，是OGC首个支持RESTful访问的服务标准。WMTS不同于WMS,它最重要的特征是采用缓存技术能够缓解WebGIS服务器端数据处理的压力，提高交互响应速度，大幅改善在线地图应用客户端的用户体验。WMTS是OGC主推的缓存技术规范，是目前各种缓存技术相互兼容的一种方法。</p><p>WMTS的切片坐标系统和其组织方式可参考下图：</p><p><img src="http://qnimg.gisfsde.com/work/clip_image001.png" alt="这里写图片描述" loading="lazy"></p><h3 id="_1-2-服务操作列表" tabindex="-1"><a class="header-anchor" href="#_1-2-服务操作列表" aria-hidden="true">#</a> 1.2 服务操作列表</h3><p>WMTS服务支持RESTful访问，其接口包括GetCapabilities、GetTile和GetFeatureInfo3个操作，这些操作允许用户访问切片地图。</p><table><thead><tr><th>操作</th><th>操作</th><th>描述</th></tr></thead><tbody><tr><td>GetCapabilities</td><td>强制实现</td><td>获取WMTS的能力文档（即元数据文档），里面包含服务的信息</td></tr><tr><td>GetTile</td><td>强制实现</td><td>该操作根据客户端发出的请求参数在服务端进行检索，服务器端返回地图瓦片图像</td></tr><tr><td>GetFeatureInfo</td><td>选择实现</td><td></td></tr></tbody></table><h3 id="_1-3-服务操作的参数列表" tabindex="-1"><a class="header-anchor" href="#_1-3-服务操作的参数列表" aria-hidden="true">#</a> 1.3 服务操作的参数列表</h3><p>GetCapabilities操作请求方法实现参数</p><table><thead><tr><th>参数名称</th><th>参数个数</th><th>参数类型和值</th></tr></thead><tbody><tr><td>service</td><td>1个(必选)</td><td>字符类型，服务类型值为“WMTS”</td></tr><tr><td>request</td><td>1个(必选)</td><td>字符类型，请求的操作名称，值为“GetCapabilities”</td></tr></tbody></table><p>GetTile操作请求方法实现参数</p><table><thead><tr><th>参数名称</th><th>参数个数</th><th>参数类型和值</th></tr></thead><tbody><tr><td>service</td><td>1个(必选)</td><td>字符类型，服务类型标识值为“WMTS”</td></tr><tr><td>request</td><td>1个(必选)</td><td>字符类型，请求的操作值为“GetTile”</td></tr><tr><td>version</td><td>1个(必选)</td><td>字符类型，值为请求的WMTS的版本号</td></tr><tr><td>layer</td><td>1个(必选)</td><td>字符类型，值为请求的图层名称</td></tr><tr><td>style</td><td>1个(必选)</td><td>字符类型，值为请求图层的渲染样式</td></tr><tr><td>format</td><td>1个(必选)</td><td>字符类型，值为瓦片地图的输出格式</td></tr><tr><td>tileMatrixSet</td><td>1个(必选)</td><td>字符类型，瓦片矩阵数据集，其值在服务的元数据文档中指定</td></tr><tr><td>tileMatrix</td><td>1个(必选)</td><td>字符类型，瓦片矩阵，其值在服务的元数据文档中指定</td></tr><tr><td>tileRow</td><td>1个(必选)</td><td>整型类型，值为大于0的整数，表示瓦片矩阵的行号</td></tr><tr><td>tileCol</td><td>1个(必选)</td><td>整型类型，值为大于0的整数，表示瓦片矩阵的列号</td></tr></tbody></table><h3 id="_1-4接口调用示例" tabindex="-1"><a class="header-anchor" href="#_1-4接口调用示例" aria-hidden="true">#</a> 1.4接口调用示例</h3><table><thead><tr><th>实例名称</th><th>调用实例</th></tr></thead><tbody><tr><td>GetCapabilities操作</td><td><a href="http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/WMTS?service=wmts&amp;request=GetCapabilities" target="_blank" rel="noopener noreferrer">http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/WMTS?service=wmts&amp;request=GetCapabilities<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr><tr><td>GetTile操作</td><td><a href="http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/WMTS?service=wmts&amp;request=getTile&amp;version=1.0.0&amp;layer=hzsyvector&amp;Style=&amp;tilematrixset=hzsyvector&amp;tilematrix=3&amp;tilerow=5&amp;tilecol=7&amp;format=png" target="_blank" rel="noopener noreferrer">http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/WMTS?service=wmts&amp;request=getTile&amp;version=1.0.0&amp;layer=hzsyvector&amp;Style=&amp;tilematrixset=hzsyvector&amp;tilematrix=3&amp;tilerow=5&amp;tilecol=7&amp;format=png<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ****</td></tr></tbody></table></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/GISFSDE//edit/main/docs/posts/2021/GIS.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/6/10 23:59:16</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 714416426@qq.com">GISFSDE</span><!--]--><!--]--></div></footer><nav class="page-nav"><!----><a aria-current="page" href="/posts/2021/GIS.html" class="router-link-active router-link-exact-active nav-link active next" aria-label="GIS软件"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">GIS软件<span class="icon iconfont icon-edit" style=""></span></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><a href="https://beian.miit.gov.cn">浙ICP备2022017274号</a></div><div class="copyright">Copyright © 2022 GIS-FSDE</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.95807bc9.js" defer></script>
  </body>
</html>
