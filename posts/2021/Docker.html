<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.48" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://www.gisfsde.com/posts/2021/Docker.html"><meta property="og:site_name" content="GIS-FSDE"><meta property="og:title" content="Docker"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-06-16T05:33:26.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="GIS-FSDE"><meta property="article:tag" content="Docker"><meta property="article:published_time" content="2022-06-06T00:00:00.000Z"><meta property="article:modified_time" content="2022-06-16T05:33:26.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><title>Docker | GIS-FSDE</title><meta name="description" content="GISFSDE(GIS Full Stack Developer)--GIS开发、JAVA全栈开发">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.e1848475.css">
    <link rel="modulepreload" href="/assets/app.95807bc9.js"><link rel="modulepreload" href="/assets/Docker.html.9d8d4fd2.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/assets/Docker.html.ece2584a.js"><link rel="prefetch" href="/assets/home.html.0f7ff4b0.js"><link rel="prefetch" href="/assets/index.html.2dc22d8e.js"><link rel="prefetch" href="/assets/slide.html.6304f45a.js"><link rel="prefetch" href="/assets/index.html.285ebd50.js"><link rel="prefetch" href="/assets/index.html.a2f8d94a.js"><link rel="prefetch" href="/assets/album.html.6d56e046.js"><link rel="prefetch" href="/assets/Algorithm.html.8ccf3480.js"><link rel="prefetch" href="/assets/Architect.html.e7406c77.js"><link rel="prefetch" href="/assets/BMM.html.bb333e2f.js"><link rel="prefetch" href="/assets/BUG.html.cdaa63e0.js"><link rel="prefetch" href="/assets/CRUD.html.f2fca31e.js"><link rel="prefetch" href="/assets/DesignPatterns.html.59d81280.js"><link rel="prefetch" href="/assets/DevelopersFixComputer.html.c57fc4f8.js"><link rel="prefetch" href="/assets/Dubbo.html.ad651a24.js"><link rel="prefetch" href="/assets/EnglishDay.html.07db0c8f.js"><link rel="prefetch" href="/assets/Flash.html.b696aa49.js"><link rel="prefetch" href="/assets/FrontEnd.html.3e7c100c.js"><link rel="prefetch" href="/assets/GIS.html.37237efd.js"><link rel="prefetch" href="/assets/GuLimall.html.08153ac0.js"><link rel="prefetch" href="/assets/Health.html.ce887929.js"><link rel="prefetch" href="/assets/HowToLearn.html.2b9fdaf7.js"><link rel="prefetch" href="/assets/inconstruction.html.f392a14c.js"><link rel="prefetch" href="/assets/Interesting Programs.html.ef10e86f.js"><link rel="prefetch" href="/assets/InterviewQuestions.html.91c9e4ce.js"><link rel="prefetch" href="/assets/Java.html.faa2ffae.js"><link rel="prefetch" href="/assets/JAVAUse.html.bfbdc361.js"><link rel="prefetch" href="/assets/JVM.html.370135ab.js"><link rel="prefetch" href="/assets/Life.html.b483df11.js"><link rel="prefetch" href="/assets/Linux.html.6c84af87.js"><link rel="prefetch" href="/assets/Markdown.html.87d92193.js"><link rel="prefetch" href="/assets/MongoDB.html.52d4295b.js"><link rel="prefetch" href="/assets/Music.html.672ab2f3.js"><link rel="prefetch" href="/assets/MyBatis-Plus.html.561a2756.js"><link rel="prefetch" href="/assets/MyBatis.html.cff9e302.js"><link rel="prefetch" href="/assets/MYSQLOptimize.html.f64106bb.js"><link rel="prefetch" href="/assets/Network.html.c0b48f3e.js"><link rel="prefetch" href="/assets/Nginx.html.fafb3900.js"><link rel="prefetch" href="/assets/NO GAME NO LIFE.html.f23aa4fd.js"><link rel="prefetch" href="/assets/Office.html.8ec0cd91.js"><link rel="prefetch" href="/assets/Photography.html.145f958b.js"><link rel="prefetch" href="/assets/PM.html.6e9c10b8.js"><link rel="prefetch" href="/assets/PMThesisTemplate.html.b65e77cc.js"><link rel="prefetch" href="/assets/Python3.html.5a4e1d54.js"><link rel="prefetch" href="/assets/QuickSearch.html.1a024565.js"><link rel="prefetch" href="/assets/RabbitMQ.html.9efe14d2.js"><link rel="prefetch" href="/assets/Redis.html.cc779293.js"><link rel="prefetch" href="/assets/Resources.html.ffff7ce6.js"><link rel="prefetch" href="/assets/Software Engineer.html.f6146ac9.js"><link rel="prefetch" href="/assets/Spring.html.78aa30f0.js"><link rel="prefetch" href="/assets/SpringBoot.html.0184a75e.js"><link rel="prefetch" href="/assets/SpringCloud.html.7a46ffb6.js"><link rel="prefetch" href="/assets/SpringMVC.html.fdb8f282.js"><link rel="prefetch" href="/assets/Summarize.html.215d5fa1.js"><link rel="prefetch" href="/assets/template.html.2daa810f.js"><link rel="prefetch" href="/assets/TODO.html.9c833d9e.js"><link rel="prefetch" href="/assets/Tools.html.07bd8d46.js"><link rel="prefetch" href="/assets/VUEPressDemo.html.ae923a1c.js"><link rel="prefetch" href="/assets/We-Media.html.2bd84a8c.js"><link rel="prefetch" href="/assets/WMP.html.abb3fe3c.js"><link rel="prefetch" href="/assets/404.html.fa71a0c4.js"><link rel="prefetch" href="/assets/index.html.1630f6e5.js"><link rel="prefetch" href="/assets/index.html.7be2cbcf.js"><link rel="prefetch" href="/assets/index.html.d520d863.js"><link rel="prefetch" href="/assets/index.html.997a56db.js"><link rel="prefetch" href="/assets/index.html.1578e35b.js"><link rel="prefetch" href="/assets/index.html.28dfc5e2.js"><link rel="prefetch" href="/assets/index.html.161587db.js"><link rel="prefetch" href="/assets/index.html.6765a033.js"><link rel="prefetch" href="/assets/index.html.dd470a3f.js"><link rel="prefetch" href="/assets/index.html.251a540e.js"><link rel="prefetch" href="/assets/index.html.f7dfc136.js"><link rel="prefetch" href="/assets/index.html.b312a911.js"><link rel="prefetch" href="/assets/index.html.95d35a42.js"><link rel="prefetch" href="/assets/index.html.54859e7e.js"><link rel="prefetch" href="/assets/index.html.08c7d9e6.js"><link rel="prefetch" href="/assets/index.html.de996081.js"><link rel="prefetch" href="/assets/index.html.9b36ff1b.js"><link rel="prefetch" href="/assets/index.html.22a95d2b.js"><link rel="prefetch" href="/assets/index.html.04abf6c2.js"><link rel="prefetch" href="/assets/index.html.431cc37d.js"><link rel="prefetch" href="/assets/index.html.408cc4cf.js"><link rel="prefetch" href="/assets/index.html.0c1332da.js"><link rel="prefetch" href="/assets/index.html.e9d8b26b.js"><link rel="prefetch" href="/assets/index.html.f595a703.js"><link rel="prefetch" href="/assets/index.html.d5671b7a.js"><link rel="prefetch" href="/assets/index.html.f869349c.js"><link rel="prefetch" href="/assets/index.html.9890203e.js"><link rel="prefetch" href="/assets/index.html.05577cbd.js"><link rel="prefetch" href="/assets/index.html.416b5538.js"><link rel="prefetch" href="/assets/index.html.a05d621e.js"><link rel="prefetch" href="/assets/index.html.39c56009.js"><link rel="prefetch" href="/assets/index.html.9714ba94.js"><link rel="prefetch" href="/assets/index.html.d3c0412a.js"><link rel="prefetch" href="/assets/index.html.77f221ab.js"><link rel="prefetch" href="/assets/index.html.8a687bee.js"><link rel="prefetch" href="/assets/index.html.b37bd8ea.js"><link rel="prefetch" href="/assets/index.html.91773ac3.js"><link rel="prefetch" href="/assets/index.html.90420aed.js"><link rel="prefetch" href="/assets/index.html.2052a1a7.js"><link rel="prefetch" href="/assets/index.html.da862e2b.js"><link rel="prefetch" href="/assets/index.html.cfe4f3a2.js"><link rel="prefetch" href="/assets/index.html.982e2d64.js"><link rel="prefetch" href="/assets/index.html.541f8d65.js"><link rel="prefetch" href="/assets/index.html.db8e734b.js"><link rel="prefetch" href="/assets/index.html.a342b16d.js"><link rel="prefetch" href="/assets/index.html.ad06da2c.js"><link rel="prefetch" href="/assets/index.html.c69b413f.js"><link rel="prefetch" href="/assets/index.html.7d22a5e7.js"><link rel="prefetch" href="/assets/index.html.deaad297.js"><link rel="prefetch" href="/assets/index.html.54f914ff.js"><link rel="prefetch" href="/assets/index.html.b3ccc077.js"><link rel="prefetch" href="/assets/index.html.b540f689.js"><link rel="prefetch" href="/assets/index.html.410d1f26.js"><link rel="prefetch" href="/assets/index.html.44855d58.js"><link rel="prefetch" href="/assets/index.html.deba3e6d.js"><link rel="prefetch" href="/assets/index.html.3ae4887f.js"><link rel="prefetch" href="/assets/index.html.d058367f.js"><link rel="prefetch" href="/assets/index.html.512cc1f3.js"><link rel="prefetch" href="/assets/index.html.afd427e3.js"><link rel="prefetch" href="/assets/index.html.9d3f4b54.js"><link rel="prefetch" href="/assets/index.html.83f4f0cb.js"><link rel="prefetch" href="/assets/index.html.5e046a4f.js"><link rel="prefetch" href="/assets/index.html.746e9de3.js"><link rel="prefetch" href="/assets/index.html.a846836d.js"><link rel="prefetch" href="/assets/index.html.f3f1ba1f.js"><link rel="prefetch" href="/assets/index.html.87303c77.js"><link rel="prefetch" href="/assets/index.html.183c2250.js"><link rel="prefetch" href="/assets/index.html.ca1fc4e9.js"><link rel="prefetch" href="/assets/index.html.93c75a42.js"><link rel="prefetch" href="/assets/index.html.f78010c6.js"><link rel="prefetch" href="/assets/index.html.d5826cb7.js"><link rel="prefetch" href="/assets/index.html.9ea1953d.js"><link rel="prefetch" href="/assets/index.html.25f646f2.js"><link rel="prefetch" href="/assets/index.html.2d462000.js"><link rel="prefetch" href="/assets/index.html.ead2dad1.js"><link rel="prefetch" href="/assets/index.html.6558810c.js"><link rel="prefetch" href="/assets/index.html.fa6b5daa.js"><link rel="prefetch" href="/assets/index.html.ec7073b6.js"><link rel="prefetch" href="/assets/index.html.31694b75.js"><link rel="prefetch" href="/assets/index.html.77a697ab.js"><link rel="prefetch" href="/assets/index.html.7957309e.js"><link rel="prefetch" href="/assets/index.html.4e4af2a8.js"><link rel="prefetch" href="/assets/index.html.7bf20406.js"><link rel="prefetch" href="/assets/index.html.368b7137.js"><link rel="prefetch" href="/assets/index.html.6df77643.js"><link rel="prefetch" href="/assets/index.html.0314e6b9.js"><link rel="prefetch" href="/assets/index.html.1efd06b8.js"><link rel="prefetch" href="/assets/index.html.2c069c37.js"><link rel="prefetch" href="/assets/index.html.9dc9018a.js"><link rel="prefetch" href="/assets/index.html.5dcd9175.js"><link rel="prefetch" href="/assets/index.html.02fb9c99.js"><link rel="prefetch" href="/assets/index.html.98944189.js"><link rel="prefetch" href="/assets/index.html.b38a46d3.js"><link rel="prefetch" href="/assets/index.html.e1e49e1b.js"><link rel="prefetch" href="/assets/index.html.5496c724.js"><link rel="prefetch" href="/assets/index.html.b1d14c9a.js"><link rel="prefetch" href="/assets/index.html.ba98f040.js"><link rel="prefetch" href="/assets/index.html.6d329d22.js"><link rel="prefetch" href="/assets/index.html.1c621e4d.js"><link rel="prefetch" href="/assets/index.html.a57a0f49.js"><link rel="prefetch" href="/assets/index.html.a9f8fd70.js"><link rel="prefetch" href="/assets/index.html.d625e702.js"><link rel="prefetch" href="/assets/index.html.18605766.js"><link rel="prefetch" href="/assets/index.html.e79202e4.js"><link rel="prefetch" href="/assets/index.html.eff8d844.js"><link rel="prefetch" href="/assets/index.html.631c9d0d.js"><link rel="prefetch" href="/assets/index.html.c0a6c949.js"><link rel="prefetch" href="/assets/index.html.cf18bd5e.js"><link rel="prefetch" href="/assets/index.html.710cb22b.js"><link rel="prefetch" href="/assets/index.html.92f4a3a9.js"><link rel="prefetch" href="/assets/index.html.8640b364.js"><link rel="prefetch" href="/assets/home.html.085b0061.js"><link rel="prefetch" href="/assets/index.html.9f00494e.js"><link rel="prefetch" href="/assets/slide.html.3e1f3c6e.js"><link rel="prefetch" href="/assets/index.html.a1e90d67.js"><link rel="prefetch" href="/assets/index.html.27f93604.js"><link rel="prefetch" href="/assets/album.html.2eab66b2.js"><link rel="prefetch" href="/assets/Algorithm.html.6291a6fa.js"><link rel="prefetch" href="/assets/Architect.html.b9a5a147.js"><link rel="prefetch" href="/assets/BMM.html.483bc165.js"><link rel="prefetch" href="/assets/BUG.html.858b6654.js"><link rel="prefetch" href="/assets/CRUD.html.8827ec7a.js"><link rel="prefetch" href="/assets/DesignPatterns.html.99369aa8.js"><link rel="prefetch" href="/assets/DevelopersFixComputer.html.a02a4070.js"><link rel="prefetch" href="/assets/Dubbo.html.86c2078a.js"><link rel="prefetch" href="/assets/EnglishDay.html.9ec8973c.js"><link rel="prefetch" href="/assets/Flash.html.0a27743b.js"><link rel="prefetch" href="/assets/FrontEnd.html.0afeb0fe.js"><link rel="prefetch" href="/assets/GIS.html.054c51a3.js"><link rel="prefetch" href="/assets/GuLimall.html.64b3e565.js"><link rel="prefetch" href="/assets/Health.html.82ebda53.js"><link rel="prefetch" href="/assets/HowToLearn.html.3b0c6f76.js"><link rel="prefetch" href="/assets/inconstruction.html.f8bd01e8.js"><link rel="prefetch" href="/assets/Interesting Programs.html.1643ca40.js"><link rel="prefetch" href="/assets/InterviewQuestions.html.3210a104.js"><link rel="prefetch" href="/assets/Java.html.ff8cb3e2.js"><link rel="prefetch" href="/assets/JAVAUse.html.07194d8f.js"><link rel="prefetch" href="/assets/JVM.html.dda37b1d.js"><link rel="prefetch" href="/assets/Life.html.1378fd20.js"><link rel="prefetch" href="/assets/Linux.html.06903bcf.js"><link rel="prefetch" href="/assets/Markdown.html.6b27ff2b.js"><link rel="prefetch" href="/assets/MongoDB.html.28af2725.js"><link rel="prefetch" href="/assets/Music.html.902fc704.js"><link rel="prefetch" href="/assets/MyBatis-Plus.html.7671635f.js"><link rel="prefetch" href="/assets/MyBatis.html.353b8c6a.js"><link rel="prefetch" href="/assets/MYSQLOptimize.html.edd0c14b.js"><link rel="prefetch" href="/assets/Network.html.8a7c6580.js"><link rel="prefetch" href="/assets/Nginx.html.d67929a0.js"><link rel="prefetch" href="/assets/NO GAME NO LIFE.html.0fcacda1.js"><link rel="prefetch" href="/assets/Office.html.5b5f5398.js"><link rel="prefetch" href="/assets/Photography.html.facbe0f1.js"><link rel="prefetch" href="/assets/PM.html.3e41af7c.js"><link rel="prefetch" href="/assets/PMThesisTemplate.html.d7f6dddb.js"><link rel="prefetch" href="/assets/Python3.html.bac6602a.js"><link rel="prefetch" href="/assets/QuickSearch.html.03d254cc.js"><link rel="prefetch" href="/assets/RabbitMQ.html.c9a8b391.js"><link rel="prefetch" href="/assets/Redis.html.d288ef8b.js"><link rel="prefetch" href="/assets/Resources.html.944ad882.js"><link rel="prefetch" href="/assets/Software Engineer.html.52f4d837.js"><link rel="prefetch" href="/assets/Spring.html.f733fc9a.js"><link rel="prefetch" href="/assets/SpringBoot.html.b777e587.js"><link rel="prefetch" href="/assets/SpringCloud.html.bf44609c.js"><link rel="prefetch" href="/assets/SpringMVC.html.c06af361.js"><link rel="prefetch" href="/assets/Summarize.html.a8269321.js"><link rel="prefetch" href="/assets/template.html.3529b9a2.js"><link rel="prefetch" href="/assets/TODO.html.d2fde38f.js"><link rel="prefetch" href="/assets/Tools.html.8d6263f4.js"><link rel="prefetch" href="/assets/VUEPressDemo.html.430acce9.js"><link rel="prefetch" href="/assets/We-Media.html.172dd9bd.js"><link rel="prefetch" href="/assets/WMP.html.858aabc5.js"><link rel="prefetch" href="/assets/404.html.c2e39eca.js"><link rel="prefetch" href="/assets/index.html.36fc8602.js"><link rel="prefetch" href="/assets/index.html.74a70eb4.js"><link rel="prefetch" href="/assets/index.html.028b6439.js"><link rel="prefetch" href="/assets/index.html.e27284e0.js"><link rel="prefetch" href="/assets/index.html.8f0f7f95.js"><link rel="prefetch" href="/assets/index.html.7ccbec73.js"><link rel="prefetch" href="/assets/index.html.072384b3.js"><link rel="prefetch" href="/assets/index.html.365c6e0f.js"><link rel="prefetch" href="/assets/index.html.67b47778.js"><link rel="prefetch" href="/assets/index.html.ba9a304b.js"><link rel="prefetch" href="/assets/index.html.9376ec99.js"><link rel="prefetch" href="/assets/index.html.c3501038.js"><link rel="prefetch" href="/assets/index.html.3e656c79.js"><link rel="prefetch" href="/assets/index.html.01e129a8.js"><link rel="prefetch" href="/assets/index.html.3358a380.js"><link rel="prefetch" href="/assets/index.html.e32444bc.js"><link rel="prefetch" href="/assets/index.html.2a115ca5.js"><link rel="prefetch" href="/assets/index.html.9fe62f96.js"><link rel="prefetch" href="/assets/index.html.297e00a4.js"><link rel="prefetch" href="/assets/index.html.14056e8c.js"><link rel="prefetch" href="/assets/index.html.50708293.js"><link rel="prefetch" href="/assets/index.html.b8b4c96c.js"><link rel="prefetch" href="/assets/index.html.837973f9.js"><link rel="prefetch" href="/assets/index.html.34423c8b.js"><link rel="prefetch" href="/assets/index.html.3ba8ac10.js"><link rel="prefetch" href="/assets/index.html.564f01b9.js"><link rel="prefetch" href="/assets/index.html.369bc715.js"><link rel="prefetch" href="/assets/index.html.67325de7.js"><link rel="prefetch" href="/assets/index.html.de6c8cff.js"><link rel="prefetch" href="/assets/index.html.a4caab71.js"><link rel="prefetch" href="/assets/index.html.e1acbec4.js"><link rel="prefetch" href="/assets/index.html.51163e2a.js"><link rel="prefetch" href="/assets/index.html.bddab55e.js"><link rel="prefetch" href="/assets/index.html.ba8fa283.js"><link rel="prefetch" href="/assets/index.html.0971837d.js"><link rel="prefetch" href="/assets/index.html.8b1a6a5d.js"><link rel="prefetch" href="/assets/index.html.e6e010d3.js"><link rel="prefetch" href="/assets/index.html.f472be4c.js"><link rel="prefetch" href="/assets/index.html.8e9f2ae3.js"><link rel="prefetch" href="/assets/index.html.95d046f7.js"><link rel="prefetch" href="/assets/index.html.b26db191.js"><link rel="prefetch" href="/assets/index.html.bffa044a.js"><link rel="prefetch" href="/assets/index.html.e2734a54.js"><link rel="prefetch" href="/assets/index.html.d97c08e4.js"><link rel="prefetch" href="/assets/index.html.b1be3ee9.js"><link rel="prefetch" href="/assets/index.html.22ec64df.js"><link rel="prefetch" href="/assets/index.html.42cb4f2d.js"><link rel="prefetch" href="/assets/index.html.018d6f57.js"><link rel="prefetch" href="/assets/index.html.e49bd31e.js"><link rel="prefetch" href="/assets/index.html.ec2cdda2.js"><link rel="prefetch" href="/assets/index.html.10a6845b.js"><link rel="prefetch" href="/assets/index.html.44c744ac.js"><link rel="prefetch" href="/assets/index.html.69a9c490.js"><link rel="prefetch" href="/assets/index.html.a39e4853.js"><link rel="prefetch" href="/assets/index.html.2afb19ff.js"><link rel="prefetch" href="/assets/index.html.eb7ae4bc.js"><link rel="prefetch" href="/assets/index.html.f5b3cb8d.js"><link rel="prefetch" href="/assets/index.html.0d9667bb.js"><link rel="prefetch" href="/assets/index.html.7ab1509e.js"><link rel="prefetch" href="/assets/index.html.f175ae9a.js"><link rel="prefetch" href="/assets/index.html.4d0d7fe6.js"><link rel="prefetch" href="/assets/index.html.2b699849.js"><link rel="prefetch" href="/assets/index.html.e9a4f2d3.js"><link rel="prefetch" href="/assets/index.html.e264b133.js"><link rel="prefetch" href="/assets/index.html.8fc763eb.js"><link rel="prefetch" href="/assets/index.html.93600e0e.js"><link rel="prefetch" href="/assets/index.html.ee8a9b61.js"><link rel="prefetch" href="/assets/index.html.9e4843fb.js"><link rel="prefetch" href="/assets/index.html.f346ef18.js"><link rel="prefetch" href="/assets/index.html.5e9b7b4f.js"><link rel="prefetch" href="/assets/index.html.eee10b16.js"><link rel="prefetch" href="/assets/index.html.5d647bf9.js"><link rel="prefetch" href="/assets/index.html.9b602c32.js"><link rel="prefetch" href="/assets/index.html.a94ae221.js"><link rel="prefetch" href="/assets/index.html.2a233b5d.js"><link rel="prefetch" href="/assets/index.html.2c8427e4.js"><link rel="prefetch" href="/assets/index.html.534ec82e.js"><link rel="prefetch" href="/assets/index.html.4e69cca1.js"><link rel="prefetch" href="/assets/index.html.a14a9bba.js"><link rel="prefetch" href="/assets/index.html.7fb7a2f4.js"><link rel="prefetch" href="/assets/index.html.43c805f3.js"><link rel="prefetch" href="/assets/index.html.e9d79eb5.js"><link rel="prefetch" href="/assets/index.html.b63bb5d6.js"><link rel="prefetch" href="/assets/index.html.224ae436.js"><link rel="prefetch" href="/assets/index.html.81690f21.js"><link rel="prefetch" href="/assets/index.html.9970c522.js"><link rel="prefetch" href="/assets/index.html.99d2776a.js"><link rel="prefetch" href="/assets/index.html.dee3660a.js"><link rel="prefetch" href="/assets/index.html.577aef86.js"><link rel="prefetch" href="/assets/index.html.a8d91138.js"><link rel="prefetch" href="/assets/index.html.22b06a3f.js"><link rel="prefetch" href="/assets/index.html.ea3f610f.js"><link rel="prefetch" href="/assets/index.html.ae49d0e1.js"><link rel="prefetch" href="/assets/index.html.a23f246b.js"><link rel="prefetch" href="/assets/index.html.835932b4.js"><link rel="prefetch" href="/assets/index.html.c2ecfbdd.js"><link rel="prefetch" href="/assets/index.html.d0b2e548.js"><link rel="prefetch" href="/assets/index.html.5a459a11.js"><link rel="prefetch" href="/assets/index.html.a7512111.js"><link rel="prefetch" href="/assets/index.html.2eaf85f7.js"><link rel="prefetch" href="/assets/index.html.db10f6d5.js"><link rel="prefetch" href="/assets/index.html.cd23bae0.js"><link rel="prefetch" href="/assets/index.html.02a889b0.js"><link rel="prefetch" href="/assets/index.html.ee924163.js"><link rel="prefetch" href="/assets/index.html.273e9b37.js"><link rel="prefetch" href="/assets/index.html.f20a71e3.js"><link rel="prefetch" href="/assets/index.html.93640b13.js"><link rel="prefetch" href="/assets/index.html.a1f6c1b7.js"><link rel="prefetch" href="/assets/index.html.34a5a00a.js"><link rel="prefetch" href="/assets/index.html.8cbd93a0.js"><link rel="prefetch" href="/assets/index.html.509fe415.js"><link rel="prefetch" href="/assets/404.137bcafd.js"><link rel="prefetch" href="/assets/Layout.1260b9a8.js"><link rel="prefetch" href="/assets/Slide.4e8af6f2.js"><link rel="prefetch" href="/assets/Blog.86f5f49b.js"><link rel="prefetch" href="/assets/giscus.es.44628f1d.js"><link rel="prefetch" href="/assets/auto.esm.52abc6cc.js"><link rel="prefetch" href="/assets/index.147398ee.js"><link rel="prefetch" href="/assets/index.e1c5a3de.js"><link rel="prefetch" href="/assets/mermaid.esm.min.e741c6cd.js"><link rel="prefetch" href="/assets/highlight.esm.9b852bc5.js"><link rel="prefetch" href="/assets/markdown.esm.77e8db25.js"><link rel="prefetch" href="/assets/math.esm.cb9d4be3.js"><link rel="prefetch" href="/assets/notes.esm.62c5f19d.js"><link rel="prefetch" href="/assets/reveal.esm.41ec5d7f.js"><link rel="prefetch" href="/assets/search.esm.04894411.js"><link rel="prefetch" href="/assets/zoom.esm.78977eba.js"><link rel="prefetch" href="/assets/photoswipe.esm.351abe37.js"><link rel="prefetch" href="/assets/three.module.6ea4571d.js"><link rel="prefetch" href="/assets/OrbitControls.f2b1dd1d.js"><link rel="prefetch" href="/assets/STLLoader.9a9a186e.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="GIS-FSDE"><!----><span class="site-name hide-in-pad">GIS-FSDE</span></a><!----></div><div class="navbar-center"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="主页"><span class="icon iconfont icon-home" style=""></span>主页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/home.html" class="nav-link" aria-label="GIS-FSDE"><span class="icon iconfont icon-home" style=""></span>GIS-FSDE<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="JAVA全栈"><span class="title"><span class="icon iconfont icon-edit" style=""></span>JAVA全栈</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>后端</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/Java.html" class="nav-link" aria-label="JAVA"><span class="icon iconfont icon-edit" style=""></span>JAVA<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/JVM.html" class="nav-link" aria-label="JVM"><span class="icon iconfont icon-edit" style=""></span>JVM<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Python3.html" class="nav-link" aria-label="Python"><span class="icon iconfont icon-edit" style=""></span>Python<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/MYSQLOptimize.html" class="nav-link" aria-label="MYSQL"><span class="icon iconfont icon-edit" style=""></span>MYSQL<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="PostgreSQL"><span class="icon iconfont icon-edit" style=""></span>PostgreSQL<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/MongoDB.html" class="nav-link" aria-label="MongoDB"><span class="icon iconfont icon-edit" style=""></span>MongoDB<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="系统优化"><span class="icon iconfont icon-edit" style=""></span>系统优化<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="系统设计"><span class="icon iconfont icon-edit" style=""></span>系统设计<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="功能DEMO"><span class="icon iconfont icon-edit" style=""></span>功能DEMO<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>软件工程</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/PM.html" class="nav-link" aria-label="项目管理"><span class="icon iconfont icon-edit" style=""></span>项目管理<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Architect.html" class="nav-link" aria-label="架构师"><span class="icon iconfont icon-edit" style=""></span>架构师<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="软件工程"><span class="icon iconfont icon-edit" style=""></span>软件工程<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Network.html" class="nav-link" aria-label="网络"><span class="icon iconfont icon-edit" style=""></span>网络<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="安全"><span class="icon iconfont icon-edit" style=""></span>安全<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Algorithm.html" class="nav-link" aria-label="算法"><span class="icon iconfont icon-edit" style=""></span>算法<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/DesignPatterns.html" class="nav-link" aria-label="设计模式"><span class="icon iconfont icon-edit" style=""></span>设计模式<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="测试"><span class="icon iconfont icon-edit" style=""></span>测试<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/DevelopersFixComputer.html" class="nav-link" aria-label="程序员修电脑"><span class="icon iconfont icon-edit" style=""></span>程序员修电脑<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="数学"><span class="icon iconfont icon-edit" style=""></span>数学<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/EnglishDay.html" class="nav-link" aria-label="英语"><span class="icon iconfont icon-edit" style=""></span>英语<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>框架-中间件</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/Spring.html" class="nav-link" aria-label="Spring"><span class="icon iconfont icon-edit" style=""></span>Spring<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/SpringMVC.html" class="nav-link" aria-label="SpringMVC"><span class="icon iconfont icon-edit" style=""></span>SpringMVC<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/MyBatis.html" class="nav-link" aria-label="Mybatis"><span class="icon iconfont icon-edit" style=""></span>Mybatis<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/MyBatis-Plus.html" class="nav-link" aria-label="Mybatis-Plus"><span class="icon iconfont icon-edit" style=""></span>Mybatis-Plus<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/SpringBoot.html" class="nav-link" aria-label="SpringBoot"><span class="icon iconfont icon-edit" style=""></span>SpringBoot<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/SpringCloud.html" class="nav-link" aria-label="SpringCloud"><span class="icon iconfont icon-edit" style=""></span>SpringCloud<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Dubbo.html" class="nav-link" aria-label="Dubbo"><span class="icon iconfont icon-edit" style=""></span>Dubbo<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/RabbitMQ.html" class="nav-link" aria-label="RabbitMQ"><span class="icon iconfont icon-edit" style=""></span>RabbitMQ<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Redis.html" class="nav-link" aria-label="Redis"><span class="icon iconfont icon-edit" style=""></span>Redis<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Nginx.html" class="nav-link" aria-label="Nginx"><span class="icon iconfont icon-edit" style=""></span>Nginx<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="Maven"><span class="icon iconfont icon-edit" style=""></span>Maven<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>运维-工具</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/Linux.html" class="nav-link" aria-label="Linux"><span class="icon iconfont icon-edit" style=""></span>Linux<!----></a></li><li class="dropdown-subitem"><a aria-current="page" href="/posts/2021/Docker.html" class="router-link-active router-link-exact-active nav-link active" aria-label="Docker"><span class="icon iconfont icon-edit" style=""></span>Docker<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="IIS"><span class="icon iconfont icon-edit" style=""></span>IIS<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="Jenkins"><span class="icon iconfont icon-edit" style=""></span>Jenkins<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="从零网站上线"><span class="icon iconfont icon-edit" style=""></span>从零网站上线<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>前端</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/FrontEnd.html" class="nav-link" aria-label="前端"><span class="icon iconfont icon-edit" style=""></span>前端<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/FrontEnd.html" class="nav-link" aria-label="UI设计"><span class="icon iconfont icon-edit" style=""></span>UI设计<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/WMP.html" class="nav-link" aria-label="小程序"><span class="icon iconfont icon-edit" style=""></span>小程序<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="快乐编程"><span class="title"><span class="icon iconfont icon-edit" style=""></span>快乐编程</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>技术前沿</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="项目管理"><span class="icon iconfont icon-edit" style=""></span>项目管理<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>大数据</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="大数据"><span class="icon iconfont icon-edit" style=""></span>大数据<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>AI</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="深度学习"><span class="icon iconfont icon-edit" style=""></span>深度学习<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>GAME</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="UE4"><span class="icon iconfont icon-edit" style=""></span>UE4<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>GIS</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/GIS.html" class="nav-link" aria-label="GIS基础知识"><span class="icon iconfont icon-edit" style=""></span>GIS基础知识<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/GIS.html" class="nav-link" aria-label="GIS软件"><span class="icon iconfont icon-edit" style=""></span>GIS软件<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/GIS.html" class="nav-link" aria-label="Leaflet"><span class="icon iconfont icon-edit" style=""></span>Leaflet<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/GIS.html" class="nav-link" aria-label="Mapbox"><span class="icon iconfont icon-edit" style=""></span>Mapbox<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/GIS.html" class="nav-link" aria-label="Cesium"><span class="icon iconfont icon-edit" style=""></span>Cesium<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/GIS.html" class="nav-link" aria-label="最新技术"><span class="icon iconfont icon-edit" style=""></span>最新技术<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="思考"><span class="title"><span class="icon iconfont icon-edit" style=""></span>思考</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>技术思考</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="项目管理"><span class="icon iconfont icon-edit" style=""></span>项目管理<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>生活思考</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/HowToLearn.html" class="nav-link" aria-label="如何学习一个新知识"><span class="icon iconfont icon-edit" style=""></span>如何学习一个新知识<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="生活"><span class="title"><span class="icon iconfont icon-hot" style=""></span>生活</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>TODO</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/TODO.html" class="nav-link" aria-label="TODO"><span class="icon iconfont icon-edit" style=""></span>TODO<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>穿搭护肤</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/Health.html" class="nav-link" aria-label="穿搭"><span class="icon iconfont icon-edit" style=""></span>穿搭<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/Health.html" class="nav-link" aria-label="护肤"><span class="icon iconfont icon-edit" style=""></span>护肤<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>自媒体</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/We-Media.html" class="nav-link" aria-label="自媒体规划"><span class="icon iconfont icon-edit" style=""></span>自媒体规划<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/We-Media.html" class="nav-link" aria-label="自媒体矩阵"><span class="icon iconfont icon-edit" style=""></span>自媒体矩阵<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/We-Media.html" class="nav-link" aria-label="自媒体知识"><span class="icon iconfont icon-edit" style=""></span>自媒体知识<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>书影音</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/BMM.html" class="nav-link" aria-label="读后感"><span class="icon iconfont icon-edit" style=""></span>读后感<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/BMM.html" class="nav-link" aria-label="观后感"><span class="icon iconfont icon-edit" style=""></span>观后感<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>年月日</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/Summarize.html" class="nav-link" aria-label="年月日"><span class="icon iconfont icon-edit" style=""></span>年月日<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>健康</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="健身知识"><span class="icon iconfont icon-edit" style=""></span>健身知识<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="营养搭配"><span class="icon iconfont icon-edit" style=""></span>营养搭配<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="美食制作"><span class="icon iconfont icon-edit" style=""></span>美食制作<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>有用工具</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="电脑工具"><span class="icon iconfont icon-edit" style=""></span>电脑工具<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label><span class="icon iconfont icon-edit" style=""></span><!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Adobe</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="PS"><span class="icon iconfont icon-edit" style=""></span>PS<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="AE"><span class="icon iconfont icon-edit" style=""></span>AE<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="平面设计"><span class="icon iconfont icon-edit" style=""></span>平面设计<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>三维</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="C4D"><span class="icon iconfont icon-edit" style=""></span>C4D<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="艺术"><span class="title"><span class="icon iconfont icon-creative" style=""></span>艺术</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>音乐</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="乐理"><span class="icon iconfont icon-edit" style=""></span>乐理<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="吉他谱"><span class="icon iconfont icon-edit" style=""></span>吉他谱<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="钢琴谱"><span class="icon iconfont icon-edit" style=""></span>钢琴谱<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="其他谱"><span class="icon iconfont icon-edit" style=""></span>其他谱<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="作词编曲"><span class="icon iconfont icon-edit" style=""></span>作词编曲<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>摄影</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/album.html" class="nav-link" aria-label="审美提高"><span class="icon iconfont icon-edit" style=""></span>审美提高<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="摄影"><span class="icon iconfont icon-edit" style=""></span>摄影<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>数绘</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="审美提高"><span class="icon iconfont icon-edit" style=""></span>审美提高<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="数绘"><span class="icon iconfont icon-edit" style=""></span>数绘<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>记录</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="摄影记录"><span class="icon iconfont icon-edit" style=""></span>摄影记录<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="绘画记录"><span class="icon iconfont icon-edit" style=""></span>绘画记录<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="音乐记录"><span class="icon iconfont icon-edit" style=""></span>音乐记录<!----></a></li><li class="dropdown-subitem"><a href="/posts/2021/inconstruction.html" class="nav-link" aria-label="视频记录"><span class="icon iconfont icon-edit" style=""></span>视频记录<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/guide/" class="nav-link" aria-label="关于我"><span class="icon iconfont icon-emoji" style=""></span>关于我<!----></a></div></nav><!----></div><div class="navbar-right"><!----><!----><div class="nav-item"><a class="repo-link" href="https://github.com/GISFSDE/" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!----><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/" class="nav-link sidebar-link sidebar-page" aria-label="主页"><span class="icon iconfont icon-home" style=""></span>主页<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/home.html" class="nav-link sidebar-link sidebar-page" aria-label="GIS-FSDE"><span class="icon iconfont icon-home" style=""></span>GIS-FSDE<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><span class="icon iconfont icon-edit" style=""></span><span class="title">JAVA全栈</span><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">后端</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/Java.html" class="nav-link sidebar-link sidebar-page" aria-label="JAVA"><span class="icon iconfont icon-edit" style=""></span>JAVA<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/JVM.html" class="nav-link sidebar-link sidebar-page" aria-label="JVM"><span class="icon iconfont icon-edit" style=""></span>JVM<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Python3.html" class="nav-link sidebar-link sidebar-page" aria-label="Python"><span class="icon iconfont icon-edit" style=""></span>Python<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/MYSQLOptimize.html" class="nav-link sidebar-link sidebar-page" aria-label="MYSQL"><span class="icon iconfont icon-edit" style=""></span>MYSQL<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="PostgreSQL"><span class="icon iconfont icon-edit" style=""></span>PostgreSQL<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/MongoDB.html" class="nav-link sidebar-link sidebar-page" aria-label="MongoDB"><span class="icon iconfont icon-edit" style=""></span>MongoDB<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="系统优化"><span class="icon iconfont icon-edit" style=""></span>系统优化<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="系统设计"><span class="icon iconfont icon-edit" style=""></span>系统设计<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="功能DEMO"><span class="icon iconfont icon-edit" style=""></span>功能DEMO<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">软件工程</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/PM.html" class="nav-link sidebar-link sidebar-page" aria-label="项目管理"><span class="icon iconfont icon-edit" style=""></span>项目管理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Architect.html" class="nav-link sidebar-link sidebar-page" aria-label="架构师"><span class="icon iconfont icon-edit" style=""></span>架构师<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="软件工程"><span class="icon iconfont icon-edit" style=""></span>软件工程<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Network.html" class="nav-link sidebar-link sidebar-page" aria-label="网络"><span class="icon iconfont icon-edit" style=""></span>网络<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="安全"><span class="icon iconfont icon-edit" style=""></span>安全<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Algorithm.html" class="nav-link sidebar-link sidebar-page" aria-label="算法"><span class="icon iconfont icon-edit" style=""></span>算法<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/DesignPatterns.html" class="nav-link sidebar-link sidebar-page" aria-label="设计模式"><span class="icon iconfont icon-edit" style=""></span>设计模式<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="测试"><span class="icon iconfont icon-edit" style=""></span>测试<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/DevelopersFixComputer.html" class="nav-link sidebar-link sidebar-page" aria-label="程序员修电脑"><span class="icon iconfont icon-edit" style=""></span>程序员修电脑<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="数学"><span class="icon iconfont icon-edit" style=""></span>数学<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/EnglishDay.html" class="nav-link sidebar-link sidebar-page" aria-label="英语"><span class="icon iconfont icon-edit" style=""></span>英语<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">框架-中间件</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/Spring.html" class="nav-link sidebar-link sidebar-page" aria-label="Spring"><span class="icon iconfont icon-edit" style=""></span>Spring<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/SpringMVC.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringMVC"><span class="icon iconfont icon-edit" style=""></span>SpringMVC<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/MyBatis.html" class="nav-link sidebar-link sidebar-page" aria-label="Mybatis"><span class="icon iconfont icon-edit" style=""></span>Mybatis<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/MyBatis-Plus.html" class="nav-link sidebar-link sidebar-page" aria-label="Mybatis-Plus"><span class="icon iconfont icon-edit" style=""></span>Mybatis-Plus<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/SpringBoot.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringBoot"><span class="icon iconfont icon-edit" style=""></span>SpringBoot<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/SpringCloud.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringCloud"><span class="icon iconfont icon-edit" style=""></span>SpringCloud<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Dubbo.html" class="nav-link sidebar-link sidebar-page" aria-label="Dubbo"><span class="icon iconfont icon-edit" style=""></span>Dubbo<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/RabbitMQ.html" class="nav-link sidebar-link sidebar-page" aria-label="RabbitMQ"><span class="icon iconfont icon-edit" style=""></span>RabbitMQ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Redis.html" class="nav-link sidebar-link sidebar-page" aria-label="Redis"><span class="icon iconfont icon-edit" style=""></span>Redis<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Nginx.html" class="nav-link sidebar-link sidebar-page" aria-label="Nginx"><span class="icon iconfont icon-edit" style=""></span>Nginx<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="Maven"><span class="icon iconfont icon-edit" style=""></span>Maven<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><span class="icon iconfont icon-edit" style=""></span><span class="title">运维-工具</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/Linux.html" class="nav-link sidebar-link sidebar-page" aria-label="Linux"><span class="icon iconfont icon-edit" style=""></span>Linux<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/posts/2021/Docker.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="Docker"><span class="icon iconfont icon-edit" style=""></span>Docker<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#是什么" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="是什么？"><!---->是什么？<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#能干嘛" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="能干嘛"><!---->能干嘛<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#_1-应用场景" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1.应用场景"><!---->1.应用场景<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#_2-优点" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.优点"><!---->2.优点<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#_1、快速-一致地交付您的应用程序" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1、快速，一致地交付您的应用程序"><!---->1、快速，一致地交付您的应用程序<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#_2、响应式部署和扩展" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2、响应式部署和扩展"><!---->2、响应式部署和扩展<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#_3、在同一硬件上运行更多工作负载" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3、在同一硬件上运行更多工作负载"><!---->3、在同一硬件上运行更多工作负载<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#安装方法一" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="安装方法一"><!---->安装方法一<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#前提说明" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="前提说明"><!---->前提说明<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#docker-的基本组成" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Docker 的基本组成"><!---->Docker 的基本组成<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#_2-1-卸载系统之前安装的docker" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2.1 卸载系统之前安装的docker"><!---->2.1 卸载系统之前安装的docker<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#安装方法二" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="安装方法二"><!---->安装方法二<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#永远的helloworld" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="永远的helloworld"><!---->永远的helloworld<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#底层原理" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="底层原理"><!---->底层原理<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#帮助命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="帮助命令"><!---->帮助命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#镜像命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="镜像命令"><!---->镜像命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#容器命令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="容器命令"><!---->容器命令<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#重要" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="重要"><!---->重要<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#小总结-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="小总结"><!---->小总结<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#是什么-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="是什么"><!---->是什么<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#unionfs-联合文件系统" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="UnionFS(联合文件系统)"><!---->UnionFS(联合文件系统)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#docker镜像加载原理" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Docker镜像加载原理"><!---->Docker镜像加载原理<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#分层的镜像" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="分层的镜像"><!---->分层的镜像<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#分层的镜像-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="分层的镜像"><!---->分层的镜像<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#为什么-docker纪念馆想要采用这种分层结构" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="为什么 Docker纪念馆想要采用这种分层结构"><!---->为什么 Docker纪念馆想要采用这种分层结构<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#特点" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="特点"><!---->特点<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#docker镜像commit操作" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Docker镜像Commit操作"><!---->Docker镜像Commit操作<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#是什么-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="是什么"><!---->是什么<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#能干嘛-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="能干嘛"><!---->能干嘛<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#数据卷" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="数据卷"><!---->数据卷<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#容器内添加" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="容器内添加"><!---->容器内添加<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#数据卷容器" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="数据卷容器"><!---->数据卷容器<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#是什么-3" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="是什么"><!---->是什么<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#总体介绍" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="总体介绍"><!---->总体介绍<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#容器间传递共享-volumes-from" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="容器间传递共享(--volumes -from)"><!---->容器间传递共享(--volumes -from)<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#是什么-4" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="是什么"><!---->是什么<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#dockerfile是用来构建docker镜像的构建文件-由一系列命令和参数构成的脚本" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Dockerfile是用来构建Docker镜像的构建文件，由一系列命令和参数构成的脚本"><!---->Dockerfile是用来构建Docker镜像的构建文件，由一系列命令和参数构成的脚本<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#构建三步骤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="构建三步骤"><!---->构建三步骤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#文件什么样" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="文件什么样？？？"><!---->文件什么样？？？<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#dockerfile构建过程解析" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="DockerFile构建过程解析"><!---->DockerFile构建过程解析<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#docker执行dockerfile的大致流程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Docker执行Dockerfile的大致流程"><!---->Docker执行Dockerfile的大致流程<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#小总结-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="小总结"><!---->小总结<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#dockerfile体系结构-保留字指令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="DockerFile体系结构(保留字指令)"><!---->DockerFile体系结构(保留字指令)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#案例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="案例"><!---->案例<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#base-镜像-scratch" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Base 镜像(scratch)"><!---->Base 镜像(scratch)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#自定义镜像mycentos" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="自定义镜像mycentos"><!---->自定义镜像mycentos<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#cmd" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="CMD"><!---->CMD<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#自定义镜像tomcat" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="自定义镜像Tomcat"><!---->自定义镜像Tomcat<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#小总结-3" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="小总结"><!---->小总结<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#总体步骤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="总体步骤"><!---->总体步骤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#安装mysql" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="安装Mysql"><!---->安装Mysql<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#安装redis" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="安装Redis"><!---->安装Redis<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#本地镜像发布到阿里云流程" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="本地镜像发布到阿里云流程"><!---->本地镜像发布到阿里云流程<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#镜像生成方法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="镜像生成方法"><!---->镜像生成方法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#将本地镜像推送到阿里云" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="将本地镜像推送到阿里云"><!---->将本地镜像推送到阿里云<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/posts/2021/Docker.html#将阿里云上的镜像下载到本地" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="将阿里云上的镜像下载到本地"><!---->将阿里云上的镜像下载到本地<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="IIS"><span class="icon iconfont icon-edit" style=""></span>IIS<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="Jenkins"><span class="icon iconfont icon-edit" style=""></span>Jenkins<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="从零网站上线"><span class="icon iconfont icon-edit" style=""></span>从零网站上线<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">前端</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/FrontEnd.html" class="nav-link sidebar-link sidebar-page" aria-label="前端"><span class="icon iconfont icon-edit" style=""></span>前端<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/FrontEnd.html" class="nav-link sidebar-link sidebar-page" aria-label="UI设计"><span class="icon iconfont icon-edit" style=""></span>UI设计<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/WMP.html" class="nav-link sidebar-link sidebar-page" aria-label="小程序"><span class="icon iconfont icon-edit" style=""></span>小程序<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">快乐编程</span><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">技术前沿</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="项目管理"><span class="icon iconfont icon-edit" style=""></span>项目管理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">大数据</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="大数据"><span class="icon iconfont icon-edit" style=""></span>大数据<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">AI</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="深度学习"><span class="icon iconfont icon-edit" style=""></span>深度学习<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">GAME</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="UE4"><span class="icon iconfont icon-edit" style=""></span>UE4<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">GIS</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/GIS.html" class="nav-link sidebar-link sidebar-page" aria-label="GIS基础知识"><span class="icon iconfont icon-edit" style=""></span>GIS基础知识<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/GIS.html" class="nav-link sidebar-link sidebar-page" aria-label="GIS软件"><span class="icon iconfont icon-edit" style=""></span>GIS软件<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/GIS.html" class="nav-link sidebar-link sidebar-page" aria-label="Leaflet"><span class="icon iconfont icon-edit" style=""></span>Leaflet<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/GIS.html" class="nav-link sidebar-link sidebar-page" aria-label="Mapbox"><span class="icon iconfont icon-edit" style=""></span>Mapbox<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/GIS.html" class="nav-link sidebar-link sidebar-page" aria-label="Cesium"><span class="icon iconfont icon-edit" style=""></span>Cesium<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/GIS.html" class="nav-link sidebar-link sidebar-page" aria-label="最新技术"><span class="icon iconfont icon-edit" style=""></span>最新技术<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">思考</span><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">技术思考</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="项目管理"><span class="icon iconfont icon-edit" style=""></span>项目管理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">生活思考</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/HowToLearn.html" class="nav-link sidebar-link sidebar-page" aria-label="如何学习一个新知识"><span class="icon iconfont icon-edit" style=""></span>如何学习一个新知识<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-hot" style=""></span><span class="title">生活</span><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">TODO</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/TODO.html" class="nav-link sidebar-link sidebar-page" aria-label="TODO"><span class="icon iconfont icon-edit" style=""></span>TODO<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">穿搭护肤</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/Health.html" class="nav-link sidebar-link sidebar-page" aria-label="穿搭"><span class="icon iconfont icon-edit" style=""></span>穿搭<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/Health.html" class="nav-link sidebar-link sidebar-page" aria-label="护肤"><span class="icon iconfont icon-edit" style=""></span>护肤<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">自媒体</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/We-Media.html" class="nav-link sidebar-link sidebar-page" aria-label="自媒体规划"><span class="icon iconfont icon-edit" style=""></span>自媒体规划<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/We-Media.html" class="nav-link sidebar-link sidebar-page" aria-label="自媒体矩阵"><span class="icon iconfont icon-edit" style=""></span>自媒体矩阵<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/We-Media.html" class="nav-link sidebar-link sidebar-page" aria-label="自媒体知识"><span class="icon iconfont icon-edit" style=""></span>自媒体知识<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">书影音</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/BMM.html" class="nav-link sidebar-link sidebar-page" aria-label="读后感"><span class="icon iconfont icon-edit" style=""></span>读后感<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/BMM.html" class="nav-link sidebar-link sidebar-page" aria-label="观后感"><span class="icon iconfont icon-edit" style=""></span>观后感<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">年月日</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/Summarize.html" class="nav-link sidebar-link sidebar-page" aria-label="年月日"><span class="icon iconfont icon-edit" style=""></span>年月日<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">健康</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="健身知识"><span class="icon iconfont icon-edit" style=""></span>健身知识<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="营养搭配"><span class="icon iconfont icon-edit" style=""></span>营养搭配<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="美食制作"><span class="icon iconfont icon-edit" style=""></span>美食制作<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">有用工具</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="电脑工具"><span class="icon iconfont icon-edit" style=""></span>电脑工具<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label><span class="icon iconfont icon-edit" style=""></span><!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">Adobe</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="PS"><span class="icon iconfont icon-edit" style=""></span>PS<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="AE"><span class="icon iconfont icon-edit" style=""></span>AE<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="平面设计"><span class="icon iconfont icon-edit" style=""></span>平面设计<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">三维</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="C4D"><span class="icon iconfont icon-edit" style=""></span>C4D<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-creative" style=""></span><span class="title">艺术</span><!----></p><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">音乐</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="乐理"><span class="icon iconfont icon-edit" style=""></span>乐理<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="吉他谱"><span class="icon iconfont icon-edit" style=""></span>吉他谱<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="钢琴谱"><span class="icon iconfont icon-edit" style=""></span>钢琴谱<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="其他谱"><span class="icon iconfont icon-edit" style=""></span>其他谱<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="作词编曲"><span class="icon iconfont icon-edit" style=""></span>作词编曲<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">摄影</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/album.html" class="nav-link sidebar-link sidebar-page" aria-label="审美提高"><span class="icon iconfont icon-edit" style=""></span>审美提高<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="摄影"><span class="icon iconfont icon-edit" style=""></span>摄影<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">数绘</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="审美提高"><span class="icon iconfont icon-edit" style=""></span>审美提高<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="数绘"><span class="icon iconfont icon-edit" style=""></span>数绘<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><p class="sidebar-heading"><span class="icon iconfont icon-edit" style=""></span><span class="title">记录</span><!----></p><ul class="sidebar-links"><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="摄影记录"><span class="icon iconfont icon-edit" style=""></span>摄影记录<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="绘画记录"><span class="icon iconfont icon-edit" style=""></span>绘画记录<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="音乐记录"><span class="icon iconfont icon-edit" style=""></span>音乐记录<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/posts/2021/inconstruction.html" class="nav-link sidebar-link sidebar-page" aria-label="视频记录"><span class="icon iconfont icon-edit" style=""></span>视频记录<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li></ul></section><!--]--></li><li><!--[--><a href="/guide/" class="nav-link sidebar-link sidebar-page" aria-label="关于我"><span class="icon iconfont icon-emoji" style=""></span>关于我<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><span class="icon iconfont icon-markdown" style=""></span>Docker</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down" localizeddate="2022年6月6日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://www.gisfsde.com" target="_blank" rel="noopener noreferrer">GIS-FSDE</a></span><span property="author" content="GIS-FSDE"></span></span><!----><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span>2022年6月6日</span><meta property="datePublished" content="2022-06-06T00:00:00.000Z"></span><span class="category-info" aria-label="分类🌈" data-balloon-pos="down" localizeddate="2022年6月6日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li class="category category4 clickable" role="navigation">Docker</li><meta property="articleSection" content="Docker"></ul></span><span aria-label="标签🏷" data-balloon-pos="down" localizeddate="2022年6月6日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><ul class="tags-wrapper"><li class="tag tag4 clickable" role="navigation">Docker</li></ul><meta property="keywords" content="Docker"></span><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down" localizeddate="2022年6月6日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 79 分钟</span><meta property="timeRequired" content="PT79M"></span><span class="words-info" aria-label="字数🔠" data-balloon-pos="down" localizeddate="2022年6月6日" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 23584 字</span><meta property="wordCount" content="23584"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#是什么" class="router-link-active router-link-exact-active toc-link level3">是什么？</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#能干嘛" class="router-link-active router-link-exact-active toc-link level3">能干嘛</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#_1-应用场景" class="router-link-active router-link-exact-active toc-link level2">1.应用场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#_2-优点" class="router-link-active router-link-exact-active toc-link level2">2.优点</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#_1、快速-一致地交付您的应用程序" class="router-link-active router-link-exact-active toc-link level3">1、快速，一致地交付您的应用程序</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#_2、响应式部署和扩展" class="router-link-active router-link-exact-active toc-link level3">2、响应式部署和扩展</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#_3、在同一硬件上运行更多工作负载" class="router-link-active router-link-exact-active toc-link level3">3、在同一硬件上运行更多工作负载</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#安装方法一" class="router-link-active router-link-exact-active toc-link level2">安装方法一</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#前提说明" class="router-link-active router-link-exact-active toc-link level3">前提说明</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#docker-的基本组成" class="router-link-active router-link-exact-active toc-link level3">Docker 的基本组成</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#_2-1-卸载系统之前安装的docker" class="router-link-active router-link-exact-active toc-link level3">2.1 卸载系统之前安装的docker</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#安装方法二" class="router-link-active router-link-exact-active toc-link level2">安装方法二</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#永远的helloworld" class="router-link-active router-link-exact-active toc-link level3">永远的helloworld</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#底层原理" class="router-link-active router-link-exact-active toc-link level3">底层原理</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#帮助命令" class="router-link-active router-link-exact-active toc-link level3">帮助命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#镜像命令" class="router-link-active router-link-exact-active toc-link level3">镜像命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#容器命令" class="router-link-active router-link-exact-active toc-link level3">容器命令</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#重要" class="router-link-active router-link-exact-active toc-link level3">重要</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#小总结-1" class="router-link-active router-link-exact-active toc-link level3">小总结</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#是什么-1" class="router-link-active router-link-exact-active toc-link level2">是什么</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#unionfs-联合文件系统" class="router-link-active router-link-exact-active toc-link level3">UnionFS(联合文件系统)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#docker镜像加载原理" class="router-link-active router-link-exact-active toc-link level3">Docker镜像加载原理</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#分层的镜像" class="router-link-active router-link-exact-active toc-link level3">分层的镜像</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#分层的镜像-1" class="router-link-active router-link-exact-active toc-link level3">分层的镜像</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#为什么-docker纪念馆想要采用这种分层结构" class="router-link-active router-link-exact-active toc-link level3">为什么 Docker纪念馆想要采用这种分层结构</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#特点" class="router-link-active router-link-exact-active toc-link level2">特点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#docker镜像commit操作" class="router-link-active router-link-exact-active toc-link level2">Docker镜像Commit操作</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#是什么-2" class="router-link-active router-link-exact-active toc-link level2">是什么</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#能干嘛-1" class="router-link-active router-link-exact-active toc-link level2">能干嘛</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#数据卷" class="router-link-active router-link-exact-active toc-link level2">数据卷</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#容器内添加" class="router-link-active router-link-exact-active toc-link level3">容器内添加</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#数据卷容器" class="router-link-active router-link-exact-active toc-link level2">数据卷容器</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#是什么-3" class="router-link-active router-link-exact-active toc-link level3">是什么</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#总体介绍" class="router-link-active router-link-exact-active toc-link level3">总体介绍</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#容器间传递共享-volumes-from" class="router-link-active router-link-exact-active toc-link level3">容器间传递共享(--volumes -from)</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#是什么-4" class="router-link-active router-link-exact-active toc-link level2">是什么</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#dockerfile是用来构建docker镜像的构建文件-由一系列命令和参数构成的脚本" class="router-link-active router-link-exact-active toc-link level3">Dockerfile是用来构建Docker镜像的构建文件，由一系列命令和参数构成的脚本</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#构建三步骤" class="router-link-active router-link-exact-active toc-link level3">构建三步骤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#文件什么样" class="router-link-active router-link-exact-active toc-link level3">文件什么样？？？</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#dockerfile构建过程解析" class="router-link-active router-link-exact-active toc-link level2">DockerFile构建过程解析</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#docker执行dockerfile的大致流程" class="router-link-active router-link-exact-active toc-link level3">Docker执行Dockerfile的大致流程</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#小总结-2" class="router-link-active router-link-exact-active toc-link level3">小总结</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#dockerfile体系结构-保留字指令" class="router-link-active router-link-exact-active toc-link level2">DockerFile体系结构(保留字指令)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#案例" class="router-link-active router-link-exact-active toc-link level2">案例</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#base-镜像-scratch" class="router-link-active router-link-exact-active toc-link level3">Base 镜像(scratch)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#自定义镜像mycentos" class="router-link-active router-link-exact-active toc-link level3">自定义镜像mycentos</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#cmd" class="router-link-active router-link-exact-active toc-link level3">CMD</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#自定义镜像tomcat" class="router-link-active router-link-exact-active toc-link level3">自定义镜像Tomcat</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#小总结-3" class="router-link-active router-link-exact-active toc-link level2">小总结</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#总体步骤" class="router-link-active router-link-exact-active toc-link level3">总体步骤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#安装mysql" class="router-link-active router-link-exact-active toc-link level3">安装Mysql</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#安装redis" class="router-link-active router-link-exact-active toc-link level3">安装Redis</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#本地镜像发布到阿里云流程" class="router-link-active router-link-exact-active toc-link level3">本地镜像发布到阿里云流程</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#镜像生成方法" class="router-link-active router-link-exact-active toc-link level3">镜像生成方法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#将本地镜像推送到阿里云" class="router-link-active router-link-exact-active toc-link level3">将本地镜像推送到阿里云</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/posts/2021/Docker.html#将阿里云上的镜像下载到本地" class="router-link-active router-link-exact-active toc-link level3">将阿里云上的镜像下载到本地</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><blockquote><p>Docker，开源基于GO语言的应用容器引擎，可对应用和相关依赖包打包到轻量可以移植的Docker容器中，可发布到任何Linux中，容器性能开销极低。</p></blockquote><blockquote><h1 id="新学四问" tabindex="-1"><a class="header-anchor" href="#新学四问" aria-hidden="true">#</a> 新学四问</h1><p><strong>WHY【与前代优化了什么，弥补了什么空白】</strong>：自动化开发部署流程，环境<br><strong>WHAT【框架，思维导图，主题框架】</strong>：安装实例，<br><strong>HOW【如何记忆，学习资源（官方文档、视频资源、项目地址）】</strong>：<a href="https://www.runoob.com/docker/docker-tutorial.html" target="_blank" rel="noopener noreferrer">Docker 教程 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><br><strong>LEVEL【不是每个都学精】</strong>：熟练操作</p></blockquote><h1 id="进度-【】" tabindex="-1"><a class="header-anchor" href="#进度-【】" aria-hidden="true">#</a> 进度： 【】</h1><h1 id="一、简介" tabindex="-1"><a class="header-anchor" href="#一、简介" aria-hidden="true">#</a> 一、简介</h1><h3 id="是什么" tabindex="-1"><a class="header-anchor" href="#是什么" aria-hidden="true">#</a> 是什么？</h3><h4 id="问题-为什么会有-docker-的出现" tabindex="-1"><a class="header-anchor" href="#问题-为什么会有-docker-的出现" aria-hidden="true">#</a> 问题：为什么会有 docker 的出现</h4><p>一款产 品从开发到上线，从操作系统，到运行环境，再到应用配置。作为开发+运维之间的协作我们需要关心很多东西，这也是很多互联网公司都不得不面对的问题，特别是各种版本的迭代之后，不同版本环境的兼容，对运维人员都是考验 <strong>Docker</strong>之所以发展如此迅速，也是因为它对此给出了一个标准化的解决方案。 环境配置如此麻烦，换一台机器，就要重来一次，费力费时。很多人想到，能不能从根本上解决问题，软件可以带环境安装?也就是说，安装的时候，把原始环境-模-样地复制过来。开发人员利用Docker可以消除协作编码时“在我的机器上可正常工作”的问题。</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152610381.png" alt="image-20220522152610381" loading="lazy"></p><p>之前在服务器配置一个应用的运行环境，要安装各种软件，就拿尚硅谷电商项目的环境来说吧，<strong>Java/TomcatMySQL/JDBC</strong>驱动包等。安装和配置这些东西有多麻烦就不说了，它还不能跨平台。假如我们是在<strong>Windows</strong>上安装的这些环境，到了Linux 又得重新装。况且就算不跨操作系统，换另一台同样操作系统的服务器，要移植应用也是非常麻烦的。</p><p>传统上认为，软件编码开发/测试结束后，所产出的成果即是程序或是能够编译执行的二进制字节码等java为例)。而为了让这程序可以顺利执行，开发团队也得准备完整的部署文件，让维运团队得以部署应用程式，<strong>开发需要清楚的告诉运维部署团队，用的全部配置文件+所有软件环境。不过，即便如此，仍然常常发生部署失败的状况。<strong>Docker镜 像的设计</strong>，使得Docker得以打过去「程序即应用」的观念。透过镜像(images)将作业系统核心除外，运作应用程式所需要的系统环境，由下而上打包，达到应用程式跨平台间的无缝接轨运.作。</strong></p><h4 id="docker理念" tabindex="-1"><a class="header-anchor" href="#docker理念" aria-hidden="true">#</a> docker理念</h4><p>Docker是基于Go语言实现的云开源项目。 Docker的主要目标是“<strong>Build, Ship[ and Run Any App,Anywhere</strong>&quot;，也就是通过对应用组件的封装、分发、部署、运行等生命期的管理，使用户的APP (可以是一个WEB应用或数据库应用等等)及其运行环境能够做到“<strong>一次封装，到处运行</strong>”。</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152625314.png" alt="image-20220522152625314" loading="lazy"></p><p>Linux容器技术的出现就解决了这样一 一个问题，而Docker就是在它的基础上发展过来的。将应用运行在Docker容器上面，而Docker容器在任何操作系统上都是一-致的，这就实现了跨平台、跨服务器。<strong>只需要一次配置好环境，换到别的机子上就可以一键部署好，大大简化了操作</strong></p><h4 id="一句话" tabindex="-1"><a class="header-anchor" href="#一句话" aria-hidden="true">#</a> 一句话</h4><p>解决了运行环境和配置问题的软件容器，方便做持续集成并有助于整体发布的容器虚拟化技术</p><h3 id="能干嘛" tabindex="-1"><a class="header-anchor" href="#能干嘛" aria-hidden="true">#</a> 能干嘛</h3><h4 id="之前的虚拟机技术" tabindex="-1"><a class="header-anchor" href="#之前的虚拟机技术" aria-hidden="true">#</a> 之前的虚拟机技术</h4><p>虚拟机**(virtual machine)**就是带环境安装的一种解决方案。</p><p>它可以在一种操作系统里面运行另一种作系统，比如在<strong>Windows系统里面运行Linux系统</strong>。应用程序对此毫无感知，因为虚拟机看上去跟真实系统- -模-样，而对于底层系统来说，虚拟机就是一个普通文件，不需要了就删掉，对其他部分毫无影响。这类虚拟机完美的运行了另一套系统，能够使应用程序，操作系统和硬件三者之间的逻辑不变。</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152638357.png" alt="image-20220522152638357" loading="lazy"></p><p>虚拟机的缺点:</p><p>1、资源占用多</p><p>2、冗余步骤多</p><p>3、启动慢</p><h4 id="容器虚拟化技术" tabindex="-1"><a class="header-anchor" href="#容器虚拟化技术" aria-hidden="true">#</a> 容器虚拟化技术</h4><p>由于前面虛拟机存在这些缺点，<strong>Linux</strong> 发展出了另一种虚拟化技术: <strong>Linux 容器</strong>(Linux Containers,缩为LXC)。</p><p><strong>Linux容器不是模拟一个完整的操作系统</strong>，而是对进程进行隔离。有了容器，就可以将软件运行所的所有资源打包到一个隔离的容器中。容器与虚拟机不同，不需要捆绑一整套操作系统，只需要软件工作所需的库资源和设置。系统因此而变得高效轻量并保证部署在任何环境中的软件都能始终如一地运行。.</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152657342.png" alt="image-20220522152657342" loading="lazy"></p><p>比较了<strong>Docker</strong>和传统虚拟化方式的不同之处:</p><p>1、传统虚拟机技术是虚拟出一套硬件后，在其上运行一个完整操作系统，在该系统上再运行所需应用进程;</p><p>2、而容器内的应用进程直接运行于宿主的内核，容器内没有自己的内核，<strong>而且也没有进行硬件虚拟</strong>。因此容器要比传统虚拟机为轻便。</p><p>3、每个容器之间互相隔离，每个容器有自己的文件系统，容器之间进程不会相互影响，能区分计算资源。</p><h4 id="开发-运维-devops" tabindex="-1"><a class="header-anchor" href="#开发-运维-devops" aria-hidden="true">#</a> 开发/运维(DevOps)</h4><p>一次构建、随处运行，</p><h5 id="更快速的应用交付和部署" tabindex="-1"><a class="header-anchor" href="#更快速的应用交付和部署" aria-hidden="true">#</a> 更快速的应用交付和部署</h5><p>​ 传统的应用开发完成后，需要提供一堆安装程序和配置说明文档，安装部署后需根据配置文档进行繁杂的配置才能正常运行。Docker化 之后只需要交付少量容器镜像文件，在正式生产环境加载镜像并运行即可，应用安装配置在镜像里已经内置好，大大节省部署配置和测 试验证时间。</p><h5 id="更便捷的升级和扩缩容" tabindex="-1"><a class="header-anchor" href="#更便捷的升级和扩缩容" aria-hidden="true">#</a> 更便捷的升级和扩缩容</h5><p>​ 随着微服务架构和Docker的发展，大量的应用会通过微服务方式架构，应用的开发构建将变成搭乐高积木一样，每个Docker容器将变成-块“积木”，应用的升级将变得非常容易。当现有的容器不足以支撑业务处理时，可通过镜像运行新的容器进行快速扩容，使应用系统的扩容从原先的天级变成分钟级甚至秒级。</p><h5 id="更简单的系统运维" tabindex="-1"><a class="header-anchor" href="#更简单的系统运维" aria-hidden="true">#</a> 更简单的系统运维</h5><p>​ 应用容器化运行后，生产环境运行的应用可与开发、测试环境的应用高度--致，容器会将应用程序相关的环境和状态完全封装起来，不会因为底层基础架构和操作系统的不一致性给应用带来影响，产生新的BUG。当出现程序异常时，也可以通过测试环境的相同容器进行快速定位和修复。</p><h5 id="更高效的计算资源利用" tabindex="-1"><a class="header-anchor" href="#更高效的计算资源利用" aria-hidden="true">#</a> 更高效的计算资源利用</h5><p>​ <strong>Docker是内核级虚拟化</strong>，其不像传统的虚拟化技术一样 需要额外的Hypervisor支持，所以在-台物理机上可以运行很多个容器实例，可大大提升物理服务器的CPU和内存的利用率。</p><h4 id="企业级" tabindex="-1"><a class="header-anchor" href="#企业级" aria-hidden="true">#</a> 企业级</h4><p>新浪</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152720164.png" alt="image-20220522152720164" loading="lazy"></p><p>美团</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152727419.png" alt="image-20220522152727419" loading="lazy"></p><p>蘑菇街</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152736292.png" alt="image-20220522152736292" loading="lazy"></p><h4 id="去哪下" tabindex="-1"><a class="header-anchor" href="#去哪下" aria-hidden="true">#</a> 去哪下</h4><h5 id="_1、官网" tabindex="-1"><a class="header-anchor" href="#_1、官网" aria-hidden="true">#</a> 1、官网</h5><p>docker官网： <a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">https://www.docker.com/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>docker中文网站: <a href="https://www.docker-cn.com/" target="_blank" rel="noopener noreferrer">https://www.docker-cn.com/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h5 id="_2、仓库" tabindex="-1"><a class="header-anchor" href="#_2、仓库" aria-hidden="true">#</a> 2、仓库</h5><p>Docker Hub官网：<a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">https://hub.docker.com/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="_1-应用场景" tabindex="-1"><a class="header-anchor" href="#_1-应用场景" aria-hidden="true">#</a> 1.应用场景</h2><ul><li>Web 应用的自动化打包和发布。</li><li>自动化测试和持续集成、发布。</li><li>在服务型环境中部署和调整数据库或其他的后台应用。</li><li>从头编译或者扩展现有的 OpenShift 或 Cloud Foundry 平台来搭建自己的 PaaS 环境。</li></ul><h2 id="_2-优点" tabindex="-1"><a class="header-anchor" href="#_2-优点" aria-hidden="true">#</a> 2.优点</h2><p>Docker 是一个用于开发，交付和运行应用程序的开放平台。Docker 使您能够将<strong>应用程序与基础架构分开</strong>，从而可以快速交付软件。借助 Docker，您可以与管理应用程序相同的方式来管理基础架构。通过利用 Docker 的方法来<strong>快速交付，测试和部署代码</strong>，您可以大大减少编写代码和在生产环境中运行代码之间的延迟。</p><h3 id="_1、快速-一致地交付您的应用程序" tabindex="-1"><a class="header-anchor" href="#_1、快速-一致地交付您的应用程序" aria-hidden="true">#</a> 1、快速，一致地交付您的应用程序</h3><p>Docker 允许开发人员使用您提供的应用程序或服务的本地容器在标准化环境中工作，从而简化了开发的生命周期。</p><p>容器非常适合持续集成和持续交付（CI / CD）工作流程，请考虑以下示例方案：</p><ul><li>您的开发人员在本地编写代码，并使用 Docker 容器与同事共享他们的工作。</li><li>他们使用 Docker 将其应用程序推送到测试环境中，并执行自动或手动测试。</li><li>当开发人员发现错误时，他们可以在开发环境中对其进行修复，然后将其重新部署到测试环境中，以进行测试和验证。</li><li>测试完成后，将修补程序推送给生产环境，就像将更新的镜像推送到生产环境一样简单。</li></ul><h3 id="_2、响应式部署和扩展" tabindex="-1"><a class="header-anchor" href="#_2、响应式部署和扩展" aria-hidden="true">#</a> 2、响应式部署和扩展</h3><p>Docker 是基于容器的平台，允许高度可移植的工作负载。Docker 容器可以在开发人员的本机上，数据中心的物理或虚拟机上，云服务上或混合环境中运行。</p><p>Docker 的可移植性和轻量级的特性，还可以使您轻松地完成动态管理的工作负担，并根据业务需求指示，实时扩展或拆除应用程序和服务。</p><h3 id="_3、在同一硬件上运行更多工作负载" tabindex="-1"><a class="header-anchor" href="#_3、在同一硬件上运行更多工作负载" aria-hidden="true">#</a> 3、在同一硬件上运行更多工作负载</h3><p>Docker 轻巧快速。它为基于虚拟机管理程序的虚拟机提供了可行、经济、高效的替代方案，因此您可以利用更多的计算能力来实现业务目标。Docker 非常适合于高密度环境以及中小型部署，而您可以用更少的资源做更多的事情。</p><h1 id="二、安装" tabindex="-1"><a class="header-anchor" href="#二、安装" aria-hidden="true">#</a> 二、安装</h1><h2 id="安装方法一" tabindex="-1"><a class="header-anchor" href="#安装方法一" aria-hidden="true">#</a> 安装方法一</h2><h3 id="前提说明" tabindex="-1"><a class="header-anchor" href="#前提说明" aria-hidden="true">#</a> 前提说明</h3><p><strong>CentOS Docker安装</strong> Docker支持以下的CentOS版本: CentOS 7 (64-bit) CentOS 6.5 (64-bit)或更高的版本</p><p><strong>前提条件</strong> 目前，CentOS 仅发行版本中的内核支持Docker。 Docker运行在CentOS 7.上，要求系统为64位、系统内核版本为3.10以上。 Docker运行在CentOS-6.5或更高的版本的CentOS上，要求系统为64位、系<strong>统内核版本为2.6.32-431或者更高版本。</strong></p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152816301.png" alt="image-20220522152816301" loading="lazy"></p><h3 id="docker-的基本组成" tabindex="-1"><a class="header-anchor" href="#docker-的基本组成" aria-hidden="true">#</a> Docker 的基本组成</h3><h4 id="docker架构图" tabindex="-1"><a class="header-anchor" href="#docker架构图" aria-hidden="true">#</a> docker架构图</h4><p><img src="http://qnimg.gisfsde.com/work/image-20220522152904381.png" alt="image-20220522152904381" loading="lazy"></p><h4 id="镜像-image" tabindex="-1"><a class="header-anchor" href="#镜像-image" aria-hidden="true">#</a> 镜像( image )</h4><p>Docker镜像(lmage)就是-一个只读的模板。镜像可以用来创建Docker容器，个镜像可以创建很多容器</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152915628.png" alt="image-20220522152915628" loading="lazy"></p><h4 id="容器-container" tabindex="-1"><a class="header-anchor" href="#容器-container" aria-hidden="true">#</a> 容器( container)</h4><p>Docker利用容器(Container) 独立运行的一个或一组应用。<strong>容器是用镜像创建的运行实例。</strong> 它可以被启动、开始、停止、删除。每个容器都是相互隔离的、保证安全的平台。 <strong>可以把容器看做是一个简 易版的Linux环境</strong>(包括root用户权限、进程空间、用户空间和网络空间等)和运行在其中的应用程序。 容器的定义和镜像几乎一模一样，也是一堆层的统一视角， 唯- -区别在于容器的最上面那-层是可读可写的。</p><h4 id="仓库-repository" tabindex="-1"><a class="header-anchor" href="#仓库-repository" aria-hidden="true">#</a> 仓库( repository)</h4><p>仓库(<strong>Repository</strong>) 是<strong>集中存放镜像</strong>文件的场所。 仓库(<strong>Repository</strong>)和仓库注册服务器(<strong>Registry</strong>) 是有区别的。仓库注册服务器上往往存放着多个仓库，每个仓库中又包含了多镜像， 每个镜像有不同的标签(tag) 。</p><p>仓库分为公开仓库(<strong>Public</strong>) 和私有仓库(<strong>Private</strong>) 两种形式。 <strong>最大的公开仓库是Docker Hub(ttps://hub. <a href="http://docker.com/" target="_blank" rel="noopener noreferrer">docker.com/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>)</strong> 存放了数量庞大的镜像供用户下载。国内的公开仓库包括阿里云、网易云等</p><h4 id="小总结" tabindex="-1"><a class="header-anchor" href="#小总结" aria-hidden="true">#</a> 小总结 ()</h4><p>需要正确的理解仓储/镜像/容器这几个概念:</p><p>Docker本身是一个容器运行载体或称之为管理引擎。我们把应用程序和配置依赖打包好形成一-个可交付的运行环境，这个打好的运行环境就似乎image镜像文件。只有通过这个镜像文件才能生成Docker容器。image文件可以看作是容器的模板。Docker根据image文件生成容器的实例。同一个image文件，可以生成多个同时运行的容器实例。</p><p>image文件生成的容器实例，本身也是一一个文件，称为镜像文件。</p><p>一个容器运行一种服务，当我们需要的时候，就可以通过docker客户端创建一-个对应的运行实例，也就是我们的容器至于仓储，就是放了一堆镜像的地方，我们可以把镜像发布到仓储中，需要的时候从仓储中拉下来就可以了。|</p><h3 id="_2-1-卸载系统之前安装的docker" tabindex="-1"><a class="header-anchor" href="#_2-1-卸载系统之前安装的docker" aria-hidden="true">#</a> 2.1 卸载系统之前安装的docker</h3><p>Uninstall old versions.</p><p>一步一步往下执行就行</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\</span>
                  docker-client <span class="token punctuation">\</span>
                  docker-client-latest <span class="token punctuation">\</span>
                  docker-common <span class="token punctuation">\</span>
                  docker-latest <span class="token punctuation">\</span>
                  docker-latest-logrotate <span class="token punctuation">\</span>
                  docker-logrotate <span class="token punctuation">\</span>
                  docker-engine
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>SET UP THE REPOSITORY</p><p>Install the yum-utils package (which provides the yum-config-manager utility) and set up the stable repository.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils
<span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\</span>
    --add-repo <span class="token punctuation">\</span>
    https://download.docker.com/linux/centos/docker-ce.repo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>INSTALL DOCKER ENGINE 1.Install the latest version of Docker Engine and containerd, or go to the next step to install a specific version:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Start Docker</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Verify that Docker Engine is installed correctly by running the hello-world image.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> run hello-world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>设置 docker 开机自启动</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>设置 Docker 镜像加速</p><p>登录 <a href="http://aliyun.com" target="_blank" rel="noopener noreferrer">aliyun.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 在控制台找到容器镜像服务</p><p><img src="http://qnimg.gisfsde.com/work/1610948939792-421b248d-416d-4c57-b18d-33b5b9a3fbbb.png" alt="image-20201015144524435.png" loading="lazy"></p><p>docker 进入 对应容器</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">ps</span>  <span class="token comment">#查看主机有哪些容器</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it 容器ID/NAME /bin/bash  <span class="token comment">#进入对应容器</span>
<span class="token builtin class-name">exit</span><span class="token punctuation">;</span> <span class="token comment">#退出容器[快捷键 ctrl + p/q]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>image文件生成的容器实例，本身也是一一个文件，称为镜像文件。</p><p>一个容器运行一种服务，当我们需要的时候，就可以通过docker客户端创建一-个对应的运行实例，也就是我们的容器至于仓储，就是放了一堆镜像的地方，我们可以把镜像发布到仓储中，需要的时候从仓储中拉下来就可以了。|</p><h2 id="安装方法二" tabindex="-1"><a class="header-anchor" href="#安装方法二" aria-hidden="true">#</a> 安装方法二</h2><h4 id="centos6-8安装docker" tabindex="-1"><a class="header-anchor" href="#centos6-8安装docker" aria-hidden="true">#</a> Centos6.8安装Docker</h4><p>1、yum install -y epel-release</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-02_19-48-53.png" alt="" loading="lazy"></p><p>2、yum install -y docker-io</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-02_19-49-37.png" alt="" loading="lazy"></p><p>3、安装后的配置文件： etc/sysconfig/docker</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-02_19-50-17.png" alt="" loading="lazy"></p><p>4、启动 Docker后台服务: service docker start</p><p>5、docker version 验证</p><h4 id="centos7-0安装docker" tabindex="-1"><a class="header-anchor" href="#centos7-0安装docker" aria-hidden="true">#</a> Centos7.0安装Docker</h4><p><a href="https://docs.docker.com/engine/install/centos/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/engine/install/centos/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="永远的helloworld" tabindex="-1"><a class="header-anchor" href="#永远的helloworld" aria-hidden="true">#</a> 永远的helloworld</h3><h4 id="阿里云镜像加速" tabindex="-1"><a class="header-anchor" href="#阿里云镜像加速" aria-hidden="true">#</a> 阿里云镜像加速</h4><p>是什么</p><p>​ <a href="https://promotion.aliyun.com/ntms/act/kubernetes.html" target="_blank" rel="noopener noreferrer">https://promotion.aliyun.com/ntms/act/kubernetes.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>注册一个属于自己的阿里云账户( 可复用淘宝账号)</p><p>获得加速器地址连接</p><p>​ 登录阿里云开发者平台</p><p>​ 获取加速器地址</p><p>配置本机Docker运行镜像加速器</p><p>​ 鉴于国内网络问题，后续拉取Docker镜像十分缓慢，我们可以需要配置加速器来解决， 我使用的是阿里云的本人自己账号的镜像地址(需要自己注册有一个属于你自己的): ht:po/. mirror aliyuncns .com</p><ul><li>vim /etc/sysconfig/docker 将获得的自己账户下的阿里云加速地址配置进 other_ args-=&quot;--registry-mirror=<a href="https://xn--6qqz54j" target="_blank" rel="noopener noreferrer">https://你自<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 己的账号加速信息.mirror .aliyuncs.com</li></ul><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-02_20-19-10.png" alt="" loading="lazy"></p><p>重新启动 Docker 后台服务：service docker restart</p><p>Linux系统下配置完加速器需要检查是否生效</p><h4 id="网易云加速" tabindex="-1"><a class="header-anchor" href="#网易云加速" aria-hidden="true">#</a> 网易云加速</h4><p>基本上同上述阿里云</p><p>启动Docker后台容器(测试运行 hello-world )</p><p>​ docker run hello world</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_10-54-57.png" alt="" loading="lazy"></p><p>run干了什么</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_10-55-24.png" alt="" loading="lazy"></p><h3 id="底层原理" tabindex="-1"><a class="header-anchor" href="#底层原理" aria-hidden="true">#</a> 底层原理</h3><h4 id="docker是怎样工作的" tabindex="-1"><a class="header-anchor" href="#docker是怎样工作的" aria-hidden="true">#</a> Docker是怎样工作的</h4><p>Docker是一个Client-Server结构的系统，Docker守 护进程运行在主机上，然后通过Socket连 接从客户端访问，守护进程从客户端接受命令并管理运行在主机上的容器。<strong>容器，是一个运行时环境，就是我们前面说到的集装箱。</strong></p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_10-58-47.png" alt="" loading="lazy"></p><h4 id="为什么docker比较比vm快" tabindex="-1"><a class="header-anchor" href="#为什么docker比较比vm快" aria-hidden="true">#</a> 为什么Docker比较比vm快</h4><p>1、<strong>docker</strong>有着比虚拟机更少的抽象层。由亍docker不需要<strong>Hypervisor</strong>实现硬件资源虚拟化,运行在docker容器上的程序直接使用的都是实际物理机的硬件资源。因此在CPU、内存利用率上docker将会在效率上有明显优势。 2、<strong>docker</strong>利用的是宿主机的内核,而不需要<strong>Guest OS</strong>。因此,当新建一个 容器时,docker不需要和虚拟机一样 重新加载- - 个操作系统内核仍而避免引寻、加载操作系统内核返个比较费时费资源的过程,当新建--个虚拟机时,虚拟机软件需要加载GuestOS,返个新建过程是分钟级别的。而docker由于直接利用宿主机的操作系统,则省略了返个过程,因此新建一-个docker容器只需要几秒钟。</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_11-00-34.png" alt="" loading="lazy"></p><h1 id="三、-docker常用命令" tabindex="-1"><a class="header-anchor" href="#三、-docker常用命令" aria-hidden="true">#</a> 三、 Docker常用命令</h1><h3 id="帮助命令" tabindex="-1"><a class="header-anchor" href="#帮助命令" aria-hidden="true">#</a> 帮助命令</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> Version

<span class="token function">docker</span> info

<span class="token function">docker</span> --help
	自己查看官网解释，高手都是自己练出来的，百度上只不过是翻译了下，加了点例子
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="镜像命令" tabindex="-1"><a class="header-anchor" href="#镜像命令" aria-hidden="true">#</a> 镜像命令</h3><h4 id="docker-images-列出本机上的镜像" tabindex="-1"><a class="header-anchor" href="#docker-images-列出本机上的镜像" aria-hidden="true">#</a> docker images 列出本机上的镜像</h4><h4 id="options-说明" tabindex="-1"><a class="header-anchor" href="#options-说明" aria-hidden="true">#</a> <img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_11-09-33.png" alt="" loading="lazy">OPTIONS 说明：</h4><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code>-a 列出本地所有的镜像(含中间映射层)
-q 只显示镜像ID
--digests 显示镜像的摘要信息
--no-trunc 显示完整的镜像信息
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="docker-search-某个xxx镜像的名字" tabindex="-1"><a class="header-anchor" href="#docker-search-某个xxx镜像的名字" aria-hidden="true">#</a> docker search 某个XXX镜像的名字</h4><p>​ 网站 <a href="http://www.dockerhub.com" target="_blank" rel="noopener noreferrer">www.dockerhub.com<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>​ docker search [OPTIONS] 镜像名字</p><p>​ OPTIONS 说明</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code>--no-trun 显示完整的镜像描述
-s 列出收藏数不小于指定值的镜像
--automated 只列出 automated build类型的镜像
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="docker-pull-某个镜像的名字" tabindex="-1"><a class="header-anchor" href="#docker-pull-某个镜像的名字" aria-hidden="true">#</a> docker pull 某个镜像的名字</h4><p>​ 下载镜像</p><p>​ docker pull 镜像名字[:TAG]</p><h4 id="docker-rmi-某个xxx镜像的名字id" tabindex="-1"><a class="header-anchor" href="#docker-rmi-某个xxx镜像的名字id" aria-hidden="true">#</a> docker rmi 某个XXX镜像的名字ID</h4><p>​ 删除镜像</p><p>​ 删除单个 docker rm -f 镜像ID</p><p>​ 删除多个 docker rm -f 镜像名1:TAG 镜像名2:TAG</p><p docker="" images="" -qa="">​ 删除多个 docker rmi -f $</p><h3 id="容器命令" tabindex="-1"><a class="header-anchor" href="#容器命令" aria-hidden="true">#</a> 容器命令</h3><p>有镜像才能创建容器，这是根本前提(下载一个Centos镜像演示)</p><p>​ docker pull centos</p><h4 id="新建并启动容器" tabindex="-1"><a class="header-anchor" href="#新建并启动容器" aria-hidden="true">#</a> 新建并启动容器</h4><p>​ docker run [OPTIONS] IMAGE [COMMAND][ARG]</p><p>​ OPTIONS 说明</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>OPTIONS说明<span class="token punctuation">(</span>常用<span class="token punctuation">)</span> <span class="token operator">:</span>有些是一个减号，有些是两个减号
<span class="token operator">--</span>name<span class="token operator">=</span><span class="token string">&quot;容器新名字&quot;</span><span class="token operator">:</span>为容器指定一个名称<span class="token punctuation">;</span>
<span class="token operator">-</span>d<span class="token operator">:</span>后台运行容器，并返回容器ID， 也即启动守护式容器<span class="token punctuation">;</span>
<span class="token operator">-</span>i<span class="token operator">:</span>以交互模式运行容器，通常与<span class="token operator">-</span>t同时使用<span class="token punctuation">;</span>
<span class="token operator">-</span>t<span class="token operator">:</span>为容器重新分配一个伪输入终端，通常与<span class="token operator">-</span>i同时使用<span class="token punctuation">;</span>
<span class="token operator">-</span><span class="token class-name">P</span><span class="token operator">:</span>随机端口映射<span class="token punctuation">;</span>
<span class="token operator">-</span>p<span class="token operator">:</span>指定端口映射，有以下四种格式
ip<span class="token operator">:</span>hostPort<span class="token operator">:</span>containerPort
ip<span class="token operator">::</span><span class="token function">containerPort</span>
hostPort<span class="token operator">:</span>containerPort
containerPort

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_11-40-34.png" alt="" loading="lazy"></p><h4 id="列出当前所有正在运行的容器" tabindex="-1"><a class="header-anchor" href="#列出当前所有正在运行的容器" aria-hidden="true">#</a> 列出当前所有<strong>正在运行</strong>的容器</h4><p>​ docker ps [OPTIONS]</p><div class="language-JAVA ext-JAVA line-numbers-mode"><pre class="language-JAVA"><code>OPTIONS说明(常用) :
-a :列出当前所有正在运行的容器+历史上运行过的
-|:显示最近创建的容器。
-n:显示最近n个创建的容器。
-q :静默模式，只显示容器编号。
--no-trunc :不截断输出。

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="退出容器" tabindex="-1"><a class="header-anchor" href="#退出容器" aria-hidden="true">#</a> 退出容器</h4><p>两种退出方式</p><p>​ exit 容器停止退出</p><p>​ ctrl+P+Q 容器不停止退出</p><h4 id="启动容器" tabindex="-1"><a class="header-anchor" href="#启动容器" aria-hidden="true">#</a> 启动容器</h4><p>docker start 容器ID或容器签名</p><h4 id="重启容器" tabindex="-1"><a class="header-anchor" href="#重启容器" aria-hidden="true">#</a> 重启容器</h4><p>docker restart 容器ID或容器签名</p><h4 id="停止容器" tabindex="-1"><a class="header-anchor" href="#停止容器" aria-hidden="true">#</a> 停止容器</h4><p>docker stop 容器ID或容器签名</p><h4 id="强制停止容器" tabindex="-1"><a class="header-anchor" href="#强制停止容器" aria-hidden="true">#</a> 强制停止容器</h4><p>docker kill 容器ID或容器签名</p><h4 id="删除已停止的容器" tabindex="-1"><a class="header-anchor" href="#删除已停止的容器" aria-hidden="true">#</a> 删除已停止的容器</h4><p>docker rm 容器ID -f</p><p>​ 一次性删除多个容器</p><p>​ docker rm -f $(docker ps -a -q)</p><p>​ docker ps -a -q | xargs docker rm</p><h3 id="重要" tabindex="-1"><a class="header-anchor" href="#重要" aria-hidden="true">#</a> 重要</h3><h4 id="启动守护式容器" tabindex="-1"><a class="header-anchor" href="#启动守护式容器" aria-hidden="true">#</a> 启动守护式容器</h4><p>#使用镜像centos:latest以后台模式启动一个容器 docker run -d centos</p><p>问题:然后docker ps -a进行查看,<strong>会发现容器已经退出</strong> 很重要的要说明的一点: <strong>Docker容器后台运行,就必须有一个前台进程.</strong> 容器运行的命令如果不是那些<strong>一直挂起的命令</strong> (比如运行top，tail) ，就是会自动退出的。 这个是<strong>docker</strong>的机制问题,比如你的web容器，我们以<strong>nginx</strong>为例，正常情况下,我们配置启动服务只需要启动响应的<strong>service</strong>即可。例如 service nginx start 但是,这样做,<strong>nginx</strong>为后台进程模式运行,就导致<strong>docker</strong>前台没有运行的应用,这样的容器后台启动后，会立即自杀因为他觉得他没事可做了.所以，最佳的解决方案是将你要运行的程序以前台进程的形式运行</p><h4 id="查看容器日志" tabindex="-1"><a class="header-anchor" href="#查看容器日志" aria-hidden="true">#</a> 查看容器日志</h4><p>docker logs -f -t --tail 容器ID</p><p>​ -t 是加入时间戳</p><p>​ -f 跟随最新的日志打印</p><p>​ --tail 数字显示最后多少条</p><h4 id="查看容器内的进程" tabindex="-1"><a class="header-anchor" href="#查看容器内的进程" aria-hidden="true">#</a> 查看容器内的进程</h4><p>docker top 容器ID</p><h4 id="查看容器内部细节" tabindex="-1"><a class="header-anchor" href="#查看容器内部细节" aria-hidden="true">#</a> 查看容器内部细节</h4><p>docker inspect 容器ID</p><h4 id="进入正在运行的容器并以命令行交互" tabindex="-1"><a class="header-anchor" href="#进入正在运行的容器并以命令行交互" aria-hidden="true">#</a> 进入正在运行的容器并以命令行交互</h4><p>docker exec -it 容器ID bashShell</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_13-23-17.png" alt="" loading="lazy"></p><p>重新进入docker attach 容器ID</p><p>上述两个区别</p><p>attach 直接进入容器启动命令的终端，不会启动新的进程</p><p>exec 实在容器中打开新的终端，并且可以穷的那个新的进程</p><h4 id="从容器内拷贝文件到主机上" tabindex="-1"><a class="header-anchor" href="#从容器内拷贝文件到主机上" aria-hidden="true">#</a> 从容器内拷贝文件到主机上</h4><p>docker cp 容器ID:容器内路径 目的主机路径</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_13-26-40.png" alt="" loading="lazy"></p><h3 id="小总结-1" tabindex="-1"><a class="header-anchor" href="#小总结-1" aria-hidden="true">#</a> 小总结</h3><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_13-30-12.png" alt="" loading="lazy"></p><p><img src="http://qnimg.gisfsde.com/work/20201003133051.png" alt="" loading="lazy"></p><h1 id="第-、-docker-镜像" tabindex="-1"><a class="header-anchor" href="#第-、-docker-镜像" aria-hidden="true">#</a> 第 、 Docker 镜像</h1><h2 id="是什么-1" tabindex="-1"><a class="header-anchor" href="#是什么-1" aria-hidden="true">#</a> 是什么</h2><p>镜像是一种轻量级、可执行的独立软件包，用来打包软件运行环境和基于运行环境开发的软件，它包含运行某个软件所需的有内容，包括代码、运行时、库、环境变量和配置文件。</p><h3 id="unionfs-联合文件系统" tabindex="-1"><a class="header-anchor" href="#unionfs-联合文件系统" aria-hidden="true">#</a> UnionFS(联合文件系统)</h3><p>UnionFS (状节又件示统) UnionFS (联合文件系统) : Union文件系统(UnionFS)是一一种分层、轻量级并且高性能的文件系统，它支持对文件系统的修作为一 次提交来一层层的叠加，同时可以将不同目录挂载到同一个虚拟文件系统下(unite several directories into a singlevirtualfilesystem)。Union文件系统是Docker镜像的基础。镜像可以通过分层来进行继承，基于基础镜像(没有父镜像)可以制作各种具.体的应用镜像。</p><p>特性:一次同时加载多个文件系统，但从外面看起来，只能看到一个文件系统，联合加载会把各层文件系统叠加起来，这样最终的文 件系统会包含所有底层的文件和目录</p><h3 id="docker镜像加载原理" tabindex="-1"><a class="header-anchor" href="#docker镜像加载原理" aria-hidden="true">#</a> Docker镜像加载原理</h3><p><strong>Docker镜像加载原理:</strong><strong>docker</strong>的镜像实际上由一层一层的文件系统组成，这种层级的文件系统<strong>UnionFS。</strong></p><p><strong>botfs(boot file system)<strong>主要包含</strong>bootloader</strong>和<strong>kernel</strong>, <strong>bootloader</strong>主 要是引导加载<strong>kernel</strong>, <strong>Linux</strong>刚启动时会加载bootfs文件系统，在<strong>Docker</strong>镜像的最底层是<strong>bootfs</strong>。这一-层与我们典型的<strong>Linux/Unix</strong>系统是- - -样的，包含boot加载器和内核。当boot加载完成之 后整个内核就都在内存中了，此时内存的使用权己由bootfs转交给内核，此时系统也会卸载bootfs。</p><p><strong>rootfs (root file system)，<strong>在</strong>bootfs</strong>之 上。 包含的就是典型Linux系统中的**/dev, /proc, /bin, /etc<strong>等标准目录和文件。<strong>rootfs</strong>就 是各种不同的操作系统发行版，比如</strong>Ubuntu**，<strong>Centos</strong>等等。</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_13-38-28.png" alt="" loading="lazy"></p><p>平时我们安装的虚拟机的Centos都是好几个G ，为什么docker这里才要200m</p><p><img src="http://qnimg.gisfsde.com/work/QQ截图20201003133908.png" alt="" loading="lazy"></p><p>对于一个精简的<strong>OS, rootfs</strong>可 以很小，只需要包括最基本的命令、工具和程序库就可以了，因为底层直接用<strong>Host</strong>的<strong>kernel</strong>,自只需要提供rootfs就行了。由此可见对于不同的<strong>linux</strong>发行版, <strong>bootfs</strong>基本是一致的, <strong>rootfs</strong>会有差别，因此不同的发行版可以公用<strong>bootfs</strong>。</p><h3 id="分层的镜像" tabindex="-1"><a class="header-anchor" href="#分层的镜像" aria-hidden="true">#</a> 分层的镜像</h3><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_13-40-06.png" alt="" loading="lazy"></p><h3 id="分层的镜像-1" tabindex="-1"><a class="header-anchor" href="#分层的镜像-1" aria-hidden="true">#</a> 分层的镜像</h3><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_14-02-22.png" alt="" loading="lazy"></p><h3 id="为什么-docker纪念馆想要采用这种分层结构" tabindex="-1"><a class="header-anchor" href="#为什么-docker纪念馆想要采用这种分层结构" aria-hidden="true">#</a> 为什么 Docker纪念馆想要采用这种分层结构</h3><p>最大的一个好处就是-<strong>共享资源</strong> 比如:<strong>有多个镜像都从相同的base镜像构建而来</strong>，那么宿主机只需在磁盘上保存一份<strong>base</strong>镜像, 同时内存中也只需加载一份<strong>base</strong>镜像，就可以为所有容器服务了。而且镜像的每一层都可以被共享。</p><h2 id="特点" tabindex="-1"><a class="header-anchor" href="#特点" aria-hidden="true">#</a> 特点</h2><p>Docker镜像都是只读的，当容器启动时，一个新的可写层被加载到<strong>镜像的顶部</strong>，这一层通常被称为<strong>容器层</strong>，容器层之下都叫<strong>镜像层</strong></p><h2 id="docker镜像commit操作" tabindex="-1"><a class="header-anchor" href="#docker镜像commit操作" aria-hidden="true">#</a> Docker镜像Commit操作</h2><p>docker commit 提交容器副本使之称为一个新的镜像</p><p>docker commit -m=&quot;提交的描述信息&quot; -a=&quot;作者&quot; 容器ID 要创建的目标镜像名:[标签名]</p><h4 id="案例演示" tabindex="-1"><a class="header-anchor" href="#案例演示" aria-hidden="true">#</a> 案例演示：</h4><p>1、从Hub上下载tomcat镜像到本地并成功运行</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_14-26-27.png" alt="" loading="lazy"></p><p>docker run -d -p 8080:8080 tomcat</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">-</span>p主机端口：docker容器端口
<span class="token operator">-</span><span class="token class-name">P</span><span class="token operator">:</span>随机分配端口
i<span class="token operator">:</span>交互
t<span class="token operator">:</span>终端
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2、故意删除上一步镜像生产tomcat容器的文档</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_14-28-22.png" alt="" loading="lazy"></p><p>3、也即当前的tomcat运行实例是一个没有文档内容的容器，以他为模板commit一个没有doc的tomcat新镜像 atguigu/tomcat02</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_14-29-38.png" alt="" loading="lazy"></p><p>4、启动我们的新镜像并和原来的对比</p><p>​ 启动atuigu/tomcat02 没有doc</p><p>​ 启动原来tomcat他有doc</p><h1 id="五-、docker容器数据卷" tabindex="-1"><a class="header-anchor" href="#五-、docker容器数据卷" aria-hidden="true">#</a> 五 、Docker容器数据卷</h1><h2 id="是什么-2" tabindex="-1"><a class="header-anchor" href="#是什么-2" aria-hidden="true">#</a> 是什么</h2><p>先来看看<strong>Docker</strong>的理念: *将运用与运行的环境打包形成容器运行，运行可以伴随着容器，但是我们对数据的要求希望是持久化的 *容器之间希望有可能共享数据 <strong>Docker</strong>容器产生的数据，如果不通过<strong>docker</strong> <strong>commit</strong>生成新的镜像，使得数据做为镜像的一部分保存下来， 那么当容器删除后，数据自然也就没有了。 为了能保存数据在docker中我们使用卷。|</p><p>一句话：有点类似我们Redis里面的rdb和aof文件</p><h2 id="能干嘛-1" tabindex="-1"><a class="header-anchor" href="#能干嘛-1" aria-hidden="true">#</a> 能干嘛</h2><p>卷就是目录或文件，存在于一个或多个容器中，由<strong>docker</strong>挂载到容器，但不属于联合文件系统，因此能够绕过Union FileSystem提供一些用 于持续存储或共享数据的特性: 卷的设计目的就是数据的持久化，完全独立于容器的生存周期，因此Docker不 会在容器删除时删除其挂载的数据卷</p><p>特点: 1:数据卷可在容器之间共享或重用数据 2:卷中的更改可以直接生效 3:数据卷中的更改不会包含在镜像的更新中 4:数据卷的生命周期一直持续到没有容器使用它为止</p><p><strong>容器的持久化</strong></p><p><strong>容器间继承+共享数据</strong></p><h2 id="数据卷" tabindex="-1"><a class="header-anchor" href="#数据卷" aria-hidden="true">#</a> 数据卷</h2><h3 id="容器内添加" tabindex="-1"><a class="header-anchor" href="#容器内添加" aria-hidden="true">#</a> 容器内添加</h3><h4 id="直接命令添加" tabindex="-1"><a class="header-anchor" href="#直接命令添加" aria-hidden="true">#</a> 直接命令添加</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-30-44.png" alt="" loading="lazy"></p><p>docker run -it -v /宿主机绝对路径目录:/容器内目录 镜像名</p><p>查看数据卷是否挂载成功</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-31-52.png" alt="" loading="lazy"></p><p>容器和宿主机之间数据共享</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-32-19.png" alt="" loading="lazy"></p><p>容器停止退出后，主机修改后的数据是否同步</p><p><img src="http://qnimg.gisfsde.com/work/image/Snipaste_2020-10-03_15-33-03.png" alt="" loading="lazy"></p><p>命令(带权限)</p><p>​ docker run -it -v /宿主机绝对路径目录:/容器内目录**:ro** 镜像名</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-33-49.png" alt="" loading="lazy"></p><h4 id="dockerfile添加" tabindex="-1"><a class="header-anchor" href="#dockerfile添加" aria-hidden="true">#</a> DockerFile添加</h4><p>根目录下新建mydocker文件夹并进入</p><p>可在Dockerfile中使用VOLUME指令来给镜像添加一个或多个数据卷</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-35-17.png" alt="" loading="lazy"></p><p>File构建</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-35-37.png" alt="" loading="lazy"></p><p>build后生成镜像</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-36-01.png" alt="" loading="lazy"></p><p>获得一个新镜像zzyy/centos</p><p>run容器</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-36-31.png" alt="" loading="lazy"></p><p>通过上述步骤，容器内的卷目录地址已经知道，对应的主机目录在哪</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-37-05.png" alt="" loading="lazy"></p><p><strong>主机对应默认地址</strong></p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-37-22.png" alt="" loading="lazy"></p><p>备注</p><p>Docker挂载主机目录Docker访问出现cannot open directory . Permission denied 解决办法:在挂载目录后多加一个--privileged=true参数即可</p><h2 id="数据卷容器" tabindex="-1"><a class="header-anchor" href="#数据卷容器" aria-hidden="true">#</a> 数据卷容器</h2><h3 id="是什么-3" tabindex="-1"><a class="header-anchor" href="#是什么-3" aria-hidden="true">#</a> 是什么</h3><p>命名的容器挂载数据卷，其它容器通过挂载这个(父容器)实现数据共享，挂载数据卷的容器，称之为数据卷容器.</p><h3 id="总体介绍" tabindex="-1"><a class="header-anchor" href="#总体介绍" aria-hidden="true">#</a> 总体介绍</h3><p>以上一步新建的zzyy/centos为模板并运行容器 doc1/doc2/doc3</p><p>他们已经具有容器卷</p><p>​ /dataVolumeContainer1</p><p>​ /dataVolumeContainer2</p><h3 id="容器间传递共享-volumes-from" tabindex="-1"><a class="header-anchor" href="#容器间传递共享-volumes-from" aria-hidden="true">#</a> 容器间传递共享(--volumes -from)</h3><h4 id="先启动一个父容器doc1" tabindex="-1"><a class="header-anchor" href="#先启动一个父容器doc1" aria-hidden="true">#</a> 先启动一个父容器doc1</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-40-46.png" alt="" loading="lazy"></p><p>启动后在 dataVolumeContainer1中新增内容</p><h4 id="doc2-doc3-继承doc1" tabindex="-1"><a class="header-anchor" href="#doc2-doc3-继承doc1" aria-hidden="true">#</a> doc2/doc3 继承doc1</h4><p>​ <strong>--volumes -from</strong></p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-41-51.png" alt="" loading="lazy"></p><p>doc2/doc3 分别在dataVolumeContainer2各自新增内容</p><h4 id="回到doc1可以看到02-03各自添加的都能共享了" tabindex="-1"><a class="header-anchor" href="#回到doc1可以看到02-03各自添加的都能共享了" aria-hidden="true">#</a> 回到doc1可以看到02/03各自添加的都能共享了</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-42-46.png" alt="" loading="lazy"></p><h4 id="删除doc1-doc2修改后doc3是否可以访问" tabindex="-1"><a class="header-anchor" href="#删除doc1-doc2修改后doc3是否可以访问" aria-hidden="true">#</a> 删除doc1 doc2修改后doc3是否可以访问</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-43-31.png" alt="" loading="lazy"></p><h4 id="删除doc02后doc3是否访问" tabindex="-1"><a class="header-anchor" href="#删除doc02后doc3是否访问" aria-hidden="true">#</a> 删除doc02后doc3是否访问</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-43-57.png" alt="" loading="lazy"></p><p>在进一步</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-44-11.png" alt="" loading="lazy"></p><h4 id="新建doc04继承doc03-然后删除doc03" tabindex="-1"><a class="header-anchor" href="#新建doc04继承doc03-然后删除doc03" aria-hidden="true">#</a> 新建doc04继承doc03 然后删除doc03</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-44-56.png" alt="" loading="lazy"></p><p><strong>结论：容器之间配置信息的传递，数据卷的生命周期一直持续到没有容器使用它为止</strong></p><h1 id="六-、-dockerfile解析" tabindex="-1"><a class="header-anchor" href="#六-、-dockerfile解析" aria-hidden="true">#</a> 六 、 DockerFile解析</h1><h2 id="是什么-4" tabindex="-1"><a class="header-anchor" href="#是什么-4" aria-hidden="true">#</a> 是什么</h2><h3 id="dockerfile是用来构建docker镜像的构建文件-由一系列命令和参数构成的脚本" tabindex="-1"><a class="header-anchor" href="#dockerfile是用来构建docker镜像的构建文件-由一系列命令和参数构成的脚本" aria-hidden="true">#</a> Dockerfile是用来构建Docker镜像的构建文件，由一系列命令和参数构成的脚本</h3><h3 id="构建三步骤" tabindex="-1"><a class="header-anchor" href="#构建三步骤" aria-hidden="true">#</a> 构建三步骤</h3><p>​ 编写Dockerfile文件</p><p>​ docker build</p><p>​ docker run</p><h3 id="文件什么样" tabindex="-1"><a class="header-anchor" href="#文件什么样" aria-hidden="true">#</a> 文件什么样？？？</h3><p>​ 熟悉的Centos为例</p><p><a href="http://hub.docker.com/_/centos" target="_blank" rel="noopener noreferrer">http://hub.docker.com/_/centos<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-32-12.png" alt="" loading="lazy"></p><h2 id="dockerfile构建过程解析" tabindex="-1"><a class="header-anchor" href="#dockerfile构建过程解析" aria-hidden="true">#</a> DockerFile构建过程解析</h2><p>Dockerfile内容基础知识</p><p>1、每条保留字指令都必须为大写字母且后面要跟随至少一个参数 2、 指令按照从.上到下，顺序执行 3、#表示注释 4、每条指令都会创建一个新的镜像层，并对镜像进行提交</p><h3 id="docker执行dockerfile的大致流程" tabindex="-1"><a class="header-anchor" href="#docker执行dockerfile的大致流程" aria-hidden="true">#</a> Docker执行Dockerfile的大致流程</h3><p>1、 docker 从基础镜像运行一个容器 2、执行一-条指令并对容器作出修改 3、执行类似docker commit的操作提交- -个新的镜像层 4、docker再基 于刚提交的镜像运行一一个新容器 5、执行dockerfile中的 下一条指令直到所有指令都执行完成</p><h3 id="小总结-2" tabindex="-1"><a class="header-anchor" href="#小总结-2" aria-hidden="true">#</a> 小总结</h3><p>从应用软件的角度来看，Dockerfile、 Docker镜像与Docker容器分别代表软件的三个不同阶段， Dockerfile是软件的原材料 Docker镜像是软件的交付品 Docker容器则可以认为是软件的运行态。 Dockerfile面向开发，Docker镜 像成为交付标准，Docker容 器则涉及部署与运维，三者缺- -不可，合力充当Docker体系的基石。</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-35-08.png" alt="" loading="lazy"></p><p>1、Dockerfile，需要定义一个Dockerfile，Dockerfile定 义了进程需要的一切东西。Dockerfile涉 及的内容包括执行代码或者是文件、环境变量、依赖包、运行时环境、动态链接库、操作系统的发行版、服务进程和内核进程(当应用进程需要和系统服务和内核进程打交道，这时需要考虑如何设计namespace的权限控制)等等; 2、Docker镜像，在用Dockerfile定义一文件之后，docker build时会产生- -个Docker镜像，当运行Docker镜像时，会真正开始提供服务; 3、Docker容器，容器是直接提供服务的。</p><h2 id="dockerfile体系结构-保留字指令" tabindex="-1"><a class="header-anchor" href="#dockerfile体系结构-保留字指令" aria-hidden="true">#</a> DockerFile体系结构(保留字指令)</h2><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-47-26.png" style="zoom:200%;"><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-47-58.png" alt="" loading="lazy"></p><p>小总结</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-48-16.png" alt="" loading="lazy"></p><h2 id="案例" tabindex="-1"><a class="header-anchor" href="#案例" aria-hidden="true">#</a> 案例</h2><h3 id="base-镜像-scratch" tabindex="-1"><a class="header-anchor" href="#base-镜像-scratch" aria-hidden="true">#</a> Base 镜像(scratch)</h3><p>Docker Hub中 99%的镜像都是通过在base镜像中安装和配置需要的软件构建出来的</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-52-43.png" alt="" loading="lazy"></p><h3 id="自定义镜像mycentos" tabindex="-1"><a class="header-anchor" href="#自定义镜像mycentos" aria-hidden="true">#</a> 自定义镜像mycentos</h3><h4 id="_1、编写" tabindex="-1"><a class="header-anchor" href="#_1、编写" aria-hidden="true">#</a> 1、编写</h4><p>​ Hub默认Centos镜像是什么情况</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-53-44.png" alt="" loading="lazy"></p><p>准备Dockerfile文件</p><p>myCentOS内容Dockerfile</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-54-40.png" alt="" loading="lazy"></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>FROM centos
MAINTAINER ZZYY<span class="token punctuation">\</span><span class="token operator">&lt;</span>zzyy167@126.com<span class="token operator">&gt;</span>

ENV MYPATH /usr/local
WORKDIR <span class="token variable">$MYPATH</span>

RUN yum -y <span class="token function">install</span> <span class="token function">vim</span>
RUN yum -y <span class="token function">install</span> net-tools

EXPOSE <span class="token number">80</span>

CMD <span class="token builtin class-name">echo</span> <span class="token variable">$MYPATH</span>
CMD <span class="token builtin class-name">echo</span> <span class="token string">&quot;success--------------ok&quot;</span>
CMD /bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2、构建" tabindex="-1"><a class="header-anchor" href="#_2、构建" aria-hidden="true">#</a> 2、构建</h4><p>docker build -t 新镜像名字:TAG .</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-56-15.png" alt="" loading="lazy"></p><h4 id="_3、运行" tabindex="-1"><a class="header-anchor" href="#_3、运行" aria-hidden="true">#</a> 3、运行</h4><p>docker run -it 新镜像名字:TAG</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-57-09.png" alt="" loading="lazy"></p><h4 id="_4、列出镜像的变更历史" tabindex="-1"><a class="header-anchor" href="#_4、列出镜像的变更历史" aria-hidden="true">#</a> 4、列出镜像的变更历史</h4><p>docker history 镜像名</p><p>CMD/ENTRYPOINT 镜像案例</p><p>都是指定一个容器启动时要运行的命令</p><h3 id="cmd" tabindex="-1"><a class="header-anchor" href="#cmd" aria-hidden="true">#</a> CMD</h3><p>​ Dockerfile中可以有多个CMD指令，但只有最后一个生效，CMD会被dockerrun之后的参数替换</p><p>​ Case</p><p>​ tomcat的讲解演示 docker run -it -p 8080:8080 tomcat ls -l</p><h5 id="entrypoint" tabindex="-1"><a class="header-anchor" href="#entrypoint" aria-hidden="true">#</a> ENTRYPOINT</h5><p>​ docker run 之后的参数会被当做参数传递给 ENTRYPOINT 之后形成新的命令组合</p><p>​ Case</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-02-41.png" alt="" loading="lazy"></p><p>制作CMD版可以查询IP信息的容器</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-03-11.png" alt="" loading="lazy"></p><h5 id="curl的命令解释" tabindex="-1"><a class="header-anchor" href="#curl的命令解释" aria-hidden="true">#</a> curl的命令解释</h5><p><strong>curl</strong>命令可以用来执行下载、发送各种<strong>HTTP</strong>请求，指定<strong>HTTP</strong>头部等操作。</p><p>如果系统没有<strong>curl</strong>可以使用<strong>yum install curl</strong>安装，也可以下载安装。 <strong>curl是将下载文件输出到stdout</strong> 使用命令: curl <a href="http://www" target="_blank" rel="noopener noreferrer">http://www<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> .baidu.com 执行后，www.baidu.com的html就会显示在屏幕上了</p><p>这是最简单的使用方法。用这个命令获得了htp://curl.haxx.se指向的页面，同样，如果这里的URL指向的是--个文件或者一幅图都可以直接下载到本地。如果下载的是HTML文档，那么缺省的将只显示文件头部，即HTML文档的header。要全部显示，请加参数-i</p><p>WHY</p><p>我们可以看到可执行文件找不到的报错，<strong>executable file not found。</strong> 之前我们说过，<strong>跟在镜像名后面的是command,运行时会替换CMD的默认值。</strong> 因此这里的-i替换了原来的CMD，而不是添加在原来的curl -s htp://ip.cn后面。而-i 根本不是命令，所以自然找不到。 那么如果我们希望加入-i这参数，我们就必须重新完整的输入这个命令: <strong>$ docker run myip curl -s <a href="http://ip.cn" target="_blank" rel="noopener noreferrer">http://ip.cn<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> -i</strong></p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-05-28.png" alt="" loading="lazy"></p><h3 id="自定义镜像tomcat" tabindex="-1"><a class="header-anchor" href="#自定义镜像tomcat" aria-hidden="true">#</a> 自定义镜像Tomcat</h3><h5 id="_1、mkdir-p-zzyy-mydockerfile-tomcat9" tabindex="-1"><a class="header-anchor" href="#_1、mkdir-p-zzyy-mydockerfile-tomcat9" aria-hidden="true">#</a> 1、mkdir -p /zzyy/mydockerfile/tomcat9</h5><h5 id="_2、在上述目录下-touch-c-txt" tabindex="-1"><a class="header-anchor" href="#_2、在上述目录下-touch-c-txt" aria-hidden="true">#</a> 2、在上述目录下 touch c.txt</h5><h5 id="_3、将jdk和tomcat安装的压缩包拷贝进上一步目录" tabindex="-1"><a class="header-anchor" href="#_3、将jdk和tomcat安装的压缩包拷贝进上一步目录" aria-hidden="true">#</a> 3、将jdk和tomcat安装的压缩包拷贝进上一步目录</h5><h5 id="_4、在zzyyuse-mydockerfile-tomcat9目录下新建dockerfile文件" tabindex="-1"><a class="header-anchor" href="#_4、在zzyyuse-mydockerfile-tomcat9目录下新建dockerfile文件" aria-hidden="true">#</a> 4、在zzyyuse/mydockerfile/tomcat9目录下新建Dockerfile文件</h5><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> centos</span>
<span class="token instruction"><span class="token keyword">MAINTAINER</span> zzyy\&lt;zzyybs@ 126.com&gt;</span>
<span class="token comment">#把宿主机当前上下文的c .txt拷贝到容器/usr/local/路径下</span>
<span class="token instruction"><span class="token keyword">COPY</span> c.txt /usr/local/cincontainer.txt</span>
<span class="token comment">#把java与tomcat添加到容器中</span>
<span class="token instruction"><span class="token keyword">ADD</span> jdk-8u171-linux x64.tar .gz /usr/local/</span>
<span class="token instruction"><span class="token keyword">ADD</span> apache-tomcat-9.0.8.tar.gz /usr/ocal/</span>
<span class="token comment">#安装vim编辑器</span>
<span class="token instruction"><span class="token keyword">RUN</span> yum -y install vim</span>
<span class="token comment">#设置工 作访问时候的WORKDIR路径， 登录落脚点</span>
<span class="token instruction"><span class="token keyword">ENV</span> MYPATH /usr/local</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> <span class="token variable">$MYPATH</span></span>
<span class="token comment">#配:置java与tomcat环境变量</span>
<span class="token instruction"><span class="token keyword">ENV</span> JAVA_ HOME /usr/localjdk1 .8.0_ 171</span>
<span class="token instruction"><span class="token keyword">ENV</span> CLASSPATH <span class="token variable">$JAVA_</span> HOME/lib/dt.jar:<span class="token variable">$JAVA_</span> HOME/lib/tools.jar</span>
<span class="token instruction"><span class="token keyword">ENV</span> CATALINA_ HOME /usr/local/apache-tomcat-9.0.8</span>
<span class="token instruction"><span class="token keyword">ENV</span> CATALINA_ BASE /usr/ocal/apache-tomcat-9.0.8</span>
<span class="token instruction"><span class="token keyword">ENV</span> PATH <span class="token variable">$PATH</span>:<span class="token variable">$JAVA_</span> HOME/bin:<span class="token variable">$CATALINA_</span> HOME/ib:<span class="token variable">$CATALINA_</span> HOME/bin</span>
<span class="token comment">#容器运行时监听的端口</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 8080</span>
<span class="token comment">#启动时运行tomcat</span>
<span class="token comment"># ENTRYPOINT [&quot;/usrl/local/apache-tomcat-9.0.8/bin/startup.sh&quot; ]</span>
<span class="token comment"># CMD [&quot;/usr/local/apache-tomcat-9.0.8/bin/catalina.sh&quot;,&quot;run&quot;]</span>
<span class="token instruction"><span class="token keyword">CMD</span> /usr/local/apache-tomcat-9.0.8/bin/startup.sh &amp;&amp; tail -F /usr/local/apache-tomcat-9.0.8/in/logs/catalina.out</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>目录内容</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-12-29.png" alt="" loading="lazy"></p><h5 id="_5、构建" tabindex="-1"><a class="header-anchor" href="#_5、构建" aria-hidden="true">#</a> 5、构建</h5><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-12-48.png" alt="" loading="lazy"></p><p>构建完成</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-13-20.png" alt="" loading="lazy"></p><h5 id="_6、run" tabindex="-1"><a class="header-anchor" href="#_6、run" aria-hidden="true">#</a> 6、run</h5><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code>docker run -d -p 9080:8080 -name myt9
 -v /zyuse/mydockerfiletomcat9/test:/usrlocal/apache-tomcat9.0.8/webapps/test
 -v /zzyyuse/mydockerfile/tomcat9/tomcat9logs/:/usrlocal/apache-tomcat-9.0.8/logs -privileged=true zzyytomcat9
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-14-42.png" alt="" loading="lazy"></p><p>备注</p><p>Docker挂载主机目录Docker访问出现cannot open directory : Permission denied解决办法:在挂载目录后多加一个--privileged=true参数即可</p><h5 id="_7、验证" tabindex="-1"><a class="header-anchor" href="#_7、验证" aria-hidden="true">#</a> 7、验证</h5><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-58-14.png" alt="" loading="lazy"></p><h5 id="_8、综合前-述容器卷测试的web服务test发布" tabindex="-1"><a class="header-anchor" href="#_8、综合前-述容器卷测试的web服务test发布" aria-hidden="true">#</a> 8、综合前 述容器卷测试的web服务test发布</h5><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-58-56.png" alt="" loading="lazy"></p><p>web.xml</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>\<span class="token prolog">&lt;?xml version=&quot;1 .0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name"><span class="token namespace">xmIns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XML Schema-instance<span class="token punctuation">&quot;</span></span>
<span class="token attr-name">xmIns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://java sun.com/xm/ns/javaee<span class="token punctuation">&quot;</span></span>
<span class="token attr-name"><span class="token namespace">xsi:</span>schemaL</span> <span class="token attr-name">ocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://java. sun.com/xml/ns/javaee htp:/:/java. sun.com/xml/ns/javaee/web-app_ 2_ _5.xsd<span class="token punctuation">&quot;</span></span>
<span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>WebApp_ ID<span class="token punctuation">&quot;</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2.5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>display-name</span><span class="token punctuation">&gt;</span></span>test\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>display-name</span><span class="token punctuation">&gt;</span></span>

\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>a.jsp</p><div class="language-jsp ext-jsp line-numbers-mode"><pre class="language-jsp"><code>\&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;
\&lt;!DOCTYPE html PUBLIC“//W3C//DTD HTML 4.01 Transitional//EN&quot; http://www.w3.org/TR/html4/loose.dtd&quot;&gt;
\&lt;html&gt;
\&lt;head&gt;
\&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
\&lt;title&gt;Insert title here \&lt;/title&gt;
\&lt;/head&gt;
\&lt;body&gt;
welcome-
\&lt;%=&quot;i am in docker tomcat self &quot;%&gt;
\&lt;br&gt;
\&lt;br&gt;
\&lt;% System.out,.printIn(&quot;==========docker tomcat self&quot;);%&gt;
\&lt;/body&gt;
\&lt;/htmI&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>测试</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;
\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span> <span class="token name">PUBLIC“//W3C//DTD</span> <span class="token name">HTML</span> <span class="token name">4.01</span> <span class="token name">Transitional//EN</span><span class="token string">&quot; http://www.w3.org/TR/html4/loose.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Insert title here \<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
welcome-
\&lt;%=&quot;i am in docker tomcat self &quot;%&gt;
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
\&lt;% System.out,.printIn(&quot;==========docker tomcat self&quot;);%&gt;
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>htmI</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="小总结-3" tabindex="-1"><a class="header-anchor" href="#小总结-3" aria-hidden="true">#</a> 小总结</h2><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_19-00-48.png" alt="" loading="lazy"></p><h1 id="七-、-docker常用安装" tabindex="-1"><a class="header-anchor" href="#七-、-docker常用安装" aria-hidden="true">#</a> 七 、 Docker常用安装</h1><h3 id="总体步骤" tabindex="-1"><a class="header-anchor" href="#总体步骤" aria-hidden="true">#</a> 总体步骤</h3><blockquote><p>搜索镜像</p><p>拉取镜像</p><p>查看镜像</p><p>启动镜像</p><p>停止容器</p><p>移除容器</p></blockquote><h3 id="安装mysql" tabindex="-1"><a class="header-anchor" href="#安装mysql" aria-hidden="true">#</a> 安装Mysql</h3><h4 id="docker-hub-上查找mysql镜像" tabindex="-1"><a class="header-anchor" href="#docker-hub-上查找mysql镜像" aria-hidden="true">#</a> docker hub 上查找mysql镜像</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_11-38-56.png" alt="" loading="lazy"></p><h4 id="从-docker-hub-阿里云加速器-拉取mysql镜像到本地标签为5-6" tabindex="-1"><a class="header-anchor" href="#从-docker-hub-阿里云加速器-拉取mysql镜像到本地标签为5-6" aria-hidden="true">#</a> 从 docker hub(阿里云加速器)拉取mysql镜像到本地标签为5.6</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_11-40-13.png" alt="" loading="lazy"></p><h4 id="使用mysql5-6镜像创建容器-也叫运行镜像" tabindex="-1"><a class="header-anchor" href="#使用mysql5-6镜像创建容器-也叫运行镜像" aria-hidden="true">#</a> 使用mysql5.6镜像创建容器(也叫运行镜像)</h4><p>使用mysql镜像</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -p <span class="token number">12345</span>:3306 --name mysql 
-v /ggcc/mysql/conf:/etc/mysql/conf.d 
-v /ggcc/mysql/logs:/logs 
-v /ggcc/mysql/data:/var/lib/mysql 
-e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> -d mysql:5.6
----------------------------------------------
命令说明:
-p <span class="token number">12345</span>:3306:将主机的12345端口映射到docker容器的3306端口。
-name mysq:运行服务名字
-V /ggcc/mysql/conf:/etc/mysql/conf.d :将主机/zzyyuse/mysq<span class="token operator">|</span>录下的conf/my.cnf挂载到容器的/etc/mysql/conf.d
-v /ggcc/mysqlogs/logs: 将主机/zzyyuse/mysq<span class="token operator">|</span>目 录下的logs 目录挂载到容器的/logs。
-V /ggcc/mysqldata:/var/lib/mysql :将主机lzzyyuse/mysql目录下的data目录挂载到容器的/var/lib/mysql <span class="token builtin class-name">.</span>
-e MYSQL_ ROOT_ <span class="token assign-left variable">PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span>: 初始化root用户的密码。.
-d mysql:5.6:后台程序运行mysql5.6 
----------------------------------------------
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it Mysql运行成功后的容器ID /bin/bash
----------------------------------------------
数据备份小测试
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> mysql服务容器ID <span class="token function">sh</span> -c <span class="token string">&#39;exec mysqldump --all-databases -uroot -p&quot;123456&quot;&#39;</span> <span class="token operator">&gt;</span>/ggcc/all-database.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_11-59-32.png" alt="" loading="lazy"></p><h4 id="数据备份测试" tabindex="-1"><a class="header-anchor" href="#数据备份测试" aria-hidden="true">#</a> 数据备份测试</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-02-59.png" alt="" loading="lazy"></p><h3 id="安装redis" tabindex="-1"><a class="header-anchor" href="#安装redis" aria-hidden="true">#</a> 安装Redis</h3><h4 id="从docker-hu上-阿里云加速器-拉取redis镜像到本地标签为-3-2" tabindex="-1"><a class="header-anchor" href="#从docker-hu上-阿里云加速器-拉取redis镜像到本地标签为-3-2" aria-hidden="true">#</a> 从docker hu上(阿里云加速器)拉取redis镜像到本地标签为：3.2</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-05-08.png" alt="" loading="lazy"></p><h4 id="使用redis3-2镜像创建容器-也叫运行镜像" tabindex="-1"><a class="header-anchor" href="#使用redis3-2镜像创建容器-也叫运行镜像" aria-hidden="true">#</a> 使用redis3.2镜像创建容器(也叫运行镜像)</h4><p>​ 使用镜像</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -p <span class="token number">6379</span>:6379 -v /ggcc/myredis/data:/data -v /ggcc/myredis/conf/redis.conf:/usr/local/etc/redis/redis.conf -d redis redis-server /usr/local/etc/redis/redis.conf --appendonly <span class="token function">yes</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="在主机-ggcc-myredis-conf-redis-conf目录上新建redis-conf文件" tabindex="-1"><a class="header-anchor" href="#在主机-ggcc-myredis-conf-redis-conf目录上新建redis-conf文件" aria-hidden="true">#</a> 在主机/ggcc/myredis/conf/redis.conf目录上新建redis.conf文件</h4><p>vim /ggcc/myredis/conf/redis.conf/redis.conf</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code># <span class="token class-name">Redis</span> configuration file example<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span> that in order <span class="token keyword">to</span> <span class="token namespace">read</span> the configuration file<span class="token punctuation">,</span> <span class="token class-name">Redis</span> must be
# started <span class="token keyword">with</span> <span class="token namespace">the</span> file path as first argument<span class="token operator">:</span>
#
# <span class="token punctuation">.</span>/redis<span class="token operator">-</span>server <span class="token operator">/</span>path<span class="token operator">/</span><span class="token keyword">to</span><span class="token operator">/</span>redis<span class="token punctuation">.</span>conf

# <span class="token class-name">Note</span> on units<span class="token operator">:</span> when memory size is needed<span class="token punctuation">,</span> it is possible <span class="token keyword">to</span> <span class="token namespace">specify</span>
# it in the usual form of <span class="token number">1</span>k <span class="token number">5</span>GB <span class="token number">4</span>M and so forth<span class="token operator">:</span>
#
# <span class="token number">1</span>k <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1000</span> bytes
# <span class="token number">1</span>kb <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1024</span> bytes
# <span class="token number">1</span>m <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1000000</span> bytes
# <span class="token number">1</span>mb <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span> bytes
# <span class="token number">1</span>g <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1000000000</span> bytes
# <span class="token number">1</span>gb <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span> bytes
#
# units are <span class="token keyword">case</span> insensitive so <span class="token number">1</span>GB <span class="token number">1</span>Gb <span class="token number">1</span>gB are all the same<span class="token punctuation">.</span>

################################## INCLUDES ###################################

# <span class="token class-name">Include</span> one or more other config files <span class="token class-name"><span class="token namespace">here<span class="token punctuation">.</span></span>  This</span> is useful <span class="token keyword">if</span> you
# have a standard template that goes <span class="token keyword">to</span> <span class="token namespace">all</span> <span class="token class-name">Redis</span> servers but also need
# <span class="token keyword">to</span> <span class="token namespace">customize</span> a few per<span class="token operator">-</span>server <span class="token class-name"><span class="token namespace">settings<span class="token punctuation">.</span></span>  Include</span> files can include
# other files<span class="token punctuation">,</span> so use <span class="token keyword">this</span> wisely<span class="token punctuation">.</span>
#
# <span class="token class-name">Notice</span> option <span class="token string">&quot;include&quot;</span> won&#39;t be rewritten by command <span class="token string">&quot;CONFIG REWRITE&quot;</span>
# from admin or <span class="token class-name">Redis</span> <span class="token class-name">Sentinel<span class="token punctuation">.</span> Since</span> <span class="token class-name">Redis</span> always <span class="token keyword">uses</span> <span class="token namespace">the</span> last processed
# line as value of a configuration directive<span class="token punctuation">,</span> you&#39;d better put includes
# at the beginning of <span class="token keyword">this</span> file <span class="token keyword">to</span> <span class="token namespace">avoid</span> overwriting config change at runtime<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> instead you are interested in using includes <span class="token keyword">to</span> <span class="token namespace">override</span> configuration
# options<span class="token punctuation">,</span> it is better <span class="token keyword">to</span> <span class="token namespace">use</span> include as the last line<span class="token punctuation">.</span>
#
# include <span class="token operator">/</span>path<span class="token operator">/</span><span class="token keyword">to</span><span class="token operator">/</span>local<span class="token punctuation">.</span>conf
# include <span class="token operator">/</span>path<span class="token operator">/</span><span class="token keyword">to</span><span class="token operator">/</span>other<span class="token punctuation">.</span>conf

################################## MODULES #####################################

# <span class="token class-name">Load</span> modules at <span class="token class-name"><span class="token namespace">startup<span class="token punctuation">.</span></span> If</span> the server is not able <span class="token keyword">to</span> <span class="token namespace">load</span> modules
# it will <span class="token class-name"><span class="token namespace">abort<span class="token punctuation">.</span></span> It</span> is possible <span class="token keyword">to</span> <span class="token namespace">use</span> multiple loadmodule directives<span class="token punctuation">.</span>
#
# loadmodule <span class="token operator">/</span>path<span class="token operator">/</span><span class="token keyword">to</span><span class="token operator">/</span>my_module<span class="token punctuation">.</span>so
# loadmodule <span class="token operator">/</span>path<span class="token operator">/</span><span class="token keyword">to</span><span class="token operator">/</span>other_module<span class="token punctuation">.</span>so

################################## NETWORK #####################################

# <span class="token class-name">By</span> <span class="token keyword">default</span><span class="token punctuation">,</span> <span class="token keyword">if</span> no <span class="token string">&quot;bind&quot;</span> configuration directive is specified<span class="token punctuation">,</span> <span class="token class-name">Redis</span> listens
# <span class="token keyword">for</span> connections from all the network interfaces available on the server<span class="token punctuation">.</span>
# <span class="token class-name">It</span> is possible <span class="token keyword">to</span> <span class="token namespace">listen</span> <span class="token keyword">to</span> <span class="token namespace">just</span> one or multiple selected interfaces using
# the <span class="token string">&quot;bind&quot;</span> configuration directive<span class="token punctuation">,</span> followed by one or more IP addresses<span class="token punctuation">.</span>
#
# <span class="token class-name">Examples</span><span class="token operator">:</span>
#
# bind <span class="token number">192.168</span><span class="token number">.1</span><span class="token number">.100</span> <span class="token number">10.0</span><span class="token number">.0</span><span class="token number">.1</span>
# bind <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span> <span class="token operator">::</span><span class="token number">1</span>
#
# <span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span> WARNING <span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span> <span class="token class-name">If</span> the computer running <span class="token class-name">Redis</span> is directly exposed <span class="token keyword">to</span> <span class="token namespace">the</span>
# internet<span class="token punctuation">,</span> binding <span class="token keyword">to</span> <span class="token namespace">all</span> the interfaces is dangerous and will expose the
# instance <span class="token keyword">to</span> <span class="token namespace">everybody</span> on the <span class="token class-name"><span class="token namespace">internet<span class="token punctuation">.</span></span> So</span> by <span class="token keyword">default</span> we uncomment the
# following bind directive<span class="token punctuation">,</span> that will force <span class="token class-name">Redis</span> <span class="token keyword">to</span> <span class="token namespace">listen</span> only into
# the <span class="token class-name">IPv4</span> loopback <span class="token keyword">interface</span> address <span class="token punctuation">(</span><span class="token keyword">this</span> means <span class="token class-name">Redis</span> will be able <span class="token keyword">to</span>
# accept connections only from clients running into the same computer it
# is running<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES
# JUST COMMENT THE FOLLOWING LINE<span class="token punctuation">.</span>
# <span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span>
#bind <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>

# <span class="token class-name">Protected</span> mode is a layer of security protection<span class="token punctuation">,</span> in order <span class="token keyword">to</span> <span class="token namespace">avoid</span> that
# <span class="token class-name">Redis</span> instances left <span class="token keyword">open</span> <span class="token namespace">on</span> the internet are accessed and exploited<span class="token punctuation">.</span>
#
# <span class="token class-name">When</span> <span class="token keyword">protected</span> mode is on and <span class="token keyword">if</span><span class="token operator">:</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">The</span> server is not binding explicitly <span class="token keyword">to</span> <span class="token namespace">a</span> set of addresses using the
#    <span class="token string">&quot;bind&quot;</span> directive<span class="token punctuation">.</span>
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">No</span> password is configured<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> server only accepts connections from clients connecting from the
# <span class="token class-name">IPv4</span> and <span class="token class-name">IPv6</span> loopback addresses <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span> and <span class="token operator">::</span><span class="token number">1</span><span class="token punctuation">,</span> and from <span class="token class-name">Unix</span> domain
# sockets<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> <span class="token keyword">protected</span> mode is <span class="token class-name"><span class="token namespace">enabled<span class="token punctuation">.</span></span> You</span> should disable it only <span class="token keyword">if</span>
# you are sure you want clients from other hosts <span class="token keyword">to</span> <span class="token namespace">connect</span> <span class="token keyword">to</span> <span class="token class-name">Redis</span>
# even <span class="token keyword">if</span> no authentication is configured<span class="token punctuation">,</span> nor a specific set of interfaces
# are explicitly listed using the <span class="token string">&quot;bind&quot;</span> directive<span class="token punctuation">.</span>
<span class="token keyword">protected</span><span class="token operator">-</span>mode yes

# <span class="token class-name">Accept</span> connections on the specified port<span class="token punctuation">,</span> <span class="token keyword">default</span> is <span class="token number">6379</span> <span class="token punctuation">(</span>IANA #<span class="token number">815344</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
# <span class="token class-name">If</span> port <span class="token number">0</span> is specified <span class="token class-name">Redis</span> will not listen on a TCP socket<span class="token punctuation">.</span>
port <span class="token number">6379</span>

# <span class="token class-name">TCP</span> <span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> backlog<span class="token punctuation">.</span>
#
# <span class="token class-name">In</span> high requests<span class="token operator">-</span>per<span class="token operator">-</span>second environments you need an high backlog in order
# <span class="token keyword">to</span> <span class="token namespace">avoid</span> slow clients connections <span class="token class-name"><span class="token namespace">issues<span class="token punctuation">.</span></span> Note</span> that the <span class="token class-name">Linux</span> kernel
# will silently truncate it <span class="token keyword">to</span> <span class="token namespace">the</span> value of <span class="token operator">/</span>proc<span class="token operator">/</span>sys<span class="token operator">/</span>net<span class="token operator">/</span>core<span class="token operator">/</span>somaxconn so
# make sure <span class="token keyword">to</span> <span class="token namespace">raise</span> both the value of somaxconn and tcp_max_syn_backlog
# in order <span class="token keyword">to</span> <span class="token namespace">get</span> the desired effect<span class="token punctuation">.</span>
tcp<span class="token operator">-</span>backlog <span class="token number">511</span>

# <span class="token class-name">Unix</span> socket<span class="token punctuation">.</span>
#
# <span class="token class-name">Specify</span> the path <span class="token keyword">for</span> the <span class="token class-name">Unix</span> socket that will be used <span class="token keyword">to</span> <span class="token namespace">listen</span> <span class="token keyword">for</span>
# incoming <span class="token class-name"><span class="token namespace">connections<span class="token punctuation">.</span></span> There</span> is no <span class="token keyword">default</span><span class="token punctuation">,</span> so <span class="token class-name">Redis</span> will not listen
# on a unix socket when not specified<span class="token punctuation">.</span>
#
# unixsocket <span class="token operator">/</span>tmp<span class="token operator">/</span>redis<span class="token punctuation">.</span>sock
# unixsocketperm <span class="token number">700</span>

# <span class="token class-name">Close</span> the connection after a client is idle <span class="token keyword">for</span> <span class="token class-name">N</span> seconds <span class="token punctuation">(</span><span class="token number">0</span> <span class="token keyword">to</span> <span class="token namespace">disable</span><span class="token punctuation">)</span>
timeout <span class="token number">0</span>

# TCP keepalive<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> non<span class="token operator">-</span>zero<span class="token punctuation">,</span> use SO_KEEPALIVE <span class="token keyword">to</span> <span class="token namespace">send</span> TCP <span class="token class-name">ACKs</span> <span class="token keyword">to</span> <span class="token namespace">clients</span> in absence
# of <span class="token class-name"><span class="token namespace">communication<span class="token punctuation">.</span></span> This</span> is useful <span class="token keyword">for</span> two reasons<span class="token operator">:</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">Detect</span> dead peers<span class="token punctuation">.</span>
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">Take</span> the connection alive from the point of view of network
#    equipment in the middle<span class="token punctuation">.</span>
#
# <span class="token class-name">On</span> <span class="token class-name">Linux</span><span class="token punctuation">,</span> the specified value <span class="token punctuation">(</span>in seconds<span class="token punctuation">)</span> is the period used <span class="token keyword">to</span> <span class="token namespace">send</span> <span class="token class-name">ACKs</span><span class="token punctuation">.</span>
# <span class="token class-name">Note</span> that <span class="token keyword">to</span> <span class="token namespace">close</span> the connection the <span class="token keyword">double</span> of the time is needed<span class="token punctuation">.</span>
# <span class="token class-name">On</span> other kernels the period depends on the kernel configuration<span class="token punctuation">.</span>
#
# <span class="token class-name">A</span> reasonable value <span class="token keyword">for</span> <span class="token keyword">this</span> option is <span class="token number">300</span> seconds<span class="token punctuation">,</span> which is the <span class="token keyword">new</span>
# <span class="token class-name">Redis</span> <span class="token keyword">default</span> starting <span class="token keyword">with</span> <span class="token class-name">Redis</span> <span class="token number">3.2</span><span class="token number">.1</span><span class="token punctuation">.</span>
tcp<span class="token operator">-</span>keepalive <span class="token number">300</span>

################################# TLS<span class="token operator">/</span>SSL #####################################

# <span class="token class-name">By</span> <span class="token keyword">default</span><span class="token punctuation">,</span> TLS<span class="token operator">/</span>SSL is <span class="token class-name"><span class="token namespace">disabled<span class="token punctuation">.</span></span> To</span> enable it<span class="token punctuation">,</span> the <span class="token string">&quot;tls-port&quot;</span> configuration
# directive can be used <span class="token keyword">to</span> <span class="token namespace">define</span> TLS<span class="token operator">-</span>listening <span class="token class-name"><span class="token namespace">ports<span class="token punctuation">.</span></span> To</span> enable TLS on the
# <span class="token keyword">default</span> port<span class="token punctuation">,</span> use<span class="token operator">:</span>
#
# port <span class="token number">0</span>
# tls<span class="token operator">-</span>port <span class="token number">6379</span>

# <span class="token class-name">Configure</span> a <span class="token class-name">X</span><span class="token number">.509</span> certificate and <span class="token keyword">private</span> key <span class="token keyword">to</span> <span class="token namespace">use</span> <span class="token keyword">for</span> authenticating the
# server <span class="token keyword">to</span> <span class="token namespace">connected</span> clients<span class="token punctuation">,</span> masters or cluster <span class="token class-name"><span class="token namespace">peers<span class="token punctuation">.</span></span>  These</span> files should be
# PEM formatted<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>cert<span class="token operator">-</span>file redis<span class="token punctuation">.</span>crt 
# tls<span class="token operator">-</span>key<span class="token operator">-</span>file redis<span class="token punctuation">.</span>key

# <span class="token class-name">Configure</span> a DH parameters file <span class="token keyword">to</span> <span class="token namespace">enable</span> <span class="token class-name">Diffie</span><span class="token operator">-</span><span class="token class-name">Hellman</span> <span class="token punctuation">(</span>DH<span class="token punctuation">)</span> key exchange<span class="token operator">:</span>
#
# tls<span class="token operator">-</span>dh<span class="token operator">-</span>params<span class="token operator">-</span>file redis<span class="token punctuation">.</span>dh

# <span class="token class-name">Configure</span> a <span class="token class-name">CA</span> <span class="token function">certificate</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> bundle or directory <span class="token keyword">to</span> <span class="token namespace">authenticate</span> TLS<span class="token operator">/</span>SSL
# clients and <span class="token class-name"><span class="token namespace">peers<span class="token punctuation">.</span></span>  Redis</span> <span class="token keyword">requires</span> <span class="token namespace">an</span> explicit configuration of at least one
# of these<span class="token punctuation">,</span> and will not implicitly use the system wide configuration<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>ca<span class="token operator">-</span>cert<span class="token operator">-</span>file ca<span class="token punctuation">.</span>crt
# tls<span class="token operator">-</span>ca<span class="token operator">-</span>cert<span class="token operator">-</span>dir <span class="token operator">/</span>etc<span class="token operator">/</span>ssl<span class="token operator">/</span>certs

# <span class="token class-name">By</span> <span class="token keyword">default</span><span class="token punctuation">,</span> clients <span class="token punctuation">(</span>including replica servers<span class="token punctuation">)</span> on a TLS port are required
# <span class="token keyword">to</span> <span class="token namespace">authenticate</span> using valid client side certificates<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> <span class="token string">&quot;no&quot;</span> is specified<span class="token punctuation">,</span> client certificates are not required and not accepted<span class="token punctuation">.</span>
# <span class="token class-name">If</span> <span class="token string">&quot;optional&quot;</span> is specified<span class="token punctuation">,</span> client certificates are accepted and must be
# valid <span class="token keyword">if</span> provided<span class="token punctuation">,</span> but are not required<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>auth<span class="token operator">-</span>clients no
# tls<span class="token operator">-</span>auth<span class="token operator">-</span>clients optional

# <span class="token class-name">By</span> <span class="token keyword">default</span><span class="token punctuation">,</span> a <span class="token class-name">Redis</span> replica does not attempt <span class="token keyword">to</span> <span class="token namespace">establish</span> a TLS connection
# <span class="token keyword">with</span> <span class="token namespace">its</span> master<span class="token punctuation">.</span>
#
# <span class="token class-name">Use</span> the following directive <span class="token keyword">to</span> <span class="token namespace">enable</span> TLS on replication links<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>replication yes

# <span class="token class-name">By</span> <span class="token keyword">default</span><span class="token punctuation">,</span> the <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span> bus <span class="token keyword">uses</span> <span class="token namespace">a</span> plain TCP <span class="token class-name"><span class="token namespace">connection<span class="token punctuation">.</span></span> To</span> enable
# TLS <span class="token keyword">for</span> the bus protocol<span class="token punctuation">,</span> use the following directive<span class="token operator">:</span>
#
# tls<span class="token operator">-</span>cluster yes

# <span class="token class-name">Explicitly</span> specify TLS versions <span class="token keyword">to</span> <span class="token namespace">support<span class="token punctuation">.</span></span> <span class="token class-name">Allowed</span> values are <span class="token keyword">case</span> insensitive
# and include <span class="token string">&quot;TLSv1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TLSv1.1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TLSv1.2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TLSv1.3&quot;</span> <span class="token punctuation">(</span><span class="token class-name">OpenSSL</span> <span class="token operator">&gt;=</span> <span class="token number">1.1</span><span class="token number">.1</span><span class="token punctuation">)</span> or
# any <span class="token class-name"><span class="token namespace">combination<span class="token punctuation">.</span></span> To</span> enable only <span class="token class-name">TLSv1</span><span class="token number">.2</span> and <span class="token class-name">TLSv1</span><span class="token number">.3</span><span class="token punctuation">,</span> use<span class="token operator">:</span>
#
# tls<span class="token operator">-</span>protocols <span class="token string">&quot;TLSv1.2 TLSv1.3&quot;</span>

# <span class="token class-name">Configure</span> allowed <span class="token class-name"><span class="token namespace">ciphers<span class="token punctuation">.</span></span>  See</span> the <span class="token function">ciphers</span><span class="token punctuation">(</span><span class="token number">1</span>ssl<span class="token punctuation">)</span> manpage <span class="token keyword">for</span> more information
# about the syntax of <span class="token keyword">this</span> string<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span><span class="token operator">:</span> <span class="token keyword">this</span> configuration applies only <span class="token keyword">to</span> \<span class="token operator">&lt;=</span> <span class="token class-name">TLSv1</span><span class="token number">.2</span><span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>ciphers DEFAULT<span class="token operator">:</span><span class="token operator">!</span>MEDIUM

# <span class="token class-name">Configure</span> allowed <span class="token class-name">TLSv1</span><span class="token number">.3</span> <span class="token class-name"><span class="token namespace">ciphersuites<span class="token punctuation">.</span></span>  See</span> the <span class="token function">ciphers</span><span class="token punctuation">(</span><span class="token number">1</span>ssl<span class="token punctuation">)</span> manpage <span class="token keyword">for</span> more
# information about the syntax of <span class="token keyword">this</span> string<span class="token punctuation">,</span> and specifically <span class="token keyword">for</span> <span class="token class-name">TLSv1</span><span class="token number">.3</span>
# ciphersuites<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>ciphersuites TLS_CHACHA20_POLY1305_SHA256

# <span class="token class-name">When</span> choosing a cipher<span class="token punctuation">,</span> use the server&#39;s preference instead of the client
# <span class="token class-name"><span class="token namespace">preference<span class="token punctuation">.</span></span> By</span> <span class="token keyword">default</span><span class="token punctuation">,</span> the server follows the client&#39;s preference<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>prefer<span class="token operator">-</span>server<span class="token operator">-</span>ciphers yes

# <span class="token class-name">By</span> <span class="token keyword">default</span><span class="token punctuation">,</span> TLS session caching is enabled <span class="token keyword">to</span> <span class="token namespace">allow</span> faster and less expensive
# reconnections by clients that support <span class="token class-name"><span class="token namespace">it<span class="token punctuation">.</span></span> Use</span> the following directive <span class="token keyword">to</span> <span class="token namespace">disable</span>
# caching<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>session<span class="token operator">-</span>caching no

# <span class="token class-name">Change</span> the <span class="token keyword">default</span> number of TLS sessions <span class="token class-name"><span class="token namespace">cached<span class="token punctuation">.</span></span> A</span> zero value sets the cache
# <span class="token keyword">to</span> <span class="token namespace">unlimited</span> <span class="token class-name"><span class="token namespace">size<span class="token punctuation">.</span></span> The</span> <span class="token keyword">default</span> size is <span class="token number">20480.</span>
#
# tls<span class="token operator">-</span>session<span class="token operator">-</span>cache<span class="token operator">-</span>size <span class="token number">5000</span>

# <span class="token class-name">Change</span> the <span class="token keyword">default</span> timeout of cached TLS <span class="token class-name"><span class="token namespace">sessions<span class="token punctuation">.</span></span> The</span> <span class="token keyword">default</span> timeout is <span class="token number">300</span>
# seconds<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>session<span class="token operator">-</span>cache<span class="token operator">-</span>timeout <span class="token number">60</span>

################################# GENERAL #####################################

# <span class="token class-name">By</span> <span class="token keyword">default</span> <span class="token class-name">Redis</span> does not run as a <span class="token class-name"><span class="token namespace">daemon<span class="token punctuation">.</span></span> Use</span> <span class="token char">&#39;yes&#39;</span> <span class="token keyword">if</span> you need it<span class="token punctuation">.</span>
# <span class="token class-name">Note</span> that <span class="token class-name">Redis</span> will write a pid file in <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>run<span class="token operator">/</span>redis<span class="token punctuation">.</span>pid when daemonized<span class="token punctuation">.</span>
daemonize no

# <span class="token class-name">If</span> you run <span class="token class-name">Redis</span> from upstart or systemd<span class="token punctuation">,</span> <span class="token class-name">Redis</span> can interact <span class="token keyword">with</span> <span class="token namespace">your</span>
# supervision <span class="token class-name"><span class="token namespace">tree<span class="token punctuation">.</span></span> Options</span><span class="token operator">:</span>
#   supervised no      <span class="token operator">-</span> no supervision interaction
#   supervised upstart <span class="token operator">-</span> signal upstart by putting <span class="token class-name">Redis</span> into SIGSTOP mode
#   supervised systemd <span class="token operator">-</span> signal systemd by writing READY<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">to</span> $NOTIFY_SOCKET
#   supervised auto    <span class="token operator">-</span> detect upstart or systemd method based on
#                        UPSTART_JOB or NOTIFY_SOCKET environment variables
# <span class="token class-name">Note</span><span class="token operator">:</span> these supervision methods only signal <span class="token string">&quot;process is ready.&quot;</span>
#       <span class="token class-name">They</span> <span class="token keyword">do</span> not enable continuous liveness pings back <span class="token keyword">to</span> <span class="token namespace">your</span> supervisor<span class="token punctuation">.</span>
supervised no

# <span class="token class-name">If</span> a pid file is specified<span class="token punctuation">,</span> <span class="token class-name">Redis</span> writes it where specified at startup
# and removes it at exit<span class="token punctuation">.</span>
#
# <span class="token class-name">When</span> the server runs non daemonized<span class="token punctuation">,</span> no pid file is created <span class="token keyword">if</span> none is
# specified in the <span class="token class-name"><span class="token namespace">configuration<span class="token punctuation">.</span></span> When</span> the server is daemonized<span class="token punctuation">,</span> the pid file
# is used even <span class="token keyword">if</span> not specified<span class="token punctuation">,</span> defaulting <span class="token keyword">to</span> <span class="token string">&quot;/var/run/redis.pid&quot;</span><span class="token punctuation">.</span>
#
# <span class="token class-name">Creating</span> a pid file is best effort<span class="token operator">:</span> <span class="token keyword">if</span> <span class="token class-name">Redis</span> is not able <span class="token keyword">to</span> <span class="token namespace">create</span> it
# nothing bad happens<span class="token punctuation">,</span> the server will start and run normally<span class="token punctuation">.</span>
pidfile <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>run<span class="token operator">/</span>redis_6379<span class="token punctuation">.</span>pid

# <span class="token class-name">Specify</span> the server verbosity level<span class="token punctuation">.</span>
# <span class="token class-name">This</span> can be one of<span class="token operator">:</span>
# debug <span class="token punctuation">(</span>a lot of information<span class="token punctuation">,</span> useful <span class="token keyword">for</span> development<span class="token operator">/</span>testing<span class="token punctuation">)</span>
# verbose <span class="token punctuation">(</span>many rarely useful info<span class="token punctuation">,</span> but not a mess like the debug level<span class="token punctuation">)</span>
# notice <span class="token punctuation">(</span>moderately verbose<span class="token punctuation">,</span> what you want in production probably<span class="token punctuation">)</span>
# warning <span class="token punctuation">(</span>only very important <span class="token operator">/</span> critical messages are logged<span class="token punctuation">)</span>
loglevel notice

# <span class="token class-name">Specify</span> the log file <span class="token class-name"><span class="token namespace">name<span class="token punctuation">.</span></span> Also</span> the empty string can be used <span class="token keyword">to</span> <span class="token namespace">force</span>
# <span class="token class-name">Redis</span> <span class="token keyword">to</span> <span class="token namespace">log</span> on the standard <span class="token class-name"><span class="token namespace">output<span class="token punctuation">.</span></span> Note</span> that <span class="token keyword">if</span> you use standard
# output <span class="token keyword">for</span> logging but daemonize<span class="token punctuation">,</span> logs will be sent <span class="token keyword">to</span> <span class="token operator">/</span>dev<span class="token operator">/</span><span class="token keyword">null</span>
logfile <span class="token string">&quot;&quot;</span>

# <span class="token class-name">To</span> enable logging <span class="token keyword">to</span> <span class="token namespace">the</span> system logger<span class="token punctuation">,</span> just set &#39;syslog<span class="token operator">-</span>enabled&#39; <span class="token keyword">to</span> <span class="token namespace">yes</span><span class="token punctuation">,</span>
# and optionally update the other syslog parameters <span class="token keyword">to</span> <span class="token namespace">suit</span> your needs<span class="token punctuation">.</span>
# syslog<span class="token operator">-</span>enabled no

# <span class="token class-name">Specify</span> the syslog identity<span class="token punctuation">.</span>
# syslog<span class="token operator">-</span>ident redis

# <span class="token class-name">Specify</span> the syslog <span class="token class-name"><span class="token namespace">facility<span class="token punctuation">.</span></span> Must</span> be USER or between LOCAL0<span class="token operator">-</span>LOCAL7<span class="token punctuation">.</span>
# syslog<span class="token operator">-</span>facility local0

# <span class="token class-name">Set</span> the number of <span class="token class-name"><span class="token namespace">databases<span class="token punctuation">.</span></span> The</span> <span class="token keyword">default</span> database is <span class="token class-name">DB</span> <span class="token number">0</span><span class="token punctuation">,</span> you can select
# a different one on a per<span class="token operator">-</span>connection basis using SELECT \<span class="token generics"><span class="token punctuation">&lt;</span>dbid<span class="token punctuation">&gt;</span></span> where
# dbid is a number between <span class="token number">0</span> and &#39;databases&#39;<span class="token operator">-</span><span class="token number">1</span>
databases <span class="token number">16</span>

# <span class="token class-name">By</span> <span class="token keyword">default</span> <span class="token class-name">Redis</span> shows an ASCII art logo only when started <span class="token keyword">to</span> <span class="token namespace">log</span> <span class="token keyword">to</span> <span class="token namespace">the</span>
# standard output and <span class="token keyword">if</span> the standard output is a <span class="token class-name">TTY<span class="token punctuation">.</span> Basically</span> <span class="token keyword">this</span> means
# that normally a logo is displayed only in interactive sessions<span class="token punctuation">.</span>
#
# <span class="token class-name">However</span> it is possible <span class="token keyword">to</span> <span class="token namespace">force</span> the pre<span class="token operator">-</span><span class="token number">4.0</span> behavior and always show a
# ASCII art logo in startup logs by setting the following option <span class="token keyword">to</span> <span class="token namespace">yes<span class="token punctuation">.</span></span>
always<span class="token operator">-</span>show<span class="token operator">-</span>logo yes

################################ SNAPSHOTTING  ################################
#
# <span class="token class-name">Save</span> the DB on disk<span class="token operator">:</span>
#
#   save \<span class="token generics"><span class="token punctuation">&lt;</span>seconds<span class="token punctuation">&gt;</span></span> \<span class="token generics"><span class="token punctuation">&lt;</span>changes<span class="token punctuation">&gt;</span></span>
#
#   <span class="token class-name">Will</span> save the DB <span class="token keyword">if</span> both the given number of seconds and the given
#   number of write operations against the DB occurred<span class="token punctuation">.</span>
#
#   <span class="token class-name">In</span> the example below the behaviour will be <span class="token keyword">to</span> <span class="token namespace">save</span><span class="token operator">:</span>
#   after <span class="token number">900</span> sec <span class="token punctuation">(</span><span class="token number">15</span> min<span class="token punctuation">)</span> <span class="token keyword">if</span> at least <span class="token number">1</span> key changed
#   after <span class="token number">300</span> sec <span class="token punctuation">(</span><span class="token number">5</span> min<span class="token punctuation">)</span> <span class="token keyword">if</span> at least <span class="token number">10</span> keys changed
#   after <span class="token number">60</span> sec <span class="token keyword">if</span> at least <span class="token number">10000</span> keys changed
#
#   <span class="token class-name">Note</span><span class="token operator">:</span> you can disable saving completely by commenting out all <span class="token string">&quot;save&quot;</span> lines<span class="token punctuation">.</span>
#
#   <span class="token class-name">It</span> is also possible <span class="token keyword">to</span> <span class="token namespace">remove</span> all the previously configured save
#   points by adding a save directive <span class="token keyword">with</span> <span class="token namespace">a</span> single empty string argument
#   like in the following example<span class="token operator">:</span>
#
#   save <span class="token string">&quot;&quot;</span>

save <span class="token number">900</span> <span class="token number">1</span>
save <span class="token number">300</span> <span class="token number">10</span>
save <span class="token number">60</span> <span class="token number">10000</span>

# <span class="token class-name">By</span> <span class="token keyword">default</span> <span class="token class-name">Redis</span> will stop accepting writes <span class="token keyword">if</span> RDB snapshots are enabled
# <span class="token punctuation">(</span>at least one save point<span class="token punctuation">)</span> and the latest background save failed<span class="token punctuation">.</span>
# <span class="token class-name">This</span> will make the user aware <span class="token punctuation">(</span>in a hard way<span class="token punctuation">)</span> that data is not persisting
# on disk properly<span class="token punctuation">,</span> otherwise chances are that no one will notice and some
# disaster will happen<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> the background saving process will start working again <span class="token class-name">Redis</span> will
# automatically allow writes again<span class="token punctuation">.</span>
#
# <span class="token class-name">However</span> <span class="token keyword">if</span> you have setup your proper monitoring of the <span class="token class-name">Redis</span> server
# and persistence<span class="token punctuation">,</span> you may want <span class="token keyword">to</span> <span class="token namespace">disable</span> <span class="token keyword">this</span> feature so that <span class="token class-name">Redis</span> will
# <span class="token keyword">continue</span> <span class="token keyword">to</span> <span class="token namespace">work</span> as usual even <span class="token keyword">if</span> there are problems <span class="token keyword">with</span> <span class="token namespace">disk</span><span class="token punctuation">,</span>
# permissions<span class="token punctuation">,</span> and so forth<span class="token punctuation">.</span>
stop<span class="token operator">-</span>writes<span class="token operator">-</span>on<span class="token operator">-</span>bgsave<span class="token operator">-</span>error yes

# <span class="token class-name">Compress</span> string objects using LZF when dump <span class="token punctuation">.</span>rdb databases<span class="token operator">?</span>
# <span class="token class-name">For</span> <span class="token keyword">default</span> that&#39;s set <span class="token keyword">to</span> <span class="token char">&#39;yes&#39;</span> as it&#39;s almost always a win<span class="token punctuation">.</span>
# <span class="token class-name">If</span> you want <span class="token keyword">to</span> <span class="token namespace">save</span> some CPU in the saving child set it <span class="token keyword">to</span> <span class="token char">&#39;no&#39;</span> but
# the dataset will likely be bigger <span class="token keyword">if</span> you have compressible values or keys<span class="token punctuation">.</span>
rdbcompression yes

# <span class="token class-name">Since</span> version <span class="token number">5</span> of RDB a CRC64 checksum is placed at the end of the file<span class="token punctuation">.</span>
# <span class="token class-name">This</span> makes the format more resistant <span class="token keyword">to</span> <span class="token namespace">corruption</span> but there is a performance
# hit <span class="token keyword">to</span> <span class="token namespace">pay</span> <span class="token punctuation">(</span>around <span class="token number">10</span><span class="token operator">%</span><span class="token punctuation">)</span> when saving and loading <span class="token class-name">RDB</span> files<span class="token punctuation">,</span> so you can disable it
# <span class="token keyword">for</span> maximum performances<span class="token punctuation">.</span>
#
# RDB files created <span class="token keyword">with</span> <span class="token namespace">checksum</span> disabled have a checksum of zero that will
# tell the loading code <span class="token keyword">to</span> <span class="token namespace">skip</span> the check<span class="token punctuation">.</span>
rdbchecksum yes

# <span class="token class-name">The</span> filename where <span class="token keyword">to</span> <span class="token namespace">dump</span> the DB
dbfilename dump<span class="token punctuation">.</span>rdb

# <span class="token class-name">Remove</span> RDB files used by replication in instances without persistence
# <span class="token class-name"><span class="token namespace">enabled<span class="token punctuation">.</span></span> By</span> <span class="token keyword">default</span> <span class="token keyword">this</span> option is disabled<span class="token punctuation">,</span> however there are environments
# where <span class="token keyword">for</span> regulations or other security concerns<span class="token punctuation">,</span> RDB files persisted on
# disk by masters in order <span class="token keyword">to</span> <span class="token namespace">feed</span> replicas<span class="token punctuation">,</span> or stored on disk by replicas
# in order <span class="token keyword">to</span> <span class="token namespace">load</span> them <span class="token keyword">for</span> the initial synchronization<span class="token punctuation">,</span> should be deleted
# <span class="token class-name">ASAP<span class="token punctuation">.</span> Note</span> that <span class="token keyword">this</span> option ONLY WORKS in instances that have both AOF
# and RDB persistence disabled<span class="token punctuation">,</span> otherwise is completely ignored<span class="token punctuation">.</span>
#
# <span class="token class-name">An</span> alternative <span class="token punctuation">(</span>and sometimes better<span class="token punctuation">)</span> way <span class="token keyword">to</span> <span class="token namespace">obtain</span> the same effect is
# <span class="token keyword">to</span> <span class="token namespace">use</span> diskless replication on both master and replicas <span class="token class-name"><span class="token namespace">instances<span class="token punctuation">.</span></span> However</span>
# in the <span class="token keyword">case</span> of replicas<span class="token punctuation">,</span> diskless is not always an option<span class="token punctuation">.</span>
rdb<span class="token operator">-</span>del<span class="token operator">-</span>sync<span class="token operator">-</span>files no

# <span class="token class-name">The</span> working directory<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> DB will be written inside <span class="token keyword">this</span> directory<span class="token punctuation">,</span> <span class="token keyword">with</span> <span class="token namespace">the</span> filename specified
# above using the &#39;dbfilename&#39; configuration directive<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token class-name">Append</span> <span class="token class-name">Only</span> <span class="token class-name">File</span> will also be created inside <span class="token keyword">this</span> directory<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span> that you must specify a directory here<span class="token punctuation">,</span> not a file name<span class="token punctuation">.</span>
dir <span class="token punctuation">.</span>/

################################# REPLICATION #################################

# <span class="token class-name">Master</span><span class="token operator">-</span><span class="token class-name">Replica</span> <span class="token class-name"><span class="token namespace">replication<span class="token punctuation">.</span></span> Use</span> replicaof <span class="token keyword">to</span> <span class="token namespace">make</span> a <span class="token class-name">Redis</span> instance a copy of
# another <span class="token class-name">Redis</span> <span class="token class-name"><span class="token namespace">server<span class="token punctuation">.</span></span> A</span> few things <span class="token keyword">to</span> <span class="token namespace">understand</span> ASAP about <span class="token class-name">Redis</span> replication<span class="token punctuation">.</span>
#
#   <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>      <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
#   <span class="token operator">|</span>      <span class="token class-name">Master</span>      <span class="token operator">|</span> <span class="token operator">--</span><span class="token operator">-&gt;</span> <span class="token operator">|</span>    <span class="token class-name">Replica</span>    <span class="token operator">|</span>
#   <span class="token operator">|</span> <span class="token punctuation">(</span>receive writes<span class="token punctuation">)</span> <span class="token operator">|</span>      <span class="token operator">|</span>  <span class="token punctuation">(</span>exact copy<span class="token punctuation">)</span> <span class="token operator">|</span>
#   <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>      <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">Redis</span> replication is asynchronous<span class="token punctuation">,</span> but you can configure a master <span class="token keyword">to</span>
#    stop accepting writes <span class="token keyword">if</span> it appears <span class="token keyword">to</span> <span class="token namespace">be</span> not connected <span class="token keyword">with</span> <span class="token namespace">at</span> least
#    a given number of replicas<span class="token punctuation">.</span>
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">Redis</span> replicas are able <span class="token keyword">to</span> <span class="token namespace">perform</span> a partial resynchronization <span class="token keyword">with</span> <span class="token namespace">the</span>
#    master <span class="token keyword">if</span> the replication link is lost <span class="token keyword">for</span> a relatively small amount of
#    <span class="token class-name"><span class="token namespace">time<span class="token punctuation">.</span></span> You</span> may want <span class="token keyword">to</span> <span class="token namespace">configure</span> the replication backlog size <span class="token punctuation">(</span>see the next
#    sections of <span class="token keyword">this</span> file<span class="token punctuation">)</span> <span class="token keyword">with</span> <span class="token namespace">a</span> sensible value depending on your needs<span class="token punctuation">.</span>
# <span class="token number">3</span><span class="token punctuation">)</span> <span class="token class-name">Replication</span> is automatic and does not need user <span class="token class-name"><span class="token namespace">intervention<span class="token punctuation">.</span></span> After</span> a
#    network partition replicas automatically <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">reconnect</span> <span class="token keyword">to</span> <span class="token namespace">masters</span>
#    and resynchronize <span class="token keyword">with</span> <span class="token namespace">them<span class="token punctuation">.</span></span>
#
# replicaof \<span class="token generics"><span class="token punctuation">&lt;</span>masterip<span class="token punctuation">&gt;</span></span> \<span class="token generics"><span class="token punctuation">&lt;</span>masterport<span class="token punctuation">&gt;</span></span>

# <span class="token class-name">If</span> the master is password <span class="token keyword">protected</span> <span class="token punctuation">(</span>using the <span class="token string">&quot;requirepass&quot;</span> configuration
# directive below<span class="token punctuation">)</span> it is possible <span class="token keyword">to</span> <span class="token namespace">tell</span> the replica <span class="token keyword">to</span> <span class="token namespace">authenticate</span> before
# starting the replication synchronization process<span class="token punctuation">,</span> otherwise the master will
# refuse the replica request<span class="token punctuation">.</span>
#
# masterauth \<span class="token operator">&lt;</span>master<span class="token operator">-</span>password<span class="token operator">&gt;</span>
#
# <span class="token class-name">However</span> <span class="token keyword">this</span> is not enough <span class="token keyword">if</span> you are using <span class="token class-name">Redis</span> <span class="token class-name">ACLs</span> <span class="token punctuation">(</span><span class="token keyword">for</span> <span class="token class-name">Redis</span> version
# <span class="token number">6</span> or greater<span class="token punctuation">)</span><span class="token punctuation">,</span> and the <span class="token keyword">default</span> user is not capable of running the PSYNC
# command and<span class="token operator">/</span>or other commands needed <span class="token keyword">for</span> <span class="token class-name"><span class="token namespace">replication<span class="token punctuation">.</span></span> In</span> <span class="token keyword">this</span> <span class="token keyword">case</span> it&#39;s
# better <span class="token keyword">to</span> <span class="token namespace">configure</span> a special user <span class="token keyword">to</span> <span class="token namespace">use</span> <span class="token keyword">with</span> <span class="token namespace">replication</span><span class="token punctuation">,</span> and specify the
# masteruser configuration as such<span class="token operator">:</span>
#
# masteruser \<span class="token generics"><span class="token punctuation">&lt;</span>username<span class="token punctuation">&gt;</span></span>
#
# <span class="token class-name">When</span> masteruser is specified<span class="token punctuation">,</span> the replica will authenticate against its
# master using the <span class="token keyword">new</span> <span class="token class-name">AUTH</span> form<span class="token operator">:</span> AUTH \<span class="token generics"><span class="token punctuation">&lt;</span>username<span class="token punctuation">&gt;</span></span> \<span class="token generics"><span class="token punctuation">&lt;</span>password<span class="token punctuation">&gt;</span></span><span class="token punctuation">.</span>

# <span class="token class-name">When</span> a replica loses its connection <span class="token keyword">with</span> <span class="token namespace">the</span> master<span class="token punctuation">,</span> or when the replication
# is still in progress<span class="token punctuation">,</span> the replica can act in two different ways<span class="token operator">:</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">if</span> replica<span class="token operator">-</span>serve<span class="token operator">-</span>stale<span class="token operator">-</span>data is set <span class="token keyword">to</span> <span class="token char">&#39;yes&#39;</span> <span class="token punctuation">(</span>the <span class="token keyword">default</span><span class="token punctuation">)</span> the replica will
#    still reply <span class="token keyword">to</span> <span class="token namespace">client</span> requests<span class="token punctuation">,</span> possibly <span class="token keyword">with</span> <span class="token namespace">out</span> of date data<span class="token punctuation">,</span> or the
#    data set may just be empty <span class="token keyword">if</span> <span class="token keyword">this</span> is the first synchronization<span class="token punctuation">.</span>
#
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">if</span> replica<span class="token operator">-</span>serve<span class="token operator">-</span>stale<span class="token operator">-</span>data is set <span class="token keyword">to</span> <span class="token char">&#39;no&#39;</span> the replica will reply <span class="token keyword">with</span>
#    an error <span class="token string">&quot;SYNC with master in progress&quot;</span> <span class="token keyword">to</span> <span class="token namespace">all</span> the kind of commands
#    but <span class="token keyword">to</span> INFO<span class="token punctuation">,</span> replicaOF<span class="token punctuation">,</span> AUTH<span class="token punctuation">,</span> PING<span class="token punctuation">,</span> SHUTDOWN<span class="token punctuation">,</span> REPLCONF<span class="token punctuation">,</span> ROLE<span class="token punctuation">,</span> CONFIG<span class="token punctuation">,</span>
#    SUBSCRIBE<span class="token punctuation">,</span> UNSUBSCRIBE<span class="token punctuation">,</span> PSUBSCRIBE<span class="token punctuation">,</span> PUNSUBSCRIBE<span class="token punctuation">,</span> PUBLISH<span class="token punctuation">,</span> PUBSUB<span class="token punctuation">,</span>
#    COMMAND<span class="token punctuation">,</span> POST<span class="token punctuation">,</span> HOST<span class="token operator">:</span> and LATENCY<span class="token punctuation">.</span>
#
replica<span class="token operator">-</span>serve<span class="token operator">-</span>stale<span class="token operator">-</span>data yes

# <span class="token class-name">You</span> can configure a replica instance <span class="token keyword">to</span> <span class="token namespace">accept</span> writes or <span class="token class-name"><span class="token namespace">not<span class="token punctuation">.</span></span> Writing</span> against
# a replica instance may be useful <span class="token keyword">to</span> <span class="token namespace">store</span> some ephemeral data <span class="token punctuation">(</span>because data
# written on a replica will be easily deleted after resync <span class="token keyword">with</span> <span class="token namespace">the</span> master<span class="token punctuation">)</span> but
# may also cause problems <span class="token keyword">if</span> clients are writing <span class="token keyword">to</span> <span class="token namespace">it</span> because of a
# misconfiguration<span class="token punctuation">.</span>
#
# <span class="token class-name">Since</span> <span class="token class-name">Redis</span> <span class="token number">2.6</span> by <span class="token keyword">default</span> replicas are read<span class="token operator">-</span>only<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span><span class="token operator">:</span> read only replicas are not designed <span class="token keyword">to</span> <span class="token namespace">be</span> exposed <span class="token keyword">to</span> <span class="token namespace">untrusted</span> clients
# on the <span class="token class-name"><span class="token namespace">internet<span class="token punctuation">.</span></span> It</span>&#39;s just a protection layer against misuse of the instance<span class="token punctuation">.</span>
# <span class="token class-name">Still</span> a read only replica <span class="token keyword">exports</span> <span class="token namespace">by</span> <span class="token keyword">default</span> all the administrative commands
# such as CONFIG<span class="token punctuation">,</span> DEBUG<span class="token punctuation">,</span> and so <span class="token class-name"><span class="token namespace">forth<span class="token punctuation">.</span></span> To</span> a limited extent you can improve
# security of read only replicas using &#39;rename<span class="token operator">-</span>command&#39; <span class="token keyword">to</span> <span class="token namespace">shadow</span> all the
# administrative <span class="token operator">/</span> dangerous commands<span class="token punctuation">.</span>
replica<span class="token operator">-</span>read<span class="token operator">-</span>only yes

# <span class="token class-name">Replication</span> SYNC strategy<span class="token operator">:</span> disk or socket<span class="token punctuation">.</span>
#
# <span class="token class-name">New</span> replicas and reconnecting replicas that are not able <span class="token keyword">to</span> <span class="token keyword">continue</span> the
# replication process just receiving differences<span class="token punctuation">,</span> need <span class="token keyword">to</span> <span class="token keyword">do</span> what is called a
# <span class="token string">&quot;full synchronization&quot;</span><span class="token punctuation">.</span> <span class="token class-name">An</span> RDB file is transmitted from the master <span class="token keyword">to</span> <span class="token namespace">the</span>
# replicas<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> transmission can happen in two different ways<span class="token operator">:</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">Disk</span><span class="token operator">-</span>backed<span class="token operator">:</span> <span class="token class-name">The</span> <span class="token class-name">Redis</span> master creates a <span class="token keyword">new</span> process that writes the RDB
#                 file on <span class="token class-name"><span class="token namespace">disk<span class="token punctuation">.</span></span> Later</span> the file is transferred by the parent
#                 process <span class="token keyword">to</span> <span class="token namespace">the</span> replicas incrementally<span class="token punctuation">.</span>
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">Diskless</span><span class="token operator">:</span> <span class="token class-name">The</span> <span class="token class-name">Redis</span> master creates a <span class="token keyword">new</span> process that directly writes the
#              RDB file <span class="token keyword">to</span> <span class="token namespace">replica</span> sockets<span class="token punctuation">,</span> without touching the disk at all<span class="token punctuation">.</span>
#
# <span class="token class-name">With</span> disk<span class="token operator">-</span>backed replication<span class="token punctuation">,</span> <span class="token keyword">while</span> the RDB file is generated<span class="token punctuation">,</span> more replicas
# can be queued and served <span class="token keyword">with</span> <span class="token namespace">the</span> RDB file as soon as the current child
# producing the RDB file finishes its <span class="token class-name"><span class="token namespace">work<span class="token punctuation">.</span></span> With</span> diskless replication instead
# once the transfer starts<span class="token punctuation">,</span> <span class="token keyword">new</span> replicas arriving will be queued and a <span class="token keyword">new</span>
# transfer will start when the current one terminates<span class="token punctuation">.</span>
#
# <span class="token class-name">When</span> diskless replication is used<span class="token punctuation">,</span> the master waits a configurable amount of
# time <span class="token punctuation">(</span>in seconds<span class="token punctuation">)</span> before starting the transfer in the hope that multiple
# replicas will arrive and the transfer can be parallelized<span class="token punctuation">.</span>
#
# <span class="token class-name">With</span> slow disks and fast <span class="token punctuation">(</span>large bandwidth<span class="token punctuation">)</span> networks<span class="token punctuation">,</span> diskless replication
# works better<span class="token punctuation">.</span>
repl<span class="token operator">-</span>diskless<span class="token operator">-</span>sync no

# <span class="token class-name">When</span> diskless replication is enabled<span class="token punctuation">,</span> it is possible <span class="token keyword">to</span> <span class="token namespace">configure</span> the delay
# the server waits in order <span class="token keyword">to</span> <span class="token namespace">spawn</span> the child that transfers the RDB via socket
# <span class="token keyword">to</span> <span class="token namespace">the</span> replicas<span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> is important since once the transfer starts<span class="token punctuation">,</span> it is not possible <span class="token keyword">to</span> <span class="token namespace">serve</span>
# <span class="token keyword">new</span> replicas arriving<span class="token punctuation">,</span> that will be queued <span class="token keyword">for</span> the next <span class="token class-name">RDB</span> transfer<span class="token punctuation">,</span> so the
# server waits a delay in order <span class="token keyword">to</span> <span class="token namespace">let</span> more replicas arrive<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> delay is specified in seconds<span class="token punctuation">,</span> and by <span class="token keyword">default</span> is <span class="token number">5</span> <span class="token class-name"><span class="token namespace">seconds<span class="token punctuation">.</span></span> To</span> disable
# it entirely just set it <span class="token keyword">to</span> <span class="token number">0</span> seconds and the transfer will start ASAP<span class="token punctuation">.</span>
repl<span class="token operator">-</span>diskless<span class="token operator">-</span>sync<span class="token operator">-</span>delay <span class="token number">5</span>

# <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
# WARNING<span class="token operator">:</span> RDB diskless load is <span class="token class-name"><span class="token namespace">experimental<span class="token punctuation">.</span></span> Since</span> in <span class="token keyword">this</span> setup the replica
# does not immediately store an RDB on disk<span class="token punctuation">,</span> it may cause data loss during
# failovers<span class="token punctuation">.</span> RDB diskless load <span class="token operator">+</span> <span class="token class-name">Redis</span> modules not handling <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> reads may also
# cause <span class="token class-name">Redis</span> <span class="token keyword">to</span> <span class="token namespace">abort</span> in <span class="token keyword">case</span> of <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> errors during the initial synchronization
# stage <span class="token keyword">with</span> <span class="token namespace">the</span> <span class="token class-name"><span class="token namespace">master<span class="token punctuation">.</span></span> Use</span> only <span class="token keyword">if</span> your <span class="token keyword">do</span> what you are doing<span class="token punctuation">.</span>
# <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
#
# <span class="token class-name">Replica</span> can load the RDB it reads from the replication link directly from the
# socket<span class="token punctuation">,</span> or store the RDB <span class="token keyword">to</span> <span class="token namespace">a</span> file and read that file after it was completely
# recived from the master<span class="token punctuation">.</span>
#
# <span class="token class-name">In</span> many cases the disk is slower than the network<span class="token punctuation">,</span> and storing and loading
# the RDB file may increase replication time <span class="token punctuation">(</span>and even increase the master&#39;s
# <span class="token class-name">Copy</span> on <span class="token class-name">Write</span> memory and salve buffers<span class="token punctuation">)</span><span class="token punctuation">.</span>
# <span class="token class-name">However</span><span class="token punctuation">,</span> parsing the RDB file directly from the socket may mean that we have
# <span class="token keyword">to</span> <span class="token namespace">flush</span> the contents of the current database before the full rdb was
# <span class="token class-name"><span class="token namespace">received<span class="token punctuation">.</span></span> For</span> <span class="token keyword">this</span> reason we have the following options<span class="token operator">:</span>
#
# <span class="token string">&quot;disabled&quot;</span>    <span class="token operator">-</span> <span class="token class-name">Don</span>&#39;t use diskless load <span class="token punctuation">(</span>store the rdb file <span class="token keyword">to</span> <span class="token namespace">the</span> disk first<span class="token punctuation">)</span>
# <span class="token string">&quot;on-empty-db&quot;</span> <span class="token operator">-</span> <span class="token class-name">Use</span> diskless load only when it is completely safe<span class="token punctuation">.</span>
# <span class="token string">&quot;swapdb&quot;</span>      <span class="token operator">-</span> <span class="token class-name">Keep</span> a copy of the current db contents in RAM <span class="token keyword">while</span> parsing
#                 the data directly from the socket<span class="token punctuation">.</span> note that <span class="token keyword">this</span> <span class="token keyword">requires</span>
#                 sufficient memory<span class="token punctuation">,</span> <span class="token keyword">if</span> you don&#39;t have it<span class="token punctuation">,</span> you risk an OOM kill<span class="token punctuation">.</span>
repl<span class="token operator">-</span>diskless<span class="token operator">-</span>load disabled

# <span class="token class-name">Replicas</span> send <span class="token class-name">PINGs</span> <span class="token keyword">to</span> <span class="token namespace">server</span> in a predefined <span class="token class-name"><span class="token namespace">interval<span class="token punctuation">.</span></span> It</span>&#39;s possible <span class="token keyword">to</span>
# change <span class="token keyword">this</span> interval <span class="token keyword">with</span> <span class="token namespace">the</span> repl_ping_replica_period <span class="token class-name"><span class="token namespace">option<span class="token punctuation">.</span></span> The</span> <span class="token keyword">default</span>
# value is <span class="token number">10</span> seconds<span class="token punctuation">.</span>
#
# repl<span class="token operator">-</span>ping<span class="token operator">-</span>replica<span class="token operator">-</span>period <span class="token number">10</span>

# <span class="token class-name">The</span> following option sets the replication timeout <span class="token keyword">for</span><span class="token operator">:</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">Bulk</span> transfer <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> during SYNC<span class="token punctuation">,</span> from the point of view of replica<span class="token punctuation">.</span>
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">Master</span> timeout from the point of view of replicas <span class="token punctuation">(</span>data<span class="token punctuation">,</span> pings<span class="token punctuation">)</span><span class="token punctuation">.</span>
# <span class="token number">3</span><span class="token punctuation">)</span> <span class="token class-name">Replica</span> timeout from the point of view of masters <span class="token punctuation">(</span>REPLCONF <span class="token class-name">ACK</span> pings<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">It</span> is important <span class="token keyword">to</span> <span class="token namespace">make</span> sure that <span class="token keyword">this</span> value is greater than the value
# specified <span class="token keyword">for</span> repl<span class="token operator">-</span>ping<span class="token operator">-</span>replica<span class="token operator">-</span>period otherwise a timeout will be detected
# every time there is low traffic between the master and the replica<span class="token punctuation">.</span>
#
# repl<span class="token operator">-</span>timeout <span class="token number">60</span>

# <span class="token class-name">Disable</span> TCP_NODELAY on the replica socket after SYNC<span class="token operator">?</span>
#
# <span class="token class-name">If</span> you select <span class="token string">&quot;yes&quot;</span> <span class="token class-name">Redis</span> will use a smaller number of TCP packets and
# less bandwidth <span class="token keyword">to</span> <span class="token namespace">send</span> data <span class="token keyword">to</span> <span class="token namespace">replicas<span class="token punctuation">.</span></span> <span class="token class-name">But</span> <span class="token keyword">this</span> can add a delay <span class="token keyword">for</span>
# the data <span class="token keyword">to</span> <span class="token namespace">appear</span> on the replica side<span class="token punctuation">,</span> up <span class="token keyword">to</span> <span class="token number">40</span> milliseconds <span class="token keyword">with</span>
# <span class="token class-name">Linux</span> kernels using a <span class="token keyword">default</span> configuration<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> you select <span class="token string">&quot;no&quot;</span> the delay <span class="token keyword">for</span> data <span class="token keyword">to</span> <span class="token namespace">appear</span> on the replica side will
# be reduced but more bandwidth will be used <span class="token keyword">for</span> replication<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> we optimize <span class="token keyword">for</span> low latency<span class="token punctuation">,</span> but in very high traffic conditions
# or when the master and replicas are many hops away<span class="token punctuation">,</span> turning <span class="token keyword">this</span> <span class="token keyword">to</span> <span class="token string">&quot;yes&quot;</span> may
# be a good idea<span class="token punctuation">.</span>
repl<span class="token operator">-</span>disable<span class="token operator">-</span>tcp<span class="token operator">-</span>nodelay no

# <span class="token class-name">Set</span> the replication backlog <span class="token class-name"><span class="token namespace">size<span class="token punctuation">.</span></span> The</span> backlog is a buffer that accumulates
# replica data when replicas are disconnected <span class="token keyword">for</span> some time<span class="token punctuation">,</span> so that when a
# replica wants <span class="token keyword">to</span> <span class="token namespace">reconnect</span> again<span class="token punctuation">,</span> often a full resync is not needed<span class="token punctuation">,</span> but a
# partial resync is enough<span class="token punctuation">,</span> just passing the portion of data the replica
# missed <span class="token keyword">while</span> disconnected<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> bigger the replication backlog<span class="token punctuation">,</span> the longer the time the replica can be
# disconnected and later be able <span class="token keyword">to</span> <span class="token namespace">perform</span> a partial resynchronization<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> backlog is only allocated once there is at least a replica connected<span class="token punctuation">.</span>
#
# repl<span class="token operator">-</span>backlog<span class="token operator">-</span>size <span class="token number">1</span>mb

# <span class="token class-name">After</span> a master has no longer connected replicas <span class="token keyword">for</span> some time<span class="token punctuation">,</span> the backlog
# will be <span class="token class-name"><span class="token namespace">freed<span class="token punctuation">.</span></span> The</span> following option configures the amount of seconds that
# need <span class="token keyword">to</span> <span class="token namespace">elapse</span><span class="token punctuation">,</span> starting from the time the last replica disconnected<span class="token punctuation">,</span> <span class="token keyword">for</span>
# the backlog buffer <span class="token keyword">to</span> <span class="token namespace">be</span> freed<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span> that replicas never free the backlog <span class="token keyword">for</span> timeout<span class="token punctuation">,</span> since they may be
# promoted <span class="token keyword">to</span> <span class="token namespace">masters</span> later<span class="token punctuation">,</span> and should be able <span class="token keyword">to</span> <span class="token namespace">correctly</span> &quot;partially
# resynchronize&quot; <span class="token keyword">with</span> <span class="token namespace">the</span> replicas<span class="token operator">:</span> hence they should always accumulate backlog<span class="token punctuation">.</span>
#
# <span class="token class-name">A</span> value of <span class="token number">0</span> means <span class="token keyword">to</span> <span class="token namespace">never</span> release the backlog<span class="token punctuation">.</span>
#
# repl<span class="token operator">-</span>backlog<span class="token operator">-</span>ttl <span class="token number">3600</span>

# <span class="token class-name">The</span> replica priority is an integer number published by <span class="token class-name">Redis</span> in the INFO
# <span class="token class-name"><span class="token namespace">output<span class="token punctuation">.</span></span> It</span> is used by <span class="token class-name">Redis</span> <span class="token class-name">Sentinel</span> in order <span class="token keyword">to</span> <span class="token namespace">select</span> a replica <span class="token keyword">to</span> <span class="token namespace">promote</span>
# into a master <span class="token keyword">if</span> the master is no longer working correctly<span class="token punctuation">.</span>
#
# <span class="token class-name">A</span> replica <span class="token keyword">with</span> <span class="token namespace">a</span> low priority number is considered better <span class="token keyword">for</span> promotion<span class="token punctuation">,</span> so
# <span class="token keyword">for</span> instance <span class="token keyword">if</span> there are three replicas <span class="token keyword">with</span> <span class="token namespace">priority</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">25</span> <span class="token class-name">Sentinel</span>
# will pick the one <span class="token keyword">with</span> <span class="token namespace">priority</span> <span class="token number">10</span><span class="token punctuation">,</span> that is the lowest<span class="token punctuation">.</span>
#
# <span class="token class-name">However</span> a special priority of <span class="token number">0</span> marks the replica as not able <span class="token keyword">to</span> <span class="token namespace">perform</span> the
# role of master<span class="token punctuation">,</span> so a replica <span class="token keyword">with</span> <span class="token namespace">priority</span> of <span class="token number">0</span> will never be selected by
# <span class="token class-name">Redis</span> <span class="token class-name">Sentinel</span> <span class="token keyword">for</span> promotion<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> the priority is <span class="token number">100.</span>
replica<span class="token operator">-</span>priority <span class="token number">100</span>

# <span class="token class-name">It</span> is possible <span class="token keyword">for</span> a master <span class="token keyword">to</span> <span class="token namespace">stop</span> accepting writes <span class="token keyword">if</span> there are less than
# <span class="token class-name">N</span> replicas connected<span class="token punctuation">,</span> having a lag less or equal than <span class="token class-name">M</span> seconds<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token class-name">N</span> replicas need <span class="token keyword">to</span> <span class="token namespace">be</span> in <span class="token string">&quot;online&quot;</span> state<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> lag in seconds<span class="token punctuation">,</span> that must be \<span class="token operator">&lt;=</span> the specified value<span class="token punctuation">,</span> is calculated from
# the last ping received from the replica<span class="token punctuation">,</span> that is usually sent every second<span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> option does not GUARANTEE that <span class="token class-name">N</span> replicas will accept the write<span class="token punctuation">,</span> but
# will limit the window of exposure <span class="token keyword">for</span> lost writes in <span class="token keyword">case</span> not enough replicas
# are available<span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token namespace">the</span> specified number of seconds<span class="token punctuation">.</span>
#
# <span class="token class-name">For</span> example <span class="token keyword">to</span> <span class="token namespace">require</span> at least <span class="token number">3</span> replicas <span class="token keyword">with</span> <span class="token namespace">a</span> lag \<span class="token operator">&lt;=</span> <span class="token number">10</span> seconds use<span class="token operator">:</span>
#
# min<span class="token operator">-</span>replicas<span class="token operator">-</span><span class="token keyword">to</span><span class="token operator">-</span>write <span class="token number">3</span>
# min<span class="token operator">-</span>replicas<span class="token operator">-</span>max<span class="token operator">-</span>lag <span class="token number">10</span>
#
# <span class="token class-name">Setting</span> one or the other <span class="token keyword">to</span> <span class="token number">0</span> disables the feature<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> min<span class="token operator">-</span>replicas<span class="token operator">-</span><span class="token keyword">to</span><span class="token operator">-</span>write is set <span class="token keyword">to</span> <span class="token number">0</span> <span class="token punctuation">(</span>feature disabled<span class="token punctuation">)</span> and
# min<span class="token operator">-</span>replicas<span class="token operator">-</span>max<span class="token operator">-</span>lag is set <span class="token keyword">to</span> <span class="token number">10.</span>

# <span class="token class-name">A</span> <span class="token class-name">Redis</span> master is able <span class="token keyword">to</span> <span class="token namespace">list</span> the address and port of the attached
# replicas in different <span class="token class-name"><span class="token namespace">ways<span class="token punctuation">.</span></span> For</span> example the <span class="token string">&quot;INFO replication&quot;</span> section
# offers <span class="token keyword">this</span> information<span class="token punctuation">,</span> which is used<span class="token punctuation">,</span> among other tools<span class="token punctuation">,</span> by
# <span class="token class-name">Redis</span> <span class="token class-name">Sentinel</span> in order <span class="token keyword">to</span> <span class="token namespace">discover</span> replica instances<span class="token punctuation">.</span>
# <span class="token class-name">Another</span> place where <span class="token keyword">this</span> info is available is in the output of the
# <span class="token string">&quot;ROLE&quot;</span> command of a master<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> listed IP and address normally reported by a replica is obtained
# in the following way<span class="token operator">:</span>
#
#   IP<span class="token operator">:</span> <span class="token class-name">The</span> address is auto detected by checking the peer address
#   of the socket used by the replica <span class="token keyword">to</span> <span class="token namespace">connect</span> <span class="token keyword">with</span> <span class="token namespace">the</span> master<span class="token punctuation">.</span>
#
#   <span class="token class-name">Port</span><span class="token operator">:</span> <span class="token class-name">The</span> port is communicated by the replica during the replication
#   handshake<span class="token punctuation">,</span> and is normally the port that the replica is using <span class="token keyword">to</span>
#   listen <span class="token keyword">for</span> connections<span class="token punctuation">.</span>
#
# <span class="token class-name">However</span> when port forwarding or <span class="token class-name">Network</span> <span class="token class-name">Address</span> <span class="token class-name">Translation</span> <span class="token punctuation">(</span>NAT<span class="token punctuation">)</span> is
# used<span class="token punctuation">,</span> the replica may be actually reachable via different IP and port
# <span class="token class-name"><span class="token namespace">pairs<span class="token punctuation">.</span></span> The</span> following two options can be used by a replica in order <span class="token keyword">to</span>
# report <span class="token keyword">to</span> <span class="token namespace">its</span> master a specific set of IP and port<span class="token punctuation">,</span> so that both INFO
# and ROLE will report those values<span class="token punctuation">.</span>
#
# <span class="token class-name">There</span> is no need <span class="token keyword">to</span> <span class="token namespace">use</span> both the options <span class="token keyword">if</span> you need <span class="token keyword">to</span> <span class="token namespace">override</span> just
# the port or the IP address<span class="token punctuation">.</span>
#
# replica<span class="token operator">-</span>announce<span class="token operator">-</span>ip <span class="token number">5.5</span><span class="token number">.5</span><span class="token number">.5</span>
# replica<span class="token operator">-</span>announce<span class="token operator">-</span>port <span class="token number">1234</span>

############################### KEYS TRACKING #################################

# <span class="token class-name">Redis</span> <span class="token keyword">implements</span> server assisted support <span class="token keyword">for</span> client side caching of values<span class="token punctuation">.</span>
# <span class="token class-name">This</span> is implemented using an invalidation table that remembers<span class="token punctuation">,</span> using
# <span class="token number">16</span> millions of slots<span class="token punctuation">,</span> what clients may have certain subsets of <span class="token class-name"><span class="token namespace">keys<span class="token punctuation">.</span></span> In</span> turn
# <span class="token keyword">this</span> is used in order <span class="token keyword">to</span> <span class="token namespace">send</span> invalidation messages <span class="token keyword">to</span> <span class="token namespace">clients<span class="token punctuation">.</span></span> <span class="token class-name">Please</span>
# <span class="token keyword">to</span> <span class="token namespace">understand</span> more about the feature check <span class="token keyword">this</span> page<span class="token operator">:</span>
#
#   https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>redis<span class="token punctuation">.</span>io<span class="token operator">/</span>topics<span class="token operator">/</span>client<span class="token operator">-</span>side<span class="token operator">-</span>caching
#
# <span class="token class-name">When</span> tracking is enabled <span class="token keyword">for</span> a client<span class="token punctuation">,</span> all the read only queries are assumed
# <span class="token keyword">to</span> <span class="token namespace">be</span> cached<span class="token operator">:</span> <span class="token keyword">this</span> will force <span class="token class-name">Redis</span> <span class="token keyword">to</span> <span class="token namespace">store</span> information in the invalidation
# <span class="token class-name"><span class="token namespace">table<span class="token punctuation">.</span></span> When</span> keys are modified<span class="token punctuation">,</span> such information is flushed away<span class="token punctuation">,</span> and
# invalidation messages are sent <span class="token keyword">to</span> <span class="token namespace">the</span> <span class="token class-name"><span class="token namespace">clients<span class="token punctuation">.</span></span> However</span> <span class="token keyword">if</span> the workload is
# heavily dominated by reads<span class="token punctuation">,</span> <span class="token class-name">Redis</span> could use more and more memory in order
# <span class="token keyword">to</span> <span class="token namespace">track</span> the keys fetched by many clients<span class="token punctuation">.</span>
#
# <span class="token class-name">For</span> <span class="token keyword">this</span> reason it is possible <span class="token keyword">to</span> <span class="token namespace">configure</span> a maximum fill value <span class="token keyword">for</span> the
# invalidation <span class="token class-name"><span class="token namespace">table<span class="token punctuation">.</span></span> By</span> <span class="token keyword">default</span> it is set <span class="token keyword">to</span> <span class="token number">1</span>M of keys<span class="token punctuation">,</span> and once <span class="token keyword">this</span> limit
# is reached<span class="token punctuation">,</span> <span class="token class-name">Redis</span> will start <span class="token keyword">to</span> <span class="token namespace">evict</span> keys in the invalidation table
# even <span class="token keyword">if</span> they were not modified<span class="token punctuation">,</span> just <span class="token keyword">to</span> <span class="token namespace">reclaim</span> memory<span class="token operator">:</span> <span class="token keyword">this</span> will in turn
# force the clients <span class="token keyword">to</span> <span class="token namespace">invalidate</span> the cached <span class="token class-name"><span class="token namespace">values<span class="token punctuation">.</span></span> Basically</span> the table
# maximum size is a trade off between the memory you want <span class="token keyword">to</span> <span class="token namespace">spend</span> server
# side <span class="token keyword">to</span> <span class="token namespace">track</span> information about who cached what<span class="token punctuation">,</span> and the ability of clients
# <span class="token keyword">to</span> <span class="token namespace">retain</span> cached objects in memory<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> you set the value <span class="token keyword">to</span> <span class="token number">0</span><span class="token punctuation">,</span> it means there are no limits<span class="token punctuation">,</span> and <span class="token class-name">Redis</span> will
# retain as many keys as needed in the invalidation table<span class="token punctuation">.</span>
# <span class="token class-name">In</span> the <span class="token string">&quot;stats&quot;</span> <span class="token class-name">INFO</span> section<span class="token punctuation">,</span> you can find information about the number of
# keys in the invalidation table at every given moment<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span><span class="token operator">:</span> when key tracking is used in broadcasting mode<span class="token punctuation">,</span> no memory is used
# in the server side so <span class="token keyword">this</span> setting is useless<span class="token punctuation">.</span>
#
# tracking<span class="token operator">-</span>table<span class="token operator">-</span>max<span class="token operator">-</span>keys <span class="token number">1000000</span>

################################## SECURITY ###################################

# <span class="token class-name">Warning</span><span class="token operator">:</span> since <span class="token class-name">Redis</span> is pretty fast an outside user can <span class="token keyword">try</span> up <span class="token keyword">to</span>
# <span class="token number">1</span> million passwords per second against a modern <span class="token class-name"><span class="token namespace">box<span class="token punctuation">.</span></span> This</span> means that you
# should use very strong passwords<span class="token punctuation">,</span> otherwise they will be very easy <span class="token keyword">to</span> <span class="token keyword">break</span><span class="token punctuation">.</span>
# <span class="token class-name">Note</span> that because the password is really a shared secret between the client
# and the server<span class="token punctuation">,</span> and should not be memorized by any human<span class="token punctuation">,</span> the password
# can be easily a <span class="token keyword">long</span> string from <span class="token operator">/</span>dev<span class="token operator">/</span>urandom or whatever<span class="token punctuation">,</span> so by using a
# <span class="token keyword">long</span> and unguessable password no brute force attack will be possible<span class="token punctuation">.</span>

# <span class="token class-name">Redis</span> ACL users are defined in the following format<span class="token operator">:</span>
#
#   user \<span class="token generics"><span class="token punctuation">&lt;</span>username<span class="token punctuation">&gt;</span></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> acl rules <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
#
# <span class="token class-name">For</span> example<span class="token operator">:</span>
#
#   user worker <span class="token operator">+</span><span class="token annotation punctuation">@list</span> <span class="token operator">+</span><span class="token annotation punctuation">@connection</span> <span class="token operator">~</span>jobs<span class="token operator">:</span><span class="token operator">*</span> on <span class="token operator">&gt;</span>ffa9203c493aa99
#
# <span class="token class-name">The</span> special username <span class="token string">&quot;default&quot;</span> is used <span class="token keyword">for</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">connections<span class="token punctuation">.</span></span> If</span> <span class="token keyword">this</span> user
# has the <span class="token string">&quot;nopass&quot;</span> rule<span class="token punctuation">,</span> then <span class="token keyword">new</span> connections will be immediately authenticated
# as the <span class="token string">&quot;default&quot;</span> user without the need of any password provided via the
# AUTH <span class="token class-name"><span class="token namespace">command<span class="token punctuation">.</span></span> Otherwise</span> <span class="token keyword">if</span> the <span class="token string">&quot;default&quot;</span> user is not flagged <span class="token keyword">with</span> <span class="token string">&quot;nopass&quot;</span>
# the connections will start in not authenticated state<span class="token punctuation">,</span> and will require
# AUTH <span class="token punctuation">(</span>or the HELLO command <span class="token class-name">AUTH</span> option<span class="token punctuation">)</span> in order <span class="token keyword">to</span> <span class="token namespace">be</span> authenticated and
# start <span class="token keyword">to</span> <span class="token namespace">work<span class="token punctuation">.</span></span>
#
# <span class="token class-name">The</span> ACL rules that describe what an user can <span class="token keyword">do</span> are the following<span class="token operator">:</span>
#
#  on           <span class="token class-name">Enable</span> the user<span class="token operator">:</span> it is possible <span class="token keyword">to</span> <span class="token namespace">authenticate</span> as <span class="token keyword">this</span> user<span class="token punctuation">.</span>
#  off          <span class="token class-name">Disable</span> the user<span class="token operator">:</span> it&#39;s no longer possible <span class="token keyword">to</span> <span class="token namespace">authenticate</span>
#               <span class="token keyword">with</span> <span class="token keyword">this</span> user<span class="token punctuation">,</span> however the already authenticated connections
#               will still work<span class="token punctuation">.</span>
#  <span class="token operator">+</span>\<span class="token generics"><span class="token punctuation">&lt;</span>command<span class="token punctuation">&gt;</span></span>   <span class="token class-name">Allow</span> the execution of that command
#  <span class="token operator">-</span>\<span class="token generics"><span class="token punctuation">&lt;</span>command<span class="token punctuation">&gt;</span></span>   <span class="token class-name">Disallow</span> the execution of that command
#  <span class="token operator">+</span>@\<span class="token generics"><span class="token punctuation">&lt;</span>category<span class="token punctuation">&gt;</span></span> <span class="token class-name">Allow</span> the execution of all the commands in such category
#               <span class="token keyword">with</span> <span class="token namespace">valid</span> categories are like <span class="token annotation punctuation">@admin</span><span class="token punctuation">,</span> <span class="token annotation punctuation">@set</span><span class="token punctuation">,</span> <span class="token annotation punctuation">@sortedset</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
#               and so forth<span class="token punctuation">,</span> see the full list in the server<span class="token punctuation">.</span>c file where
#               the <span class="token class-name">Redis</span> command table is described and defined<span class="token punctuation">.</span>
#               <span class="token class-name">The</span> special category <span class="token annotation punctuation">@all</span> means all the commands<span class="token punctuation">,</span> but currently
#               present in the server<span class="token punctuation">,</span> and that will be loaded in the future
#               via modules<span class="token punctuation">.</span>
#  <span class="token operator">+</span>\<span class="token generics"><span class="token punctuation">&lt;</span>command<span class="token punctuation">&gt;</span></span><span class="token operator">|</span>subcommand    <span class="token class-name">Allow</span> a specific subcommand of an otherwise
#                           disabled <span class="token class-name"><span class="token namespace">command<span class="token punctuation">.</span></span> Note</span> that <span class="token keyword">this</span> form is not
#                           allowed as negative like <span class="token operator">-</span>DEBUG<span class="token operator">|</span>SEGFAULT<span class="token punctuation">,</span> but
#                           only additive starting <span class="token keyword">with</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">.</span>
#  allcommands  <span class="token class-name">Alias</span> <span class="token keyword">for</span> <span class="token operator">+</span><span class="token annotation punctuation">@all. Note</span> that it implies the ability <span class="token keyword">to</span> <span class="token namespace">execute</span>
#               all the future commands loaded via the modules system<span class="token punctuation">.</span>
#  nocommands   <span class="token class-name">Alias</span> <span class="token keyword">for</span> <span class="token operator">-</span><span class="token annotation punctuation">@all</span><span class="token punctuation">.</span>
#  <span class="token operator">~</span>\<span class="token generics"><span class="token punctuation">&lt;</span>pattern<span class="token punctuation">&gt;</span></span>   <span class="token class-name">Add</span> a pattern of keys that can be mentioned as part of
#               <span class="token class-name"><span class="token namespace">commands<span class="token punctuation">.</span></span> For</span> instance <span class="token operator">~</span><span class="token operator">*</span> allows all the <span class="token class-name"><span class="token namespace">keys<span class="token punctuation">.</span></span> The</span> pattern
#               is a glob<span class="token operator">-</span>style pattern like the one of KEYS<span class="token punctuation">.</span>
#               <span class="token class-name">It</span> is possible <span class="token keyword">to</span> <span class="token namespace">specify</span> multiple patterns<span class="token punctuation">.</span>
#  allkeys      <span class="token class-name">Alias</span> <span class="token keyword">for</span> <span class="token operator">~</span><span class="token operator">*</span>
#  resetkeys    <span class="token class-name">Flush</span> the list of allowed keys patterns<span class="token punctuation">.</span>
#  <span class="token operator">&gt;</span>\<span class="token generics"><span class="token punctuation">&lt;</span>password<span class="token punctuation">&gt;</span></span>  <span class="token class-name">Add</span> <span class="token keyword">this</span> passowrd <span class="token keyword">to</span> <span class="token namespace">the</span> list of valid password <span class="token keyword">for</span> the user<span class="token punctuation">.</span>
#               <span class="token class-name">For</span> example <span class="token operator">&gt;</span>mypass will add <span class="token string">&quot;mypass&quot;</span> <span class="token keyword">to</span> <span class="token namespace">the</span> list<span class="token punctuation">.</span>
#               <span class="token class-name">This</span> directive clears the <span class="token string">&quot;nopass&quot;</span> flag <span class="token punctuation">(</span>see later<span class="token punctuation">)</span><span class="token punctuation">.</span>
#  \<span class="token operator">&lt;</span>\<span class="token generics"><span class="token punctuation">&lt;</span>password<span class="token punctuation">&gt;</span></span>  <span class="token class-name">Remove</span> <span class="token keyword">this</span> password from the list of valid passwords<span class="token punctuation">.</span>
#  nopass       <span class="token class-name">All</span> the set passwords of the user are removed<span class="token punctuation">,</span> and the user
#               is flagged as requiring no password<span class="token operator">:</span> it means that every
#               password will work against <span class="token keyword">this</span> <span class="token class-name"><span class="token namespace">user<span class="token punctuation">.</span></span> If</span> <span class="token keyword">this</span> directive is
#               used <span class="token keyword">for</span> the <span class="token keyword">default</span> user<span class="token punctuation">,</span> every <span class="token keyword">new</span> connection will be
#               immediately authenticated <span class="token keyword">with</span> <span class="token namespace">the</span> <span class="token keyword">default</span> user without
#               any explicit AUTH command <span class="token class-name"><span class="token namespace">required<span class="token punctuation">.</span></span> Note</span> that the <span class="token string">&quot;resetpass&quot;</span>
#               directive will clear <span class="token keyword">this</span> condition<span class="token punctuation">.</span>
#  resetpass    <span class="token class-name">Flush</span> the list of allowed <span class="token class-name"><span class="token namespace">passwords<span class="token punctuation">.</span></span> Moreover</span> removes the
#               <span class="token string">&quot;nopass&quot;</span> <span class="token class-name"><span class="token namespace">status<span class="token punctuation">.</span></span> After</span> <span class="token string">&quot;resetpass&quot;</span> the user has no associated
#               passwords and there is no way <span class="token keyword">to</span> <span class="token namespace">authenticate</span> without adding
#               some password <span class="token punctuation">(</span>or setting it as <span class="token string">&quot;nopass&quot;</span> later<span class="token punctuation">)</span><span class="token punctuation">.</span>
#  reset        <span class="token class-name">Performs</span> the following actions<span class="token operator">:</span> resetpass<span class="token punctuation">,</span> resetkeys<span class="token punctuation">,</span> off<span class="token punctuation">,</span>
#               <span class="token operator">-</span><span class="token annotation punctuation">@all. The</span> user returns <span class="token keyword">to</span> <span class="token namespace">the</span> same state it has immediately
#               after its creation<span class="token punctuation">.</span>
#
# ACL rules can be specified in any order<span class="token operator">:</span> <span class="token keyword">for</span> instance you can start <span class="token keyword">with</span>
# passwords<span class="token punctuation">,</span> then flags<span class="token punctuation">,</span> or key <span class="token class-name"><span class="token namespace">patterns<span class="token punctuation">.</span></span> However</span> note that the additive
# and subtractive rules will CHANGE MEANING depending on the ordering<span class="token punctuation">.</span>
# <span class="token class-name">For</span> instance see the following example<span class="token operator">:</span>
#
#   user alice on <span class="token operator">+</span><span class="token annotation punctuation">@all</span> <span class="token operator">-</span>DEBUG <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">&gt;</span>somepassword
#
# <span class="token class-name">This</span> will allow <span class="token string">&quot;alice&quot;</span> <span class="token keyword">to</span> <span class="token namespace">use</span> all the commands <span class="token keyword">with</span> <span class="token namespace">the</span> exception of the
# <span class="token class-name">DEBUG</span> command<span class="token punctuation">,</span> since <span class="token operator">+</span><span class="token annotation punctuation">@all</span> added all the commands <span class="token keyword">to</span> <span class="token namespace">the</span> set of the commands
# alice can use<span class="token punctuation">,</span> and later DEBUG was <span class="token class-name"><span class="token namespace">removed<span class="token punctuation">.</span></span> However</span> <span class="token keyword">if</span> we invert the order
# of two ACL rules the result will be different<span class="token operator">:</span>
#
#   user alice on <span class="token operator">-</span>DEBUG <span class="token operator">+</span><span class="token annotation punctuation">@all</span> <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">&gt;</span>somepassword
#
# <span class="token class-name">Now</span> DEBUG was removed when alice had yet no commands in the set of allowed
# commands<span class="token punctuation">,</span> later all the commands are added<span class="token punctuation">,</span> so the user will be able <span class="token keyword">to</span>
# execute everything<span class="token punctuation">.</span>
#
# <span class="token class-name">Basically</span> ACL rules are processed left<span class="token operator">-</span><span class="token keyword">to</span><span class="token operator">-</span>right<span class="token punctuation">.</span>
#
# <span class="token class-name">For</span> more information about ACL configuration please refer <span class="token keyword">to</span>
# the <span class="token class-name">Redis</span> web site at https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>redis<span class="token punctuation">.</span>io<span class="token operator">/</span>topics<span class="token operator">/</span>acl

# ACL LOG
#
# <span class="token class-name">The</span> ACL <span class="token class-name">Log</span> tracks failed commands and authentication events associated
# <span class="token keyword">with</span> <span class="token class-name">ACLs<span class="token punctuation">.</span> The</span> ACL <span class="token class-name">Log</span> is useful <span class="token keyword">to</span> <span class="token namespace">troubleshoot</span> failed commands blocked 
# by <span class="token class-name">ACLs<span class="token punctuation">.</span> The</span> ACL <span class="token class-name">Log</span> is stored in <span class="token class-name"><span class="token namespace">memory<span class="token punctuation">.</span></span> You</span> can reclaim memory <span class="token keyword">with</span> 
# ACL LOG <span class="token class-name">RESET<span class="token punctuation">.</span> Define</span> the maximum entry length of the ACL <span class="token class-name">Log</span> below<span class="token punctuation">.</span>
acllog<span class="token operator">-</span>max<span class="token operator">-</span>len <span class="token number">128</span>

# <span class="token class-name">Using</span> an external ACL file
#
# <span class="token class-name">Instead</span> of configuring users here in <span class="token keyword">this</span> file<span class="token punctuation">,</span> it is possible <span class="token keyword">to</span> <span class="token namespace">use</span>
# a stand<span class="token operator">-</span>alone file just listing <span class="token class-name"><span class="token namespace">users<span class="token punctuation">.</span></span> The</span> two methods cannot be mixed<span class="token operator">:</span>
# <span class="token keyword">if</span> you configure users here and at the same time you activate the exteranl
# <span class="token class-name">ACL</span> file<span class="token punctuation">,</span> the server will refuse <span class="token keyword">to</span> <span class="token namespace">start<span class="token punctuation">.</span></span>
#
# <span class="token class-name">The</span> format of the external ACL user file is exactly the same as the
# format that is used inside redis<span class="token punctuation">.</span>conf <span class="token keyword">to</span> <span class="token namespace">describe</span> users<span class="token punctuation">.</span>
#
# aclfile <span class="token operator">/</span>etc<span class="token operator">/</span>redis<span class="token operator">/</span>users<span class="token punctuation">.</span>acl

# IMPORTANT NOTE<span class="token operator">:</span> starting <span class="token keyword">with</span> <span class="token class-name">Redis</span> <span class="token number">6</span> <span class="token string">&quot;requirepass&quot;</span> is just a compatiblity
# layer on top of the <span class="token keyword">new</span> <span class="token class-name">ACL</span> <span class="token class-name"><span class="token namespace">system<span class="token punctuation">.</span></span> The</span> option effect will be just setting
# the password <span class="token keyword">for</span> the <span class="token keyword">default</span> <span class="token class-name"><span class="token namespace">user<span class="token punctuation">.</span></span> Clients</span> will still authenticate using
# AUTH \<span class="token generics"><span class="token punctuation">&lt;</span>password<span class="token punctuation">&gt;</span></span> as usually<span class="token punctuation">,</span> or more explicitly <span class="token keyword">with</span> AUTH <span class="token keyword">default</span> \<span class="token generics"><span class="token punctuation">&lt;</span>password<span class="token punctuation">&gt;</span></span>
# <span class="token keyword">if</span> they follow the <span class="token keyword">new</span> protocol<span class="token operator">:</span> both will work<span class="token punctuation">.</span>
#
# requirepass foobared

# <span class="token class-name">Command</span> renaming <span class="token punctuation">(</span>DEPRECATED<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
# WARNING<span class="token operator">:</span> avoid using <span class="token keyword">this</span> option <span class="token keyword">if</span> <span class="token class-name"><span class="token namespace">possible<span class="token punctuation">.</span></span> Instead</span> use <span class="token class-name">ACLs</span> <span class="token keyword">to</span> <span class="token namespace">remove</span>
# commands from the <span class="token keyword">default</span> user<span class="token punctuation">,</span> and put them only in some admin user you
# create <span class="token keyword">for</span> administrative purposes<span class="token punctuation">.</span>
# <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
#
# <span class="token class-name">It</span> is possible <span class="token keyword">to</span> <span class="token namespace">change</span> the name of dangerous commands in a shared
# <span class="token class-name"><span class="token namespace">environment<span class="token punctuation">.</span></span> For</span> instance the CONFIG command may be renamed into something
# hard <span class="token keyword">to</span> <span class="token namespace">guess</span> so that it will still be available <span class="token keyword">for</span> internal<span class="token operator">-</span>use tools
# but not available <span class="token keyword">for</span> general clients<span class="token punctuation">.</span>
#
# <span class="token class-name">Example</span><span class="token operator">:</span>
#
# rename<span class="token operator">-</span>command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52
#
# <span class="token class-name">It</span> is also possible <span class="token keyword">to</span> <span class="token namespace">completely</span> kill a command by renaming it into
# an empty string<span class="token operator">:</span>
#
# rename<span class="token operator">-</span>command CONFIG <span class="token string">&quot;&quot;</span>
#
# <span class="token class-name">Please</span> note that changing the name of commands that are logged into the
# AOF file or transmitted <span class="token keyword">to</span> <span class="token namespace">replicas</span> may cause problems<span class="token punctuation">.</span>

################################### CLIENTS ####################################

# <span class="token class-name">Set</span> the max number of connected clients at the same <span class="token class-name"><span class="token namespace">time<span class="token punctuation">.</span></span> By</span> <span class="token keyword">default</span>
# <span class="token keyword">this</span> limit is set <span class="token keyword">to</span> <span class="token number">10000</span> clients<span class="token punctuation">,</span> however <span class="token keyword">if</span> the <span class="token class-name">Redis</span> server is not
# able <span class="token keyword">to</span> <span class="token namespace">configure</span> the process file limit <span class="token keyword">to</span> <span class="token namespace">allow</span> <span class="token keyword">for</span> the specified limit
# the max number of allowed clients is set <span class="token keyword">to</span> <span class="token namespace">the</span> current file limit
# minus <span class="token number">32</span> <span class="token punctuation">(</span>as <span class="token class-name">Redis</span> reserves a few file descriptors <span class="token keyword">for</span> internal <span class="token keyword">uses</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">Once</span> the limit is reached <span class="token class-name">Redis</span> will close all the <span class="token keyword">new</span> connections sending
# an error &#39;max number of clients reached&#39;<span class="token punctuation">.</span>
#
# IMPORTANT<span class="token operator">:</span> <span class="token class-name">When</span> <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span> is used<span class="token punctuation">,</span> the max number of connections is also
# shared <span class="token keyword">with</span> <span class="token namespace">the</span> cluster bus<span class="token operator">:</span> every node in the cluster will use two
# connections<span class="token punctuation">,</span> one incoming and another <span class="token class-name"><span class="token namespace">outgoing<span class="token punctuation">.</span></span> It</span> is important <span class="token keyword">to</span> <span class="token namespace">size</span> the
# limit accordingly in <span class="token keyword">case</span> of very large clusters<span class="token punctuation">.</span>
#
# maxclients <span class="token number">10000</span>

############################## MEMORY MANAGEMENT ################################

# <span class="token class-name">Set</span> a memory usage limit <span class="token keyword">to</span> <span class="token namespace">the</span> specified amount of bytes<span class="token punctuation">.</span>
# <span class="token class-name">When</span> the memory limit is reached <span class="token class-name">Redis</span> will <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">remove</span> keys
# according <span class="token keyword">to</span> <span class="token namespace">the</span> eviction policy selected <span class="token punctuation">(</span>see maxmemory<span class="token operator">-</span>policy<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> <span class="token class-name">Redis</span> can&#39;t remove keys according <span class="token keyword">to</span> <span class="token namespace">the</span> policy<span class="token punctuation">,</span> or <span class="token keyword">if</span> the policy is
# set <span class="token keyword">to</span> &#39;noeviction&#39;<span class="token punctuation">,</span> <span class="token class-name">Redis</span> will start <span class="token keyword">to</span> <span class="token namespace">reply</span> <span class="token keyword">with</span> <span class="token namespace">errors</span> <span class="token keyword">to</span> <span class="token namespace">commands</span>
# that would use more memory<span class="token punctuation">,</span> like SET<span class="token punctuation">,</span> LPUSH<span class="token punctuation">,</span> and so on<span class="token punctuation">,</span> and will <span class="token keyword">continue</span>
# <span class="token keyword">to</span> <span class="token namespace">reply</span> <span class="token keyword">to</span> <span class="token namespace">read</span><span class="token operator">-</span>only commands like GET<span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> option is usually useful when using <span class="token class-name">Redis</span> as an LRU or <span class="token class-name">LFU</span> cache<span class="token punctuation">,</span> or <span class="token keyword">to</span>
# set a hard memory limit <span class="token keyword">for</span> an instance <span class="token punctuation">(</span>using the &#39;noeviction&#39; policy<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# WARNING<span class="token operator">:</span> <span class="token class-name">If</span> you have replicas attached <span class="token keyword">to</span> <span class="token namespace">an</span> instance <span class="token keyword">with</span> <span class="token namespace">maxmemory</span> on<span class="token punctuation">,</span>
# the size of the output buffers needed <span class="token keyword">to</span> <span class="token namespace">feed</span> the replicas are subtracted
# from the used memory count<span class="token punctuation">,</span> so that network problems <span class="token operator">/</span> resyncs will
# not trigger a loop where keys are evicted<span class="token punctuation">,</span> and in turn the output
# buffer of replicas is full <span class="token keyword">with</span> <span class="token class-name">DELs</span> of keys evicted triggering the deletion
# of more keys<span class="token punctuation">,</span> and so forth until the database is completely emptied<span class="token punctuation">.</span>
#
# <span class="token class-name">In</span> <span class="token keyword">short</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">if</span> you have replicas attached it is suggested that you set a lower
# limit <span class="token keyword">for</span> maxmemory so that there is some free RAM on the system <span class="token keyword">for</span> replica
# output buffers <span class="token punctuation">(</span>but <span class="token keyword">this</span> is not needed <span class="token keyword">if</span> the policy is &#39;noeviction&#39;<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# maxmemory \<span class="token generics"><span class="token punctuation">&lt;</span>bytes<span class="token punctuation">&gt;</span></span>

# MAXMEMORY POLICY<span class="token operator">:</span> how <span class="token class-name">Redis</span> will select what <span class="token keyword">to</span> <span class="token namespace">remove</span> when maxmemory
# is <span class="token class-name"><span class="token namespace">reached<span class="token punctuation">.</span></span> You</span> can select one from the following behaviors<span class="token operator">:</span>
#
# <span class="token keyword">volatile</span><span class="token operator">-</span>lru <span class="token operator">-&gt;</span> <span class="token class-name">Evict</span> using approximated LRU<span class="token punctuation">,</span> only keys <span class="token keyword">with</span> <span class="token namespace">an</span> expire set<span class="token punctuation">.</span>
# allkeys<span class="token operator">-</span>lru <span class="token operator">-&gt;</span> <span class="token class-name">Evict</span> any key using approximated LRU<span class="token punctuation">.</span>
# <span class="token keyword">volatile</span><span class="token operator">-</span>lfu <span class="token operator">-&gt;</span> <span class="token class-name">Evict</span> using approximated LFU<span class="token punctuation">,</span> only keys <span class="token keyword">with</span> <span class="token namespace">an</span> expire set<span class="token punctuation">.</span>
# allkeys<span class="token operator">-</span>lfu <span class="token operator">-&gt;</span> <span class="token class-name">Evict</span> any key using approximated LFU<span class="token punctuation">.</span>
# <span class="token keyword">volatile</span><span class="token operator">-</span>random <span class="token operator">-&gt;</span> <span class="token class-name">Remove</span> a random key having an expire set<span class="token punctuation">.</span>
# allkeys<span class="token operator">-</span>random <span class="token operator">-&gt;</span> <span class="token class-name">Remove</span> a random key<span class="token punctuation">,</span> any key<span class="token punctuation">.</span>
# <span class="token keyword">volatile</span><span class="token operator">-</span>ttl <span class="token operator">-&gt;</span> <span class="token class-name">Remove</span> the key <span class="token keyword">with</span> <span class="token namespace">the</span> nearest expire time <span class="token punctuation">(</span>minor TTL<span class="token punctuation">)</span>
# noeviction <span class="token operator">-&gt;</span> <span class="token class-name">Don</span>&#39;t evict anything<span class="token punctuation">,</span> just <span class="token keyword">return</span> an error on write operations<span class="token punctuation">.</span>
#
# LRU means <span class="token class-name">Least</span> <span class="token class-name">Recently</span> <span class="token class-name">Used</span>
# LFU means <span class="token class-name">Least</span> <span class="token class-name">Frequently</span> <span class="token class-name">Used</span>
#
# <span class="token class-name">Both</span> LRU<span class="token punctuation">,</span> LFU and <span class="token keyword">volatile</span><span class="token operator">-</span>ttl are implemented using approximated
# randomized algorithms<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span><span class="token operator">:</span> <span class="token keyword">with</span> <span class="token namespace">any</span> of the above policies<span class="token punctuation">,</span> <span class="token class-name">Redis</span> will <span class="token keyword">return</span> an error on write
#       operations<span class="token punctuation">,</span> when there are no suitable keys <span class="token keyword">for</span> eviction<span class="token punctuation">.</span>
#
#       <span class="token class-name">At</span> the date of writing these commands are<span class="token operator">:</span> set setnx setex append
#       incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd
#       sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby
#       zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby
#       getset mset msetnx exec sort
#
# <span class="token class-name">The</span> <span class="token keyword">default</span> is<span class="token operator">:</span>
#
# maxmemory<span class="token operator">-</span>policy noeviction

# LRU<span class="token punctuation">,</span> LFU and minimal TTL algorithms are not precise algorithms but approximated
# algorithms <span class="token punctuation">(</span>in order <span class="token keyword">to</span> <span class="token namespace">save</span> memory<span class="token punctuation">)</span><span class="token punctuation">,</span> so you can tune it <span class="token keyword">for</span> speed or
# <span class="token class-name"><span class="token namespace">accuracy<span class="token punctuation">.</span></span> For</span> <span class="token keyword">default</span> <span class="token class-name">Redis</span> will check five keys and pick the one that was
# used less recently<span class="token punctuation">,</span> you can change the sample size using the following
# configuration directive<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token keyword">default</span> of <span class="token number">5</span> produces good enough results<span class="token punctuation">.</span> <span class="token number">10</span> <span class="token class-name">Approximates</span> very closely
# <span class="token boolean">true</span> LRU but costs more CPU<span class="token punctuation">.</span> <span class="token number">3</span> is faster but not very accurate<span class="token punctuation">.</span>
#
# maxmemory<span class="token operator">-</span>samples <span class="token number">5</span>

# <span class="token class-name">Starting</span> from <span class="token class-name">Redis</span> <span class="token number">5</span><span class="token punctuation">,</span> by <span class="token keyword">default</span> a replica will ignore its maxmemory setting
# <span class="token punctuation">(</span>unless it is promoted <span class="token keyword">to</span> <span class="token namespace">master</span> after a failover or manually<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token class-name">It</span> means
# that the eviction of keys will be just handled by the master<span class="token punctuation">,</span> sending the
# DEL commands <span class="token keyword">to</span> <span class="token namespace">the</span> replica as keys evict in the master side<span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> behavior ensures that masters and replicas stay consistent<span class="token punctuation">,</span> and is usually
# what you want<span class="token punctuation">,</span> however <span class="token keyword">if</span> your replica is writable<span class="token punctuation">,</span> or you want the replica
# <span class="token keyword">to</span> <span class="token namespace">have</span> a different memory setting<span class="token punctuation">,</span> and you are sure all the writes performed
# <span class="token keyword">to</span> <span class="token namespace">the</span> replica are idempotent<span class="token punctuation">,</span> then you may change <span class="token keyword">this</span> <span class="token keyword">default</span> <span class="token punctuation">(</span>but be sure
# <span class="token keyword">to</span> <span class="token namespace">understand</span> what you are doing<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span> that since the replica by <span class="token keyword">default</span> does not evict<span class="token punctuation">,</span> it may end using more
# memory than the one set via maxmemory <span class="token punctuation">(</span>there are certain buffers that may
# be larger on the replica<span class="token punctuation">,</span> or data structures may sometimes take more memory
# and so forth<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token class-name">So</span> make sure you monitor your replicas and make sure they
# have enough memory <span class="token keyword">to</span> <span class="token namespace">never</span> hit a real out<span class="token operator">-</span>of<span class="token operator">-</span>memory condition before the
# master hits the configured maxmemory setting<span class="token punctuation">.</span>
#
# replica<span class="token operator">-</span>ignore<span class="token operator">-</span>maxmemory yes

# <span class="token class-name">Redis</span> reclaims expired keys in two ways<span class="token operator">:</span> upon access when those keys are
# found <span class="token keyword">to</span> <span class="token namespace">be</span> expired<span class="token punctuation">,</span> and also in background<span class="token punctuation">,</span> in what is called the
# <span class="token string">&quot;active expire key&quot;</span><span class="token punctuation">.</span> <span class="token class-name">The</span> key space is slowly and interactively scanned
# looking <span class="token keyword">for</span> expired keys <span class="token keyword">to</span> <span class="token namespace">reclaim</span><span class="token punctuation">,</span> so that it is possible <span class="token keyword">to</span> <span class="token namespace">free</span> memory
# of keys that are expired and will never be accessed again in a <span class="token keyword">short</span> time<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token keyword">default</span> effort of the expire cycle will <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">avoid</span> having more than
# ten percent of expired keys still in memory<span class="token punctuation">,</span> and will <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">avoid</span> consuming
# more than <span class="token number">25</span><span class="token operator">%</span> of total memory and <span class="token keyword">to</span> <span class="token namespace">add</span> latency <span class="token keyword">to</span> <span class="token namespace">the</span> <span class="token class-name"><span class="token namespace">system<span class="token punctuation">.</span></span> However</span>
# it is possible <span class="token keyword">to</span> <span class="token namespace">increase</span> the expire <span class="token string">&quot;effort&quot;</span> that is normally set <span class="token keyword">to</span>
# <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token namespace">a</span> greater value<span class="token punctuation">,</span> up <span class="token keyword">to</span> <span class="token namespace">the</span> value <span class="token string">&quot;10&quot;</span><span class="token punctuation">.</span> <span class="token class-name">At</span> its maximum value the
# system will use more CPU<span class="token punctuation">,</span> longer cycles <span class="token punctuation">(</span>and technically may introduce
# more latency<span class="token punctuation">)</span><span class="token punctuation">,</span> and will tollerate less already expired keys still present
# in the <span class="token class-name"><span class="token namespace">system<span class="token punctuation">.</span></span> It</span>&#39;s a tradeoff betweeen memory<span class="token punctuation">,</span> CPU and latecy<span class="token punctuation">.</span>
#
# active<span class="token operator">-</span>expire<span class="token operator">-</span>effort <span class="token number">1</span>

############################# LAZY FREEING ####################################

# <span class="token class-name">Redis</span> has two primitives <span class="token keyword">to</span> <span class="token namespace">delete</span> <span class="token class-name"><span class="token namespace">keys<span class="token punctuation">.</span></span> One</span> is called DEL and is a blocking
# deletion of the <span class="token class-name"><span class="token namespace">object<span class="token punctuation">.</span></span> It</span> means that the server stops processing <span class="token keyword">new</span> commands
# in order <span class="token keyword">to</span> <span class="token namespace">reclaim</span> all the memory associated <span class="token keyword">with</span> <span class="token namespace">an</span> object in a synchronous
# <span class="token class-name"><span class="token namespace">way<span class="token punctuation">.</span></span> If</span> the key deleted is associated <span class="token keyword">with</span> <span class="token namespace">a</span> small object<span class="token punctuation">,</span> the time needed
# in order <span class="token keyword">to</span> <span class="token namespace">execute</span> the DEL command is very small and comparable <span class="token keyword">to</span> <span class="token namespace">most</span> other
# <span class="token class-name">O</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> or <span class="token class-name">O</span><span class="token punctuation">(</span>log_N<span class="token punctuation">)</span> commands in <span class="token class-name">Redis<span class="token punctuation">.</span> However</span> <span class="token keyword">if</span> the key is associated <span class="token keyword">with</span> <span class="token namespace">an</span>
# aggregated value containing millions of elements<span class="token punctuation">,</span> the server can block <span class="token keyword">for</span>
# a <span class="token keyword">long</span> time <span class="token punctuation">(</span>even seconds<span class="token punctuation">)</span> in order <span class="token keyword">to</span> <span class="token namespace">complete</span> the operation<span class="token punctuation">.</span>
#
# <span class="token class-name">For</span> the above reasons <span class="token class-name">Redis</span> also offers non blocking deletion primitives
# such as UNLINK <span class="token punctuation">(</span>non blocking DEL<span class="token punctuation">)</span> and the ASYNC option of FLUSHALL and
# <span class="token class-name">FLUSHDB</span> commands<span class="token punctuation">,</span> in order <span class="token keyword">to</span> <span class="token namespace">reclaim</span> memory in <span class="token class-name"><span class="token namespace">background<span class="token punctuation">.</span></span> Those</span> commands
# are executed in constant <span class="token class-name"><span class="token namespace">time<span class="token punctuation">.</span></span> Another</span> thread will incrementally free the
# object in the background as fast as possible<span class="token punctuation">.</span>
#
# DEL<span class="token punctuation">,</span> UNLINK and ASYNC option of FLUSHALL and FLUSHDB are user<span class="token operator">-</span>controlled<span class="token punctuation">.</span>
# <span class="token class-name">It</span>&#39;s up <span class="token keyword">to</span> <span class="token namespace">the</span> design of the application <span class="token keyword">to</span> <span class="token namespace">understand</span> when it is a good
# idea <span class="token keyword">to</span> <span class="token namespace">use</span> one or the <span class="token class-name"><span class="token namespace">other<span class="token punctuation">.</span></span> However</span> the <span class="token class-name">Redis</span> server sometimes has <span class="token keyword">to</span>
# delete keys or flush the whole database as a side effect of other operations<span class="token punctuation">.</span>
# <span class="token class-name">Specifically</span> <span class="token class-name">Redis</span> deletes objects independently of a user call in the
# following scenarios<span class="token operator">:</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">On</span> eviction<span class="token punctuation">,</span> because of the maxmemory and maxmemory policy configurations<span class="token punctuation">,</span>
#    in order <span class="token keyword">to</span> <span class="token namespace">make</span> room <span class="token keyword">for</span> <span class="token keyword">new</span> data<span class="token punctuation">,</span> without going over the specified
#    memory limit<span class="token punctuation">.</span>
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">Because</span> of expire<span class="token operator">:</span> when a key <span class="token keyword">with</span> <span class="token namespace">an</span> associated time <span class="token keyword">to</span> <span class="token namespace">live</span> <span class="token punctuation">(</span>see the
#    <span class="token class-name">EXPIRE</span> command<span class="token punctuation">)</span> must be deleted from memory<span class="token punctuation">.</span>
# <span class="token number">3</span><span class="token punctuation">)</span> <span class="token class-name">Because</span> of a side effect of a command that stores data on a key that may
#    already <span class="token class-name"><span class="token namespace">exist<span class="token punctuation">.</span></span> For</span> example the RENAME command may delete the old key
#    content when it is replaced <span class="token keyword">with</span> <span class="token namespace">another</span> <span class="token class-name"><span class="token namespace">one<span class="token punctuation">.</span></span> Similarly</span> SUNIONSTORE
#    or SORT <span class="token keyword">with</span> STORE option may delete existing <span class="token class-name"><span class="token namespace">keys<span class="token punctuation">.</span></span> The</span> SET command
#    itself removes any old content of the specified key in order <span class="token keyword">to</span> <span class="token namespace">replace</span>
#    it <span class="token keyword">with</span> <span class="token namespace">the</span> specified string<span class="token punctuation">.</span>
# <span class="token number">4</span><span class="token punctuation">)</span> <span class="token class-name">During</span> replication<span class="token punctuation">,</span> when a replica performs a full resynchronization <span class="token keyword">with</span>
#    its master<span class="token punctuation">,</span> the content of the whole database is removed in order <span class="token keyword">to</span>
#    load the RDB file just transferred<span class="token punctuation">.</span>
#
# <span class="token class-name">In</span> all the above cases the <span class="token keyword">default</span> is <span class="token keyword">to</span> <span class="token namespace">delete</span> objects in a blocking way<span class="token punctuation">,</span>
# like <span class="token keyword">if</span> DEL was <span class="token class-name"><span class="token namespace">called<span class="token punctuation">.</span></span> However</span> you can configure each <span class="token keyword">case</span> specifically
# in order <span class="token keyword">to</span> <span class="token namespace">instead</span> release memory in a non<span class="token operator">-</span>blocking way like <span class="token keyword">if</span> UNLINK
# was called<span class="token punctuation">,</span> using the following configuration directives<span class="token punctuation">.</span>

lazyfree<span class="token operator">-</span>lazy<span class="token operator">-</span>eviction no
lazyfree<span class="token operator">-</span>lazy<span class="token operator">-</span>expire no
lazyfree<span class="token operator">-</span>lazy<span class="token operator">-</span>server<span class="token operator">-</span>del no
replica<span class="token operator">-</span>lazy<span class="token operator">-</span>flush no

# <span class="token class-name">It</span> is also possible<span class="token punctuation">,</span> <span class="token keyword">for</span> the <span class="token keyword">case</span> when <span class="token keyword">to</span> <span class="token namespace">replace</span> the user code DEL calls
# <span class="token keyword">with</span> UNLINK calls is not easy<span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token namespace">modify</span> the <span class="token keyword">default</span> behavior of the DEL
# command <span class="token keyword">to</span> <span class="token namespace">act</span> exactly like UNLINK<span class="token punctuation">,</span> using the following configuration
# directive<span class="token operator">:</span>

lazyfree<span class="token operator">-</span>lazy<span class="token operator">-</span>user<span class="token operator">-</span>del no

################################ THREADED <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> #################################

# <span class="token class-name">Redis</span> is mostly single threaded<span class="token punctuation">,</span> however there are certain threaded
# operations such as UNLINK<span class="token punctuation">,</span> slow <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> accesses and other things that are
# performed on side threads<span class="token punctuation">.</span>
#
# <span class="token class-name">Now</span> it is also possible <span class="token keyword">to</span> <span class="token namespace">handle</span> <span class="token class-name">Redis</span> clients socket reads and writes
# in different <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> <span class="token class-name"><span class="token namespace">threads<span class="token punctuation">.</span></span> Since</span> especially writing is so slow<span class="token punctuation">,</span> normally
# <span class="token class-name">Redis</span> users use pipelining in order <span class="token keyword">to</span> <span class="token namespace">speedup</span> the <span class="token class-name">Redis</span> performances per
# core<span class="token punctuation">,</span> and spawn multiple instances in order <span class="token keyword">to</span> <span class="token namespace">scale</span> <span class="token class-name"><span class="token namespace">more<span class="token punctuation">.</span></span> Using</span> <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span>
# threads it is possible <span class="token keyword">to</span> <span class="token namespace">easily</span> speedup two times <span class="token class-name">Redis</span> without resorting
# <span class="token keyword">to</span> <span class="token namespace">pipelining</span> nor sharding of the instance<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> threading is disabled<span class="token punctuation">,</span> we suggest enabling it only in machines
# that have at least <span class="token number">4</span> or more cores<span class="token punctuation">,</span> leaving at least one spare core<span class="token punctuation">.</span>
# <span class="token class-name">Using</span> more than <span class="token number">8</span> threads is unlikely <span class="token keyword">to</span> <span class="token namespace">help</span> <span class="token class-name"><span class="token namespace">much<span class="token punctuation">.</span></span> We</span> also recommend using
# threaded <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> only <span class="token keyword">if</span> you actually have performance problems<span class="token punctuation">,</span> <span class="token keyword">with</span> <span class="token class-name">Redis</span>
# instances being able <span class="token keyword">to</span> <span class="token namespace">use</span> a quite big percentage of <span class="token class-name">CPU</span> time<span class="token punctuation">,</span> otherwise
# there is no point in using <span class="token keyword">this</span> feature<span class="token punctuation">.</span>
#
# <span class="token class-name">So</span> <span class="token keyword">for</span> instance <span class="token keyword">if</span> you have a four cores boxes<span class="token punctuation">,</span> <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">use</span> <span class="token number">2</span> or <span class="token number">3</span> <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span>
# threads<span class="token punctuation">,</span> <span class="token keyword">if</span> you have a <span class="token number">8</span> cores<span class="token punctuation">,</span> <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">use</span> <span class="token number">6</span> <span class="token class-name"><span class="token namespace">threads<span class="token punctuation">.</span></span> In</span> order <span class="token keyword">to</span>
# enable <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> threads use the following configuration directive<span class="token operator">:</span>
#
# io<span class="token operator">-</span>threads <span class="token number">4</span>
#
# <span class="token class-name">Setting</span> io<span class="token operator">-</span>threads <span class="token keyword">to</span> <span class="token number">1</span> will just use the main thread as usually<span class="token punctuation">.</span>
# <span class="token class-name">When</span> <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> threads are enabled<span class="token punctuation">,</span> we only use threads <span class="token keyword">for</span> writes<span class="token punctuation">,</span> that is
# <span class="token keyword">to</span> <span class="token namespace">thread</span> the <span class="token function">write</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> syscall and transfer the client buffers <span class="token keyword">to</span> <span class="token namespace">the</span>
# <span class="token class-name"><span class="token namespace">socket<span class="token punctuation">.</span></span> However</span> it is also possible <span class="token keyword">to</span> <span class="token namespace">enable</span> threading of reads and
# protocol parsing using the following configuration directive<span class="token punctuation">,</span> by setting
# it <span class="token keyword">to</span> <span class="token namespace">yes</span><span class="token operator">:</span>
#
# io<span class="token operator">-</span>threads<span class="token operator">-</span><span class="token keyword">do</span><span class="token operator">-</span>reads no
#
# <span class="token class-name">Usually</span> threading reads doesn&#39;t help much<span class="token punctuation">.</span>
#
# NOTE <span class="token number">1</span><span class="token operator">:</span> <span class="token class-name">This</span> configuration directive cannot be changed at runtime via
# CONFIG <span class="token class-name">SET<span class="token punctuation">.</span> Aso</span> <span class="token keyword">this</span> feature currently does not work when SSL is
# enabled<span class="token punctuation">.</span>
#
# NOTE <span class="token number">2</span><span class="token operator">:</span> <span class="token class-name">If</span> you want <span class="token keyword">to</span> <span class="token namespace">test</span> the <span class="token class-name">Redis</span> speedup using redis<span class="token operator">-</span>benchmark<span class="token punctuation">,</span> make
# sure you also run the benchmark itself in threaded mode<span class="token punctuation">,</span> using the
# <span class="token operator">--</span>threads option <span class="token keyword">to</span> <span class="token namespace">match</span> the number of <span class="token class-name">Redis</span> theads<span class="token punctuation">,</span> otherwise you&#39;ll not
# be able <span class="token keyword">to</span> <span class="token namespace">notice</span> the improvements<span class="token punctuation">.</span>

############################ KERNEL OOM CONTROL ##############################

# <span class="token class-name">On</span> <span class="token class-name">Linux</span><span class="token punctuation">,</span> it is possible <span class="token keyword">to</span> <span class="token namespace">hint</span> the kernel OOM killer on what processes
# should be killed first when out of memory<span class="token punctuation">.</span>
#
# <span class="token class-name">Enabling</span> <span class="token keyword">this</span> feature makes <span class="token class-name">Redis</span> actively control the oom_score_adj value
# <span class="token keyword">for</span> all its processes<span class="token punctuation">,</span> depending on their <span class="token class-name"><span class="token namespace">role<span class="token punctuation">.</span></span> The</span> <span class="token keyword">default</span> scores will
# attempt <span class="token keyword">to</span> <span class="token namespace">have</span> background child processes killed before all others<span class="token punctuation">,</span> and
# replicas killed before masters<span class="token punctuation">.</span>

oom<span class="token operator">-</span>score<span class="token operator">-</span>adj no

# <span class="token class-name">When</span> oom<span class="token operator">-</span>score<span class="token operator">-</span>adj is used<span class="token punctuation">,</span> <span class="token keyword">this</span> directive controls the specific values used
# <span class="token keyword">for</span> master<span class="token punctuation">,</span> replica and background child <span class="token class-name"><span class="token namespace">processes<span class="token punctuation">.</span></span> Values</span> range <span class="token operator">-</span><span class="token number">1000</span> <span class="token keyword">to</span>
# <span class="token number">1000</span> <span class="token punctuation">(</span>higher means more likely <span class="token keyword">to</span> <span class="token namespace">be</span> killed<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">Unprivileged</span> processes <span class="token punctuation">(</span>not root<span class="token punctuation">,</span> and without <span class="token class-name">CAP_SYS_RESOURCE</span> capabilities<span class="token punctuation">)</span>
# can freely increase their value<span class="token punctuation">,</span> but not decrease it below its initial
# settings<span class="token punctuation">.</span>
#
# <span class="token class-name">Values</span> are used relative <span class="token keyword">to</span> <span class="token namespace">the</span> initial value of oom_score_adj when the server
# <span class="token class-name"><span class="token namespace">starts<span class="token punctuation">.</span></span> Because</span> typically the initial value is <span class="token number">0</span><span class="token punctuation">,</span> they will often match the
# absolute values<span class="token punctuation">.</span>

oom<span class="token operator">-</span>score<span class="token operator">-</span>adj<span class="token operator">-</span>values <span class="token number">0</span> <span class="token number">200</span> <span class="token number">800</span>

############################## APPEND ONLY MODE ###############################

# <span class="token class-name">By</span> <span class="token keyword">default</span> <span class="token class-name">Redis</span> asynchronously dumps the dataset on <span class="token class-name"><span class="token namespace">disk<span class="token punctuation">.</span></span> This</span> mode is
# good enough in many applications<span class="token punctuation">,</span> but an issue <span class="token keyword">with</span> <span class="token namespace">the</span> <span class="token class-name">Redis</span> process or
# a power outage may result into a few minutes of writes lost <span class="token punctuation">(</span>depending on
# the configured save points<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token class-name">Append</span> <span class="token class-name">Only</span> <span class="token class-name">File</span> is an alternative persistence mode that <span class="token keyword">provides</span>
# much better <span class="token class-name"><span class="token namespace">durability<span class="token punctuation">.</span></span> For</span> instance using the <span class="token keyword">default</span> data fsync policy
# <span class="token punctuation">(</span>see later in the config file<span class="token punctuation">)</span> <span class="token class-name">Redis</span> can lose just one second of writes in a
# dramatic event like a server power outage<span class="token punctuation">,</span> or a single write <span class="token keyword">if</span> something
# wrong <span class="token keyword">with</span> <span class="token namespace">the</span> <span class="token class-name">Redis</span> process itself happens<span class="token punctuation">,</span> but the operating system is
# still running correctly<span class="token punctuation">.</span>
#
# AOF and RDB persistence can be enabled at the same time without problems<span class="token punctuation">.</span>
# <span class="token class-name">If</span> the AOF is enabled on startup <span class="token class-name">Redis</span> will load the AOF<span class="token punctuation">,</span> that is the file
# <span class="token keyword">with</span> <span class="token namespace">the</span> better durability guarantees<span class="token punctuation">.</span>
#
# <span class="token class-name">Please</span> check http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>redis<span class="token punctuation">.</span>io<span class="token operator">/</span>topics<span class="token operator">/</span>persistence <span class="token keyword">for</span> more information<span class="token punctuation">.</span>

appendonly no

# <span class="token class-name">The</span> name of the append only file <span class="token punctuation">(</span><span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;appendonly.aof&quot;</span><span class="token punctuation">)</span>

appendfilename <span class="token string">&quot;appendonly.aof&quot;</span>

# <span class="token class-name">The</span> <span class="token function">fsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> call tells the <span class="token class-name">Operating</span> <span class="token class-name">System</span> <span class="token keyword">to</span> <span class="token namespace">actually</span> write data on disk
# instead of waiting <span class="token keyword">for</span> more data in the output <span class="token class-name"><span class="token namespace">buffer<span class="token punctuation">.</span></span> Some</span> OS will really flush
# data on disk<span class="token punctuation">,</span> some other OS will just <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token keyword">do</span> it ASAP<span class="token punctuation">.</span>
#
# <span class="token class-name">Redis</span> supports three different modes<span class="token operator">:</span>
#
# no<span class="token operator">:</span> don&#39;t fsync<span class="token punctuation">,</span> just let the OS flush the data when it <span class="token class-name"><span class="token namespace">wants<span class="token punctuation">.</span></span> Faster</span><span class="token punctuation">.</span>
# always<span class="token operator">:</span> fsync after every write <span class="token keyword">to</span> <span class="token namespace">the</span> append only <span class="token class-name"><span class="token namespace">log<span class="token punctuation">.</span></span> Slow</span><span class="token punctuation">,</span> <span class="token class-name">Safest</span><span class="token punctuation">.</span>
# everysec<span class="token operator">:</span> fsync only one time every <span class="token class-name"><span class="token namespace">second<span class="token punctuation">.</span></span> Compromise</span><span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token keyword">default</span> is <span class="token string">&quot;everysec&quot;</span><span class="token punctuation">,</span> as that&#39;s usually the right compromise between
# speed and data <span class="token class-name"><span class="token namespace">safety<span class="token punctuation">.</span></span> It</span>&#39;s up <span class="token keyword">to</span> <span class="token namespace">you</span> <span class="token keyword">to</span> <span class="token namespace">understand</span> <span class="token keyword">if</span> you can relax <span class="token keyword">this</span> <span class="token keyword">to</span>
# <span class="token string">&quot;no&quot;</span> that will let the operating system flush the output buffer when
# it wants<span class="token punctuation">,</span> <span class="token keyword">for</span> better performances <span class="token punctuation">(</span>but <span class="token keyword">if</span> you can live <span class="token keyword">with</span> <span class="token namespace">the</span> idea of
# some data loss consider the <span class="token keyword">default</span> persistence mode that&#39;s snapshotting<span class="token punctuation">)</span><span class="token punctuation">,</span>
# or on the contrary<span class="token punctuation">,</span> use <span class="token string">&quot;always&quot;</span> that&#39;s very slow but a bit safer than
# everysec<span class="token punctuation">.</span>
#
# <span class="token class-name">More</span> details please check the following article<span class="token operator">:</span>
# http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>antirez<span class="token punctuation">.</span>com<span class="token operator">/</span>post<span class="token operator">/</span>redis<span class="token operator">-</span>persistence<span class="token operator">-</span>demystified<span class="token punctuation">.</span>html
#
# <span class="token class-name">If</span> unsure<span class="token punctuation">,</span> use <span class="token string">&quot;everysec&quot;</span><span class="token punctuation">.</span>

# appendfsync always
appendfsync everysec
# appendfsync no

# <span class="token class-name">When</span> the AOF fsync policy is set <span class="token keyword">to</span> <span class="token namespace">always</span> or everysec<span class="token punctuation">,</span> and a background
# saving process <span class="token punctuation">(</span>a background save or AOF log background rewriting<span class="token punctuation">)</span> is
# performing a lot of <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> against the disk<span class="token punctuation">,</span> in some <span class="token class-name">Linux</span> configurations
# <span class="token class-name">Redis</span> may block too <span class="token keyword">long</span> on the <span class="token function">fsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token class-name"><span class="token namespace">call<span class="token punctuation">.</span></span> Note</span> that there is no fix <span class="token keyword">for</span>
# <span class="token keyword">this</span> currently<span class="token punctuation">,</span> as even performing fsync in a different thread will block
# our synchronous <span class="token function">write</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> call<span class="token punctuation">.</span>
#
# <span class="token class-name">In</span> order <span class="token keyword">to</span> <span class="token namespace">mitigate</span> <span class="token keyword">this</span> problem it&#39;s possible <span class="token keyword">to</span> <span class="token namespace">use</span> the following option
# that will prevent <span class="token function">fsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> from being called in the main process <span class="token keyword">while</span> a
# BGSAVE or BGREWRITEAOF is in progress<span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> means that <span class="token keyword">while</span> another child is saving<span class="token punctuation">,</span> the durability of <span class="token class-name">Redis</span> is
# the same as <span class="token string">&quot;appendfsync none&quot;</span><span class="token punctuation">.</span> <span class="token class-name">In</span> practical terms<span class="token punctuation">,</span> <span class="token keyword">this</span> means that it is
# possible <span class="token keyword">to</span> <span class="token namespace">lose</span> up <span class="token keyword">to</span> <span class="token number">30</span> seconds of log in the worst scenario <span class="token punctuation">(</span><span class="token keyword">with</span> <span class="token namespace">the</span>
# <span class="token keyword">default</span> <span class="token class-name">Linux</span> settings<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> you have latency problems turn <span class="token keyword">this</span> <span class="token keyword">to</span> <span class="token string">&quot;yes&quot;</span><span class="token punctuation">.</span> <span class="token class-name">Otherwise</span> leave it as
# <span class="token string">&quot;no&quot;</span> that is the safest pick from the point of view of durability<span class="token punctuation">.</span>

no<span class="token operator">-</span>appendfsync<span class="token operator">-</span>on<span class="token operator">-</span>rewrite no

# <span class="token class-name">Automatic</span> rewrite of the append only file<span class="token punctuation">.</span>
# <span class="token class-name">Redis</span> is able <span class="token keyword">to</span> <span class="token namespace">automatically</span> rewrite the log file implicitly calling
# BGREWRITEAOF when the AOF log size grows by the specified percentage<span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> is how it works<span class="token operator">:</span> <span class="token class-name">Redis</span> remembers the size of the AOF file after the
# latest rewrite <span class="token punctuation">(</span><span class="token keyword">if</span> no rewrite has happened since the restart<span class="token punctuation">,</span> the size of
# the AOF at startup is used<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> base size is compared <span class="token keyword">to</span> <span class="token namespace">the</span> current <span class="token class-name"><span class="token namespace">size<span class="token punctuation">.</span></span> If</span> the current size is
# bigger than the specified percentage<span class="token punctuation">,</span> the rewrite is <span class="token class-name"><span class="token namespace">triggered<span class="token punctuation">.</span></span> Also</span>
# you need <span class="token keyword">to</span> <span class="token namespace">specify</span> a minimal size <span class="token keyword">for</span> the AOF file <span class="token keyword">to</span> <span class="token namespace">be</span> rewritten<span class="token punctuation">,</span> <span class="token keyword">this</span>
# is useful <span class="token keyword">to</span> <span class="token namespace">avoid</span> rewriting the AOF file even <span class="token keyword">if</span> the percentage increase
# is reached but it is still pretty small<span class="token punctuation">.</span>
#
# <span class="token class-name">Specify</span> a percentage of zero in order <span class="token keyword">to</span> <span class="token namespace">disable</span> the automatic AOF
# rewrite feature<span class="token punctuation">.</span>

auto<span class="token operator">-</span>aof<span class="token operator">-</span>rewrite<span class="token operator">-</span>percentage <span class="token number">100</span>
auto<span class="token operator">-</span>aof<span class="token operator">-</span>rewrite<span class="token operator">-</span>min<span class="token operator">-</span>size <span class="token number">64</span>mb

# <span class="token class-name">An</span> AOF file may be found <span class="token keyword">to</span> <span class="token namespace">be</span> truncated at the end during the <span class="token class-name">Redis</span>
# startup process<span class="token punctuation">,</span> when the AOF data gets loaded back into memory<span class="token punctuation">.</span>
# <span class="token class-name">This</span> may happen when the system where <span class="token class-name">Redis</span> is running
# crashes<span class="token punctuation">,</span> especially when an ext4 filesystem is mounted without the
# data<span class="token operator">=</span>ordered option <span class="token punctuation">(</span>however <span class="token keyword">this</span> can&#39;t happen when <span class="token class-name">Redis</span> itself
# crashes or aborts but the operating system still works correctly<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">Redis</span> can either exit <span class="token keyword">with</span> <span class="token namespace">an</span> error when <span class="token keyword">this</span> happens<span class="token punctuation">,</span> or load as much
# data as possible <span class="token punctuation">(</span>the <span class="token keyword">default</span> now<span class="token punctuation">)</span> and start <span class="token keyword">if</span> the AOF file is found
# <span class="token keyword">to</span> <span class="token namespace">be</span> truncated at the <span class="token class-name"><span class="token namespace">end<span class="token punctuation">.</span></span> The</span> following option controls <span class="token keyword">this</span> behavior<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> aof<span class="token operator">-</span>load<span class="token operator">-</span>truncated is set <span class="token keyword">to</span> <span class="token namespace">yes</span><span class="token punctuation">,</span> a truncated AOF file is loaded and
# the <span class="token class-name">Redis</span> server starts emitting a log <span class="token keyword">to</span> <span class="token namespace">inform</span> the user of the event<span class="token punctuation">.</span>
# <span class="token class-name">Otherwise</span> <span class="token keyword">if</span> the option is set <span class="token keyword">to</span> <span class="token namespace">no</span><span class="token punctuation">,</span> the server aborts <span class="token keyword">with</span> <span class="token namespace">an</span> error
# and refuses <span class="token keyword">to</span> <span class="token namespace">start<span class="token punctuation">.</span></span> <span class="token class-name">When</span> the option is set <span class="token keyword">to</span> <span class="token namespace">no</span><span class="token punctuation">,</span> the user <span class="token keyword">requires</span>
# <span class="token keyword">to</span> <span class="token namespace">fix</span> the AOF file using the <span class="token string">&quot;redis-check-aof&quot;</span> utility before <span class="token keyword">to</span> <span class="token namespace">restart</span>
# the server<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span> that <span class="token keyword">if</span> the AOF file will be found <span class="token keyword">to</span> <span class="token namespace">be</span> corrupted in the middle
# the server will still exit <span class="token keyword">with</span> <span class="token namespace">an</span> <span class="token class-name"><span class="token namespace">error<span class="token punctuation">.</span></span> This</span> option only applies when
# <span class="token class-name">Redis</span> will <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">read</span> more data from the AOF file but not enough bytes
# will be found<span class="token punctuation">.</span>
aof<span class="token operator">-</span>load<span class="token operator">-</span>truncated yes

# <span class="token class-name">When</span> rewriting the <span class="token class-name">AOF</span> file<span class="token punctuation">,</span> <span class="token class-name">Redis</span> is able <span class="token keyword">to</span> <span class="token namespace">use</span> an RDB preamble in the
# AOF file <span class="token keyword">for</span> faster rewrites and <span class="token class-name"><span class="token namespace">recoveries<span class="token punctuation">.</span></span> When</span> <span class="token keyword">this</span> option is turned
# on the rewritten AOF file is composed of two different stanzas<span class="token operator">:</span>
#
#   <span class="token punctuation">[</span>RDB file<span class="token punctuation">]</span><span class="token punctuation">[</span>AOF tail<span class="token punctuation">]</span>
#
# <span class="token class-name">When</span> loading <span class="token class-name">Redis</span> recognizes that the AOF file starts <span class="token keyword">with</span> <span class="token namespace">the</span> <span class="token string">&quot;REDIS&quot;</span>
# string and loads the prefixed <span class="token class-name">RDB</span> file<span class="token punctuation">,</span> and continues loading the AOF
# tail<span class="token punctuation">.</span>
aof<span class="token operator">-</span>use<span class="token operator">-</span>rdb<span class="token operator">-</span>preamble yes

################################ LUA SCRIPTING  ###############################

# <span class="token class-name">Max</span> execution time of a <span class="token class-name">Lua</span> script in milliseconds<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> the maximum execution time is reached <span class="token class-name">Redis</span> will log that a script is
# still in execution after the maximum allowed time and will start <span class="token keyword">to</span>
# reply <span class="token keyword">to</span> <span class="token namespace">queries</span> <span class="token keyword">with</span> <span class="token namespace">an</span> error<span class="token punctuation">.</span>
#
# <span class="token class-name">When</span> a <span class="token keyword">long</span> running script exceeds the maximum execution time only the
# SCRIPT KILL and SHUTDOWN NOSAVE commands are <span class="token class-name"><span class="token namespace">available<span class="token punctuation">.</span></span> The</span> first can be
# used <span class="token keyword">to</span> <span class="token namespace">stop</span> a script that did not yet called write <span class="token class-name"><span class="token namespace">commands<span class="token punctuation">.</span></span> The</span> second
# is the only way <span class="token keyword">to</span> <span class="token namespace">shut</span> down the server in the <span class="token keyword">case</span> a write command was
# already issued by the script but the user doesn&#39;t want <span class="token keyword">to</span> <span class="token namespace">wait</span> <span class="token keyword">for</span> the natural
# termination of the script<span class="token punctuation">.</span>
#
# <span class="token class-name">Set</span> it <span class="token keyword">to</span> <span class="token number">0</span> or a negative value <span class="token keyword">for</span> unlimited execution without warnings<span class="token punctuation">.</span>
lua<span class="token operator">-</span>time<span class="token operator">-</span>limit <span class="token number">5000</span>

################################ REDIS CLUSTER  ###############################

# <span class="token class-name">Normal</span> <span class="token class-name">Redis</span> instances can&#39;t be part of a <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span><span class="token punctuation">;</span> only nodes that are
# started as cluster nodes <span class="token class-name"><span class="token namespace">can<span class="token punctuation">.</span></span> In</span> order <span class="token keyword">to</span> <span class="token namespace">start</span> a <span class="token class-name">Redis</span> instance as a
# cluster node enable the cluster support uncommenting the following<span class="token operator">:</span>
#
# cluster<span class="token operator">-</span>enabled yes

# <span class="token class-name">Every</span> cluster node has a cluster configuration <span class="token class-name"><span class="token namespace">file<span class="token punctuation">.</span></span> This</span> file is not
# intended <span class="token keyword">to</span> <span class="token namespace">be</span> edited by <span class="token class-name"><span class="token namespace">hand<span class="token punctuation">.</span></span> It</span> is created and updated by <span class="token class-name">Redis</span> nodes<span class="token punctuation">.</span>
# <span class="token class-name">Every</span> <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span> node <span class="token keyword">requires</span> <span class="token namespace">a</span> different cluster configuration file<span class="token punctuation">.</span>
# <span class="token class-name">Make</span> sure that instances running in the same system <span class="token keyword">do</span> not have
# overlapping cluster configuration file names<span class="token punctuation">.</span>
#
# cluster<span class="token operator">-</span>config<span class="token operator">-</span>file nodes<span class="token operator">-</span><span class="token number">6379.</span>conf

# <span class="token class-name">Cluster</span> node timeout is the amount of milliseconds a node must be unreachable
# <span class="token keyword">for</span> it <span class="token keyword">to</span> <span class="token namespace">be</span> considered in failure state<span class="token punctuation">.</span>
# <span class="token class-name">Most</span> other internal time limits are multiple of the node timeout<span class="token punctuation">.</span>
#
# cluster<span class="token operator">-</span>node<span class="token operator">-</span>timeout <span class="token number">15000</span>

# <span class="token class-name">A</span> replica of a failing master will avoid <span class="token keyword">to</span> <span class="token namespace">start</span> a failover <span class="token keyword">if</span> its data
# looks too old<span class="token punctuation">.</span>
#
# <span class="token class-name">There</span> is no simple way <span class="token keyword">for</span> a replica <span class="token keyword">to</span> <span class="token namespace">actually</span> have an exact measure of
# its <span class="token string">&quot;data age&quot;</span><span class="token punctuation">,</span> so the following two checks are performed<span class="token operator">:</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">If</span> there are multiple replicas able <span class="token keyword">to</span> <span class="token namespace">failover</span><span class="token punctuation">,</span> they exchange messages
#    in order <span class="token keyword">to</span> <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">give</span> an advantage <span class="token keyword">to</span> <span class="token namespace">the</span> replica <span class="token keyword">with</span> <span class="token namespace">the</span> best
#    replication offset <span class="token punctuation">(</span>more data from the master processed<span class="token punctuation">)</span><span class="token punctuation">.</span>
#    <span class="token class-name">Replicas</span> will <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">get</span> their rank by offset<span class="token punctuation">,</span> and apply <span class="token keyword">to</span> <span class="token namespace">the</span> start
#    of the failover a delay proportional <span class="token keyword">to</span> <span class="token namespace">their</span> rank<span class="token punctuation">.</span>
#
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">Every</span> single replica computes the time of the last interaction <span class="token keyword">with</span>
#    its <span class="token class-name"><span class="token namespace">master<span class="token punctuation">.</span></span> This</span> can be the last ping or command received <span class="token punctuation">(</span><span class="token keyword">if</span> the master
#    is still in the <span class="token string">&quot;connected&quot;</span> state<span class="token punctuation">)</span><span class="token punctuation">,</span> or the time that elapsed since the
#    disconnection <span class="token keyword">with</span> <span class="token namespace">the</span> master <span class="token punctuation">(</span><span class="token keyword">if</span> the replication link is currently down<span class="token punctuation">)</span><span class="token punctuation">.</span>
#    <span class="token class-name">If</span> the last interaction is too old<span class="token punctuation">,</span> the replica will not <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">failover</span>
#    at all<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> point <span class="token string">&quot;2&quot;</span> can be tuned by <span class="token class-name"><span class="token namespace">user<span class="token punctuation">.</span></span> Specifically</span> a replica will not perform
# the failover <span class="token keyword">if</span><span class="token punctuation">,</span> since the last interaction <span class="token keyword">with</span> <span class="token namespace">the</span> master<span class="token punctuation">,</span> the time
# elapsed is greater than<span class="token operator">:</span>
#
#   <span class="token punctuation">(</span>node<span class="token operator">-</span>timeout <span class="token operator">*</span> replica<span class="token operator">-</span>validity<span class="token operator">-</span>factor<span class="token punctuation">)</span> <span class="token operator">+</span> repl<span class="token operator">-</span>ping<span class="token operator">-</span>replica<span class="token operator">-</span>period
#
# <span class="token class-name">So</span> <span class="token keyword">for</span> example <span class="token keyword">if</span> node<span class="token operator">-</span>timeout is <span class="token number">30</span> seconds<span class="token punctuation">,</span> and the replica<span class="token operator">-</span>validity<span class="token operator">-</span>factor
# is <span class="token number">10</span><span class="token punctuation">,</span> and assuming a <span class="token keyword">default</span> repl<span class="token operator">-</span>ping<span class="token operator">-</span>replica<span class="token operator">-</span>period of <span class="token number">10</span> seconds<span class="token punctuation">,</span> the
# replica will not <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">failover</span> <span class="token keyword">if</span> it was not able <span class="token keyword">to</span> <span class="token namespace">talk</span> <span class="token keyword">with</span> <span class="token namespace">the</span> master
# <span class="token keyword">for</span> longer than <span class="token number">310</span> seconds<span class="token punctuation">.</span>
#
# <span class="token class-name">A</span> large replica<span class="token operator">-</span>validity<span class="token operator">-</span>factor may allow replicas <span class="token keyword">with</span> <span class="token namespace">too</span> old data <span class="token keyword">to</span> <span class="token namespace">failover</span>
# a master<span class="token punctuation">,</span> <span class="token keyword">while</span> a too small value may prevent the cluster from being able <span class="token keyword">to</span>
# elect a replica at all<span class="token punctuation">.</span>
#
# <span class="token class-name">For</span> maximum availability<span class="token punctuation">,</span> it is possible <span class="token keyword">to</span> <span class="token namespace">set</span> the replica<span class="token operator">-</span>validity<span class="token operator">-</span>factor
# <span class="token keyword">to</span> <span class="token namespace">a</span> value of <span class="token number">0</span><span class="token punctuation">,</span> which means<span class="token punctuation">,</span> that replicas will always <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">failover</span> the
# master regardless of the last time they interacted <span class="token keyword">with</span> <span class="token namespace">the</span> master<span class="token punctuation">.</span>
# <span class="token punctuation">(</span><span class="token class-name">However</span> they&#39;ll always <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">apply</span> a delay proportional <span class="token keyword">to</span> <span class="token namespace">their</span>
# offset rank<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">Zero</span> is the only value able <span class="token keyword">to</span> <span class="token namespace">guarantee</span> that when all the partitions heal
# the cluster will always be able <span class="token keyword">to</span> <span class="token keyword">continue</span><span class="token punctuation">.</span>
#
# cluster<span class="token operator">-</span>replica<span class="token operator">-</span>validity<span class="token operator">-</span>factor <span class="token number">10</span>

# <span class="token class-name">Cluster</span> replicas are able <span class="token keyword">to</span> <span class="token namespace">migrate</span> <span class="token keyword">to</span> <span class="token namespace">orphaned</span> masters<span class="token punctuation">,</span> that are masters
# that are left without working <span class="token class-name"><span class="token namespace">replicas<span class="token punctuation">.</span></span> This</span> improves the cluster ability
# <span class="token keyword">to</span> <span class="token namespace">resist</span> <span class="token keyword">to</span> <span class="token namespace">failures</span> as otherwise an orphaned master can&#39;t be failed over
# in <span class="token keyword">case</span> of failure <span class="token keyword">if</span> it has no working replicas<span class="token punctuation">.</span>
#
# <span class="token class-name">Replicas</span> migrate <span class="token keyword">to</span> <span class="token namespace">orphaned</span> masters only <span class="token keyword">if</span> there are still at least a
# given number of other working replicas <span class="token keyword">for</span> their old <span class="token class-name"><span class="token namespace">master<span class="token punctuation">.</span></span> This</span> number
# is the <span class="token string">&quot;migration barrier&quot;</span><span class="token punctuation">.</span> <span class="token class-name">A</span> migration barrier of <span class="token number">1</span> means that a replica
# will migrate only <span class="token keyword">if</span> there is at least <span class="token number">1</span> other working replica <span class="token keyword">for</span> its master
# and so <span class="token class-name"><span class="token namespace">forth<span class="token punctuation">.</span></span> It</span> usually reflects the number of replicas you want <span class="token keyword">for</span> every
# master in your cluster<span class="token punctuation">.</span>
#
# <span class="token class-name">Default</span> is <span class="token number">1</span> <span class="token punctuation">(</span>replicas migrate only <span class="token keyword">if</span> their masters remain <span class="token keyword">with</span> <span class="token namespace">at</span> least
# one replica<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token class-name">To</span> disable migration just set it <span class="token keyword">to</span> <span class="token namespace">a</span> very large value<span class="token punctuation">.</span>
# <span class="token class-name">A</span> value of <span class="token number">0</span> can be set but is useful only <span class="token keyword">for</span> debugging and dangerous
# in production<span class="token punctuation">.</span>
#
# cluster<span class="token operator">-</span>migration<span class="token operator">-</span>barrier <span class="token number">1</span>

# <span class="token class-name">By</span> <span class="token keyword">default</span> <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span> nodes stop accepting queries <span class="token keyword">if</span> they detect there
# is at least an hash slot uncovered <span class="token punctuation">(</span>no available node is serving it<span class="token punctuation">)</span><span class="token punctuation">.</span>
# <span class="token class-name">This</span> way <span class="token keyword">if</span> the cluster is partially down <span class="token punctuation">(</span><span class="token keyword">for</span> example a range of hash slots
# are no longer covered<span class="token punctuation">)</span> all the cluster becomes<span class="token punctuation">,</span> eventually<span class="token punctuation">,</span> unavailable<span class="token punctuation">.</span>
# <span class="token class-name">It</span> automatically returns available as soon as all the slots are covered again<span class="token punctuation">.</span>
#
# <span class="token class-name">However</span> sometimes you want the subset of the cluster which is working<span class="token punctuation">,</span>
# <span class="token keyword">to</span> <span class="token keyword">continue</span> <span class="token keyword">to</span> <span class="token namespace">accept</span> queries <span class="token keyword">for</span> the part of the key space that is still
# <span class="token class-name"><span class="token namespace">covered<span class="token punctuation">.</span></span> In</span> order <span class="token keyword">to</span> <span class="token keyword">do</span> so<span class="token punctuation">,</span> just set the cluster<span class="token operator">-</span>require<span class="token operator">-</span>full<span class="token operator">-</span>coverage
# option <span class="token keyword">to</span> <span class="token namespace">no<span class="token punctuation">.</span></span>
#
# cluster<span class="token operator">-</span>require<span class="token operator">-</span>full<span class="token operator">-</span>coverage yes

# <span class="token class-name">This</span> option<span class="token punctuation">,</span> when set <span class="token keyword">to</span> <span class="token namespace">yes</span><span class="token punctuation">,</span> prevents replicas from trying <span class="token keyword">to</span> <span class="token namespace">failover</span> its
# master during master <span class="token class-name"><span class="token namespace">failures<span class="token punctuation">.</span></span> However</span> the master can still perform a
# manual failover<span class="token punctuation">,</span> <span class="token keyword">if</span> forced <span class="token keyword">to</span> <span class="token keyword">do</span> so<span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> is useful in different scenarios<span class="token punctuation">,</span> especially in the <span class="token keyword">case</span> of multiple
# data center operations<span class="token punctuation">,</span> where we want one side <span class="token keyword">to</span> <span class="token namespace">never</span> be promoted <span class="token keyword">if</span> not
# in the <span class="token keyword">case</span> of a total DC failure<span class="token punctuation">.</span>
#
# cluster<span class="token operator">-</span>replica<span class="token operator">-</span>no<span class="token operator">-</span>failover no

# <span class="token class-name">This</span> option<span class="token punctuation">,</span> when set <span class="token keyword">to</span> <span class="token namespace">yes</span><span class="token punctuation">,</span> allows nodes <span class="token keyword">to</span> <span class="token namespace">serve</span> read traffic <span class="token keyword">while</span> the
# the cluster is in a down state<span class="token punctuation">,</span> as <span class="token keyword">long</span> as it believes it owns the slots<span class="token punctuation">.</span> 
#
# <span class="token class-name">This</span> is useful <span class="token keyword">for</span> two <span class="token class-name"><span class="token namespace">cases<span class="token punctuation">.</span></span>  The</span> first <span class="token keyword">case</span> is <span class="token keyword">for</span> when an application 
# doesn&#39;t require consistency of data during node failures or network partitions<span class="token punctuation">.</span>
# <span class="token class-name">One</span> example of <span class="token keyword">this</span> is a cache<span class="token punctuation">,</span> where as <span class="token keyword">long</span> as the node has the data it
# should be able <span class="token keyword">to</span> <span class="token namespace">serve</span> it<span class="token punctuation">.</span> 
#
# <span class="token class-name">The</span> second use <span class="token keyword">case</span> is <span class="token keyword">for</span> configurations that don&#39;t meet the recommended  
# three shards but want <span class="token keyword">to</span> <span class="token namespace">enable</span> cluster mode and scale <span class="token class-name"><span class="token namespace">later<span class="token punctuation">.</span></span> A</span> 
# master outage in a <span class="token number">1</span> or <span class="token number">2</span> shard configuration causes a read<span class="token operator">/</span>write outage <span class="token keyword">to</span> <span class="token namespace">the</span>
# entire cluster without <span class="token keyword">this</span> option set<span class="token punctuation">,</span> <span class="token keyword">with</span> <span class="token namespace">it</span> set there is only a write outage<span class="token punctuation">.</span>
# <span class="token class-name">Without</span> a quorum of masters<span class="token punctuation">,</span> slot ownership will not change automatically<span class="token punctuation">.</span> 
#
# cluster<span class="token operator">-</span>allow<span class="token operator">-</span>reads<span class="token operator">-</span>when<span class="token operator">-</span>down no

# <span class="token class-name">In</span> order <span class="token keyword">to</span> <span class="token namespace">setup</span> your cluster make sure <span class="token keyword">to</span> <span class="token namespace">read</span> the documentation
# available at http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>redis<span class="token punctuation">.</span>io web site<span class="token punctuation">.</span>

########################## CLUSTER DOCKER<span class="token operator">/</span>NAT support  ########################

# <span class="token class-name">In</span> certain deployments<span class="token punctuation">,</span> <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span> nodes address discovery fails<span class="token punctuation">,</span> because
# addresses are NAT<span class="token operator">-</span>ted or because ports are forwarded <span class="token punctuation">(</span>the typical <span class="token keyword">case</span> is
# <span class="token class-name">Docker</span> and other containers<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">In</span> order <span class="token keyword">to</span> <span class="token namespace">make</span> <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span> working in such environments<span class="token punctuation">,</span> a <span class="token keyword">static</span>
# configuration where each node knows its <span class="token keyword">public</span> address is <span class="token class-name"><span class="token namespace">needed<span class="token punctuation">.</span></span> The</span>
# following two options are used <span class="token keyword">for</span> <span class="token keyword">this</span> scope<span class="token punctuation">,</span> and are<span class="token operator">:</span>
#
# <span class="token operator">*</span> cluster<span class="token operator">-</span>announce<span class="token operator">-</span>ip
# <span class="token operator">*</span> cluster<span class="token operator">-</span>announce<span class="token operator">-</span>port
# <span class="token operator">*</span> cluster<span class="token operator">-</span>announce<span class="token operator">-</span>bus<span class="token operator">-</span>port
#
# <span class="token class-name">Each</span> instruct the node about its address<span class="token punctuation">,</span> client port<span class="token punctuation">,</span> and cluster message
# bus <span class="token class-name"><span class="token namespace">port<span class="token punctuation">.</span></span> The</span> information is then published in the header of the bus packets
# so that other nodes will be able <span class="token keyword">to</span> <span class="token namespace">correctly</span> map the address of the node
# publishing the information<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> the above options are not used<span class="token punctuation">,</span> the normal <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span> auto<span class="token operator">-</span>detection
# will be used instead<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span> that when remapped<span class="token punctuation">,</span> the bus port may not be at the fixed offset of
# clients port <span class="token operator">+</span> <span class="token number">10000</span><span class="token punctuation">,</span> so you can specify any port and bus<span class="token operator">-</span>port depending
# on how they get <span class="token class-name"><span class="token namespace">remapped<span class="token punctuation">.</span></span> If</span> the bus<span class="token operator">-</span>port is not set<span class="token punctuation">,</span> a fixed offset of
# <span class="token number">10000</span> will be used as usually<span class="token punctuation">.</span>
#
# <span class="token class-name">Example</span><span class="token operator">:</span>
#
# cluster<span class="token operator">-</span>announce<span class="token operator">-</span>ip <span class="token number">10.1</span><span class="token number">.1</span><span class="token number">.5</span>
# cluster<span class="token operator">-</span>announce<span class="token operator">-</span>port <span class="token number">6379</span>
# cluster<span class="token operator">-</span>announce<span class="token operator">-</span>bus<span class="token operator">-</span>port <span class="token number">6380</span>

################################## SLOW LOG ###################################

# <span class="token class-name">The</span> <span class="token class-name">Redis</span> <span class="token class-name">Slow</span> <span class="token class-name">Log</span> is a system <span class="token keyword">to</span> <span class="token namespace">log</span> queries that exceeded a specified
# execution <span class="token class-name"><span class="token namespace">time<span class="token punctuation">.</span></span> The</span> execution time does not include the <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> operations
# like talking <span class="token keyword">with</span> <span class="token namespace">the</span> client<span class="token punctuation">,</span> sending the reply and so forth<span class="token punctuation">,</span>
# but just the time needed <span class="token keyword">to</span> <span class="token namespace">actually</span> execute the command <span class="token punctuation">(</span><span class="token keyword">this</span> is the only
# stage of command execution where the thread is blocked and can not serve
# other requests in the meantime<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">You</span> can configure the slow log <span class="token keyword">with</span> <span class="token namespace">two</span> parameters<span class="token operator">:</span> one tells <span class="token class-name">Redis</span>
# what is the execution time<span class="token punctuation">,</span> in microseconds<span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token namespace">exceed</span> in order <span class="token keyword">for</span> the
# command <span class="token keyword">to</span> <span class="token namespace">get</span> logged<span class="token punctuation">,</span> and the other parameter is the length of the
# slow <span class="token class-name"><span class="token namespace">log<span class="token punctuation">.</span></span> When</span> a <span class="token keyword">new</span> command is logged the oldest one is removed from the
# queue of logged commands<span class="token punctuation">.</span>

# <span class="token class-name">The</span> following time is expressed in microseconds<span class="token punctuation">,</span> so <span class="token number">1000000</span> is equivalent
# <span class="token keyword">to</span> <span class="token namespace">one</span> <span class="token class-name"><span class="token namespace">second<span class="token punctuation">.</span></span> Note</span> that a negative number disables the slow log<span class="token punctuation">,</span> <span class="token keyword">while</span>
# a value of zero forces the logging of every command<span class="token punctuation">.</span>
slowlog<span class="token operator">-</span>log<span class="token operator">-</span>slower<span class="token operator">-</span>than <span class="token number">10000</span>

# <span class="token class-name">There</span> is no limit <span class="token keyword">to</span> <span class="token keyword">this</span> <span class="token class-name"><span class="token namespace">length<span class="token punctuation">.</span></span> Just</span> be aware that it will consume memory<span class="token punctuation">.</span>
# <span class="token class-name">You</span> can reclaim memory used by the slow log <span class="token keyword">with</span> SLOWLOG RESET<span class="token punctuation">.</span>
slowlog<span class="token operator">-</span>max<span class="token operator">-</span>len <span class="token number">128</span>

################################ LATENCY MONITOR ##############################

# <span class="token class-name">The</span> <span class="token class-name">Redis</span> latency monitoring subsystem samples different operations
# at runtime in order <span class="token keyword">to</span> <span class="token namespace">collect</span> data related <span class="token keyword">to</span> <span class="token namespace">possible</span> sources of
# latency of a <span class="token class-name">Redis</span> instance<span class="token punctuation">.</span>
#
# <span class="token class-name">Via</span> the LATENCY command <span class="token keyword">this</span> information is available <span class="token keyword">to</span> <span class="token namespace">the</span> user that can
# print graphs and obtain reports<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> system only logs operations that were performed in a time equal or
# greater than the amount of milliseconds specified via the
# latency<span class="token operator">-</span>monitor<span class="token operator">-</span>threshold configuration <span class="token class-name"><span class="token namespace">directive<span class="token punctuation">.</span></span> When</span> its value is set
# <span class="token keyword">to</span> <span class="token namespace">zero</span><span class="token punctuation">,</span> the latency monitor is turned off<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> latency monitoring is disabled since it is mostly not needed
# <span class="token keyword">if</span> you don&#39;t have latency issues<span class="token punctuation">,</span> and collecting data has a performance
# impact<span class="token punctuation">,</span> that <span class="token keyword">while</span> very small<span class="token punctuation">,</span> can be measured under big <span class="token class-name"><span class="token namespace">load<span class="token punctuation">.</span></span> Latency</span>
# monitoring can easily be enabled at runtime using the command
# <span class="token string">&quot;CONFIG SET latency-monitor-threshold \&lt;milliseconds&gt;&quot;</span> <span class="token keyword">if</span> needed<span class="token punctuation">.</span>
latency<span class="token operator">-</span>monitor<span class="token operator">-</span>threshold <span class="token number">0</span>

############################# EVENT NOTIFICATION ##############################

# <span class="token class-name">Redis</span> can notify <span class="token class-name">Pub</span><span class="token operator">/</span><span class="token class-name">Sub</span> clients about events happening in the key space<span class="token punctuation">.</span>
# <span class="token class-name">This</span> feature is documented at http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>redis<span class="token punctuation">.</span>io<span class="token operator">/</span>topics<span class="token operator">/</span>notifications
#
# <span class="token class-name">For</span> instance <span class="token keyword">if</span> keyspace events notification is enabled<span class="token punctuation">,</span> and a client
# performs a DEL operation on key <span class="token string">&quot;foo&quot;</span> stored in the <span class="token class-name">Database</span> <span class="token number">0</span><span class="token punctuation">,</span> two
# messages will be published via <span class="token class-name">Pub</span><span class="token operator">/</span><span class="token class-name">Sub</span><span class="token operator">:</span>
#
# PUBLISH __keyspace<span class="token annotation punctuation">@0__</span><span class="token operator">:</span>foo del
# PUBLISH __keyevent<span class="token annotation punctuation">@0__</span><span class="token operator">:</span>del foo
#
# <span class="token class-name">It</span> is possible <span class="token keyword">to</span> <span class="token namespace">select</span> the events that <span class="token class-name">Redis</span> will notify among a set
# of <span class="token class-name"><span class="token namespace">classes<span class="token punctuation">.</span></span> Every</span> <span class="token keyword">class</span> is identified by a single character<span class="token operator">:</span>
#
#  <span class="token class-name">K</span>     <span class="token class-name">Keyspace</span> events<span class="token punctuation">,</span> published <span class="token keyword">with</span> __keyspace@\<span class="token generics"><span class="token punctuation">&lt;</span>db<span class="token punctuation">&gt;</span></span>__ prefix<span class="token punctuation">.</span>
#  <span class="token class-name">E</span>     <span class="token class-name">Keyevent</span> events<span class="token punctuation">,</span> published <span class="token keyword">with</span> __keyevent@\<span class="token generics"><span class="token punctuation">&lt;</span>db<span class="token punctuation">&gt;</span></span>__ prefix<span class="token punctuation">.</span>
#  g     <span class="token class-name">Generic</span> commands <span class="token punctuation">(</span>non<span class="token operator">-</span>type specific<span class="token punctuation">)</span> like DEL<span class="token punctuation">,</span> EXPIRE<span class="token punctuation">,</span> RENAME<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
#  $     <span class="token class-name">String</span> commands
#  l     <span class="token class-name">List</span> commands
#  s     <span class="token class-name">Set</span> commands
#  h     <span class="token class-name">Hash</span> commands
#  z     <span class="token class-name">Sorted</span> set commands
#  x     <span class="token class-name">Expired</span> events <span class="token punctuation">(</span>events generated every time a key expires<span class="token punctuation">)</span>
#  e     <span class="token class-name">Evicted</span> events <span class="token punctuation">(</span>events generated when a key is evicted <span class="token keyword">for</span> maxmemory<span class="token punctuation">)</span>
#  t     <span class="token class-name">Stream</span> commands
#  m     <span class="token class-name">Key</span><span class="token operator">-</span>miss events <span class="token punctuation">(</span><span class="token class-name">Note</span><span class="token operator">:</span> <span class="token class-name">It</span> is not included in the <span class="token char">&#39;A&#39;</span> <span class="token keyword">class</span><span class="token punctuation">)</span>
#  <span class="token class-name">A</span>     <span class="token class-name">Alias</span> <span class="token keyword">for</span> g$lshzxet<span class="token punctuation">,</span> so that the <span class="token string">&quot;AKE&quot;</span> string means all the events
#        <span class="token punctuation">(</span><span class="token class-name">Except</span> key<span class="token operator">-</span>miss events which are excluded from <span class="token char">&#39;A&#39;</span> due <span class="token keyword">to</span> <span class="token namespace">their</span>
#         unique nature<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
#  <span class="token class-name">The</span> <span class="token string">&quot;notify-keyspace-events&quot;</span> takes as argument a string that is composed
#  of zero or multiple <span class="token class-name"><span class="token namespace">characters<span class="token punctuation">.</span></span> The</span> empty string means that notifications
#  are disabled<span class="token punctuation">.</span>
#
#  <span class="token class-name">Example</span><span class="token operator">:</span> <span class="token keyword">to</span> <span class="token namespace">enable</span> list and generic events<span class="token punctuation">,</span> from the point of view of the
#           event name<span class="token punctuation">,</span> use<span class="token operator">:</span>
#
#  notify<span class="token operator">-</span>keyspace<span class="token operator">-</span>events <span class="token class-name">Elg</span>
#
#  <span class="token class-name">Example</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token keyword">to</span> <span class="token namespace">get</span> the stream of the expired keys subscribing <span class="token keyword">to</span> <span class="token namespace">channel</span>
#             name __keyevent<span class="token annotation punctuation">@0__</span><span class="token operator">:</span>expired use<span class="token operator">:</span>
#
#  notify<span class="token operator">-</span>keyspace<span class="token operator">-</span>events <span class="token class-name">Ex</span>
#
#  <span class="token class-name">By</span> <span class="token keyword">default</span> all notifications are disabled because most users don&#39;t need
#  <span class="token keyword">this</span> feature and the feature has some <span class="token class-name"><span class="token namespace">overhead<span class="token punctuation">.</span></span> Note</span> that <span class="token keyword">if</span> you don&#39;t
#  specify at least one of <span class="token class-name">K</span> or <span class="token class-name">E</span><span class="token punctuation">,</span> no events will be delivered<span class="token punctuation">.</span>
notify<span class="token operator">-</span>keyspace<span class="token operator">-</span>events <span class="token string">&quot;&quot;</span>

############################### GOPHER SERVER #################################

# <span class="token class-name">Redis</span> contains an implementation of the <span class="token class-name">Gopher</span> protocol<span class="token punctuation">,</span> as specified in
# the <span class="token class-name">RFC</span> <span class="token number">1436</span> <span class="token punctuation">(</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>ietf<span class="token punctuation">.</span>org<span class="token operator">/</span>rfc<span class="token operator">/</span>rfc1436<span class="token punctuation">.</span>txt<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token class-name">Gopher</span> protocol was very popular in the late &#39;<span class="token number">90</span>s<span class="token punctuation">.</span> <span class="token class-name">It</span> is an alternative
# <span class="token keyword">to</span> <span class="token namespace">the</span> web<span class="token punctuation">,</span> and the implementation both server and client side is so simple
# that the <span class="token class-name">Redis</span> server has just <span class="token number">100</span> lines of code in order <span class="token keyword">to</span> <span class="token namespace">implement</span> <span class="token keyword">this</span>
# support<span class="token punctuation">.</span>
#
# <span class="token class-name">What</span> <span class="token keyword">do</span> you <span class="token keyword">do</span> <span class="token keyword">with</span> <span class="token class-name">Gopher</span> nowadays<span class="token operator">?</span> <span class="token class-name">Well</span> <span class="token class-name">Gopher</span> never <span class="token operator">*</span>really<span class="token operator">*</span> died<span class="token punctuation">,</span> and
# lately there is a movement in order <span class="token keyword">for</span> the <span class="token class-name">Gopher</span> more hierarchical content
# composed of just plain text documents <span class="token keyword">to</span> <span class="token namespace">be</span> <span class="token class-name"><span class="token namespace">resurrected<span class="token punctuation">.</span></span> Some</span> want a simpler
# internet<span class="token punctuation">,</span> others believe that the mainstream internet became too much
# controlled<span class="token punctuation">,</span> and it&#39;s cool <span class="token keyword">to</span> <span class="token namespace">create</span> an alternative space <span class="token keyword">for</span> people that
# want a bit of fresh air<span class="token punctuation">.</span>
#
# <span class="token class-name">Anyway</span> <span class="token keyword">for</span> the <span class="token number">10</span>nth birthday of the <span class="token class-name">Redis</span><span class="token punctuation">,</span> we gave it the <span class="token class-name">Gopher</span> protocol
# as a gift<span class="token punctuation">.</span>
#
# <span class="token operator">--</span><span class="token operator">-</span> HOW IT WORKS<span class="token operator">?</span> <span class="token operator">--</span><span class="token operator">-</span>
#
# <span class="token class-name">The</span> <span class="token class-name">Redis</span> <span class="token class-name">Gopher</span> support <span class="token keyword">uses</span> <span class="token namespace">the</span> inline protocol of <span class="token class-name">Redis</span><span class="token punctuation">,</span> and specifically
# two kind of inline requests that were anyway illegal<span class="token operator">:</span> an empty request
# or any request that starts <span class="token keyword">with</span> <span class="token string">&quot;/&quot;</span> <span class="token punctuation">(</span>there are no <span class="token class-name">Redis</span> commands starting
# <span class="token keyword">with</span> <span class="token namespace">such</span> a slash<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token class-name">Normal</span> RESP2<span class="token operator">/</span>RESP3 requests are completely out of the
# path of the <span class="token class-name">Gopher</span> protocol implementation and are served as usually as well<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> you <span class="token keyword">open</span> <span class="token namespace">a</span> connection <span class="token keyword">to</span> <span class="token class-name">Redis</span> when <span class="token class-name">Gopher</span> is enabled and send it
# a string like <span class="token string">&quot;/foo&quot;</span><span class="token punctuation">,</span> <span class="token keyword">if</span> there is a key named <span class="token string">&quot;/foo&quot;</span> it is served via the
# <span class="token class-name">Gopher</span> protocol<span class="token punctuation">.</span>
#
# <span class="token class-name">In</span> order <span class="token keyword">to</span> <span class="token namespace">create</span> a real <span class="token class-name">Gopher</span> <span class="token string">&quot;hole&quot;</span> <span class="token punctuation">(</span>the name of a <span class="token class-name">Gopher</span> site in <span class="token class-name">Gopher</span>
# talking<span class="token punctuation">)</span><span class="token punctuation">,</span> you likely need a script like the following<span class="token operator">:</span>
#
#   https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>antirez<span class="token operator">/</span>gopher2redis
#
# <span class="token operator">--</span><span class="token operator">-</span> SECURITY WARNING <span class="token operator">--</span><span class="token operator">-</span>
#
# <span class="token class-name">If</span> you plan <span class="token keyword">to</span> <span class="token namespace">put</span> <span class="token class-name">Redis</span> on the internet in a publicly accessible address
# <span class="token keyword">to</span> <span class="token namespace">server</span> <span class="token class-name">Gopher</span> pages MAKE SURE TO SET <span class="token class-name">A</span> PASSWORD <span class="token keyword">to</span> <span class="token namespace">the</span> instance<span class="token punctuation">.</span>
# <span class="token class-name">Once</span> a password is set<span class="token operator">:</span>
#
#   <span class="token number">1.</span> <span class="token class-name">The</span> <span class="token class-name">Gopher</span> server <span class="token punctuation">(</span>when enabled<span class="token punctuation">,</span> not by <span class="token keyword">default</span><span class="token punctuation">)</span> will still serve
#      content via <span class="token class-name">Gopher</span><span class="token punctuation">.</span>
#   <span class="token number">2.</span> <span class="token class-name">However</span> other commands cannot be called before the client will
#      authenticate<span class="token punctuation">.</span>
#
# <span class="token class-name">So</span> use the &#39;requirepass&#39; option <span class="token keyword">to</span> <span class="token namespace">protect</span> your instance<span class="token punctuation">.</span>
#
# <span class="token class-name">To</span> enable <span class="token class-name">Gopher</span> support uncomment the following line and set
# the option from no <span class="token punctuation">(</span>the <span class="token keyword">default</span><span class="token punctuation">)</span> <span class="token keyword">to</span> <span class="token namespace">yes<span class="token punctuation">.</span></span>
#
# gopher<span class="token operator">-</span>enabled no

############################### ADVANCED CONFIG ###############################

# <span class="token class-name">Hashes</span> are encoded using a memory efficient data structure when they have a
# small number of entries<span class="token punctuation">,</span> and the biggest entry does not exceed a given
# <span class="token class-name"><span class="token namespace">threshold<span class="token punctuation">.</span></span> These</span> thresholds can be configured using the following directives<span class="token punctuation">.</span>
hash<span class="token operator">-</span>max<span class="token operator">-</span>ziplist<span class="token operator">-</span>entries <span class="token number">512</span>
hash<span class="token operator">-</span>max<span class="token operator">-</span>ziplist<span class="token operator">-</span>value <span class="token number">64</span>

# <span class="token class-name">Lists</span> are also encoded in a special way <span class="token keyword">to</span> <span class="token namespace">save</span> a lot of space<span class="token punctuation">.</span>
# <span class="token class-name">The</span> number of entries allowed per internal list node can be specified
# as a fixed maximum size or a maximum number of elements<span class="token punctuation">.</span>
# <span class="token class-name">For</span> a fixed maximum size<span class="token punctuation">,</span> use <span class="token operator">-</span><span class="token number">5</span> through <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> meaning<span class="token operator">:</span>
# <span class="token operator">-</span><span class="token number">5</span><span class="token operator">:</span> max size<span class="token operator">:</span> <span class="token number">64</span> <span class="token class-name">Kb</span>  \<span class="token operator">&lt;</span><span class="token operator">--</span> not recommended <span class="token keyword">for</span> normal workloads
# <span class="token operator">-</span><span class="token number">4</span><span class="token operator">:</span> max size<span class="token operator">:</span> <span class="token number">32</span> <span class="token class-name">Kb</span>  \<span class="token operator">&lt;</span><span class="token operator">--</span> not recommended
# <span class="token operator">-</span><span class="token number">3</span><span class="token operator">:</span> max size<span class="token operator">:</span> <span class="token number">16</span> <span class="token class-name">Kb</span>  \<span class="token operator">&lt;</span><span class="token operator">--</span> probably not recommended
# <span class="token operator">-</span><span class="token number">2</span><span class="token operator">:</span> max size<span class="token operator">:</span> <span class="token number">8</span> <span class="token class-name">Kb</span>   \<span class="token operator">&lt;</span><span class="token operator">--</span> good
# <span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> max size<span class="token operator">:</span> <span class="token number">4</span> <span class="token class-name">Kb</span>   \<span class="token operator">&lt;</span><span class="token operator">--</span> good
# <span class="token class-name">Positive</span> numbers mean store up <span class="token keyword">to</span> _exactly_ that number of elements
# per list node<span class="token punctuation">.</span>
# <span class="token class-name">The</span> highest performing option is usually <span class="token operator">-</span><span class="token number">2</span> <span class="token punctuation">(</span><span class="token number">8</span> <span class="token class-name">Kb</span> size<span class="token punctuation">)</span> or <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">(</span><span class="token number">4</span> <span class="token class-name">Kb</span> size<span class="token punctuation">)</span><span class="token punctuation">,</span>
# but <span class="token keyword">if</span> your use <span class="token keyword">case</span> is unique<span class="token punctuation">,</span> adjust the settings as necessary<span class="token punctuation">.</span>
list<span class="token operator">-</span>max<span class="token operator">-</span>ziplist<span class="token operator">-</span>size <span class="token operator">-</span><span class="token number">2</span>

# <span class="token class-name">Lists</span> may also be compressed<span class="token punctuation">.</span>
# <span class="token class-name">Compress</span> depth is the number of quicklist ziplist nodes from <span class="token operator">*</span>each<span class="token operator">*</span> side of
# the list <span class="token keyword">to</span> <span class="token operator">*</span>exclude<span class="token operator">*</span> from <span class="token class-name"><span class="token namespace">compression<span class="token punctuation">.</span></span>  The</span> head and tail of the list
# are always uncompressed <span class="token keyword">for</span> fast push<span class="token operator">/</span>pop <span class="token class-name"><span class="token namespace">operations<span class="token punctuation">.</span></span>  Settings</span> are<span class="token operator">:</span>
# <span class="token number">0</span><span class="token operator">:</span> disable all list compression
# <span class="token number">1</span><span class="token operator">:</span> depth <span class="token number">1</span> means &quot;don&#39;t start compressing until after <span class="token number">1</span> node into the list<span class="token punctuation">,</span>
#    going from either the head or tail&quot;
#    <span class="token class-name">So</span><span class="token operator">:</span> <span class="token punctuation">[</span>head<span class="token punctuation">]</span><span class="token operator">-&gt;</span>node<span class="token operator">-&gt;</span>node<span class="token operator">-&gt;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>-<span class="token operator">&gt;</span>node<span class="token operator">-&gt;</span><span class="token punctuation">[</span>tail<span class="token punctuation">]</span>
#    <span class="token punctuation">[</span>head<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>tail<span class="token punctuation">]</span> will always be uncompressed<span class="token punctuation">;</span> inner nodes will compress<span class="token punctuation">.</span>
# <span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">[</span>head<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token operator">-&gt;</span>node<span class="token operator">-&gt;</span>node<span class="token operator">-&gt;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>-<span class="token operator">&gt;</span>node<span class="token operator">-&gt;</span><span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">[</span>tail<span class="token punctuation">]</span>
#    <span class="token number">2</span> here means<span class="token operator">:</span> don&#39;t compress head or head<span class="token operator">-&gt;</span>next or tail<span class="token operator">-&gt;</span>prev or tail<span class="token punctuation">,</span>
#    but compress all nodes between them<span class="token punctuation">.</span>
# <span class="token number">3</span><span class="token operator">:</span> <span class="token punctuation">[</span>head<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token operator">-&gt;</span>node<span class="token operator">-&gt;</span>node<span class="token operator">-&gt;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>-<span class="token operator">&gt;</span>node<span class="token operator">-&gt;</span><span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">[</span>tail<span class="token punctuation">]</span>
# etc<span class="token punctuation">.</span>
list<span class="token operator">-</span>compress<span class="token operator">-</span>depth <span class="token number">0</span>

# <span class="token class-name">Sets</span> have a special encoding in just one <span class="token keyword">case</span><span class="token operator">:</span> when a set is composed
# of just strings that happen <span class="token keyword">to</span> <span class="token namespace">be</span> integers in radix <span class="token number">10</span> in the range
# of <span class="token number">64</span> bit signed integers<span class="token punctuation">.</span>
# <span class="token class-name">The</span> following configuration setting sets the limit in the size of the
# set in order <span class="token keyword">to</span> <span class="token namespace">use</span> <span class="token keyword">this</span> special memory saving encoding<span class="token punctuation">.</span>
set<span class="token operator">-</span>max<span class="token operator">-</span>intset<span class="token operator">-</span>entries <span class="token number">512</span>

# <span class="token class-name">Similarly</span> <span class="token keyword">to</span> <span class="token namespace">hashes</span> and lists<span class="token punctuation">,</span> sorted sets are also specially encoded in
# order <span class="token keyword">to</span> <span class="token namespace">save</span> a lot of <span class="token class-name"><span class="token namespace">space<span class="token punctuation">.</span></span> This</span> encoding is only used when the length and
# elements of a sorted set are below the following limits<span class="token operator">:</span>
zset<span class="token operator">-</span>max<span class="token operator">-</span>ziplist<span class="token operator">-</span>entries <span class="token number">128</span>
zset<span class="token operator">-</span>max<span class="token operator">-</span>ziplist<span class="token operator">-</span>value <span class="token number">64</span>

# <span class="token class-name">HyperLogLog</span> sparse representation bytes <span class="token class-name"><span class="token namespace">limit<span class="token punctuation">.</span></span> The</span> limit includes the
# <span class="token number">16</span> bytes <span class="token class-name"><span class="token namespace">header<span class="token punctuation">.</span></span> When</span> an <span class="token class-name">HyperLogLog</span> using the sparse representation crosses
# <span class="token keyword">this</span> limit<span class="token punctuation">,</span> it is converted into the dense representation<span class="token punctuation">.</span>
#
# <span class="token class-name">A</span> value greater than <span class="token number">16000</span> is totally useless<span class="token punctuation">,</span> since at that point the
# dense representation is more memory efficient<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> suggested value is <span class="token operator">~</span> <span class="token number">3000</span> in order <span class="token keyword">to</span> <span class="token namespace">have</span> the benefits of
# the space efficient encoding without slowing down too much PFADD<span class="token punctuation">,</span>
# which is <span class="token class-name">O</span><span class="token punctuation">(</span><span class="token class-name">N</span><span class="token punctuation">)</span> <span class="token keyword">with</span> <span class="token namespace">the</span> sparse <span class="token class-name"><span class="token namespace">encoding<span class="token punctuation">.</span></span> The</span> value can be raised <span class="token keyword">to</span>
# <span class="token operator">~</span> <span class="token number">10000</span> when CPU is not a concern<span class="token punctuation">,</span> but space is<span class="token punctuation">,</span> and the data set is
# composed of many <span class="token class-name">HyperLogLogs</span> <span class="token keyword">with</span> <span class="token namespace">cardinality</span> in the <span class="token number">0</span> <span class="token operator">-</span> <span class="token number">15000</span> range<span class="token punctuation">.</span>
hll<span class="token operator">-</span>sparse<span class="token operator">-</span>max<span class="token operator">-</span>bytes <span class="token number">3000</span>

# <span class="token class-name">Streams</span> macro node max size <span class="token operator">/</span> <span class="token class-name"><span class="token namespace">items<span class="token punctuation">.</span></span> The</span> stream data structure is a radix
# tree of big nodes that encode multiple items <span class="token class-name"><span class="token namespace">inside<span class="token punctuation">.</span></span> Using</span> <span class="token keyword">this</span> configuration
# it is possible <span class="token keyword">to</span> <span class="token namespace">configure</span> how big a single node can be in bytes<span class="token punctuation">,</span> and the
# maximum number of items it may contain before switching <span class="token keyword">to</span> <span class="token namespace">a</span> <span class="token keyword">new</span> node when
# appending <span class="token keyword">new</span> stream <span class="token class-name"><span class="token namespace">entries<span class="token punctuation">.</span></span> If</span> any of the following settings are set <span class="token keyword">to</span>
# zero<span class="token punctuation">,</span> the limit is ignored<span class="token punctuation">,</span> so <span class="token keyword">for</span> instance it is possible <span class="token keyword">to</span> <span class="token namespace">set</span> just a
# max entires limit by setting max<span class="token operator">-</span>bytes <span class="token keyword">to</span> <span class="token number">0</span> and max<span class="token operator">-</span>entries <span class="token keyword">to</span> <span class="token namespace">the</span> desired
# value<span class="token punctuation">.</span>
stream<span class="token operator">-</span>node<span class="token operator">-</span>max<span class="token operator">-</span>bytes <span class="token number">4096</span>
stream<span class="token operator">-</span>node<span class="token operator">-</span>max<span class="token operator">-</span>entries <span class="token number">100</span>

# <span class="token class-name">Active</span> rehashing <span class="token keyword">uses</span> <span class="token number">1</span> millisecond every <span class="token number">100</span> milliseconds of CPU time in
# order <span class="token keyword">to</span> <span class="token namespace">help</span> rehashing the main <span class="token class-name">Redis</span> hash table <span class="token punctuation">(</span>the one mapping top<span class="token operator">-</span>level
# keys <span class="token keyword">to</span> <span class="token namespace">values</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token class-name">The</span> hash table implementation <span class="token class-name">Redis</span> <span class="token keyword">uses</span> <span class="token punctuation">(</span>see dict<span class="token punctuation">.</span>c<span class="token punctuation">)</span>
# performs a lazy rehashing<span class="token operator">:</span> the more operation you run into a hash table
# that is rehashing<span class="token punctuation">,</span> the more rehashing <span class="token string">&quot;steps&quot;</span> are performed<span class="token punctuation">,</span> so <span class="token keyword">if</span> the
# server is idle the rehashing is never complete and some more memory is used
# by the hash table<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token keyword">default</span> is <span class="token keyword">to</span> <span class="token namespace">use</span> <span class="token keyword">this</span> millisecond <span class="token number">10</span> times every second in order <span class="token keyword">to</span>
# actively rehash the main dictionaries<span class="token punctuation">,</span> freeing memory when possible<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> unsure<span class="token operator">:</span>
# use <span class="token string">&quot;activerehashing no&quot;</span> <span class="token keyword">if</span> you have hard latency requirements and it is
# not a good thing in your environment that <span class="token class-name">Redis</span> can reply from time <span class="token keyword">to</span> <span class="token namespace">time</span>
# <span class="token keyword">to</span> <span class="token namespace">queries</span> <span class="token keyword">with</span> <span class="token number">2</span> milliseconds delay<span class="token punctuation">.</span>
#
# use <span class="token string">&quot;activerehashing yes&quot;</span> <span class="token keyword">if</span> you don&#39;t have such hard requirements but
# want <span class="token keyword">to</span> <span class="token namespace">free</span> memory asap when possible<span class="token punctuation">.</span>
activerehashing yes

# <span class="token class-name">The</span> client output buffer limits can be used <span class="token keyword">to</span> <span class="token namespace">force</span> disconnection of clients
# that are not reading data from the server fast enough <span class="token keyword">for</span> some reason <span class="token punctuation">(</span>a
# common reason is that a <span class="token class-name">Pub</span><span class="token operator">/</span><span class="token class-name">Sub</span> client can&#39;t consume messages as fast as the
# publisher can produce them<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> limit can be set differently <span class="token keyword">for</span> the three different classes of clients<span class="token operator">:</span>
#
# normal <span class="token operator">-&gt;</span> normal clients including MONITOR clients
# replica  <span class="token operator">-&gt;</span> replica clients
# pubsub <span class="token operator">-&gt;</span> clients subscribed <span class="token keyword">to</span> <span class="token namespace">at</span> least one pubsub channel or pattern
#
# <span class="token class-name">The</span> syntax of every client<span class="token operator">-</span>output<span class="token operator">-</span>buffer<span class="token operator">-</span>limit directive is the following<span class="token operator">:</span>
#
# client<span class="token operator">-</span>output<span class="token operator">-</span>buffer<span class="token operator">-</span>limit \<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">class</span><span class="token punctuation">&gt;</span></span> \<span class="token generics"><span class="token punctuation">&lt;</span>hard limit<span class="token punctuation">&gt;</span></span> \<span class="token generics"><span class="token punctuation">&lt;</span>soft limit<span class="token punctuation">&gt;</span></span> \<span class="token generics"><span class="token punctuation">&lt;</span>soft seconds<span class="token punctuation">&gt;</span></span>
#
# <span class="token class-name">A</span> client is immediately disconnected once the hard limit is reached<span class="token punctuation">,</span> or <span class="token keyword">if</span>
# the soft limit is reached and remains reached <span class="token keyword">for</span> the specified number of
# seconds <span class="token punctuation">(</span>continuously<span class="token punctuation">)</span><span class="token punctuation">.</span>
# <span class="token class-name">So</span> <span class="token keyword">for</span> instance <span class="token keyword">if</span> the hard limit is <span class="token number">32</span> megabytes and the soft limit is
# <span class="token number">16</span> megabytes <span class="token operator">/</span> <span class="token number">10</span> seconds<span class="token punctuation">,</span> the client will get disconnected immediately
# <span class="token keyword">if</span> the size of the output buffers reach <span class="token number">32</span> megabytes<span class="token punctuation">,</span> but will also get
# disconnected <span class="token keyword">if</span> the client reaches <span class="token number">16</span> megabytes and continuously overcomes
# the limit <span class="token keyword">for</span> <span class="token number">10</span> seconds<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> normal clients are not limited because they don&#39;t receive data
# without asking <span class="token punctuation">(</span>in a push way<span class="token punctuation">)</span><span class="token punctuation">,</span> but just after a request<span class="token punctuation">,</span> so only
# asynchronous clients may create a scenario where data is requested faster
# than it can read<span class="token punctuation">.</span>
#
# <span class="token class-name">Instead</span> there is a <span class="token keyword">default</span> limit <span class="token keyword">for</span> pubsub and replica clients<span class="token punctuation">,</span> since
# subscribers and replicas receive data in a push fashion<span class="token punctuation">.</span>
#
# <span class="token class-name">Both</span> the hard or the soft limit can be disabled by setting them <span class="token keyword">to</span> <span class="token namespace">zero<span class="token punctuation">.</span></span>
client<span class="token operator">-</span>output<span class="token operator">-</span>buffer<span class="token operator">-</span>limit normal <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span>
client<span class="token operator">-</span>output<span class="token operator">-</span>buffer<span class="token operator">-</span>limit replica <span class="token number">256</span>mb <span class="token number">64</span>mb <span class="token number">60</span>
client<span class="token operator">-</span>output<span class="token operator">-</span>buffer<span class="token operator">-</span>limit pubsub <span class="token number">32</span>mb <span class="token number">8</span>mb <span class="token number">60</span>

# <span class="token class-name">Client</span> query buffers accumulate <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">commands<span class="token punctuation">.</span></span> They</span> are limited <span class="token keyword">to</span> <span class="token namespace">a</span> fixed
# amount by <span class="token keyword">default</span> in order <span class="token keyword">to</span> <span class="token namespace">avoid</span> that a protocol desynchronization <span class="token punctuation">(</span><span class="token keyword">for</span>
# instance due <span class="token keyword">to</span> <span class="token namespace">a</span> bug in the client<span class="token punctuation">)</span> will lead <span class="token keyword">to</span> <span class="token namespace">unbound</span> memory usage in
# the query <span class="token class-name"><span class="token namespace">buffer<span class="token punctuation">.</span></span> However</span> you can configure it here <span class="token keyword">if</span> you have very special
# needs<span class="token punctuation">,</span> such us huge multi<span class="token operator">/</span>exec requests or alike<span class="token punctuation">.</span>
#
# client<span class="token operator">-</span>query<span class="token operator">-</span>buffer<span class="token operator">-</span>limit <span class="token number">1</span>gb

# <span class="token class-name">In</span> the <span class="token class-name">Redis</span> protocol<span class="token punctuation">,</span> bulk requests<span class="token punctuation">,</span> that are<span class="token punctuation">,</span> elements representing single
# strings<span class="token punctuation">,</span> are normally limited ot <span class="token number">512</span> <span class="token class-name"><span class="token namespace">mb<span class="token punctuation">.</span></span> However</span> you can change <span class="token keyword">this</span> limit
# here<span class="token punctuation">,</span> but must be <span class="token number">1</span>mb or greater
#
# proto<span class="token operator">-</span>max<span class="token operator">-</span>bulk<span class="token operator">-</span>len <span class="token number">512</span>mb

# <span class="token class-name">Redis</span> calls an internal function <span class="token keyword">to</span> <span class="token namespace">perform</span> many background tasks<span class="token punctuation">,</span> like
# closing connections of clients in timeout<span class="token punctuation">,</span> purging expired keys that are
# never requested<span class="token punctuation">,</span> and so forth<span class="token punctuation">.</span>
#
# <span class="token class-name">Not</span> all tasks are performed <span class="token keyword">with</span> <span class="token namespace">the</span> same frequency<span class="token punctuation">,</span> but <span class="token class-name">Redis</span> checks <span class="token keyword">for</span>
# tasks <span class="token keyword">to</span> <span class="token namespace">perform</span> according <span class="token keyword">to</span> <span class="token namespace">the</span> specified <span class="token string">&quot;hz&quot;</span> value<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> <span class="token string">&quot;hz&quot;</span> is set <span class="token keyword">to</span> <span class="token number">10.</span> <span class="token class-name">Raising</span> the value will use more CPU when
# <span class="token class-name">Redis</span> is idle<span class="token punctuation">,</span> but at the same time will make <span class="token class-name">Redis</span> more responsive when
# there are many keys expiring at the same time<span class="token punctuation">,</span> and timeouts may be
# handled <span class="token keyword">with</span> <span class="token namespace">more</span> precision<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> range is between <span class="token number">1</span> and <span class="token number">500</span><span class="token punctuation">,</span> however a value over <span class="token number">100</span> is usually not
# a good <span class="token class-name"><span class="token namespace">idea<span class="token punctuation">.</span></span> Most</span> users should use the <span class="token keyword">default</span> of <span class="token number">10</span> and raise <span class="token keyword">this</span> up <span class="token keyword">to</span>
# <span class="token number">100</span> only in environments where very low latency is required<span class="token punctuation">.</span>
hz <span class="token number">10</span>

# <span class="token class-name">Normally</span> it is useful <span class="token keyword">to</span> <span class="token namespace">have</span> an HZ value which is proportional <span class="token keyword">to</span> <span class="token namespace">the</span>
# number of clients <span class="token class-name"><span class="token namespace">connected<span class="token punctuation">.</span></span> This</span> is useful in order<span class="token punctuation">,</span> <span class="token keyword">for</span> instance<span class="token punctuation">,</span> <span class="token keyword">to</span>
# avoid too many clients are processed <span class="token keyword">for</span> each background task invocation
# in order <span class="token keyword">to</span> <span class="token namespace">avoid</span> latency spikes<span class="token punctuation">.</span>
#
# <span class="token class-name">Since</span> the <span class="token keyword">default</span> HZ value by <span class="token keyword">default</span> is conservatively set <span class="token keyword">to</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token class-name">Redis</span>
# offers<span class="token punctuation">,</span> and enables by <span class="token keyword">default</span><span class="token punctuation">,</span> the ability <span class="token keyword">to</span> <span class="token namespace">use</span> an adaptive HZ value
# which will temporary raise when there are many connected clients<span class="token punctuation">.</span>
#
# <span class="token class-name">When</span> dynamic HZ is enabled<span class="token punctuation">,</span> the actual configured HZ will be used
# as a baseline<span class="token punctuation">,</span> but multiples of the configured HZ value will be actually
# used as needed once more clients are <span class="token class-name"><span class="token namespace">connected<span class="token punctuation">.</span></span> In</span> <span class="token keyword">this</span> way an idle
# instance will use very little CPU time <span class="token keyword">while</span> a busy instance will be
# more responsive<span class="token punctuation">.</span>
dynamic<span class="token operator">-</span>hz yes

# <span class="token class-name">When</span> a child rewrites the <span class="token class-name">AOF</span> file<span class="token punctuation">,</span> <span class="token keyword">if</span> the following option is enabled
# the file will be fsync<span class="token operator">-</span>ed every <span class="token number">32</span> MB of data <span class="token class-name"><span class="token namespace">generated<span class="token punctuation">.</span></span> This</span> is useful
# in order <span class="token keyword">to</span> <span class="token namespace">commit</span> the file <span class="token keyword">to</span> <span class="token namespace">the</span> disk more incrementally and avoid
# big latency spikes<span class="token punctuation">.</span>
aof<span class="token operator">-</span>rewrite<span class="token operator">-</span>incremental<span class="token operator">-</span>fsync yes

# <span class="token class-name">When</span> redis saves <span class="token class-name">RDB</span> file<span class="token punctuation">,</span> <span class="token keyword">if</span> the following option is enabled
# the file will be fsync<span class="token operator">-</span>ed every <span class="token number">32</span> MB of data <span class="token class-name"><span class="token namespace">generated<span class="token punctuation">.</span></span> This</span> is useful
# in order <span class="token keyword">to</span> <span class="token namespace">commit</span> the file <span class="token keyword">to</span> <span class="token namespace">the</span> disk more incrementally and avoid
# big latency spikes<span class="token punctuation">.</span>
rdb<span class="token operator">-</span>save<span class="token operator">-</span>incremental<span class="token operator">-</span>fsync yes

# <span class="token class-name">Redis</span> <span class="token class-name">LFU</span> eviction <span class="token punctuation">(</span>see maxmemory setting<span class="token punctuation">)</span> can be <span class="token class-name"><span class="token namespace">tuned<span class="token punctuation">.</span></span> However</span> it is a good
# idea <span class="token keyword">to</span> <span class="token namespace">start</span> <span class="token keyword">with</span> <span class="token namespace">the</span> <span class="token keyword">default</span> settings and only change them after investigating
# how <span class="token keyword">to</span> <span class="token namespace">improve</span> the performances and how the keys LFU change over time<span class="token punctuation">,</span> which
# is possible <span class="token keyword">to</span> <span class="token namespace">inspect</span> via the OBJECT FREQ command<span class="token punctuation">.</span>
#
# <span class="token class-name">There</span> are two tunable parameters in the <span class="token class-name">Redis</span> LFU implementation<span class="token operator">:</span> the
# counter logarithm factor and the counter decay <span class="token class-name"><span class="token namespace">time<span class="token punctuation">.</span></span> It</span> is important <span class="token keyword">to</span>
# understand what the two parameters mean before changing them<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> LFU counter is just <span class="token number">8</span> bits per key<span class="token punctuation">,</span> it&#39;s maximum value is <span class="token number">255</span><span class="token punctuation">,</span> so <span class="token class-name">Redis</span>
# <span class="token keyword">uses</span> <span class="token namespace">a</span> probabilistic increment <span class="token keyword">with</span> <span class="token namespace">logarithmic</span> <span class="token class-name"><span class="token namespace">behavior<span class="token punctuation">.</span></span> Given</span> the value
# of the old counter<span class="token punctuation">,</span> when a key is accessed<span class="token punctuation">,</span> the counter is incremented in
# <span class="token keyword">this</span> way<span class="token operator">:</span>
#
# <span class="token number">1.</span> <span class="token class-name">A</span> random number <span class="token class-name">R</span> between <span class="token number">0</span> and <span class="token number">1</span> is extracted<span class="token punctuation">.</span>
# <span class="token number">2.</span> <span class="token class-name">A</span> probability <span class="token class-name">P</span> is calculated as <span class="token number">1</span><span class="token operator">/</span><span class="token punctuation">(</span>old_value<span class="token operator">*</span>lfu_log_factor<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
# <span class="token number">3.</span> <span class="token class-name">The</span> counter is incremented only <span class="token keyword">if</span> <span class="token class-name">R</span> \<span class="token operator">&lt;</span> <span class="token class-name">P</span><span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token keyword">default</span> lfu<span class="token operator">-</span>log<span class="token operator">-</span>factor is <span class="token number">10.</span> <span class="token class-name">This</span> is a table of how the frequency
# counter changes <span class="token keyword">with</span> <span class="token namespace">a</span> different number of accesses <span class="token keyword">with</span> <span class="token namespace">different</span>
# logarithmic factors<span class="token operator">:</span>
#
# <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
# <span class="token operator">|</span> factor <span class="token operator">|</span> <span class="token number">100</span> hits   <span class="token operator">|</span> <span class="token number">1000</span> hits  <span class="token operator">|</span> <span class="token number">100</span>K hits  <span class="token operator">|</span> <span class="token number">1</span>M hits    <span class="token operator">|</span> <span class="token number">10</span>M hits   <span class="token operator">|</span>
# <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
# <span class="token operator">|</span> <span class="token number">0</span>      <span class="token operator">|</span> <span class="token number">104</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span>
# <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
# <span class="token operator">|</span> <span class="token number">1</span>      <span class="token operator">|</span> <span class="token number">18</span>         <span class="token operator">|</span> <span class="token number">49</span>         <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span>
# <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
# <span class="token operator">|</span> <span class="token number">10</span>     <span class="token operator">|</span> <span class="token number">10</span>         <span class="token operator">|</span> <span class="token number">18</span>         <span class="token operator">|</span> <span class="token number">142</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span>
# <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
# <span class="token operator">|</span> <span class="token number">100</span>    <span class="token operator">|</span> <span class="token number">8</span>          <span class="token operator">|</span> <span class="token number">11</span>         <span class="token operator">|</span> <span class="token number">49</span>         <span class="token operator">|</span> <span class="token number">143</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span>
# <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
#
# NOTE<span class="token operator">:</span> <span class="token class-name">The</span> above table was obtained by running the following commands<span class="token operator">:</span>
#
#   redis<span class="token operator">-</span>benchmark <span class="token operator">-</span>n <span class="token number">1000000</span> incr foo
#   redis<span class="token operator">-</span>cli object freq foo
#
# NOTE <span class="token number">2</span><span class="token operator">:</span> <span class="token class-name">The</span> counter initial value is <span class="token number">5</span> in order <span class="token keyword">to</span> <span class="token namespace">give</span> <span class="token keyword">new</span> objects a chance
# <span class="token keyword">to</span> <span class="token namespace">accumulate</span> hits<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> counter decay time is the time<span class="token punctuation">,</span> in minutes<span class="token punctuation">,</span> that must elapse in order
# <span class="token keyword">for</span> the key counter <span class="token keyword">to</span> <span class="token namespace">be</span> divided by two <span class="token punctuation">(</span>or decremented <span class="token keyword">if</span> it has a value
# less \<span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token keyword">default</span> value <span class="token keyword">for</span> the lfu<span class="token operator">-</span>decay<span class="token operator">-</span>time is <span class="token number">1.</span> <span class="token class-name">A</span> <span class="token class-name">Special</span> value of <span class="token number">0</span> means <span class="token keyword">to</span>
# decay the counter every time it happens <span class="token keyword">to</span> <span class="token namespace">be</span> scanned<span class="token punctuation">.</span>
#
# lfu<span class="token operator">-</span>log<span class="token operator">-</span>factor <span class="token number">10</span>
# lfu<span class="token operator">-</span>decay<span class="token operator">-</span>time <span class="token number">1</span>

########################### ACTIVE DEFRAGMENTATION #######################
#
# <span class="token class-name">What</span> is active defragmentation<span class="token operator">?</span>
# <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
#
# <span class="token class-name">Active</span> <span class="token punctuation">(</span>online<span class="token punctuation">)</span> defragmentation allows a <span class="token class-name">Redis</span> server <span class="token keyword">to</span> <span class="token namespace">compact</span> the
# spaces left between small allocations and deallocations of data in memory<span class="token punctuation">,</span>
# thus allowing <span class="token keyword">to</span> <span class="token namespace">reclaim</span> back memory<span class="token punctuation">.</span>
#
# <span class="token class-name">Fragmentation</span> is a natural process that happens <span class="token keyword">with</span> <span class="token namespace">every</span> allocator <span class="token punctuation">(</span>but
# less so <span class="token keyword">with</span> <span class="token class-name">Jemalloc</span><span class="token punctuation">,</span> fortunately<span class="token punctuation">)</span> and certain <span class="token class-name"><span class="token namespace">workloads<span class="token punctuation">.</span></span> Normally</span> a server
# restart is needed in order <span class="token keyword">to</span> <span class="token namespace">lower</span> the fragmentation<span class="token punctuation">,</span> or at least <span class="token keyword">to</span> <span class="token namespace">flush</span>
# away all the data and create it <span class="token class-name"><span class="token namespace">again<span class="token punctuation">.</span></span> However</span> thanks <span class="token keyword">to</span> <span class="token keyword">this</span> feature
# implemented by <span class="token class-name">Oran</span> <span class="token class-name">Agra</span> <span class="token keyword">for</span> <span class="token class-name">Redis</span> <span class="token number">4.0</span> <span class="token keyword">this</span> process can happen at runtime
# in an <span class="token string">&quot;hot&quot;</span> way<span class="token punctuation">,</span> <span class="token keyword">while</span> the server is running<span class="token punctuation">.</span>
#
# <span class="token class-name">Basically</span> when the fragmentation is over a certain level <span class="token punctuation">(</span>see the
# configuration options below<span class="token punctuation">)</span> <span class="token class-name">Redis</span> will start <span class="token keyword">to</span> <span class="token namespace">create</span> <span class="token keyword">new</span> copies of the
# values in contiguous memory regions by exploiting certain specific <span class="token class-name">Jemalloc</span>
# features <span class="token punctuation">(</span>in order <span class="token keyword">to</span> <span class="token namespace">understand</span> <span class="token keyword">if</span> an allocation is causing fragmentation
# and <span class="token keyword">to</span> <span class="token namespace">allocate</span> it in a better place<span class="token punctuation">)</span><span class="token punctuation">,</span> and at the same time<span class="token punctuation">,</span> will release the
# old copies of the <span class="token class-name"><span class="token namespace">data<span class="token punctuation">.</span></span> This</span> process<span class="token punctuation">,</span> repeated incrementally <span class="token keyword">for</span> all the keys
# will cause the fragmentation <span class="token keyword">to</span> <span class="token namespace">drop</span> back <span class="token keyword">to</span> <span class="token namespace">normal</span> values<span class="token punctuation">.</span>
#
# <span class="token class-name">Important</span> things <span class="token keyword">to</span> <span class="token namespace">understand</span><span class="token operator">:</span>
#
# <span class="token number">1.</span> <span class="token class-name">This</span> feature is disabled by <span class="token keyword">default</span><span class="token punctuation">,</span> and only works <span class="token keyword">if</span> you compiled <span class="token class-name">Redis</span>
#    <span class="token keyword">to</span> <span class="token namespace">use</span> the copy of <span class="token class-name">Jemalloc</span> we ship <span class="token keyword">with</span> <span class="token namespace">the</span> source code of <span class="token class-name">Redis</span><span class="token punctuation">.</span>
#    <span class="token class-name">This</span> is the <span class="token keyword">default</span> <span class="token keyword">with</span> <span class="token class-name">Linux</span> builds<span class="token punctuation">.</span>
#
# <span class="token number">2.</span> <span class="token class-name">You</span> never need <span class="token keyword">to</span> <span class="token namespace">enable</span> <span class="token keyword">this</span> feature <span class="token keyword">if</span> you don&#39;t have fragmentation
#    issues<span class="token punctuation">.</span>
#
# <span class="token number">3.</span> <span class="token class-name">Once</span> you experience fragmentation<span class="token punctuation">,</span> you can enable <span class="token keyword">this</span> feature when
#    needed <span class="token keyword">with</span> <span class="token namespace">the</span> command <span class="token string">&quot;CONFIG SET activedefrag yes&quot;</span><span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> configuration parameters are able <span class="token keyword">to</span> <span class="token namespace">fine</span> tune the behavior of the
# defragmentation <span class="token class-name"><span class="token namespace">process<span class="token punctuation">.</span></span> If</span> you are not sure about what they mean it is
# a good idea <span class="token keyword">to</span> <span class="token namespace">leave</span> the defaults untouched<span class="token punctuation">.</span>

# <span class="token class-name">Enabled</span> active defragmentation
# activedefrag no

# <span class="token class-name">Minimum</span> amount of fragmentation waste <span class="token keyword">to</span> <span class="token namespace">start</span> active defrag
# active<span class="token operator">-</span>defrag<span class="token operator">-</span>ignore<span class="token operator">-</span>bytes <span class="token number">100</span>mb

# <span class="token class-name">Minimum</span> percentage of fragmentation <span class="token keyword">to</span> <span class="token namespace">start</span> active defrag
# active<span class="token operator">-</span>defrag<span class="token operator">-</span>threshold<span class="token operator">-</span>lower <span class="token number">10</span>

# <span class="token class-name">Maximum</span> percentage of fragmentation at which we use maximum effort
# active<span class="token operator">-</span>defrag<span class="token operator">-</span>threshold<span class="token operator">-</span>upper <span class="token number">100</span>

# <span class="token class-name">Minimal</span> effort <span class="token keyword">for</span> defrag in <span class="token class-name">CPU</span> percentage<span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token namespace">be</span> used when the lower
# threshold is reached
# active<span class="token operator">-</span>defrag<span class="token operator">-</span>cycle<span class="token operator">-</span>min <span class="token number">1</span>

# <span class="token class-name">Maximal</span> effort <span class="token keyword">for</span> defrag in <span class="token class-name">CPU</span> percentage<span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token namespace">be</span> used when the upper
# threshold is reached
# active<span class="token operator">-</span>defrag<span class="token operator">-</span>cycle<span class="token operator">-</span>max <span class="token number">25</span>

# <span class="token class-name">Maximum</span> number of set<span class="token operator">/</span>hash<span class="token operator">/</span>zset<span class="token operator">/</span>list fields that will be processed from
# the main dictionary scan
# active<span class="token operator">-</span>defrag<span class="token operator">-</span>max<span class="token operator">-</span>scan<span class="token operator">-</span>fields <span class="token number">1000</span>

# <span class="token class-name">Jemalloc</span> background thread <span class="token keyword">for</span> purging will be enabled by <span class="token keyword">default</span>
jemalloc<span class="token operator">-</span>bg<span class="token operator">-</span>thread yes

# <span class="token class-name">It</span> is possible <span class="token keyword">to</span> <span class="token namespace">pin</span> different threads and processes of <span class="token class-name">Redis</span> <span class="token keyword">to</span> <span class="token namespace">specific</span>
# <span class="token class-name">CPUs</span> in your system<span class="token punctuation">,</span> in order <span class="token keyword">to</span> <span class="token namespace">maximize</span> the performances of the server<span class="token punctuation">.</span>
# <span class="token class-name">This</span> is useful both in order <span class="token keyword">to</span> <span class="token namespace">pin</span> different <span class="token class-name">Redis</span> threads in different
# <span class="token class-name">CPUs</span><span class="token punctuation">,</span> but also in order <span class="token keyword">to</span> <span class="token namespace">make</span> sure that multiple <span class="token class-name">Redis</span> instances running
# in the same host will be pinned <span class="token keyword">to</span> <span class="token namespace">different</span> <span class="token class-name">CPUs</span><span class="token punctuation">.</span>
#
# <span class="token class-name">Normally</span> you can <span class="token keyword">do</span> <span class="token keyword">this</span> using the <span class="token string">&quot;taskset&quot;</span> command<span class="token punctuation">,</span> however it is also
# possible <span class="token keyword">to</span> <span class="token keyword">this</span> via <span class="token class-name">Redis</span> configuration directly<span class="token punctuation">,</span> both in <span class="token class-name">Linux</span> and <span class="token class-name">FreeBSD</span><span class="token punctuation">.</span>
#
# <span class="token class-name">You</span> can pin the server<span class="token operator">/</span><span class="token class-name">IO</span> threads<span class="token punctuation">,</span> bio threads<span class="token punctuation">,</span> aof rewrite child process<span class="token punctuation">,</span> and
# the bgsave child <span class="token class-name"><span class="token namespace">process<span class="token punctuation">.</span></span> The</span> syntax <span class="token keyword">to</span> <span class="token namespace">specify</span> the cpu list is the same as
# the taskset command<span class="token operator">:</span>
#
# <span class="token class-name">Set</span> redis server<span class="token operator">/</span>io threads <span class="token keyword">to</span> <span class="token namespace">cpu</span> affinity <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token operator">:</span>
# server_cpulist <span class="token number">0</span><span class="token operator">-</span><span class="token number">7</span><span class="token operator">:</span><span class="token number">2</span>
#
# <span class="token class-name">Set</span> bio threads <span class="token keyword">to</span> <span class="token namespace">cpu</span> affinity <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">:</span>
# bio_cpulist <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span>
#
# <span class="token class-name">Set</span> aof rewrite child process <span class="token keyword">to</span> <span class="token namespace">cpu</span> affinity <span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token operator">:</span>
# aof_rewrite_cpulist <span class="token number">8</span><span class="token operator">-</span><span class="token number">11</span>
#
# <span class="token class-name">Set</span> bgsave child process <span class="token keyword">to</span> <span class="token namespace">cpu</span> affinity <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span>
# bgsave_cpulist <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">11</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="测试-redis-cli连接上来" tabindex="-1"><a class="header-anchor" href="#测试-redis-cli连接上来" aria-hidden="true">#</a> 测试 redis-cli连接上来</h4><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code>docker exec -it 运行着redis服务容器的ID redis-cli
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-28-49.png" alt="" loading="lazy"></p><h4 id="测试持久化文件生成" tabindex="-1"><a class="header-anchor" href="#测试持久化文件生成" aria-hidden="true">#</a> 测试持久化文件生成</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-29-12.png" alt="" loading="lazy"></p><h1 id="八、将镜像推送到阿里云" tabindex="-1"><a class="header-anchor" href="#八、将镜像推送到阿里云" aria-hidden="true">#</a> 八、将镜像推送到阿里云</h1><h3 id="本地镜像发布到阿里云流程" tabindex="-1"><a class="header-anchor" href="#本地镜像发布到阿里云流程" aria-hidden="true">#</a> 本地镜像发布到阿里云流程</h3><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-49-17.png" alt="" loading="lazy"></p><h3 id="镜像生成方法" tabindex="-1"><a class="header-anchor" href="#镜像生成方法" aria-hidden="true">#</a> 镜像生成方法</h3><p>1、前面的Dockerfile</p><p>2、从容器中创建一个新的镜像</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code>docker commit [OPTIONS] 容器ID [REPOSITORY[:TAG]]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-50-48.png" alt="" loading="lazy"></p><h3 id="将本地镜像推送到阿里云" tabindex="-1"><a class="header-anchor" href="#将本地镜像推送到阿里云" aria-hidden="true">#</a> 将本地镜像推送到阿里云</h3><h4 id="_1、本地镜像素材原型" tabindex="-1"><a class="header-anchor" href="#_1、本地镜像素材原型" aria-hidden="true">#</a> 1、本地镜像素材原型</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-51-52.png" alt="" loading="lazy"></p><p>2、阿里云开发者平台</p><p><a href="https://promotion.aliyun.com/ntms/act/kubernetes.html" target="_blank" rel="noopener noreferrer">https://promotion.aliyun.com/ntms/act/kubernetes.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-53-02.png" alt="" loading="lazy"></p><h4 id="_3、创建镜像仓库" tabindex="-1"><a class="header-anchor" href="#_3、创建镜像仓库" aria-hidden="true">#</a> 3、创建镜像仓库</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-54-07.png" alt="" loading="lazy"></p><p>命名空间</p><p>仓库名称</p><h4 id="_4、将镜像推送到registry" tabindex="-1"><a class="header-anchor" href="#_4、将镜像推送到registry" aria-hidden="true">#</a> 4、将镜像推送到registry</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>$ sudo docker login <span class="token operator">--</span>username<span class="token operator">=</span>white3e registry<span class="token punctuation">.</span>cn<span class="token operator">-</span>shenzhen<span class="token punctuation">.</span>aliyuncs<span class="token punctuation">.</span>com
$ sudo docker tag <span class="token punctuation">[</span><span class="token class-name">ImageId</span><span class="token punctuation">]</span> registry<span class="token punctuation">.</span>cn<span class="token operator">-</span>shenzhen<span class="token punctuation">.</span>aliyuncs<span class="token punctuation">.</span>com<span class="token operator">/</span>ggccqq<span class="token operator">/</span>mycentos<span class="token operator">:</span><span class="token punctuation">[</span>镜像版本号<span class="token punctuation">]</span>
$ sudo docker push registry<span class="token punctuation">.</span>cn<span class="token operator">-</span>shenzhen<span class="token punctuation">.</span>aliyuncs<span class="token punctuation">.</span>com<span class="token operator">/</span>ggccqq<span class="token operator">/</span>mycentos<span class="token operator">:</span><span class="token punctuation">[</span>镜像版本号<span class="token punctuation">]</span>
其中<span class="token punctuation">[</span><span class="token class-name">ImageId</span><span class="token punctuation">]</span><span class="token punctuation">[</span>镜像版本<span class="token punctuation">]</span>自己填写
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-56-10.png" alt="" loading="lazy"></p><h4 id="_5、公有云可以查询得到" tabindex="-1"><a class="header-anchor" href="#_5、公有云可以查询得到" aria-hidden="true">#</a> 5、公有云可以查询得到</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-56-53.png" alt="" loading="lazy"></p><h4 id="_6、查看详情" tabindex="-1"><a class="header-anchor" href="#_6、查看详情" aria-hidden="true">#</a> 6、查看详情</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-57-23.png" alt="" loading="lazy"></p><h3 id="将阿里云上的镜像下载到本地" tabindex="-1"><a class="header-anchor" href="#将阿里云上的镜像下载到本地" aria-hidden="true">#</a> 将阿里云上的镜像下载到本地</h3><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-59-00.png" alt="" loading="lazy"></p></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/GISFSDE//edit/main/docs/posts/2021/Docker.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><span class="info">2022/6/16 13:33:26</span></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 714416426@qq.com">GISFSDE</span>,<!--]--><!--[--><span class="contributor" title="email: 714416426@qq.com">Passion</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/posts/2021/Linux.html" class="nav-link prev" aria-label="Linux"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><span class="icon iconfont icon-edit" style=""></span>Linux</div></a><a href="/posts/2021/inconstruction.html" class="nav-link next" aria-label="IIS"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">IIS<span class="icon iconfont icon-edit" style=""></span></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><a href="https://beian.miit.gov.cn">浙ICP备2022017274号</a></div><div class="copyright">Copyright © 2022 GIS-FSDE</div></footer><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.95807bc9.js" defer></script>
  </body>
</html>
