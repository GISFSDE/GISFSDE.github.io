import{_ as p}from"./plugin-vue_export-helper.21dcd24c.js";import{r as o,o as l,c,a as s,b as e,d as n,e as t}from"./app.95807bc9.js";const i={},r=s("blockquote",null,[s("p",null,"Docker\uFF0C\u5F00\u6E90\u57FA\u4E8EGO\u8BED\u8A00\u7684\u5E94\u7528\u5BB9\u5668\u5F15\u64CE\uFF0C\u53EF\u5BF9\u5E94\u7528\u548C\u76F8\u5173\u4F9D\u8D56\u5305\u6253\u5305\u5230\u8F7B\u91CF\u53EF\u4EE5\u79FB\u690D\u7684Docker\u5BB9\u5668\u4E2D\uFF0C\u53EF\u53D1\u5E03\u5230\u4EFB\u4F55Linux\u4E2D\uFF0C\u5BB9\u5668\u6027\u80FD\u5F00\u9500\u6781\u4F4E\u3002")],-1),d=s("h1",{id:"\u65B0\u5B66\u56DB\u95EE",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u65B0\u5B66\u56DB\u95EE","aria-hidden":"true"},"#"),n(" \u65B0\u5B66\u56DB\u95EE")],-1),k=s("strong",null,"WHY\u3010\u4E0E\u524D\u4EE3\u4F18\u5316\u4E86\u4EC0\u4E48\uFF0C\u5F25\u8865\u4E86\u4EC0\u4E48\u7A7A\u767D\u3011",-1),u=n("\uFF1A\u81EA\u52A8\u5316\u5F00\u53D1\u90E8\u7F72\u6D41\u7A0B\uFF0C\u73AF\u5883"),m=s("br",null,null,-1),v=s("strong",null,"WHAT\u3010\u6846\u67B6\uFF0C\u601D\u7EF4\u5BFC\u56FE\uFF0C\u4E3B\u9898\u6846\u67B6\u3011",-1),b=n("\uFF1A\u5B89\u88C5\u5B9E\u4F8B\uFF0C"),h=s("br",null,null,-1),y=s("strong",null,"HOW\u3010\u5982\u4F55\u8BB0\u5FC6\uFF0C\u5B66\u4E60\u8D44\u6E90\uFF08\u5B98\u65B9\u6587\u6863\u3001\u89C6\u9891\u8D44\u6E90\u3001\u9879\u76EE\u5730\u5740\uFF09\u3011",-1),w=n("\uFF1A"),g={href:"https://www.runoob.com/docker/docker-tutorial.html",target:"_blank",rel:"noopener noreferrer"},f=n("Docker \u6559\u7A0B "),_=s("br",null,null,-1),x=s("strong",null,"LEVEL\u3010\u4E0D\u662F\u6BCF\u4E2A\u90FD\u5B66\u7CBE\u3011",-1),q=n("\uFF1A\u719F\u7EC3\u64CD\u4F5C"),T=t('<h1 id="\u8FDB\u5EA6-\u3010\u3011" tabindex="-1"><a class="header-anchor" href="#\u8FDB\u5EA6-\u3010\u3011" aria-hidden="true">#</a> \u8FDB\u5EA6\uFF1A \u3010\u3011</h1><h1 id="\u4E00\u3001\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#\u4E00\u3001\u7B80\u4ECB" aria-hidden="true">#</a> \u4E00\u3001\u7B80\u4ECB</h1><h3 id="\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#\u662F\u4EC0\u4E48" aria-hidden="true">#</a> \u662F\u4EC0\u4E48\uFF1F</h3><h4 id="\u95EE\u9898-\u4E3A\u4EC0\u4E48\u4F1A\u6709-docker-\u7684\u51FA\u73B0" tabindex="-1"><a class="header-anchor" href="#\u95EE\u9898-\u4E3A\u4EC0\u4E48\u4F1A\u6709-docker-\u7684\u51FA\u73B0" aria-hidden="true">#</a> \u95EE\u9898\uFF1A\u4E3A\u4EC0\u4E48\u4F1A\u6709 docker \u7684\u51FA\u73B0</h4><p>\u4E00\u6B3E\u4EA7 \u54C1\u4ECE\u5F00\u53D1\u5230\u4E0A\u7EBF\uFF0C\u4ECE\u64CD\u4F5C\u7CFB\u7EDF\uFF0C\u5230\u8FD0\u884C\u73AF\u5883\uFF0C\u518D\u5230\u5E94\u7528\u914D\u7F6E\u3002\u4F5C\u4E3A\u5F00\u53D1+\u8FD0\u7EF4\u4E4B\u95F4\u7684\u534F\u4F5C\u6211\u4EEC\u9700\u8981\u5173\u5FC3\u5F88\u591A\u4E1C\u897F\uFF0C\u8FD9\u4E5F\u662F\u5F88\u591A\u4E92\u8054\u7F51\u516C\u53F8\u90FD\u4E0D\u5F97\u4E0D\u9762\u5BF9\u7684\u95EE\u9898\uFF0C\u7279\u522B\u662F\u5404\u79CD\u7248\u672C\u7684\u8FED\u4EE3\u4E4B\u540E\uFF0C\u4E0D\u540C\u7248\u672C\u73AF\u5883\u7684\u517C\u5BB9\uFF0C\u5BF9\u8FD0\u7EF4\u4EBA\u5458\u90FD\u662F\u8003\u9A8C <strong>Docker</strong>\u4E4B\u6240\u4EE5\u53D1\u5C55\u5982\u6B64\u8FC5\u901F\uFF0C\u4E5F\u662F\u56E0\u4E3A\u5B83\u5BF9\u6B64\u7ED9\u51FA\u4E86\u4E00\u4E2A\u6807\u51C6\u5316\u7684\u89E3\u51B3\u65B9\u6848\u3002 \u73AF\u5883\u914D\u7F6E\u5982\u6B64\u9EBB\u70E6\uFF0C\u6362\u4E00\u53F0\u673A\u5668\uFF0C\u5C31\u8981\u91CD\u6765\u4E00\u6B21\uFF0C\u8D39\u529B\u8D39\u65F6\u3002\u5F88\u591A\u4EBA\u60F3\u5230\uFF0C\u80FD\u4E0D\u80FD\u4ECE\u6839\u672C\u4E0A\u89E3\u51B3\u95EE\u9898\uFF0C\u8F6F\u4EF6\u53EF\u4EE5\u5E26\u73AF\u5883\u5B89\u88C5?\u4E5F\u5C31\u662F\u8BF4\uFF0C\u5B89\u88C5\u7684\u65F6\u5019\uFF0C\u628A\u539F\u59CB\u73AF\u5883-\u6A21-\u6837\u5730\u590D\u5236\u8FC7\u6765\u3002\u5F00\u53D1\u4EBA\u5458\u5229\u7528Docker\u53EF\u4EE5\u6D88\u9664\u534F\u4F5C\u7F16\u7801\u65F6\u201C\u5728\u6211\u7684\u673A\u5668\u4E0A\u53EF\u6B63\u5E38\u5DE5\u4F5C\u201D\u7684\u95EE\u9898\u3002</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152610381.png" alt="image-20220522152610381" loading="lazy"></p><p>\u4E4B\u524D\u5728\u670D\u52A1\u5668\u914D\u7F6E\u4E00\u4E2A\u5E94\u7528\u7684\u8FD0\u884C\u73AF\u5883\uFF0C\u8981\u5B89\u88C5\u5404\u79CD\u8F6F\u4EF6\uFF0C\u5C31\u62FF\u5C1A\u7845\u8C37\u7535\u5546\u9879\u76EE\u7684\u73AF\u5883\u6765\u8BF4\u5427\uFF0C<strong>Java/TomcatMySQL/JDBC</strong>\u9A71\u52A8\u5305\u7B49\u3002\u5B89\u88C5\u548C\u914D\u7F6E\u8FD9\u4E9B\u4E1C\u897F\u6709\u591A\u9EBB\u70E6\u5C31\u4E0D\u8BF4\u4E86\uFF0C\u5B83\u8FD8\u4E0D\u80FD\u8DE8\u5E73\u53F0\u3002\u5047\u5982\u6211\u4EEC\u662F\u5728<strong>Windows</strong>\u4E0A\u5B89\u88C5\u7684\u8FD9\u4E9B\u73AF\u5883\uFF0C\u5230\u4E86Linux \u53C8\u5F97\u91CD\u65B0\u88C5\u3002\u51B5\u4E14\u5C31\u7B97\u4E0D\u8DE8\u64CD\u4F5C\u7CFB\u7EDF\uFF0C\u6362\u53E6\u4E00\u53F0\u540C\u6837\u64CD\u4F5C\u7CFB\u7EDF\u7684\u670D\u52A1\u5668\uFF0C\u8981\u79FB\u690D\u5E94\u7528\u4E5F\u662F\u975E\u5E38\u9EBB\u70E6\u7684\u3002</p><p>\u4F20\u7EDF\u4E0A\u8BA4\u4E3A\uFF0C\u8F6F\u4EF6\u7F16\u7801\u5F00\u53D1/\u6D4B\u8BD5\u7ED3\u675F\u540E\uFF0C\u6240\u4EA7\u51FA\u7684\u6210\u679C\u5373\u662F\u7A0B\u5E8F\u6216\u662F\u80FD\u591F\u7F16\u8BD1\u6267\u884C\u7684\u4E8C\u8FDB\u5236\u5B57\u8282\u7801\u7B49java\u4E3A\u4F8B)\u3002\u800C\u4E3A\u4E86\u8BA9\u8FD9\u7A0B\u5E8F\u53EF\u4EE5\u987A\u5229\u6267\u884C\uFF0C\u5F00\u53D1\u56E2\u961F\u4E5F\u5F97\u51C6\u5907\u5B8C\u6574\u7684\u90E8\u7F72\u6587\u4EF6\uFF0C\u8BA9\u7EF4\u8FD0\u56E2\u961F\u5F97\u4EE5\u90E8\u7F72\u5E94\u7528\u7A0B\u5F0F\uFF0C<strong>\u5F00\u53D1\u9700\u8981\u6E05\u695A\u7684\u544A\u8BC9\u8FD0\u7EF4\u90E8\u7F72\u56E2\u961F\uFF0C\u7528\u7684\u5168\u90E8\u914D\u7F6E\u6587\u4EF6+\u6240\u6709\u8F6F\u4EF6\u73AF\u5883\u3002\u4E0D\u8FC7\uFF0C\u5373\u4FBF\u5982\u6B64\uFF0C\u4ECD\u7136\u5E38\u5E38\u53D1\u751F\u90E8\u7F72\u5931\u8D25\u7684\u72B6\u51B5\u3002<strong>Docker\u955C \u50CF\u7684\u8BBE\u8BA1</strong>\uFF0C\u4F7F\u5F97Docker\u5F97\u4EE5\u6253\u8FC7\u53BB\u300C\u7A0B\u5E8F\u5373\u5E94\u7528\u300D\u7684\u89C2\u5FF5\u3002\u900F\u8FC7\u955C\u50CF(images)\u5C06\u4F5C\u4E1A\u7CFB\u7EDF\u6838\u5FC3\u9664\u5916\uFF0C\u8FD0\u4F5C\u5E94\u7528\u7A0B\u5F0F\u6240\u9700\u8981\u7684\u7CFB\u7EDF\u73AF\u5883\uFF0C\u7531\u4E0B\u800C\u4E0A\u6253\u5305\uFF0C\u8FBE\u5230\u5E94\u7528\u7A0B\u5F0F\u8DE8\u5E73\u53F0\u95F4\u7684\u65E0\u7F1D\u63A5\u8F68\u8FD0.\u4F5C\u3002</strong></p><h4 id="docker\u7406\u5FF5" tabindex="-1"><a class="header-anchor" href="#docker\u7406\u5FF5" aria-hidden="true">#</a> docker\u7406\u5FF5</h4><p>Docker\u662F\u57FA\u4E8EGo\u8BED\u8A00\u5B9E\u73B0\u7684\u4E91\u5F00\u6E90\u9879\u76EE\u3002 Docker\u7684\u4E3B\u8981\u76EE\u6807\u662F\u201C<strong>Build, Ship[ and Run Any App,Anywhere</strong>&quot;\uFF0C\u4E5F\u5C31\u662F\u901A\u8FC7\u5BF9\u5E94\u7528\u7EC4\u4EF6\u7684\u5C01\u88C5\u3001\u5206\u53D1\u3001\u90E8\u7F72\u3001\u8FD0\u884C\u7B49\u751F\u547D\u671F\u7684\u7BA1\u7406\uFF0C\u4F7F\u7528\u6237\u7684APP (\u53EF\u4EE5\u662F\u4E00\u4E2AWEB\u5E94\u7528\u6216\u6570\u636E\u5E93\u5E94\u7528\u7B49\u7B49)\u53CA\u5176\u8FD0\u884C\u73AF\u5883\u80FD\u591F\u505A\u5230\u201C<strong>\u4E00\u6B21\u5C01\u88C5\uFF0C\u5230\u5904\u8FD0\u884C</strong>\u201D\u3002</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152625314.png" alt="image-20220522152625314" loading="lazy"></p><p>Linux\u5BB9\u5668\u6280\u672F\u7684\u51FA\u73B0\u5C31\u89E3\u51B3\u4E86\u8FD9\u6837\u4E00 \u4E00\u4E2A\u95EE\u9898\uFF0C\u800CDocker\u5C31\u662F\u5728\u5B83\u7684\u57FA\u7840\u4E0A\u53D1\u5C55\u8FC7\u6765\u7684\u3002\u5C06\u5E94\u7528\u8FD0\u884C\u5728Docker\u5BB9\u5668\u4E0A\u9762\uFF0C\u800CDocker\u5BB9\u5668\u5728\u4EFB\u4F55\u64CD\u4F5C\u7CFB\u7EDF\u4E0A\u90FD\u662F\u4E00-\u81F4\u7684\uFF0C\u8FD9\u5C31\u5B9E\u73B0\u4E86\u8DE8\u5E73\u53F0\u3001\u8DE8\u670D\u52A1\u5668\u3002<strong>\u53EA\u9700\u8981\u4E00\u6B21\u914D\u7F6E\u597D\u73AF\u5883\uFF0C\u6362\u5230\u522B\u7684\u673A\u5B50\u4E0A\u5C31\u53EF\u4EE5\u4E00\u952E\u90E8\u7F72\u597D\uFF0C\u5927\u5927\u7B80\u5316\u4E86\u64CD\u4F5C</strong></p><h4 id="\u4E00\u53E5\u8BDD" tabindex="-1"><a class="header-anchor" href="#\u4E00\u53E5\u8BDD" aria-hidden="true">#</a> \u4E00\u53E5\u8BDD</h4><p>\u89E3\u51B3\u4E86\u8FD0\u884C\u73AF\u5883\u548C\u914D\u7F6E\u95EE\u9898\u7684\u8F6F\u4EF6\u5BB9\u5668\uFF0C\u65B9\u4FBF\u505A\u6301\u7EED\u96C6\u6210\u5E76\u6709\u52A9\u4E8E\u6574\u4F53\u53D1\u5E03\u7684\u5BB9\u5668\u865A\u62DF\u5316\u6280\u672F</p><h3 id="\u80FD\u5E72\u561B" tabindex="-1"><a class="header-anchor" href="#\u80FD\u5E72\u561B" aria-hidden="true">#</a> \u80FD\u5E72\u561B</h3><h4 id="\u4E4B\u524D\u7684\u865A\u62DF\u673A\u6280\u672F" tabindex="-1"><a class="header-anchor" href="#\u4E4B\u524D\u7684\u865A\u62DF\u673A\u6280\u672F" aria-hidden="true">#</a> \u4E4B\u524D\u7684\u865A\u62DF\u673A\u6280\u672F</h4><p>\u865A\u62DF\u673A**(virtual machine)**\u5C31\u662F\u5E26\u73AF\u5883\u5B89\u88C5\u7684\u4E00\u79CD\u89E3\u51B3\u65B9\u6848\u3002</p><p>\u5B83\u53EF\u4EE5\u5728\u4E00\u79CD\u64CD\u4F5C\u7CFB\u7EDF\u91CC\u9762\u8FD0\u884C\u53E6\u4E00\u79CD\u4F5C\u7CFB\u7EDF\uFF0C\u6BD4\u5982\u5728<strong>Windows\u7CFB\u7EDF\u91CC\u9762\u8FD0\u884CLinux\u7CFB\u7EDF</strong>\u3002\u5E94\u7528\u7A0B\u5E8F\u5BF9\u6B64\u6BEB\u65E0\u611F\u77E5\uFF0C\u56E0\u4E3A\u865A\u62DF\u673A\u770B\u4E0A\u53BB\u8DDF\u771F\u5B9E\u7CFB\u7EDF- -\u6A21-\u6837\uFF0C\u800C\u5BF9\u4E8E\u5E95\u5C42\u7CFB\u7EDF\u6765\u8BF4\uFF0C\u865A\u62DF\u673A\u5C31\u662F\u4E00\u4E2A\u666E\u901A\u6587\u4EF6\uFF0C\u4E0D\u9700\u8981\u4E86\u5C31\u5220\u6389\uFF0C\u5BF9\u5176\u4ED6\u90E8\u5206\u6BEB\u65E0\u5F71\u54CD\u3002\u8FD9\u7C7B\u865A\u62DF\u673A\u5B8C\u7F8E\u7684\u8FD0\u884C\u4E86\u53E6\u4E00\u5957\u7CFB\u7EDF\uFF0C\u80FD\u591F\u4F7F\u5E94\u7528\u7A0B\u5E8F\uFF0C\u64CD\u4F5C\u7CFB\u7EDF\u548C\u786C\u4EF6\u4E09\u8005\u4E4B\u95F4\u7684\u903B\u8F91\u4E0D\u53D8\u3002</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152638357.png" alt="image-20220522152638357" loading="lazy"></p><p>\u865A\u62DF\u673A\u7684\u7F3A\u70B9:</p><p>1\u3001\u8D44\u6E90\u5360\u7528\u591A</p><p>2\u3001\u5197\u4F59\u6B65\u9AA4\u591A</p><p>3\u3001\u542F\u52A8\u6162</p><h4 id="\u5BB9\u5668\u865A\u62DF\u5316\u6280\u672F" tabindex="-1"><a class="header-anchor" href="#\u5BB9\u5668\u865A\u62DF\u5316\u6280\u672F" aria-hidden="true">#</a> \u5BB9\u5668\u865A\u62DF\u5316\u6280\u672F</h4><p>\u7531\u4E8E\u524D\u9762\u865B\u62DF\u673A\u5B58\u5728\u8FD9\u4E9B\u7F3A\u70B9\uFF0C<strong>Linux</strong> \u53D1\u5C55\u51FA\u4E86\u53E6\u4E00\u79CD\u865A\u62DF\u5316\u6280\u672F: <strong>Linux \u5BB9\u5668</strong>(Linux Containers,\u7F29\u4E3ALXC)\u3002</p><p><strong>Linux\u5BB9\u5668\u4E0D\u662F\u6A21\u62DF\u4E00\u4E2A\u5B8C\u6574\u7684\u64CD\u4F5C\u7CFB\u7EDF</strong>\uFF0C\u800C\u662F\u5BF9\u8FDB\u7A0B\u8FDB\u884C\u9694\u79BB\u3002\u6709\u4E86\u5BB9\u5668\uFF0C\u5C31\u53EF\u4EE5\u5C06\u8F6F\u4EF6\u8FD0\u884C\u6240\u7684\u6240\u6709\u8D44\u6E90\u6253\u5305\u5230\u4E00\u4E2A\u9694\u79BB\u7684\u5BB9\u5668\u4E2D\u3002\u5BB9\u5668\u4E0E\u865A\u62DF\u673A\u4E0D\u540C\uFF0C\u4E0D\u9700\u8981\u6346\u7ED1\u4E00\u6574\u5957\u64CD\u4F5C\u7CFB\u7EDF\uFF0C\u53EA\u9700\u8981\u8F6F\u4EF6\u5DE5\u4F5C\u6240\u9700\u7684\u5E93\u8D44\u6E90\u548C\u8BBE\u7F6E\u3002\u7CFB\u7EDF\u56E0\u6B64\u800C\u53D8\u5F97\u9AD8\u6548\u8F7B\u91CF\u5E76\u4FDD\u8BC1\u90E8\u7F72\u5728\u4EFB\u4F55\u73AF\u5883\u4E2D\u7684\u8F6F\u4EF6\u90FD\u80FD\u59CB\u7EC8\u5982\u4E00\u5730\u8FD0\u884C\u3002.</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152657342.png" alt="image-20220522152657342" loading="lazy"></p><p>\u6BD4\u8F83\u4E86<strong>Docker</strong>\u548C\u4F20\u7EDF\u865A\u62DF\u5316\u65B9\u5F0F\u7684\u4E0D\u540C\u4E4B\u5904:</p><p>1\u3001\u4F20\u7EDF\u865A\u62DF\u673A\u6280\u672F\u662F\u865A\u62DF\u51FA\u4E00\u5957\u786C\u4EF6\u540E\uFF0C\u5728\u5176\u4E0A\u8FD0\u884C\u4E00\u4E2A\u5B8C\u6574\u64CD\u4F5C\u7CFB\u7EDF\uFF0C\u5728\u8BE5\u7CFB\u7EDF\u4E0A\u518D\u8FD0\u884C\u6240\u9700\u5E94\u7528\u8FDB\u7A0B;</p><p>2\u3001\u800C\u5BB9\u5668\u5185\u7684\u5E94\u7528\u8FDB\u7A0B\u76F4\u63A5\u8FD0\u884C\u4E8E\u5BBF\u4E3B\u7684\u5185\u6838\uFF0C\u5BB9\u5668\u5185\u6CA1\u6709\u81EA\u5DF1\u7684\u5185\u6838\uFF0C<strong>\u800C\u4E14\u4E5F\u6CA1\u6709\u8FDB\u884C\u786C\u4EF6\u865A\u62DF</strong>\u3002\u56E0\u6B64\u5BB9\u5668\u8981\u6BD4\u4F20\u7EDF\u865A\u62DF\u673A\u4E3A\u8F7B\u4FBF\u3002</p><p>3\u3001\u6BCF\u4E2A\u5BB9\u5668\u4E4B\u95F4\u4E92\u76F8\u9694\u79BB\uFF0C\u6BCF\u4E2A\u5BB9\u5668\u6709\u81EA\u5DF1\u7684\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u5BB9\u5668\u4E4B\u95F4\u8FDB\u7A0B\u4E0D\u4F1A\u76F8\u4E92\u5F71\u54CD\uFF0C\u80FD\u533A\u5206\u8BA1\u7B97\u8D44\u6E90\u3002</p><h4 id="\u5F00\u53D1-\u8FD0\u7EF4-devops" tabindex="-1"><a class="header-anchor" href="#\u5F00\u53D1-\u8FD0\u7EF4-devops" aria-hidden="true">#</a> \u5F00\u53D1/\u8FD0\u7EF4(DevOps)</h4><p>\u4E00\u6B21\u6784\u5EFA\u3001\u968F\u5904\u8FD0\u884C\uFF0C</p><h5 id="\u66F4\u5FEB\u901F\u7684\u5E94\u7528\u4EA4\u4ED8\u548C\u90E8\u7F72" tabindex="-1"><a class="header-anchor" href="#\u66F4\u5FEB\u901F\u7684\u5E94\u7528\u4EA4\u4ED8\u548C\u90E8\u7F72" aria-hidden="true">#</a> \u66F4\u5FEB\u901F\u7684\u5E94\u7528\u4EA4\u4ED8\u548C\u90E8\u7F72</h5><p>\u200B \u4F20\u7EDF\u7684\u5E94\u7528\u5F00\u53D1\u5B8C\u6210\u540E\uFF0C\u9700\u8981\u63D0\u4F9B\u4E00\u5806\u5B89\u88C5\u7A0B\u5E8F\u548C\u914D\u7F6E\u8BF4\u660E\u6587\u6863\uFF0C\u5B89\u88C5\u90E8\u7F72\u540E\u9700\u6839\u636E\u914D\u7F6E\u6587\u6863\u8FDB\u884C\u7E41\u6742\u7684\u914D\u7F6E\u624D\u80FD\u6B63\u5E38\u8FD0\u884C\u3002Docker\u5316 \u4E4B\u540E\u53EA\u9700\u8981\u4EA4\u4ED8\u5C11\u91CF\u5BB9\u5668\u955C\u50CF\u6587\u4EF6\uFF0C\u5728\u6B63\u5F0F\u751F\u4EA7\u73AF\u5883\u52A0\u8F7D\u955C\u50CF\u5E76\u8FD0\u884C\u5373\u53EF\uFF0C\u5E94\u7528\u5B89\u88C5\u914D\u7F6E\u5728\u955C\u50CF\u91CC\u5DF2\u7ECF\u5185\u7F6E\u597D\uFF0C\u5927\u5927\u8282\u7701\u90E8\u7F72\u914D\u7F6E\u548C\u6D4B \u8BD5\u9A8C\u8BC1\u65F6\u95F4\u3002</p><h5 id="\u66F4\u4FBF\u6377\u7684\u5347\u7EA7\u548C\u6269\u7F29\u5BB9" tabindex="-1"><a class="header-anchor" href="#\u66F4\u4FBF\u6377\u7684\u5347\u7EA7\u548C\u6269\u7F29\u5BB9" aria-hidden="true">#</a> \u66F4\u4FBF\u6377\u7684\u5347\u7EA7\u548C\u6269\u7F29\u5BB9</h5><p>\u200B \u968F\u7740\u5FAE\u670D\u52A1\u67B6\u6784\u548CDocker\u7684\u53D1\u5C55\uFF0C\u5927\u91CF\u7684\u5E94\u7528\u4F1A\u901A\u8FC7\u5FAE\u670D\u52A1\u65B9\u5F0F\u67B6\u6784\uFF0C\u5E94\u7528\u7684\u5F00\u53D1\u6784\u5EFA\u5C06\u53D8\u6210\u642D\u4E50\u9AD8\u79EF\u6728\u4E00\u6837\uFF0C\u6BCF\u4E2ADocker\u5BB9\u5668\u5C06\u53D8\u6210-\u5757\u201C\u79EF\u6728\u201D\uFF0C\u5E94\u7528\u7684\u5347\u7EA7\u5C06\u53D8\u5F97\u975E\u5E38\u5BB9\u6613\u3002\u5F53\u73B0\u6709\u7684\u5BB9\u5668\u4E0D\u8DB3\u4EE5\u652F\u6491\u4E1A\u52A1\u5904\u7406\u65F6\uFF0C\u53EF\u901A\u8FC7\u955C\u50CF\u8FD0\u884C\u65B0\u7684\u5BB9\u5668\u8FDB\u884C\u5FEB\u901F\u6269\u5BB9\uFF0C\u4F7F\u5E94\u7528\u7CFB\u7EDF\u7684\u6269\u5BB9\u4ECE\u539F\u5148\u7684\u5929\u7EA7\u53D8\u6210\u5206\u949F\u7EA7\u751A\u81F3\u79D2\u7EA7\u3002</p><h5 id="\u66F4\u7B80\u5355\u7684\u7CFB\u7EDF\u8FD0\u7EF4" tabindex="-1"><a class="header-anchor" href="#\u66F4\u7B80\u5355\u7684\u7CFB\u7EDF\u8FD0\u7EF4" aria-hidden="true">#</a> \u66F4\u7B80\u5355\u7684\u7CFB\u7EDF\u8FD0\u7EF4</h5><p>\u200B \u5E94\u7528\u5BB9\u5668\u5316\u8FD0\u884C\u540E\uFF0C\u751F\u4EA7\u73AF\u5883\u8FD0\u884C\u7684\u5E94\u7528\u53EF\u4E0E\u5F00\u53D1\u3001\u6D4B\u8BD5\u73AF\u5883\u7684\u5E94\u7528\u9AD8\u5EA6--\u81F4\uFF0C\u5BB9\u5668\u4F1A\u5C06\u5E94\u7528\u7A0B\u5E8F\u76F8\u5173\u7684\u73AF\u5883\u548C\u72B6\u6001\u5B8C\u5168\u5C01\u88C5\u8D77\u6765\uFF0C\u4E0D\u4F1A\u56E0\u4E3A\u5E95\u5C42\u57FA\u7840\u67B6\u6784\u548C\u64CD\u4F5C\u7CFB\u7EDF\u7684\u4E0D\u4E00\u81F4\u6027\u7ED9\u5E94\u7528\u5E26\u6765\u5F71\u54CD\uFF0C\u4EA7\u751F\u65B0\u7684BUG\u3002\u5F53\u51FA\u73B0\u7A0B\u5E8F\u5F02\u5E38\u65F6\uFF0C\u4E5F\u53EF\u4EE5\u901A\u8FC7\u6D4B\u8BD5\u73AF\u5883\u7684\u76F8\u540C\u5BB9\u5668\u8FDB\u884C\u5FEB\u901F\u5B9A\u4F4D\u548C\u4FEE\u590D\u3002</p><h5 id="\u66F4\u9AD8\u6548\u7684\u8BA1\u7B97\u8D44\u6E90\u5229\u7528" tabindex="-1"><a class="header-anchor" href="#\u66F4\u9AD8\u6548\u7684\u8BA1\u7B97\u8D44\u6E90\u5229\u7528" aria-hidden="true">#</a> \u66F4\u9AD8\u6548\u7684\u8BA1\u7B97\u8D44\u6E90\u5229\u7528</h5><p>\u200B <strong>Docker\u662F\u5185\u6838\u7EA7\u865A\u62DF\u5316</strong>\uFF0C\u5176\u4E0D\u50CF\u4F20\u7EDF\u7684\u865A\u62DF\u5316\u6280\u672F\u4E00\u6837 \u9700\u8981\u989D\u5916\u7684Hypervisor\u652F\u6301\uFF0C\u6240\u4EE5\u5728-\u53F0\u7269\u7406\u673A\u4E0A\u53EF\u4EE5\u8FD0\u884C\u5F88\u591A\u4E2A\u5BB9\u5668\u5B9E\u4F8B\uFF0C\u53EF\u5927\u5927\u63D0\u5347\u7269\u7406\u670D\u52A1\u5668\u7684CPU\u548C\u5185\u5B58\u7684\u5229\u7528\u7387\u3002</p><h4 id="\u4F01\u4E1A\u7EA7" tabindex="-1"><a class="header-anchor" href="#\u4F01\u4E1A\u7EA7" aria-hidden="true">#</a> \u4F01\u4E1A\u7EA7</h4><p>\u65B0\u6D6A</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152720164.png" alt="image-20220522152720164" loading="lazy"></p><p>\u7F8E\u56E2</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152727419.png" alt="image-20220522152727419" loading="lazy"></p><p>\u8611\u83C7\u8857</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152736292.png" alt="image-20220522152736292" loading="lazy"></p><h4 id="\u53BB\u54EA\u4E0B" tabindex="-1"><a class="header-anchor" href="#\u53BB\u54EA\u4E0B" aria-hidden="true">#</a> \u53BB\u54EA\u4E0B</h4><h5 id="_1\u3001\u5B98\u7F51" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u5B98\u7F51" aria-hidden="true">#</a> 1\u3001\u5B98\u7F51</h5>',50),S=n("docker\u5B98\u7F51\uFF1A "),R={href:"https://www.docker.com/",target:"_blank",rel:"noopener noreferrer"},D=n("https://www.docker.com/"),I=n("docker\u4E2D\u6587\u7F51\u7AD9: "),A={href:"https://www.docker-cn.com/",target:"_blank",rel:"noopener noreferrer"},O=n("https://www.docker-cn.com/"),z=s("h5",{id:"_2\u3001\u4ED3\u5E93",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2\u3001\u4ED3\u5E93","aria-hidden":"true"},"#"),n(" 2\u3001\u4ED3\u5E93")],-1),E=n("Docker Hub\u5B98\u7F51\uFF1A"),L={href:"https://hub.docker.com/",target:"_blank",rel:"noopener noreferrer"},N=n("https://hub.docker.com/"),C=t('<h2 id="_1-\u5E94\u7528\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#_1-\u5E94\u7528\u573A\u666F" aria-hidden="true">#</a> 1.\u5E94\u7528\u573A\u666F</h2><ul><li>Web \u5E94\u7528\u7684\u81EA\u52A8\u5316\u6253\u5305\u548C\u53D1\u5E03\u3002</li><li>\u81EA\u52A8\u5316\u6D4B\u8BD5\u548C\u6301\u7EED\u96C6\u6210\u3001\u53D1\u5E03\u3002</li><li>\u5728\u670D\u52A1\u578B\u73AF\u5883\u4E2D\u90E8\u7F72\u548C\u8C03\u6574\u6570\u636E\u5E93\u6216\u5176\u4ED6\u7684\u540E\u53F0\u5E94\u7528\u3002</li><li>\u4ECE\u5934\u7F16\u8BD1\u6216\u8005\u6269\u5C55\u73B0\u6709\u7684 OpenShift \u6216 Cloud Foundry \u5E73\u53F0\u6765\u642D\u5EFA\u81EA\u5DF1\u7684 PaaS \u73AF\u5883\u3002</li></ul><h2 id="_2-\u4F18\u70B9" tabindex="-1"><a class="header-anchor" href="#_2-\u4F18\u70B9" aria-hidden="true">#</a> 2.\u4F18\u70B9</h2><p>Docker \u662F\u4E00\u4E2A\u7528\u4E8E\u5F00\u53D1\uFF0C\u4EA4\u4ED8\u548C\u8FD0\u884C\u5E94\u7528\u7A0B\u5E8F\u7684\u5F00\u653E\u5E73\u53F0\u3002Docker \u4F7F\u60A8\u80FD\u591F\u5C06<strong>\u5E94\u7528\u7A0B\u5E8F\u4E0E\u57FA\u7840\u67B6\u6784\u5206\u5F00</strong>\uFF0C\u4ECE\u800C\u53EF\u4EE5\u5FEB\u901F\u4EA4\u4ED8\u8F6F\u4EF6\u3002\u501F\u52A9 Docker\uFF0C\u60A8\u53EF\u4EE5\u4E0E\u7BA1\u7406\u5E94\u7528\u7A0B\u5E8F\u76F8\u540C\u7684\u65B9\u5F0F\u6765\u7BA1\u7406\u57FA\u7840\u67B6\u6784\u3002\u901A\u8FC7\u5229\u7528 Docker \u7684\u65B9\u6CD5\u6765<strong>\u5FEB\u901F\u4EA4\u4ED8\uFF0C\u6D4B\u8BD5\u548C\u90E8\u7F72\u4EE3\u7801</strong>\uFF0C\u60A8\u53EF\u4EE5\u5927\u5927\u51CF\u5C11\u7F16\u5199\u4EE3\u7801\u548C\u5728\u751F\u4EA7\u73AF\u5883\u4E2D\u8FD0\u884C\u4EE3\u7801\u4E4B\u95F4\u7684\u5EF6\u8FDF\u3002</p><h3 id="_1\u3001\u5FEB\u901F-\u4E00\u81F4\u5730\u4EA4\u4ED8\u60A8\u7684\u5E94\u7528\u7A0B\u5E8F" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u5FEB\u901F-\u4E00\u81F4\u5730\u4EA4\u4ED8\u60A8\u7684\u5E94\u7528\u7A0B\u5E8F" aria-hidden="true">#</a> 1\u3001\u5FEB\u901F\uFF0C\u4E00\u81F4\u5730\u4EA4\u4ED8\u60A8\u7684\u5E94\u7528\u7A0B\u5E8F</h3><p>Docker \u5141\u8BB8\u5F00\u53D1\u4EBA\u5458\u4F7F\u7528\u60A8\u63D0\u4F9B\u7684\u5E94\u7528\u7A0B\u5E8F\u6216\u670D\u52A1\u7684\u672C\u5730\u5BB9\u5668\u5728\u6807\u51C6\u5316\u73AF\u5883\u4E2D\u5DE5\u4F5C\uFF0C\u4ECE\u800C\u7B80\u5316\u4E86\u5F00\u53D1\u7684\u751F\u547D\u5468\u671F\u3002</p><p>\u5BB9\u5668\u975E\u5E38\u9002\u5408\u6301\u7EED\u96C6\u6210\u548C\u6301\u7EED\u4EA4\u4ED8\uFF08CI / CD\uFF09\u5DE5\u4F5C\u6D41\u7A0B\uFF0C\u8BF7\u8003\u8651\u4EE5\u4E0B\u793A\u4F8B\u65B9\u6848\uFF1A</p><ul><li>\u60A8\u7684\u5F00\u53D1\u4EBA\u5458\u5728\u672C\u5730\u7F16\u5199\u4EE3\u7801\uFF0C\u5E76\u4F7F\u7528 Docker \u5BB9\u5668\u4E0E\u540C\u4E8B\u5171\u4EAB\u4ED6\u4EEC\u7684\u5DE5\u4F5C\u3002</li><li>\u4ED6\u4EEC\u4F7F\u7528 Docker \u5C06\u5176\u5E94\u7528\u7A0B\u5E8F\u63A8\u9001\u5230\u6D4B\u8BD5\u73AF\u5883\u4E2D\uFF0C\u5E76\u6267\u884C\u81EA\u52A8\u6216\u624B\u52A8\u6D4B\u8BD5\u3002</li><li>\u5F53\u5F00\u53D1\u4EBA\u5458\u53D1\u73B0\u9519\u8BEF\u65F6\uFF0C\u4ED6\u4EEC\u53EF\u4EE5\u5728\u5F00\u53D1\u73AF\u5883\u4E2D\u5BF9\u5176\u8FDB\u884C\u4FEE\u590D\uFF0C\u7136\u540E\u5C06\u5176\u91CD\u65B0\u90E8\u7F72\u5230\u6D4B\u8BD5\u73AF\u5883\u4E2D\uFF0C\u4EE5\u8FDB\u884C\u6D4B\u8BD5\u548C\u9A8C\u8BC1\u3002</li><li>\u6D4B\u8BD5\u5B8C\u6210\u540E\uFF0C\u5C06\u4FEE\u8865\u7A0B\u5E8F\u63A8\u9001\u7ED9\u751F\u4EA7\u73AF\u5883\uFF0C\u5C31\u50CF\u5C06\u66F4\u65B0\u7684\u955C\u50CF\u63A8\u9001\u5230\u751F\u4EA7\u73AF\u5883\u4E00\u6837\u7B80\u5355\u3002</li></ul><h3 id="_2\u3001\u54CD\u5E94\u5F0F\u90E8\u7F72\u548C\u6269\u5C55" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u54CD\u5E94\u5F0F\u90E8\u7F72\u548C\u6269\u5C55" aria-hidden="true">#</a> 2\u3001\u54CD\u5E94\u5F0F\u90E8\u7F72\u548C\u6269\u5C55</h3><p>Docker \u662F\u57FA\u4E8E\u5BB9\u5668\u7684\u5E73\u53F0\uFF0C\u5141\u8BB8\u9AD8\u5EA6\u53EF\u79FB\u690D\u7684\u5DE5\u4F5C\u8D1F\u8F7D\u3002Docker \u5BB9\u5668\u53EF\u4EE5\u5728\u5F00\u53D1\u4EBA\u5458\u7684\u672C\u673A\u4E0A\uFF0C\u6570\u636E\u4E2D\u5FC3\u7684\u7269\u7406\u6216\u865A\u62DF\u673A\u4E0A\uFF0C\u4E91\u670D\u52A1\u4E0A\u6216\u6DF7\u5408\u73AF\u5883\u4E2D\u8FD0\u884C\u3002</p><p>Docker \u7684\u53EF\u79FB\u690D\u6027\u548C\u8F7B\u91CF\u7EA7\u7684\u7279\u6027\uFF0C\u8FD8\u53EF\u4EE5\u4F7F\u60A8\u8F7B\u677E\u5730\u5B8C\u6210\u52A8\u6001\u7BA1\u7406\u7684\u5DE5\u4F5C\u8D1F\u62C5\uFF0C\u5E76\u6839\u636E\u4E1A\u52A1\u9700\u6C42\u6307\u793A\uFF0C\u5B9E\u65F6\u6269\u5C55\u6216\u62C6\u9664\u5E94\u7528\u7A0B\u5E8F\u548C\u670D\u52A1\u3002</p><h3 id="_3\u3001\u5728\u540C\u4E00\u786C\u4EF6\u4E0A\u8FD0\u884C\u66F4\u591A\u5DE5\u4F5C\u8D1F\u8F7D" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u5728\u540C\u4E00\u786C\u4EF6\u4E0A\u8FD0\u884C\u66F4\u591A\u5DE5\u4F5C\u8D1F\u8F7D" aria-hidden="true">#</a> 3\u3001\u5728\u540C\u4E00\u786C\u4EF6\u4E0A\u8FD0\u884C\u66F4\u591A\u5DE5\u4F5C\u8D1F\u8F7D</h3><p>Docker \u8F7B\u5DE7\u5FEB\u901F\u3002\u5B83\u4E3A\u57FA\u4E8E\u865A\u62DF\u673A\u7BA1\u7406\u7A0B\u5E8F\u7684\u865A\u62DF\u673A\u63D0\u4F9B\u4E86\u53EF\u884C\u3001\u7ECF\u6D4E\u3001\u9AD8\u6548\u7684\u66FF\u4EE3\u65B9\u6848\uFF0C\u56E0\u6B64\u60A8\u53EF\u4EE5\u5229\u7528\u66F4\u591A\u7684\u8BA1\u7B97\u80FD\u529B\u6765\u5B9E\u73B0\u4E1A\u52A1\u76EE\u6807\u3002Docker \u975E\u5E38\u9002\u5408\u4E8E\u9AD8\u5BC6\u5EA6\u73AF\u5883\u4EE5\u53CA\u4E2D\u5C0F\u578B\u90E8\u7F72\uFF0C\u800C\u60A8\u53EF\u4EE5\u7528\u66F4\u5C11\u7684\u8D44\u6E90\u505A\u66F4\u591A\u7684\u4E8B\u60C5\u3002</p><h1 id="\u4E8C\u3001\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u4E8C\u3001\u5B89\u88C5" aria-hidden="true">#</a> \u4E8C\u3001\u5B89\u88C5</h1><h2 id="\u5B89\u88C5\u65B9\u6CD5\u4E00" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u65B9\u6CD5\u4E00" aria-hidden="true">#</a> \u5B89\u88C5\u65B9\u6CD5\u4E00</h2><h3 id="\u524D\u63D0\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#\u524D\u63D0\u8BF4\u660E" aria-hidden="true">#</a> \u524D\u63D0\u8BF4\u660E</h3><p><strong>CentOS Docker\u5B89\u88C5</strong> Docker\u652F\u6301\u4EE5\u4E0B\u7684CentOS\u7248\u672C: CentOS 7 (64-bit) CentOS 6.5 (64-bit)\u6216\u66F4\u9AD8\u7684\u7248\u672C</p><p><strong>\u524D\u63D0\u6761\u4EF6</strong> \u76EE\u524D\uFF0CCentOS \u4EC5\u53D1\u884C\u7248\u672C\u4E2D\u7684\u5185\u6838\u652F\u6301Docker\u3002 Docker\u8FD0\u884C\u5728CentOS 7.\u4E0A\uFF0C\u8981\u6C42\u7CFB\u7EDF\u4E3A64\u4F4D\u3001\u7CFB\u7EDF\u5185\u6838\u7248\u672C\u4E3A3.10\u4EE5\u4E0A\u3002 Docker\u8FD0\u884C\u5728CentOS-6.5\u6216\u66F4\u9AD8\u7684\u7248\u672C\u7684CentOS\u4E0A\uFF0C\u8981\u6C42\u7CFB\u7EDF\u4E3A64\u4F4D\u3001\u7CFB<strong>\u7EDF\u5185\u6838\u7248\u672C\u4E3A2.6.32-431\u6216\u8005\u66F4\u9AD8\u7248\u672C\u3002</strong></p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152816301.png" alt="image-20220522152816301" loading="lazy"></p><h3 id="docker-\u7684\u57FA\u672C\u7EC4\u6210" tabindex="-1"><a class="header-anchor" href="#docker-\u7684\u57FA\u672C\u7EC4\u6210" aria-hidden="true">#</a> Docker \u7684\u57FA\u672C\u7EC4\u6210</h3><h4 id="docker\u67B6\u6784\u56FE" tabindex="-1"><a class="header-anchor" href="#docker\u67B6\u6784\u56FE" aria-hidden="true">#</a> docker\u67B6\u6784\u56FE</h4><p><img src="http://qnimg.gisfsde.com/work/image-20220522152904381.png" alt="image-20220522152904381" loading="lazy"></p><h4 id="\u955C\u50CF-image" tabindex="-1"><a class="header-anchor" href="#\u955C\u50CF-image" aria-hidden="true">#</a> \u955C\u50CF( image )</h4><p>Docker\u955C\u50CF(lmage)\u5C31\u662F-\u4E00\u4E2A\u53EA\u8BFB\u7684\u6A21\u677F\u3002\u955C\u50CF\u53EF\u4EE5\u7528\u6765\u521B\u5EFADocker\u5BB9\u5668\uFF0C\u4E2A\u955C\u50CF\u53EF\u4EE5\u521B\u5EFA\u5F88\u591A\u5BB9\u5668</p><p><img src="http://qnimg.gisfsde.com/work/image-20220522152915628.png" alt="image-20220522152915628" loading="lazy"></p><h4 id="\u5BB9\u5668-container" tabindex="-1"><a class="header-anchor" href="#\u5BB9\u5668-container" aria-hidden="true">#</a> \u5BB9\u5668( container)</h4><p>Docker\u5229\u7528\u5BB9\u5668(Container) \u72EC\u7ACB\u8FD0\u884C\u7684\u4E00\u4E2A\u6216\u4E00\u7EC4\u5E94\u7528\u3002<strong>\u5BB9\u5668\u662F\u7528\u955C\u50CF\u521B\u5EFA\u7684\u8FD0\u884C\u5B9E\u4F8B\u3002</strong> \u5B83\u53EF\u4EE5\u88AB\u542F\u52A8\u3001\u5F00\u59CB\u3001\u505C\u6B62\u3001\u5220\u9664\u3002\u6BCF\u4E2A\u5BB9\u5668\u90FD\u662F\u76F8\u4E92\u9694\u79BB\u7684\u3001\u4FDD\u8BC1\u5B89\u5168\u7684\u5E73\u53F0\u3002 <strong>\u53EF\u4EE5\u628A\u5BB9\u5668\u770B\u505A\u662F\u4E00\u4E2A\u7B80 \u6613\u7248\u7684Linux\u73AF\u5883</strong>(\u5305\u62ECroot\u7528\u6237\u6743\u9650\u3001\u8FDB\u7A0B\u7A7A\u95F4\u3001\u7528\u6237\u7A7A\u95F4\u548C\u7F51\u7EDC\u7A7A\u95F4\u7B49)\u548C\u8FD0\u884C\u5728\u5176\u4E2D\u7684\u5E94\u7528\u7A0B\u5E8F\u3002 \u5BB9\u5668\u7684\u5B9A\u4E49\u548C\u955C\u50CF\u51E0\u4E4E\u4E00\u6A21\u4E00\u6837\uFF0C\u4E5F\u662F\u4E00\u5806\u5C42\u7684\u7EDF\u4E00\u89C6\u89D2\uFF0C \u552F- -\u533A\u522B\u5728\u4E8E\u5BB9\u5668\u7684\u6700\u4E0A\u9762\u90A3-\u5C42\u662F\u53EF\u8BFB\u53EF\u5199\u7684\u3002</p><h4 id="\u4ED3\u5E93-repository" tabindex="-1"><a class="header-anchor" href="#\u4ED3\u5E93-repository" aria-hidden="true">#</a> \u4ED3\u5E93( repository)</h4><p>\u4ED3\u5E93(<strong>Repository</strong>) \u662F<strong>\u96C6\u4E2D\u5B58\u653E\u955C\u50CF</strong>\u6587\u4EF6\u7684\u573A\u6240\u3002 \u4ED3\u5E93(<strong>Repository</strong>)\u548C\u4ED3\u5E93\u6CE8\u518C\u670D\u52A1\u5668(<strong>Registry</strong>) \u662F\u6709\u533A\u522B\u7684\u3002\u4ED3\u5E93\u6CE8\u518C\u670D\u52A1\u5668\u4E0A\u5F80\u5F80\u5B58\u653E\u7740\u591A\u4E2A\u4ED3\u5E93\uFF0C\u6BCF\u4E2A\u4ED3\u5E93\u4E2D\u53C8\u5305\u542B\u4E86\u591A\u955C\u50CF\uFF0C \u6BCF\u4E2A\u955C\u50CF\u6709\u4E0D\u540C\u7684\u6807\u7B7E(tag) \u3002</p>',29),U=n("\u4ED3\u5E93\u5206\u4E3A\u516C\u5F00\u4ED3\u5E93("),P=s("strong",null,"Public",-1),F=n(") \u548C\u79C1\u6709\u4ED3\u5E93("),B=s("strong",null,"Private",-1),H=n(") \u4E24\u79CD\u5F62\u5F0F\u3002 "),M=n("\u6700\u5927\u7684\u516C\u5F00\u4ED3\u5E93\u662FDocker Hub(ttps://hub. "),G={href:"http://docker.com/",target:"_blank",rel:"noopener noreferrer"},j=n("docker.com/"),W=n(")"),Y=n(" \u5B58\u653E\u4E86\u6570\u91CF\u5E9E\u5927\u7684\u955C\u50CF\u4F9B\u7528\u6237\u4E0B\u8F7D\u3002\u56FD\u5185\u7684\u516C\u5F00\u4ED3\u5E93\u5305\u62EC\u963F\u91CC\u4E91\u3001\u7F51\u6613\u4E91\u7B49"),K=t(`<h4 id="\u5C0F\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u603B\u7ED3" aria-hidden="true">#</a> \u5C0F\u603B\u7ED3 ()</h4><p>\u9700\u8981\u6B63\u786E\u7684\u7406\u89E3\u4ED3\u50A8/\u955C\u50CF/\u5BB9\u5668\u8FD9\u51E0\u4E2A\u6982\u5FF5:</p><p>Docker\u672C\u8EAB\u662F\u4E00\u4E2A\u5BB9\u5668\u8FD0\u884C\u8F7D\u4F53\u6216\u79F0\u4E4B\u4E3A\u7BA1\u7406\u5F15\u64CE\u3002\u6211\u4EEC\u628A\u5E94\u7528\u7A0B\u5E8F\u548C\u914D\u7F6E\u4F9D\u8D56\u6253\u5305\u597D\u5F62\u6210\u4E00-\u4E2A\u53EF\u4EA4\u4ED8\u7684\u8FD0\u884C\u73AF\u5883\uFF0C\u8FD9\u4E2A\u6253\u597D\u7684\u8FD0\u884C\u73AF\u5883\u5C31\u4F3C\u4E4Eimage\u955C\u50CF\u6587\u4EF6\u3002\u53EA\u6709\u901A\u8FC7\u8FD9\u4E2A\u955C\u50CF\u6587\u4EF6\u624D\u80FD\u751F\u6210Docker\u5BB9\u5668\u3002image\u6587\u4EF6\u53EF\u4EE5\u770B\u4F5C\u662F\u5BB9\u5668\u7684\u6A21\u677F\u3002Docker\u6839\u636Eimage\u6587\u4EF6\u751F\u6210\u5BB9\u5668\u7684\u5B9E\u4F8B\u3002\u540C\u4E00\u4E2Aimage\u6587\u4EF6\uFF0C\u53EF\u4EE5\u751F\u6210\u591A\u4E2A\u540C\u65F6\u8FD0\u884C\u7684\u5BB9\u5668\u5B9E\u4F8B\u3002</p><p>image\u6587\u4EF6\u751F\u6210\u7684\u5BB9\u5668\u5B9E\u4F8B\uFF0C\u672C\u8EAB\u4E5F\u662F\u4E00\u4E00\u4E2A\u6587\u4EF6\uFF0C\u79F0\u4E3A\u955C\u50CF\u6587\u4EF6\u3002</p><p>\u4E00\u4E2A\u5BB9\u5668\u8FD0\u884C\u4E00\u79CD\u670D\u52A1\uFF0C\u5F53\u6211\u4EEC\u9700\u8981\u7684\u65F6\u5019\uFF0C\u5C31\u53EF\u4EE5\u901A\u8FC7docker\u5BA2\u6237\u7AEF\u521B\u5EFA\u4E00-\u4E2A\u5BF9\u5E94\u7684\u8FD0\u884C\u5B9E\u4F8B\uFF0C\u4E5F\u5C31\u662F\u6211\u4EEC\u7684\u5BB9\u5668\u81F3\u4E8E\u4ED3\u50A8\uFF0C\u5C31\u662F\u653E\u4E86\u4E00\u5806\u955C\u50CF\u7684\u5730\u65B9\uFF0C\u6211\u4EEC\u53EF\u4EE5\u628A\u955C\u50CF\u53D1\u5E03\u5230\u4ED3\u50A8\u4E2D\uFF0C\u9700\u8981\u7684\u65F6\u5019\u4ECE\u4ED3\u50A8\u4E2D\u62C9\u4E0B\u6765\u5C31\u53EF\u4EE5\u4E86\u3002|</p><h3 id="_2-1-\u5378\u8F7D\u7CFB\u7EDF\u4E4B\u524D\u5B89\u88C5\u7684docker" tabindex="-1"><a class="header-anchor" href="#_2-1-\u5378\u8F7D\u7CFB\u7EDF\u4E4B\u524D\u5B89\u88C5\u7684docker" aria-hidden="true">#</a> 2.1 \u5378\u8F7D\u7CFB\u7EDF\u4E4B\u524D\u5B89\u88C5\u7684docker</h3><p>Uninstall old versions.</p><p>\u4E00\u6B65\u4E00\u6B65\u5F80\u4E0B\u6267\u884C\u5C31\u884C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\\</span>
                  docker-client <span class="token punctuation">\\</span>
                  docker-client-latest <span class="token punctuation">\\</span>
                  docker-common <span class="token punctuation">\\</span>
                  docker-latest <span class="token punctuation">\\</span>
                  docker-latest-logrotate <span class="token punctuation">\\</span>
                  docker-logrotate <span class="token punctuation">\\</span>
                  docker-engine
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>SET UP THE REPOSITORY</p><p>Install the yum-utils package (which provides the yum-config-manager utility) and set up the stable repository.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils
<span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\\</span>
    --add-repo <span class="token punctuation">\\</span>
    https://download.docker.com/linux/centos/docker-ce.repo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>INSTALL DOCKER ENGINE 1.Install the latest version of Docker Engine and containerd, or go to the next step to install a specific version:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Start Docker</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Verify that Docker Engine is installed correctly by running the hello-world image.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> run hello-world
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8BBE\u7F6E docker \u5F00\u673A\u81EA\u542F\u52A8</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8BBE\u7F6E Docker \u955C\u50CF\u52A0\u901F</p>`,21),V=n("\u767B\u5F55 "),$={href:"http://aliyun.com",target:"_blank",rel:"noopener noreferrer"},J=n("aliyun.com"),X=n(" \u5728\u63A7\u5236\u53F0\u627E\u5230\u5BB9\u5668\u955C\u50CF\u670D\u52A1"),Z=t(`<p><img src="http://qnimg.gisfsde.com/work/1610948939792-421b248d-416d-4c57-b18d-33b5b9a3fbbb.png" alt="image-20201015144524435.png" loading="lazy"></p><p>docker \u8FDB\u5165 \u5BF9\u5E94\u5BB9\u5668</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> <span class="token function">ps</span>  <span class="token comment">#\u67E5\u770B\u4E3B\u673A\u6709\u54EA\u4E9B\u5BB9\u5668</span>
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it \u5BB9\u5668ID/NAME /bin/bash  <span class="token comment">#\u8FDB\u5165\u5BF9\u5E94\u5BB9\u5668</span>
<span class="token builtin class-name">exit</span><span class="token punctuation">;</span> <span class="token comment">#\u9000\u51FA\u5BB9\u5668[\u5FEB\u6377\u952E ctrl + p/q]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>image\u6587\u4EF6\u751F\u6210\u7684\u5BB9\u5668\u5B9E\u4F8B\uFF0C\u672C\u8EAB\u4E5F\u662F\u4E00\u4E00\u4E2A\u6587\u4EF6\uFF0C\u79F0\u4E3A\u955C\u50CF\u6587\u4EF6\u3002</p><p>\u4E00\u4E2A\u5BB9\u5668\u8FD0\u884C\u4E00\u79CD\u670D\u52A1\uFF0C\u5F53\u6211\u4EEC\u9700\u8981\u7684\u65F6\u5019\uFF0C\u5C31\u53EF\u4EE5\u901A\u8FC7docker\u5BA2\u6237\u7AEF\u521B\u5EFA\u4E00-\u4E2A\u5BF9\u5E94\u7684\u8FD0\u884C\u5B9E\u4F8B\uFF0C\u4E5F\u5C31\u662F\u6211\u4EEC\u7684\u5BB9\u5668\u81F3\u4E8E\u4ED3\u50A8\uFF0C\u5C31\u662F\u653E\u4E86\u4E00\u5806\u955C\u50CF\u7684\u5730\u65B9\uFF0C\u6211\u4EEC\u53EF\u4EE5\u628A\u955C\u50CF\u53D1\u5E03\u5230\u4ED3\u50A8\u4E2D\uFF0C\u9700\u8981\u7684\u65F6\u5019\u4ECE\u4ED3\u50A8\u4E2D\u62C9\u4E0B\u6765\u5C31\u53EF\u4EE5\u4E86\u3002|</p><h2 id="\u5B89\u88C5\u65B9\u6CD5\u4E8C" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5\u65B9\u6CD5\u4E8C" aria-hidden="true">#</a> \u5B89\u88C5\u65B9\u6CD5\u4E8C</h2><h4 id="centos6-8\u5B89\u88C5docker" tabindex="-1"><a class="header-anchor" href="#centos6-8\u5B89\u88C5docker" aria-hidden="true">#</a> Centos6.8\u5B89\u88C5Docker</h4><p>1\u3001yum install -y epel-release</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-02_19-48-53.png" alt="" loading="lazy"></p><p>2\u3001yum install -y docker-io</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-02_19-49-37.png" alt="" loading="lazy"></p><p>3\u3001\u5B89\u88C5\u540E\u7684\u914D\u7F6E\u6587\u4EF6\uFF1A etc/sysconfig/docker</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-02_19-50-17.png" alt="" loading="lazy"></p><p>4\u3001\u542F\u52A8 Docker\u540E\u53F0\u670D\u52A1: service docker start</p><p>5\u3001docker version \u9A8C\u8BC1</p><h4 id="centos7-0\u5B89\u88C5docker" tabindex="-1"><a class="header-anchor" href="#centos7-0\u5B89\u88C5docker" aria-hidden="true">#</a> Centos7.0\u5B89\u88C5Docker</h4>`,16),Q={href:"https://docs.docker.com/engine/install/centos/",target:"_blank",rel:"noopener noreferrer"},ss=n("https://docs.docker.com/engine/install/centos/"),ns=s("h3",{id:"\u6C38\u8FDC\u7684helloworld",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u6C38\u8FDC\u7684helloworld","aria-hidden":"true"},"#"),n(" \u6C38\u8FDC\u7684helloworld")],-1),as=s("h4",{id:"\u963F\u91CC\u4E91\u955C\u50CF\u52A0\u901F",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u963F\u91CC\u4E91\u955C\u50CF\u52A0\u901F","aria-hidden":"true"},"#"),n(" \u963F\u91CC\u4E91\u955C\u50CF\u52A0\u901F")],-1),es=s("p",null,"\u662F\u4EC0\u4E48",-1),ts=n("\u200B "),ps={href:"https://promotion.aliyun.com/ntms/act/kubernetes.html",target:"_blank",rel:"noopener noreferrer"},os=n("https://promotion.aliyun.com/ntms/act/kubernetes.html"),ls=s("p",null,"\u6CE8\u518C\u4E00\u4E2A\u5C5E\u4E8E\u81EA\u5DF1\u7684\u963F\u91CC\u4E91\u8D26\u6237( \u53EF\u590D\u7528\u6DD8\u5B9D\u8D26\u53F7)",-1),cs=s("p",null,"\u83B7\u5F97\u52A0\u901F\u5668\u5730\u5740\u8FDE\u63A5",-1),is=s("p",null,"\u200B \u767B\u5F55\u963F\u91CC\u4E91\u5F00\u53D1\u8005\u5E73\u53F0",-1),rs=s("p",null,"\u200B \u83B7\u53D6\u52A0\u901F\u5668\u5730\u5740",-1),ds=s("p",null,"\u914D\u7F6E\u672C\u673ADocker\u8FD0\u884C\u955C\u50CF\u52A0\u901F\u5668",-1),ks=s("p",null,"\u200B \u9274\u4E8E\u56FD\u5185\u7F51\u7EDC\u95EE\u9898\uFF0C\u540E\u7EED\u62C9\u53D6Docker\u955C\u50CF\u5341\u5206\u7F13\u6162\uFF0C\u6211\u4EEC\u53EF\u4EE5\u9700\u8981\u914D\u7F6E\u52A0\u901F\u5668\u6765\u89E3\u51B3\uFF0C \u6211\u4F7F\u7528\u7684\u662F\u963F\u91CC\u4E91\u7684\u672C\u4EBA\u81EA\u5DF1\u8D26\u53F7\u7684\u955C\u50CF\u5730\u5740(\u9700\u8981\u81EA\u5DF1\u6CE8\u518C\u6709\u4E00\u4E2A\u5C5E\u4E8E\u4F60\u81EA\u5DF1\u7684): ht:po/. mirror aliyuncns .com",-1),us=n('vim /etc/sysconfig/docker \u5C06\u83B7\u5F97\u7684\u81EA\u5DF1\u8D26\u6237\u4E0B\u7684\u963F\u91CC\u4E91\u52A0\u901F\u5730\u5740\u914D\u7F6E\u8FDB other_ args-="--registry-mirror='),ms={href:"https://xn--6qqz54j",target:"_blank",rel:"noopener noreferrer"},vs=n("https://\u4F60\u81EA"),bs=n(" \u5DF1\u7684\u8D26\u53F7\u52A0\u901F\u4FE1\u606F.mirror .aliyuncs.com"),hs=t(`<p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-02_20-19-10.png" alt="" loading="lazy"></p><p>\u91CD\u65B0\u542F\u52A8 Docker \u540E\u53F0\u670D\u52A1\uFF1Aservice docker restart</p><p>Linux\u7CFB\u7EDF\u4E0B\u914D\u7F6E\u5B8C\u52A0\u901F\u5668\u9700\u8981\u68C0\u67E5\u662F\u5426\u751F\u6548</p><h4 id="\u7F51\u6613\u4E91\u52A0\u901F" tabindex="-1"><a class="header-anchor" href="#\u7F51\u6613\u4E91\u52A0\u901F" aria-hidden="true">#</a> \u7F51\u6613\u4E91\u52A0\u901F</h4><p>\u57FA\u672C\u4E0A\u540C\u4E0A\u8FF0\u963F\u91CC\u4E91</p><p>\u542F\u52A8Docker\u540E\u53F0\u5BB9\u5668(\u6D4B\u8BD5\u8FD0\u884C hello-world )</p><p>\u200B docker run hello world</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_10-54-57.png" alt="" loading="lazy"></p><p>run\u5E72\u4E86\u4EC0\u4E48</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_10-55-24.png" alt="" loading="lazy"></p><h3 id="\u5E95\u5C42\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#\u5E95\u5C42\u539F\u7406" aria-hidden="true">#</a> \u5E95\u5C42\u539F\u7406</h3><h4 id="docker\u662F\u600E\u6837\u5DE5\u4F5C\u7684" tabindex="-1"><a class="header-anchor" href="#docker\u662F\u600E\u6837\u5DE5\u4F5C\u7684" aria-hidden="true">#</a> Docker\u662F\u600E\u6837\u5DE5\u4F5C\u7684</h4><p>Docker\u662F\u4E00\u4E2AClient-Server\u7ED3\u6784\u7684\u7CFB\u7EDF\uFF0CDocker\u5B88 \u62A4\u8FDB\u7A0B\u8FD0\u884C\u5728\u4E3B\u673A\u4E0A\uFF0C\u7136\u540E\u901A\u8FC7Socket\u8FDE \u63A5\u4ECE\u5BA2\u6237\u7AEF\u8BBF\u95EE\uFF0C\u5B88\u62A4\u8FDB\u7A0B\u4ECE\u5BA2\u6237\u7AEF\u63A5\u53D7\u547D\u4EE4\u5E76\u7BA1\u7406\u8FD0\u884C\u5728\u4E3B\u673A\u4E0A\u7684\u5BB9\u5668\u3002<strong>\u5BB9\u5668\uFF0C\u662F\u4E00\u4E2A\u8FD0\u884C\u65F6\u73AF\u5883\uFF0C\u5C31\u662F\u6211\u4EEC\u524D\u9762\u8BF4\u5230\u7684\u96C6\u88C5\u7BB1\u3002</strong></p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_10-58-47.png" alt="" loading="lazy"></p><h4 id="\u4E3A\u4EC0\u4E48docker\u6BD4\u8F83\u6BD4vm\u5FEB" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4EC0\u4E48docker\u6BD4\u8F83\u6BD4vm\u5FEB" aria-hidden="true">#</a> \u4E3A\u4EC0\u4E48Docker\u6BD4\u8F83\u6BD4vm\u5FEB</h4><p>1\u3001<strong>docker</strong>\u6709\u7740\u6BD4\u865A\u62DF\u673A\u66F4\u5C11\u7684\u62BD\u8C61\u5C42\u3002\u7531\u4E8Ddocker\u4E0D\u9700\u8981<strong>Hypervisor</strong>\u5B9E\u73B0\u786C\u4EF6\u8D44\u6E90\u865A\u62DF\u5316,\u8FD0\u884C\u5728docker\u5BB9\u5668\u4E0A\u7684\u7A0B\u5E8F\u76F4\u63A5\u4F7F\u7528\u7684\u90FD\u662F\u5B9E\u9645\u7269\u7406\u673A\u7684\u786C\u4EF6\u8D44\u6E90\u3002\u56E0\u6B64\u5728CPU\u3001\u5185\u5B58\u5229\u7528\u7387\u4E0Adocker\u5C06\u4F1A\u5728\u6548\u7387\u4E0A\u6709\u660E\u663E\u4F18\u52BF\u3002 2\u3001<strong>docker</strong>\u5229\u7528\u7684\u662F\u5BBF\u4E3B\u673A\u7684\u5185\u6838,\u800C\u4E0D\u9700\u8981<strong>Guest OS</strong>\u3002\u56E0\u6B64,\u5F53\u65B0\u5EFA\u4E00\u4E2A \u5BB9\u5668\u65F6,docker\u4E0D\u9700\u8981\u548C\u865A\u62DF\u673A\u4E00\u6837 \u91CD\u65B0\u52A0\u8F7D- - \u4E2A\u64CD\u4F5C\u7CFB\u7EDF\u5185\u6838\u4ECD\u800C\u907F\u514D\u5F15\u5BFB\u3001\u52A0\u8F7D\u64CD\u4F5C\u7CFB\u7EDF\u5185\u6838\u8FD4\u4E2A\u6BD4\u8F83\u8D39\u65F6\u8D39\u8D44\u6E90\u7684\u8FC7\u7A0B,\u5F53\u65B0\u5EFA--\u4E2A\u865A\u62DF\u673A\u65F6,\u865A\u62DF\u673A\u8F6F\u4EF6\u9700\u8981\u52A0\u8F7DGuestOS,\u8FD4\u4E2A\u65B0\u5EFA\u8FC7\u7A0B\u662F\u5206\u949F\u7EA7\u522B\u7684\u3002\u800Cdocker\u7531\u4E8E\u76F4\u63A5\u5229\u7528\u5BBF\u4E3B\u673A\u7684\u64CD\u4F5C\u7CFB\u7EDF,\u5219\u7701\u7565\u4E86\u8FD4\u4E2A\u8FC7\u7A0B,\u56E0\u6B64\u65B0\u5EFA\u4E00-\u4E2Adocker\u5BB9\u5668\u53EA\u9700\u8981\u51E0\u79D2\u949F\u3002</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_11-00-34.png" alt="" loading="lazy"></p><h1 id="\u4E09\u3001-docker\u5E38\u7528\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u4E09\u3001-docker\u5E38\u7528\u547D\u4EE4" aria-hidden="true">#</a> \u4E09\u3001 Docker\u5E38\u7528\u547D\u4EE4</h1><h3 id="\u5E2E\u52A9\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u5E2E\u52A9\u547D\u4EE4" aria-hidden="true">#</a> \u5E2E\u52A9\u547D\u4EE4</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> Version

<span class="token function">docker</span> info

<span class="token function">docker</span> --help
	\u81EA\u5DF1\u67E5\u770B\u5B98\u7F51\u89E3\u91CA\uFF0C\u9AD8\u624B\u90FD\u662F\u81EA\u5DF1\u7EC3\u51FA\u6765\u7684\uFF0C\u767E\u5EA6\u4E0A\u53EA\u4E0D\u8FC7\u662F\u7FFB\u8BD1\u4E86\u4E0B\uFF0C\u52A0\u4E86\u70B9\u4F8B\u5B50
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u955C\u50CF\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u955C\u50CF\u547D\u4EE4" aria-hidden="true">#</a> \u955C\u50CF\u547D\u4EE4</h3><h4 id="docker-images-\u5217\u51FA\u672C\u673A\u4E0A\u7684\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#docker-images-\u5217\u51FA\u672C\u673A\u4E0A\u7684\u955C\u50CF" aria-hidden="true">#</a> docker images \u5217\u51FA\u672C\u673A\u4E0A\u7684\u955C\u50CF</h4><h4 id="options-\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#options-\u8BF4\u660E" aria-hidden="true">#</a> <img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_11-09-33.png" alt="" loading="lazy">OPTIONS \u8BF4\u660E\uFF1A</h4><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code>-a \u5217\u51FA\u672C\u5730\u6240\u6709\u7684\u955C\u50CF(\u542B\u4E2D\u95F4\u6620\u5C04\u5C42)
-q \u53EA\u663E\u793A\u955C\u50CFID
--digests \u663E\u793A\u955C\u50CF\u7684\u6458\u8981\u4FE1\u606F
--no-trunc \u663E\u793A\u5B8C\u6574\u7684\u955C\u50CF\u4FE1\u606F
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="docker-search-\u67D0\u4E2Axxx\u955C\u50CF\u7684\u540D\u5B57" tabindex="-1"><a class="header-anchor" href="#docker-search-\u67D0\u4E2Axxx\u955C\u50CF\u7684\u540D\u5B57" aria-hidden="true">#</a> docker search \u67D0\u4E2AXXX\u955C\u50CF\u7684\u540D\u5B57</h4>`,25),ys=n("\u200B \u7F51\u7AD9 "),ws={href:"http://www.dockerhub.com",target:"_blank",rel:"noopener noreferrer"},gs=n("www.dockerhub.com"),fs=t(`<p>\u200B docker search [OPTIONS] \u955C\u50CF\u540D\u5B57</p><p>\u200B OPTIONS \u8BF4\u660E</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code>--no-trun \u663E\u793A\u5B8C\u6574\u7684\u955C\u50CF\u63CF\u8FF0
-s \u5217\u51FA\u6536\u85CF\u6570\u4E0D\u5C0F\u4E8E\u6307\u5B9A\u503C\u7684\u955C\u50CF
--automated \u53EA\u5217\u51FA automated build\u7C7B\u578B\u7684\u955C\u50CF
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="docker-pull-\u67D0\u4E2A\u955C\u50CF\u7684\u540D\u5B57" tabindex="-1"><a class="header-anchor" href="#docker-pull-\u67D0\u4E2A\u955C\u50CF\u7684\u540D\u5B57" aria-hidden="true">#</a> docker pull \u67D0\u4E2A\u955C\u50CF\u7684\u540D\u5B57</h4><p>\u200B \u4E0B\u8F7D\u955C\u50CF</p><p>\u200B docker pull \u955C\u50CF\u540D\u5B57[:TAG]</p><h4 id="docker-rmi-\u67D0\u4E2Axxx\u955C\u50CF\u7684\u540D\u5B57id" tabindex="-1"><a class="header-anchor" href="#docker-rmi-\u67D0\u4E2Axxx\u955C\u50CF\u7684\u540D\u5B57id" aria-hidden="true">#</a> docker rmi \u67D0\u4E2AXXX\u955C\u50CF\u7684\u540D\u5B57ID</h4><p>\u200B \u5220\u9664\u955C\u50CF</p><p>\u200B \u5220\u9664\u5355\u4E2A docker rm -f \u955C\u50CFID</p><p>\u200B \u5220\u9664\u591A\u4E2A docker rm -f \u955C\u50CF\u540D1:TAG \u955C\u50CF\u540D2:TAG</p>`,10),_s=s("p",{docker:"",images:"","-qa":""},"\u200B \u5220\u9664\u591A\u4E2A docker rmi -f $",-1),xs=t(`<h3 id="\u5BB9\u5668\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u5BB9\u5668\u547D\u4EE4" aria-hidden="true">#</a> \u5BB9\u5668\u547D\u4EE4</h3><p>\u6709\u955C\u50CF\u624D\u80FD\u521B\u5EFA\u5BB9\u5668\uFF0C\u8FD9\u662F\u6839\u672C\u524D\u63D0(\u4E0B\u8F7D\u4E00\u4E2ACentos\u955C\u50CF\u6F14\u793A)</p><p>\u200B docker pull centos</p><h4 id="\u65B0\u5EFA\u5E76\u542F\u52A8\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u65B0\u5EFA\u5E76\u542F\u52A8\u5BB9\u5668" aria-hidden="true">#</a> \u65B0\u5EFA\u5E76\u542F\u52A8\u5BB9\u5668</h4><p>\u200B docker run [OPTIONS] IMAGE [COMMAND][ARG]</p><p>\u200B OPTIONS \u8BF4\u660E</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>OPTIONS\u8BF4\u660E<span class="token punctuation">(</span>\u5E38\u7528<span class="token punctuation">)</span> <span class="token operator">:</span>\u6709\u4E9B\u662F\u4E00\u4E2A\u51CF\u53F7\uFF0C\u6709\u4E9B\u662F\u4E24\u4E2A\u51CF\u53F7
<span class="token operator">--</span>name<span class="token operator">=</span><span class="token string">&quot;\u5BB9\u5668\u65B0\u540D\u5B57&quot;</span><span class="token operator">:</span>\u4E3A\u5BB9\u5668\u6307\u5B9A\u4E00\u4E2A\u540D\u79F0<span class="token punctuation">;</span>
<span class="token operator">-</span>d<span class="token operator">:</span>\u540E\u53F0\u8FD0\u884C\u5BB9\u5668\uFF0C\u5E76\u8FD4\u56DE\u5BB9\u5668ID\uFF0C \u4E5F\u5373\u542F\u52A8\u5B88\u62A4\u5F0F\u5BB9\u5668<span class="token punctuation">;</span>
<span class="token operator">-</span>i<span class="token operator">:</span>\u4EE5\u4EA4\u4E92\u6A21\u5F0F\u8FD0\u884C\u5BB9\u5668\uFF0C\u901A\u5E38\u4E0E<span class="token operator">-</span>t\u540C\u65F6\u4F7F\u7528<span class="token punctuation">;</span>
<span class="token operator">-</span>t<span class="token operator">:</span>\u4E3A\u5BB9\u5668\u91CD\u65B0\u5206\u914D\u4E00\u4E2A\u4F2A\u8F93\u5165\u7EC8\u7AEF\uFF0C\u901A\u5E38\u4E0E<span class="token operator">-</span>i\u540C\u65F6\u4F7F\u7528<span class="token punctuation">;</span>
<span class="token operator">-</span><span class="token class-name">P</span><span class="token operator">:</span>\u968F\u673A\u7AEF\u53E3\u6620\u5C04<span class="token punctuation">;</span>
<span class="token operator">-</span>p<span class="token operator">:</span>\u6307\u5B9A\u7AEF\u53E3\u6620\u5C04\uFF0C\u6709\u4EE5\u4E0B\u56DB\u79CD\u683C\u5F0F
ip<span class="token operator">:</span>hostPort<span class="token operator">:</span>containerPort
ip<span class="token operator">::</span><span class="token function">containerPort</span>
hostPort<span class="token operator">:</span>containerPort
containerPort

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_11-40-34.png" alt="" loading="lazy"></p><h4 id="\u5217\u51FA\u5F53\u524D\u6240\u6709\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u5217\u51FA\u5F53\u524D\u6240\u6709\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668" aria-hidden="true">#</a> \u5217\u51FA\u5F53\u524D\u6240\u6709<strong>\u6B63\u5728\u8FD0\u884C</strong>\u7684\u5BB9\u5668</h4><p>\u200B docker ps [OPTIONS]</p><div class="language-JAVA ext-JAVA line-numbers-mode"><pre class="language-JAVA"><code>OPTIONS\u8BF4\u660E(\u5E38\u7528) :
-a :\u5217\u51FA\u5F53\u524D\u6240\u6709\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668+\u5386\u53F2\u4E0A\u8FD0\u884C\u8FC7\u7684
-|:\u663E\u793A\u6700\u8FD1\u521B\u5EFA\u7684\u5BB9\u5668\u3002
-n:\u663E\u793A\u6700\u8FD1n\u4E2A\u521B\u5EFA\u7684\u5BB9\u5668\u3002
-q :\u9759\u9ED8\u6A21\u5F0F\uFF0C\u53EA\u663E\u793A\u5BB9\u5668\u7F16\u53F7\u3002
--no-trunc :\u4E0D\u622A\u65AD\u8F93\u51FA\u3002

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u9000\u51FA\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u9000\u51FA\u5BB9\u5668" aria-hidden="true">#</a> \u9000\u51FA\u5BB9\u5668</h4><p>\u4E24\u79CD\u9000\u51FA\u65B9\u5F0F</p><p>\u200B exit \u5BB9\u5668\u505C\u6B62\u9000\u51FA</p><p>\u200B ctrl+P+Q \u5BB9\u5668\u4E0D\u505C\u6B62\u9000\u51FA</p><h4 id="\u542F\u52A8\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8\u5BB9\u5668" aria-hidden="true">#</a> \u542F\u52A8\u5BB9\u5668</h4><p>docker start \u5BB9\u5668ID\u6216\u5BB9\u5668\u7B7E\u540D</p><h4 id="\u91CD\u542F\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u91CD\u542F\u5BB9\u5668" aria-hidden="true">#</a> \u91CD\u542F\u5BB9\u5668</h4><p>docker restart \u5BB9\u5668ID\u6216\u5BB9\u5668\u7B7E\u540D</p><h4 id="\u505C\u6B62\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u505C\u6B62\u5BB9\u5668" aria-hidden="true">#</a> \u505C\u6B62\u5BB9\u5668</h4><p>docker stop \u5BB9\u5668ID\u6216\u5BB9\u5668\u7B7E\u540D</p><h4 id="\u5F3A\u5236\u505C\u6B62\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u5F3A\u5236\u505C\u6B62\u5BB9\u5668" aria-hidden="true">#</a> \u5F3A\u5236\u505C\u6B62\u5BB9\u5668</h4><p>docker kill \u5BB9\u5668ID\u6216\u5BB9\u5668\u7B7E\u540D</p><h4 id="\u5220\u9664\u5DF2\u505C\u6B62\u7684\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u5220\u9664\u5DF2\u505C\u6B62\u7684\u5BB9\u5668" aria-hidden="true">#</a> \u5220\u9664\u5DF2\u505C\u6B62\u7684\u5BB9\u5668</h4><p>docker rm \u5BB9\u5668ID -f</p><p>\u200B \u4E00\u6B21\u6027\u5220\u9664\u591A\u4E2A\u5BB9\u5668</p><p>\u200B docker rm -f $(docker ps -a -q)</p><p>\u200B docker ps -a -q | xargs docker rm</p><h3 id="\u91CD\u8981" tabindex="-1"><a class="header-anchor" href="#\u91CD\u8981" aria-hidden="true">#</a> \u91CD\u8981</h3><h4 id="\u542F\u52A8\u5B88\u62A4\u5F0F\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8\u5B88\u62A4\u5F0F\u5BB9\u5668" aria-hidden="true">#</a> \u542F\u52A8\u5B88\u62A4\u5F0F\u5BB9\u5668</h4><p>#\u4F7F\u7528\u955C\u50CFcentos:latest\u4EE5\u540E\u53F0\u6A21\u5F0F\u542F\u52A8\u4E00\u4E2A\u5BB9\u5668 docker run -d centos</p><p>\u95EE\u9898:\u7136\u540Edocker ps -a\u8FDB\u884C\u67E5\u770B,<strong>\u4F1A\u53D1\u73B0\u5BB9\u5668\u5DF2\u7ECF\u9000\u51FA</strong> \u5F88\u91CD\u8981\u7684\u8981\u8BF4\u660E\u7684\u4E00\u70B9: <strong>Docker\u5BB9\u5668\u540E\u53F0\u8FD0\u884C,\u5C31\u5FC5\u987B\u6709\u4E00\u4E2A\u524D\u53F0\u8FDB\u7A0B.</strong> \u5BB9\u5668\u8FD0\u884C\u7684\u547D\u4EE4\u5982\u679C\u4E0D\u662F\u90A3\u4E9B<strong>\u4E00\u76F4\u6302\u8D77\u7684\u547D\u4EE4</strong> (\u6BD4\u5982\u8FD0\u884Ctop\uFF0Ctail) \uFF0C\u5C31\u662F\u4F1A\u81EA\u52A8\u9000\u51FA\u7684\u3002 \u8FD9\u4E2A\u662F<strong>docker</strong>\u7684\u673A\u5236\u95EE\u9898,\u6BD4\u5982\u4F60\u7684web\u5BB9\u5668\uFF0C\u6211\u4EEC\u4EE5<strong>nginx</strong>\u4E3A\u4F8B\uFF0C\u6B63\u5E38\u60C5\u51B5\u4E0B,\u6211\u4EEC\u914D\u7F6E\u542F\u52A8\u670D\u52A1\u53EA\u9700\u8981\u542F\u52A8\u54CD\u5E94\u7684<strong>service</strong>\u5373\u53EF\u3002\u4F8B\u5982 service nginx start \u4F46\u662F,\u8FD9\u6837\u505A,<strong>nginx</strong>\u4E3A\u540E\u53F0\u8FDB\u7A0B\u6A21\u5F0F\u8FD0\u884C,\u5C31\u5BFC\u81F4<strong>docker</strong>\u524D\u53F0\u6CA1\u6709\u8FD0\u884C\u7684\u5E94\u7528,\u8FD9\u6837\u7684\u5BB9\u5668\u540E\u53F0\u542F\u52A8\u540E\uFF0C\u4F1A\u7ACB\u5373\u81EA\u6740\u56E0\u4E3A\u4ED6\u89C9\u5F97\u4ED6\u6CA1\u4E8B\u53EF\u505A\u4E86.\u6240\u4EE5\uFF0C\u6700\u4F73\u7684\u89E3\u51B3\u65B9\u6848\u662F\u5C06\u4F60\u8981\u8FD0\u884C\u7684\u7A0B\u5E8F\u4EE5\u524D\u53F0\u8FDB\u7A0B\u7684\u5F62\u5F0F\u8FD0\u884C</p><h4 id="\u67E5\u770B\u5BB9\u5668\u65E5\u5FD7" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u5BB9\u5668\u65E5\u5FD7" aria-hidden="true">#</a> \u67E5\u770B\u5BB9\u5668\u65E5\u5FD7</h4><p>docker logs -f -t --tail \u5BB9\u5668ID</p><p>\u200B -t \u662F\u52A0\u5165\u65F6\u95F4\u6233</p><p>\u200B -f \u8DDF\u968F\u6700\u65B0\u7684\u65E5\u5FD7\u6253\u5370</p><p>\u200B --tail \u6570\u5B57\u663E\u793A\u6700\u540E\u591A\u5C11\u6761</p><h4 id="\u67E5\u770B\u5BB9\u5668\u5185\u7684\u8FDB\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u5BB9\u5668\u5185\u7684\u8FDB\u7A0B" aria-hidden="true">#</a> \u67E5\u770B\u5BB9\u5668\u5185\u7684\u8FDB\u7A0B</h4><p>docker top \u5BB9\u5668ID</p><h4 id="\u67E5\u770B\u5BB9\u5668\u5185\u90E8\u7EC6\u8282" tabindex="-1"><a class="header-anchor" href="#\u67E5\u770B\u5BB9\u5668\u5185\u90E8\u7EC6\u8282" aria-hidden="true">#</a> \u67E5\u770B\u5BB9\u5668\u5185\u90E8\u7EC6\u8282</h4><p>docker inspect \u5BB9\u5668ID</p><h4 id="\u8FDB\u5165\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668\u5E76\u4EE5\u547D\u4EE4\u884C\u4EA4\u4E92" tabindex="-1"><a class="header-anchor" href="#\u8FDB\u5165\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668\u5E76\u4EE5\u547D\u4EE4\u884C\u4EA4\u4E92" aria-hidden="true">#</a> \u8FDB\u5165\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668\u5E76\u4EE5\u547D\u4EE4\u884C\u4EA4\u4E92</h4><p>docker exec -it \u5BB9\u5668ID bashShell</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_13-23-17.png" alt="" loading="lazy"></p><p>\u91CD\u65B0\u8FDB\u5165docker attach \u5BB9\u5668ID</p><p>\u4E0A\u8FF0\u4E24\u4E2A\u533A\u522B</p><p>attach \u76F4\u63A5\u8FDB\u5165\u5BB9\u5668\u542F\u52A8\u547D\u4EE4\u7684\u7EC8\u7AEF\uFF0C\u4E0D\u4F1A\u542F\u52A8\u65B0\u7684\u8FDB\u7A0B</p><p>exec \u5B9E\u5728\u5BB9\u5668\u4E2D\u6253\u5F00\u65B0\u7684\u7EC8\u7AEF\uFF0C\u5E76\u4E14\u53EF\u4EE5\u7A77\u7684\u90A3\u4E2A\u65B0\u7684\u8FDB\u7A0B</p><h4 id="\u4ECE\u5BB9\u5668\u5185\u62F7\u8D1D\u6587\u4EF6\u5230\u4E3B\u673A\u4E0A" tabindex="-1"><a class="header-anchor" href="#\u4ECE\u5BB9\u5668\u5185\u62F7\u8D1D\u6587\u4EF6\u5230\u4E3B\u673A\u4E0A" aria-hidden="true">#</a> \u4ECE\u5BB9\u5668\u5185\u62F7\u8D1D\u6587\u4EF6\u5230\u4E3B\u673A\u4E0A</h4><p>docker cp \u5BB9\u5668ID:\u5BB9\u5668\u5185\u8DEF\u5F84 \u76EE\u7684\u4E3B\u673A\u8DEF\u5F84</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_13-26-40.png" alt="" loading="lazy"></p><h3 id="\u5C0F\u603B\u7ED3-1" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u603B\u7ED3-1" aria-hidden="true">#</a> \u5C0F\u603B\u7ED3</h3><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_13-30-12.png" alt="" loading="lazy"></p><p><img src="http://qnimg.gisfsde.com/work/20201003133051.png" alt="" loading="lazy"></p><h1 id="\u7B2C-\u3001-docker-\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#\u7B2C-\u3001-docker-\u955C\u50CF" aria-hidden="true">#</a> \u7B2C \u3001 Docker \u955C\u50CF</h1><h2 id="\u662F\u4EC0\u4E48-1" tabindex="-1"><a class="header-anchor" href="#\u662F\u4EC0\u4E48-1" aria-hidden="true">#</a> \u662F\u4EC0\u4E48</h2><p>\u955C\u50CF\u662F\u4E00\u79CD\u8F7B\u91CF\u7EA7\u3001\u53EF\u6267\u884C\u7684\u72EC\u7ACB\u8F6F\u4EF6\u5305\uFF0C\u7528\u6765\u6253\u5305\u8F6F\u4EF6\u8FD0\u884C\u73AF\u5883\u548C\u57FA\u4E8E\u8FD0\u884C\u73AF\u5883\u5F00\u53D1\u7684\u8F6F\u4EF6\uFF0C\u5B83\u5305\u542B\u8FD0\u884C\u67D0\u4E2A\u8F6F\u4EF6\u6240\u9700\u7684\u6709\u5185\u5BB9\uFF0C\u5305\u62EC\u4EE3\u7801\u3001\u8FD0\u884C\u65F6\u3001\u5E93\u3001\u73AF\u5883\u53D8\u91CF\u548C\u914D\u7F6E\u6587\u4EF6\u3002</p><h3 id="unionfs-\u8054\u5408\u6587\u4EF6\u7CFB\u7EDF" tabindex="-1"><a class="header-anchor" href="#unionfs-\u8054\u5408\u6587\u4EF6\u7CFB\u7EDF" aria-hidden="true">#</a> UnionFS(\u8054\u5408\u6587\u4EF6\u7CFB\u7EDF)</h3><p>UnionFS (\u72B6\u8282\u53C8\u4EF6\u793A\u7EDF) UnionFS (\u8054\u5408\u6587\u4EF6\u7CFB\u7EDF) : Union\u6587\u4EF6\u7CFB\u7EDF(UnionFS)\u662F\u4E00\u4E00\u79CD\u5206\u5C42\u3001\u8F7B\u91CF\u7EA7\u5E76\u4E14\u9AD8\u6027\u80FD\u7684\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u5B83\u652F\u6301\u5BF9\u6587\u4EF6\u7CFB\u7EDF\u7684\u4FEE\u4F5C\u4E3A\u4E00 \u6B21\u63D0\u4EA4\u6765\u4E00\u5C42\u5C42\u7684\u53E0\u52A0\uFF0C\u540C\u65F6\u53EF\u4EE5\u5C06\u4E0D\u540C\u76EE\u5F55\u6302\u8F7D\u5230\u540C\u4E00\u4E2A\u865A\u62DF\u6587\u4EF6\u7CFB\u7EDF\u4E0B(unite several directories into a singlevirtualfilesystem)\u3002Union\u6587\u4EF6\u7CFB\u7EDF\u662FDocker\u955C\u50CF\u7684\u57FA\u7840\u3002\u955C\u50CF\u53EF\u4EE5\u901A\u8FC7\u5206\u5C42\u6765\u8FDB\u884C\u7EE7\u627F\uFF0C\u57FA\u4E8E\u57FA\u7840\u955C\u50CF(\u6CA1\u6709\u7236\u955C\u50CF)\u53EF\u4EE5\u5236\u4F5C\u5404\u79CD\u5177.\u4F53\u7684\u5E94\u7528\u955C\u50CF\u3002</p><p>\u7279\u6027:\u4E00\u6B21\u540C\u65F6\u52A0\u8F7D\u591A\u4E2A\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u4F46\u4ECE\u5916\u9762\u770B\u8D77\u6765\uFF0C\u53EA\u80FD\u770B\u5230\u4E00\u4E2A\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u8054\u5408\u52A0\u8F7D\u4F1A\u628A\u5404\u5C42\u6587\u4EF6\u7CFB\u7EDF\u53E0\u52A0\u8D77\u6765\uFF0C\u8FD9\u6837\u6700\u7EC8\u7684\u6587 \u4EF6\u7CFB\u7EDF\u4F1A\u5305\u542B\u6240\u6709\u5E95\u5C42\u7684\u6587\u4EF6\u548C\u76EE\u5F55</p><h3 id="docker\u955C\u50CF\u52A0\u8F7D\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#docker\u955C\u50CF\u52A0\u8F7D\u539F\u7406" aria-hidden="true">#</a> Docker\u955C\u50CF\u52A0\u8F7D\u539F\u7406</h3><p><strong>Docker\u955C\u50CF\u52A0\u8F7D\u539F\u7406:</strong><strong>docker</strong>\u7684\u955C\u50CF\u5B9E\u9645\u4E0A\u7531\u4E00\u5C42\u4E00\u5C42\u7684\u6587\u4EF6\u7CFB\u7EDF\u7EC4\u6210\uFF0C\u8FD9\u79CD\u5C42\u7EA7\u7684\u6587\u4EF6\u7CFB\u7EDF<strong>UnionFS\u3002</strong></p><p><strong>botfs(boot file system)<strong>\u4E3B\u8981\u5305\u542B</strong>bootloader</strong>\u548C<strong>kernel</strong>, <strong>bootloader</strong>\u4E3B \u8981\u662F\u5F15\u5BFC\u52A0\u8F7D<strong>kernel</strong>, <strong>Linux</strong>\u521A\u542F\u52A8\u65F6\u4F1A\u52A0\u8F7Dbootfs\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u5728<strong>Docker</strong>\u955C\u50CF\u7684\u6700\u5E95\u5C42\u662F<strong>bootfs</strong>\u3002\u8FD9\u4E00-\u5C42\u4E0E\u6211\u4EEC\u5178\u578B\u7684<strong>Linux/Unix</strong>\u7CFB\u7EDF\u662F- - -\u6837\u7684\uFF0C\u5305\u542Bboot\u52A0\u8F7D\u5668\u548C\u5185\u6838\u3002\u5F53boot\u52A0\u8F7D\u5B8C\u6210\u4E4B \u540E\u6574\u4E2A\u5185\u6838\u5C31\u90FD\u5728\u5185\u5B58\u4E2D\u4E86\uFF0C\u6B64\u65F6\u5185\u5B58\u7684\u4F7F\u7528\u6743\u5DF1\u7531bootfs\u8F6C\u4EA4\u7ED9\u5185\u6838\uFF0C\u6B64\u65F6\u7CFB\u7EDF\u4E5F\u4F1A\u5378\u8F7Dbootfs\u3002</p><p><strong>rootfs (root file system)\uFF0C<strong>\u5728</strong>bootfs</strong>\u4E4B \u4E0A\u3002 \u5305\u542B\u7684\u5C31\u662F\u5178\u578BLinux\u7CFB\u7EDF\u4E2D\u7684**/dev, /proc, /bin, /etc<strong>\u7B49\u6807\u51C6\u76EE\u5F55\u548C\u6587\u4EF6\u3002<strong>rootfs</strong>\u5C31 \u662F\u5404\u79CD\u4E0D\u540C\u7684\u64CD\u4F5C\u7CFB\u7EDF\u53D1\u884C\u7248\uFF0C\u6BD4\u5982</strong>Ubuntu**\uFF0C<strong>Centos</strong>\u7B49\u7B49\u3002</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_13-38-28.png" alt="" loading="lazy"></p><p>\u5E73\u65F6\u6211\u4EEC\u5B89\u88C5\u7684\u865A\u62DF\u673A\u7684Centos\u90FD\u662F\u597D\u51E0\u4E2AG \uFF0C\u4E3A\u4EC0\u4E48docker\u8FD9\u91CC\u624D\u8981200m</p><p><img src="http://qnimg.gisfsde.com/work/QQ\u622A\u56FE20201003133908.png" alt="" loading="lazy"></p><p>\u5BF9\u4E8E\u4E00\u4E2A\u7CBE\u7B80\u7684<strong>OS, rootfs</strong>\u53EF \u4EE5\u5F88\u5C0F\uFF0C\u53EA\u9700\u8981\u5305\u62EC\u6700\u57FA\u672C\u7684\u547D\u4EE4\u3001\u5DE5\u5177\u548C\u7A0B\u5E8F\u5E93\u5C31\u53EF\u4EE5\u4E86\uFF0C\u56E0\u4E3A\u5E95\u5C42\u76F4\u63A5\u7528<strong>Host</strong>\u7684<strong>kernel</strong>,\u81EA\u53EA\u9700\u8981\u63D0\u4F9Brootfs\u5C31\u884C\u4E86\u3002\u7531\u6B64\u53EF\u89C1\u5BF9\u4E8E\u4E0D\u540C\u7684<strong>linux</strong>\u53D1\u884C\u7248, <strong>bootfs</strong>\u57FA\u672C\u662F\u4E00\u81F4\u7684, <strong>rootfs</strong>\u4F1A\u6709\u5DEE\u522B\uFF0C\u56E0\u6B64\u4E0D\u540C\u7684\u53D1\u884C\u7248\u53EF\u4EE5\u516C\u7528<strong>bootfs</strong>\u3002</p><h3 id="\u5206\u5C42\u7684\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#\u5206\u5C42\u7684\u955C\u50CF" aria-hidden="true">#</a> \u5206\u5C42\u7684\u955C\u50CF</h3><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_13-40-06.png" alt="" loading="lazy"></p><h3 id="\u5206\u5C42\u7684\u955C\u50CF-1" tabindex="-1"><a class="header-anchor" href="#\u5206\u5C42\u7684\u955C\u50CF-1" aria-hidden="true">#</a> \u5206\u5C42\u7684\u955C\u50CF</h3><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_14-02-22.png" alt="" loading="lazy"></p><h3 id="\u4E3A\u4EC0\u4E48-docker\u7EAA\u5FF5\u9986\u60F3\u8981\u91C7\u7528\u8FD9\u79CD\u5206\u5C42\u7ED3\u6784" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4EC0\u4E48-docker\u7EAA\u5FF5\u9986\u60F3\u8981\u91C7\u7528\u8FD9\u79CD\u5206\u5C42\u7ED3\u6784" aria-hidden="true">#</a> \u4E3A\u4EC0\u4E48 Docker\u7EAA\u5FF5\u9986\u60F3\u8981\u91C7\u7528\u8FD9\u79CD\u5206\u5C42\u7ED3\u6784</h3><p>\u6700\u5927\u7684\u4E00\u4E2A\u597D\u5904\u5C31\u662F-<strong>\u5171\u4EAB\u8D44\u6E90</strong> \u6BD4\u5982:<strong>\u6709\u591A\u4E2A\u955C\u50CF\u90FD\u4ECE\u76F8\u540C\u7684base\u955C\u50CF\u6784\u5EFA\u800C\u6765</strong>\uFF0C\u90A3\u4E48\u5BBF\u4E3B\u673A\u53EA\u9700\u5728\u78C1\u76D8\u4E0A\u4FDD\u5B58\u4E00\u4EFD<strong>base</strong>\u955C\u50CF, \u540C\u65F6\u5185\u5B58\u4E2D\u4E5F\u53EA\u9700\u52A0\u8F7D\u4E00\u4EFD<strong>base</strong>\u955C\u50CF\uFF0C\u5C31\u53EF\u4EE5\u4E3A\u6240\u6709\u5BB9\u5668\u670D\u52A1\u4E86\u3002\u800C\u4E14\u955C\u50CF\u7684\u6BCF\u4E00\u5C42\u90FD\u53EF\u4EE5\u88AB\u5171\u4EAB\u3002</p><h2 id="\u7279\u70B9" tabindex="-1"><a class="header-anchor" href="#\u7279\u70B9" aria-hidden="true">#</a> \u7279\u70B9</h2><p>Docker\u955C\u50CF\u90FD\u662F\u53EA\u8BFB\u7684\uFF0C\u5F53\u5BB9\u5668\u542F\u52A8\u65F6\uFF0C\u4E00\u4E2A\u65B0\u7684\u53EF\u5199\u5C42\u88AB\u52A0\u8F7D\u5230<strong>\u955C\u50CF\u7684\u9876\u90E8</strong>\uFF0C\u8FD9\u4E00\u5C42\u901A\u5E38\u88AB\u79F0\u4E3A<strong>\u5BB9\u5668\u5C42</strong>\uFF0C\u5BB9\u5668\u5C42\u4E4B\u4E0B\u90FD\u53EB<strong>\u955C\u50CF\u5C42</strong></p><h2 id="docker\u955C\u50CFcommit\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#docker\u955C\u50CFcommit\u64CD\u4F5C" aria-hidden="true">#</a> Docker\u955C\u50CFCommit\u64CD\u4F5C</h2><p>docker commit \u63D0\u4EA4\u5BB9\u5668\u526F\u672C\u4F7F\u4E4B\u79F0\u4E3A\u4E00\u4E2A\u65B0\u7684\u955C\u50CF</p><p>docker commit -m=&quot;\u63D0\u4EA4\u7684\u63CF\u8FF0\u4FE1\u606F&quot; -a=&quot;\u4F5C\u8005&quot; \u5BB9\u5668ID \u8981\u521B\u5EFA\u7684\u76EE\u6807\u955C\u50CF\u540D:[\u6807\u7B7E\u540D]</p><h4 id="\u6848\u4F8B\u6F14\u793A" tabindex="-1"><a class="header-anchor" href="#\u6848\u4F8B\u6F14\u793A" aria-hidden="true">#</a> \u6848\u4F8B\u6F14\u793A\uFF1A</h4><p>1\u3001\u4ECEHub\u4E0A\u4E0B\u8F7Dtomcat\u955C\u50CF\u5230\u672C\u5730\u5E76\u6210\u529F\u8FD0\u884C</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_14-26-27.png" alt="" loading="lazy"></p><p>docker run -d -p 8080:8080 tomcat</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">-</span>p\u4E3B\u673A\u7AEF\u53E3\uFF1Adocker\u5BB9\u5668\u7AEF\u53E3
<span class="token operator">-</span><span class="token class-name">P</span><span class="token operator">:</span>\u968F\u673A\u5206\u914D\u7AEF\u53E3
i<span class="token operator">:</span>\u4EA4\u4E92
t<span class="token operator">:</span>\u7EC8\u7AEF
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2\u3001\u6545\u610F\u5220\u9664\u4E0A\u4E00\u6B65\u955C\u50CF\u751F\u4EA7tomcat\u5BB9\u5668\u7684\u6587\u6863</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_14-28-22.png" alt="" loading="lazy"></p><p>3\u3001\u4E5F\u5373\u5F53\u524D\u7684tomcat\u8FD0\u884C\u5B9E\u4F8B\u662F\u4E00\u4E2A\u6CA1\u6709\u6587\u6863\u5185\u5BB9\u7684\u5BB9\u5668\uFF0C\u4EE5\u4ED6\u4E3A\u6A21\u677Fcommit\u4E00\u4E2A\u6CA1\u6709doc\u7684tomcat\u65B0\u955C\u50CF atguigu/tomcat02</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_14-29-38.png" alt="" loading="lazy"></p><p>4\u3001\u542F\u52A8\u6211\u4EEC\u7684\u65B0\u955C\u50CF\u5E76\u548C\u539F\u6765\u7684\u5BF9\u6BD4</p><p>\u200B \u542F\u52A8atuigu/tomcat02 \u6CA1\u6709doc</p><p>\u200B \u542F\u52A8\u539F\u6765tomcat\u4ED6\u6709doc</p><h1 id="\u4E94-\u3001docker\u5BB9\u5668\u6570\u636E\u5377" tabindex="-1"><a class="header-anchor" href="#\u4E94-\u3001docker\u5BB9\u5668\u6570\u636E\u5377" aria-hidden="true">#</a> \u4E94 \u3001Docker\u5BB9\u5668\u6570\u636E\u5377</h1><h2 id="\u662F\u4EC0\u4E48-2" tabindex="-1"><a class="header-anchor" href="#\u662F\u4EC0\u4E48-2" aria-hidden="true">#</a> \u662F\u4EC0\u4E48</h2><p>\u5148\u6765\u770B\u770B<strong>Docker</strong>\u7684\u7406\u5FF5: *\u5C06\u8FD0\u7528\u4E0E\u8FD0\u884C\u7684\u73AF\u5883\u6253\u5305\u5F62\u6210\u5BB9\u5668\u8FD0\u884C\uFF0C\u8FD0\u884C\u53EF\u4EE5\u4F34\u968F\u7740\u5BB9\u5668\uFF0C\u4F46\u662F\u6211\u4EEC\u5BF9\u6570\u636E\u7684\u8981\u6C42\u5E0C\u671B\u662F\u6301\u4E45\u5316\u7684 *\u5BB9\u5668\u4E4B\u95F4\u5E0C\u671B\u6709\u53EF\u80FD\u5171\u4EAB\u6570\u636E <strong>Docker</strong>\u5BB9\u5668\u4EA7\u751F\u7684\u6570\u636E\uFF0C\u5982\u679C\u4E0D\u901A\u8FC7<strong>docker</strong> <strong>commit</strong>\u751F\u6210\u65B0\u7684\u955C\u50CF\uFF0C\u4F7F\u5F97\u6570\u636E\u505A\u4E3A\u955C\u50CF\u7684\u4E00\u90E8\u5206\u4FDD\u5B58\u4E0B\u6765\uFF0C \u90A3\u4E48\u5F53\u5BB9\u5668\u5220\u9664\u540E\uFF0C\u6570\u636E\u81EA\u7136\u4E5F\u5C31\u6CA1\u6709\u4E86\u3002 \u4E3A\u4E86\u80FD\u4FDD\u5B58\u6570\u636E\u5728docker\u4E2D\u6211\u4EEC\u4F7F\u7528\u5377\u3002|</p><p>\u4E00\u53E5\u8BDD\uFF1A\u6709\u70B9\u7C7B\u4F3C\u6211\u4EECRedis\u91CC\u9762\u7684rdb\u548Caof\u6587\u4EF6</p><h2 id="\u80FD\u5E72\u561B-1" tabindex="-1"><a class="header-anchor" href="#\u80FD\u5E72\u561B-1" aria-hidden="true">#</a> \u80FD\u5E72\u561B</h2><p>\u5377\u5C31\u662F\u76EE\u5F55\u6216\u6587\u4EF6\uFF0C\u5B58\u5728\u4E8E\u4E00\u4E2A\u6216\u591A\u4E2A\u5BB9\u5668\u4E2D\uFF0C\u7531<strong>docker</strong>\u6302\u8F7D\u5230\u5BB9\u5668\uFF0C\u4F46\u4E0D\u5C5E\u4E8E\u8054\u5408\u6587\u4EF6\u7CFB\u7EDF\uFF0C\u56E0\u6B64\u80FD\u591F\u7ED5\u8FC7Union FileSystem\u63D0\u4F9B\u4E00\u4E9B\u7528 \u4E8E\u6301\u7EED\u5B58\u50A8\u6216\u5171\u4EAB\u6570\u636E\u7684\u7279\u6027: \u5377\u7684\u8BBE\u8BA1\u76EE\u7684\u5C31\u662F\u6570\u636E\u7684\u6301\u4E45\u5316\uFF0C\u5B8C\u5168\u72EC\u7ACB\u4E8E\u5BB9\u5668\u7684\u751F\u5B58\u5468\u671F\uFF0C\u56E0\u6B64Docker\u4E0D \u4F1A\u5728\u5BB9\u5668\u5220\u9664\u65F6\u5220\u9664\u5176\u6302\u8F7D\u7684\u6570\u636E\u5377</p><p>\u7279\u70B9: 1:\u6570\u636E\u5377\u53EF\u5728\u5BB9\u5668\u4E4B\u95F4\u5171\u4EAB\u6216\u91CD\u7528\u6570\u636E 2:\u5377\u4E2D\u7684\u66F4\u6539\u53EF\u4EE5\u76F4\u63A5\u751F\u6548 3:\u6570\u636E\u5377\u4E2D\u7684\u66F4\u6539\u4E0D\u4F1A\u5305\u542B\u5728\u955C\u50CF\u7684\u66F4\u65B0\u4E2D 4:\u6570\u636E\u5377\u7684\u751F\u547D\u5468\u671F\u4E00\u76F4\u6301\u7EED\u5230\u6CA1\u6709\u5BB9\u5668\u4F7F\u7528\u5B83\u4E3A\u6B62</p><p><strong>\u5BB9\u5668\u7684\u6301\u4E45\u5316</strong></p><p><strong>\u5BB9\u5668\u95F4\u7EE7\u627F+\u5171\u4EAB\u6570\u636E</strong></p><h2 id="\u6570\u636E\u5377" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5377" aria-hidden="true">#</a> \u6570\u636E\u5377</h2><h3 id="\u5BB9\u5668\u5185\u6DFB\u52A0" tabindex="-1"><a class="header-anchor" href="#\u5BB9\u5668\u5185\u6DFB\u52A0" aria-hidden="true">#</a> \u5BB9\u5668\u5185\u6DFB\u52A0</h3><h4 id="\u76F4\u63A5\u547D\u4EE4\u6DFB\u52A0" tabindex="-1"><a class="header-anchor" href="#\u76F4\u63A5\u547D\u4EE4\u6DFB\u52A0" aria-hidden="true">#</a> \u76F4\u63A5\u547D\u4EE4\u6DFB\u52A0</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-30-44.png" alt="" loading="lazy"></p><p>docker run -it -v /\u5BBF\u4E3B\u673A\u7EDD\u5BF9\u8DEF\u5F84\u76EE\u5F55:/\u5BB9\u5668\u5185\u76EE\u5F55 \u955C\u50CF\u540D</p><p>\u67E5\u770B\u6570\u636E\u5377\u662F\u5426\u6302\u8F7D\u6210\u529F</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-31-52.png" alt="" loading="lazy"></p><p>\u5BB9\u5668\u548C\u5BBF\u4E3B\u673A\u4E4B\u95F4\u6570\u636E\u5171\u4EAB</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-32-19.png" alt="" loading="lazy"></p><p>\u5BB9\u5668\u505C\u6B62\u9000\u51FA\u540E\uFF0C\u4E3B\u673A\u4FEE\u6539\u540E\u7684\u6570\u636E\u662F\u5426\u540C\u6B65</p><p><img src="http://qnimg.gisfsde.com/work/image/Snipaste_2020-10-03_15-33-03.png" alt="" loading="lazy"></p><p>\u547D\u4EE4(\u5E26\u6743\u9650)</p><p>\u200B docker run -it -v /\u5BBF\u4E3B\u673A\u7EDD\u5BF9\u8DEF\u5F84\u76EE\u5F55:/\u5BB9\u5668\u5185\u76EE\u5F55**:ro** \u955C\u50CF\u540D</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-33-49.png" alt="" loading="lazy"></p><h4 id="dockerfile\u6DFB\u52A0" tabindex="-1"><a class="header-anchor" href="#dockerfile\u6DFB\u52A0" aria-hidden="true">#</a> DockerFile\u6DFB\u52A0</h4><p>\u6839\u76EE\u5F55\u4E0B\u65B0\u5EFAmydocker\u6587\u4EF6\u5939\u5E76\u8FDB\u5165</p><p>\u53EF\u5728Dockerfile\u4E2D\u4F7F\u7528VOLUME\u6307\u4EE4\u6765\u7ED9\u955C\u50CF\u6DFB\u52A0\u4E00\u4E2A\u6216\u591A\u4E2A\u6570\u636E\u5377</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-35-17.png" alt="" loading="lazy"></p><p>File\u6784\u5EFA</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-35-37.png" alt="" loading="lazy"></p><p>build\u540E\u751F\u6210\u955C\u50CF</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-36-01.png" alt="" loading="lazy"></p><p>\u83B7\u5F97\u4E00\u4E2A\u65B0\u955C\u50CFzzyy/centos</p><p>run\u5BB9\u5668</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-36-31.png" alt="" loading="lazy"></p><p>\u901A\u8FC7\u4E0A\u8FF0\u6B65\u9AA4\uFF0C\u5BB9\u5668\u5185\u7684\u5377\u76EE\u5F55\u5730\u5740\u5DF2\u7ECF\u77E5\u9053\uFF0C\u5BF9\u5E94\u7684\u4E3B\u673A\u76EE\u5F55\u5728\u54EA</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-37-05.png" alt="" loading="lazy"></p><p><strong>\u4E3B\u673A\u5BF9\u5E94\u9ED8\u8BA4\u5730\u5740</strong></p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-37-22.png" alt="" loading="lazy"></p><p>\u5907\u6CE8</p><p>Docker\u6302\u8F7D\u4E3B\u673A\u76EE\u5F55Docker\u8BBF\u95EE\u51FA\u73B0cannot open directory . Permission denied \u89E3\u51B3\u529E\u6CD5:\u5728\u6302\u8F7D\u76EE\u5F55\u540E\u591A\u52A0\u4E00\u4E2A--privileged=true\u53C2\u6570\u5373\u53EF</p><h2 id="\u6570\u636E\u5377\u5BB9\u5668" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5377\u5BB9\u5668" aria-hidden="true">#</a> \u6570\u636E\u5377\u5BB9\u5668</h2><h3 id="\u662F\u4EC0\u4E48-3" tabindex="-1"><a class="header-anchor" href="#\u662F\u4EC0\u4E48-3" aria-hidden="true">#</a> \u662F\u4EC0\u4E48</h3><p>\u547D\u540D\u7684\u5BB9\u5668\u6302\u8F7D\u6570\u636E\u5377\uFF0C\u5176\u5B83\u5BB9\u5668\u901A\u8FC7\u6302\u8F7D\u8FD9\u4E2A(\u7236\u5BB9\u5668)\u5B9E\u73B0\u6570\u636E\u5171\u4EAB\uFF0C\u6302\u8F7D\u6570\u636E\u5377\u7684\u5BB9\u5668\uFF0C\u79F0\u4E4B\u4E3A\u6570\u636E\u5377\u5BB9\u5668.</p><h3 id="\u603B\u4F53\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#\u603B\u4F53\u4ECB\u7ECD" aria-hidden="true">#</a> \u603B\u4F53\u4ECB\u7ECD</h3><p>\u4EE5\u4E0A\u4E00\u6B65\u65B0\u5EFA\u7684zzyy/centos\u4E3A\u6A21\u677F\u5E76\u8FD0\u884C\u5BB9\u5668 doc1/doc2/doc3</p><p>\u4ED6\u4EEC\u5DF2\u7ECF\u5177\u6709\u5BB9\u5668\u5377</p><p>\u200B /dataVolumeContainer1</p><p>\u200B /dataVolumeContainer2</p><h3 id="\u5BB9\u5668\u95F4\u4F20\u9012\u5171\u4EAB-volumes-from" tabindex="-1"><a class="header-anchor" href="#\u5BB9\u5668\u95F4\u4F20\u9012\u5171\u4EAB-volumes-from" aria-hidden="true">#</a> \u5BB9\u5668\u95F4\u4F20\u9012\u5171\u4EAB(--volumes -from)</h3><h4 id="\u5148\u542F\u52A8\u4E00\u4E2A\u7236\u5BB9\u5668doc1" tabindex="-1"><a class="header-anchor" href="#\u5148\u542F\u52A8\u4E00\u4E2A\u7236\u5BB9\u5668doc1" aria-hidden="true">#</a> \u5148\u542F\u52A8\u4E00\u4E2A\u7236\u5BB9\u5668doc1</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-40-46.png" alt="" loading="lazy"></p><p>\u542F\u52A8\u540E\u5728 dataVolumeContainer1\u4E2D\u65B0\u589E\u5185\u5BB9</p><h4 id="doc2-doc3-\u7EE7\u627Fdoc1" tabindex="-1"><a class="header-anchor" href="#doc2-doc3-\u7EE7\u627Fdoc1" aria-hidden="true">#</a> doc2/doc3 \u7EE7\u627Fdoc1</h4><p>\u200B <strong>--volumes -from</strong></p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-41-51.png" alt="" loading="lazy"></p><p>doc2/doc3 \u5206\u522B\u5728dataVolumeContainer2\u5404\u81EA\u65B0\u589E\u5185\u5BB9</p><h4 id="\u56DE\u5230doc1\u53EF\u4EE5\u770B\u523002-03\u5404\u81EA\u6DFB\u52A0\u7684\u90FD\u80FD\u5171\u4EAB\u4E86" tabindex="-1"><a class="header-anchor" href="#\u56DE\u5230doc1\u53EF\u4EE5\u770B\u523002-03\u5404\u81EA\u6DFB\u52A0\u7684\u90FD\u80FD\u5171\u4EAB\u4E86" aria-hidden="true">#</a> \u56DE\u5230doc1\u53EF\u4EE5\u770B\u523002/03\u5404\u81EA\u6DFB\u52A0\u7684\u90FD\u80FD\u5171\u4EAB\u4E86</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-42-46.png" alt="" loading="lazy"></p><h4 id="\u5220\u9664doc1-doc2\u4FEE\u6539\u540Edoc3\u662F\u5426\u53EF\u4EE5\u8BBF\u95EE" tabindex="-1"><a class="header-anchor" href="#\u5220\u9664doc1-doc2\u4FEE\u6539\u540Edoc3\u662F\u5426\u53EF\u4EE5\u8BBF\u95EE" aria-hidden="true">#</a> \u5220\u9664doc1 doc2\u4FEE\u6539\u540Edoc3\u662F\u5426\u53EF\u4EE5\u8BBF\u95EE</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-43-31.png" alt="" loading="lazy"></p><h4 id="\u5220\u9664doc02\u540Edoc3\u662F\u5426\u8BBF\u95EE" tabindex="-1"><a class="header-anchor" href="#\u5220\u9664doc02\u540Edoc3\u662F\u5426\u8BBF\u95EE" aria-hidden="true">#</a> \u5220\u9664doc02\u540Edoc3\u662F\u5426\u8BBF\u95EE</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-43-57.png" alt="" loading="lazy"></p><p>\u5728\u8FDB\u4E00\u6B65</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-44-11.png" alt="" loading="lazy"></p><h4 id="\u65B0\u5EFAdoc04\u7EE7\u627Fdoc03-\u7136\u540E\u5220\u9664doc03" tabindex="-1"><a class="header-anchor" href="#\u65B0\u5EFAdoc04\u7EE7\u627Fdoc03-\u7136\u540E\u5220\u9664doc03" aria-hidden="true">#</a> \u65B0\u5EFAdoc04\u7EE7\u627Fdoc03 \u7136\u540E\u5220\u9664doc03</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_15-44-56.png" alt="" loading="lazy"></p><p><strong>\u7ED3\u8BBA\uFF1A\u5BB9\u5668\u4E4B\u95F4\u914D\u7F6E\u4FE1\u606F\u7684\u4F20\u9012\uFF0C\u6570\u636E\u5377\u7684\u751F\u547D\u5468\u671F\u4E00\u76F4\u6301\u7EED\u5230\u6CA1\u6709\u5BB9\u5668\u4F7F\u7528\u5B83\u4E3A\u6B62</strong></p><h1 id="\u516D-\u3001-dockerfile\u89E3\u6790" tabindex="-1"><a class="header-anchor" href="#\u516D-\u3001-dockerfile\u89E3\u6790" aria-hidden="true">#</a> \u516D \u3001 DockerFile\u89E3\u6790</h1><h2 id="\u662F\u4EC0\u4E48-4" tabindex="-1"><a class="header-anchor" href="#\u662F\u4EC0\u4E48-4" aria-hidden="true">#</a> \u662F\u4EC0\u4E48</h2><h3 id="dockerfile\u662F\u7528\u6765\u6784\u5EFAdocker\u955C\u50CF\u7684\u6784\u5EFA\u6587\u4EF6-\u7531\u4E00\u7CFB\u5217\u547D\u4EE4\u548C\u53C2\u6570\u6784\u6210\u7684\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#dockerfile\u662F\u7528\u6765\u6784\u5EFAdocker\u955C\u50CF\u7684\u6784\u5EFA\u6587\u4EF6-\u7531\u4E00\u7CFB\u5217\u547D\u4EE4\u548C\u53C2\u6570\u6784\u6210\u7684\u811A\u672C" aria-hidden="true">#</a> Dockerfile\u662F\u7528\u6765\u6784\u5EFADocker\u955C\u50CF\u7684\u6784\u5EFA\u6587\u4EF6\uFF0C\u7531\u4E00\u7CFB\u5217\u547D\u4EE4\u548C\u53C2\u6570\u6784\u6210\u7684\u811A\u672C</h3><h3 id="\u6784\u5EFA\u4E09\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#\u6784\u5EFA\u4E09\u6B65\u9AA4" aria-hidden="true">#</a> \u6784\u5EFA\u4E09\u6B65\u9AA4</h3><p>\u200B \u7F16\u5199Dockerfile\u6587\u4EF6</p><p>\u200B docker build</p><p>\u200B docker run</p><h3 id="\u6587\u4EF6\u4EC0\u4E48\u6837" tabindex="-1"><a class="header-anchor" href="#\u6587\u4EF6\u4EC0\u4E48\u6837" aria-hidden="true">#</a> \u6587\u4EF6\u4EC0\u4E48\u6837\uFF1F\uFF1F\uFF1F</h3><p>\u200B \u719F\u6089\u7684Centos\u4E3A\u4F8B</p>`,167),qs={href:"http://hub.docker.com/_/centos",target:"_blank",rel:"noopener noreferrer"},Ts=n("http://hub.docker.com/_/centos"),Ss=t(`<p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-32-12.png" alt="" loading="lazy"></p><h2 id="dockerfile\u6784\u5EFA\u8FC7\u7A0B\u89E3\u6790" tabindex="-1"><a class="header-anchor" href="#dockerfile\u6784\u5EFA\u8FC7\u7A0B\u89E3\u6790" aria-hidden="true">#</a> DockerFile\u6784\u5EFA\u8FC7\u7A0B\u89E3\u6790</h2><p>Dockerfile\u5185\u5BB9\u57FA\u7840\u77E5\u8BC6</p><p>1\u3001\u6BCF\u6761\u4FDD\u7559\u5B57\u6307\u4EE4\u90FD\u5FC5\u987B\u4E3A\u5927\u5199\u5B57\u6BCD\u4E14\u540E\u9762\u8981\u8DDF\u968F\u81F3\u5C11\u4E00\u4E2A\u53C2\u6570 2\u3001 \u6307\u4EE4\u6309\u7167\u4ECE.\u4E0A\u5230\u4E0B\uFF0C\u987A\u5E8F\u6267\u884C 3\u3001#\u8868\u793A\u6CE8\u91CA 4\u3001\u6BCF\u6761\u6307\u4EE4\u90FD\u4F1A\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u955C\u50CF\u5C42\uFF0C\u5E76\u5BF9\u955C\u50CF\u8FDB\u884C\u63D0\u4EA4</p><h3 id="docker\u6267\u884Cdockerfile\u7684\u5927\u81F4\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#docker\u6267\u884Cdockerfile\u7684\u5927\u81F4\u6D41\u7A0B" aria-hidden="true">#</a> Docker\u6267\u884CDockerfile\u7684\u5927\u81F4\u6D41\u7A0B</h3><p>1\u3001 docker \u4ECE\u57FA\u7840\u955C\u50CF\u8FD0\u884C\u4E00\u4E2A\u5BB9\u5668 2\u3001\u6267\u884C\u4E00-\u6761\u6307\u4EE4\u5E76\u5BF9\u5BB9\u5668\u4F5C\u51FA\u4FEE\u6539 3\u3001\u6267\u884C\u7C7B\u4F3Cdocker commit\u7684\u64CD\u4F5C\u63D0\u4EA4- -\u4E2A\u65B0\u7684\u955C\u50CF\u5C42 4\u3001docker\u518D\u57FA \u4E8E\u521A\u63D0\u4EA4\u7684\u955C\u50CF\u8FD0\u884C\u4E00\u4E00\u4E2A\u65B0\u5BB9\u5668 5\u3001\u6267\u884Cdockerfile\u4E2D\u7684 \u4E0B\u4E00\u6761\u6307\u4EE4\u76F4\u5230\u6240\u6709\u6307\u4EE4\u90FD\u6267\u884C\u5B8C\u6210</p><h3 id="\u5C0F\u603B\u7ED3-2" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u603B\u7ED3-2" aria-hidden="true">#</a> \u5C0F\u603B\u7ED3</h3><p>\u4ECE\u5E94\u7528\u8F6F\u4EF6\u7684\u89D2\u5EA6\u6765\u770B\uFF0CDockerfile\u3001 Docker\u955C\u50CF\u4E0EDocker\u5BB9\u5668\u5206\u522B\u4EE3\u8868\u8F6F\u4EF6\u7684\u4E09\u4E2A\u4E0D\u540C\u9636\u6BB5\uFF0C Dockerfile\u662F\u8F6F\u4EF6\u7684\u539F\u6750\u6599 Docker\u955C\u50CF\u662F\u8F6F\u4EF6\u7684\u4EA4\u4ED8\u54C1 Docker\u5BB9\u5668\u5219\u53EF\u4EE5\u8BA4\u4E3A\u662F\u8F6F\u4EF6\u7684\u8FD0\u884C\u6001\u3002 Dockerfile\u9762\u5411\u5F00\u53D1\uFF0CDocker\u955C \u50CF\u6210\u4E3A\u4EA4\u4ED8\u6807\u51C6\uFF0CDocker\u5BB9 \u5668\u5219\u6D89\u53CA\u90E8\u7F72\u4E0E\u8FD0\u7EF4\uFF0C\u4E09\u8005\u7F3A- -\u4E0D\u53EF\uFF0C\u5408\u529B\u5145\u5F53Docker\u4F53\u7CFB\u7684\u57FA\u77F3\u3002</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-35-08.png" alt="" loading="lazy"></p><p>1\u3001Dockerfile\uFF0C\u9700\u8981\u5B9A\u4E49\u4E00\u4E2ADockerfile\uFF0CDockerfile\u5B9A \u4E49\u4E86\u8FDB\u7A0B\u9700\u8981\u7684\u4E00\u5207\u4E1C\u897F\u3002Dockerfile\u6D89 \u53CA\u7684\u5185\u5BB9\u5305\u62EC\u6267\u884C\u4EE3\u7801\u6216\u8005\u662F\u6587\u4EF6\u3001\u73AF\u5883\u53D8\u91CF\u3001\u4F9D\u8D56\u5305\u3001\u8FD0\u884C\u65F6\u73AF\u5883\u3001\u52A8\u6001\u94FE\u63A5\u5E93\u3001\u64CD\u4F5C\u7CFB\u7EDF\u7684\u53D1\u884C\u7248\u3001\u670D\u52A1\u8FDB\u7A0B\u548C\u5185\u6838\u8FDB\u7A0B(\u5F53\u5E94\u7528\u8FDB\u7A0B\u9700\u8981\u548C\u7CFB\u7EDF\u670D\u52A1\u548C\u5185\u6838\u8FDB\u7A0B\u6253\u4EA4\u9053\uFF0C\u8FD9\u65F6\u9700\u8981\u8003\u8651\u5982\u4F55\u8BBE\u8BA1namespace\u7684\u6743\u9650\u63A7\u5236)\u7B49\u7B49; 2\u3001Docker\u955C\u50CF\uFF0C\u5728\u7528Dockerfile\u5B9A\u4E49\u4E00\u6587\u4EF6\u4E4B\u540E\uFF0Cdocker build\u65F6\u4F1A\u4EA7\u751F- -\u4E2ADocker\u955C\u50CF\uFF0C\u5F53\u8FD0\u884CDocker\u955C\u50CF\u65F6\uFF0C\u4F1A\u771F\u6B63\u5F00\u59CB\u63D0\u4F9B\u670D\u52A1; 3\u3001Docker\u5BB9\u5668\uFF0C\u5BB9\u5668\u662F\u76F4\u63A5\u63D0\u4F9B\u670D\u52A1\u7684\u3002</p><h2 id="dockerfile\u4F53\u7CFB\u7ED3\u6784-\u4FDD\u7559\u5B57\u6307\u4EE4" tabindex="-1"><a class="header-anchor" href="#dockerfile\u4F53\u7CFB\u7ED3\u6784-\u4FDD\u7559\u5B57\u6307\u4EE4" aria-hidden="true">#</a> DockerFile\u4F53\u7CFB\u7ED3\u6784(\u4FDD\u7559\u5B57\u6307\u4EE4)</h2><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-47-26.png" style="zoom:200%;"><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-47-58.png" alt="" loading="lazy"></p><p>\u5C0F\u603B\u7ED3</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-48-16.png" alt="" loading="lazy"></p><h2 id="\u6848\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u6848\u4F8B" aria-hidden="true">#</a> \u6848\u4F8B</h2><h3 id="base-\u955C\u50CF-scratch" tabindex="-1"><a class="header-anchor" href="#base-\u955C\u50CF-scratch" aria-hidden="true">#</a> Base \u955C\u50CF(scratch)</h3><p>Docker Hub\u4E2D 99%\u7684\u955C\u50CF\u90FD\u662F\u901A\u8FC7\u5728base\u955C\u50CF\u4E2D\u5B89\u88C5\u548C\u914D\u7F6E\u9700\u8981\u7684\u8F6F\u4EF6\u6784\u5EFA\u51FA\u6765\u7684</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-52-43.png" alt="" loading="lazy"></p><h3 id="\u81EA\u5B9A\u4E49\u955C\u50CFmycentos" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u955C\u50CFmycentos" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u955C\u50CFmycentos</h3><h4 id="_1\u3001\u7F16\u5199" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u7F16\u5199" aria-hidden="true">#</a> 1\u3001\u7F16\u5199</h4><p>\u200B Hub\u9ED8\u8BA4Centos\u955C\u50CF\u662F\u4EC0\u4E48\u60C5\u51B5</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-53-44.png" alt="" loading="lazy"></p><p>\u51C6\u5907Dockerfile\u6587\u4EF6</p><p>myCentOS\u5185\u5BB9Dockerfile</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-54-40.png" alt="" loading="lazy"></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>FROM centos
MAINTAINER ZZYY<span class="token punctuation">\\</span><span class="token operator">&lt;</span>zzyy167@126.com<span class="token operator">&gt;</span>

ENV MYPATH /usr/local
WORKDIR <span class="token variable">$MYPATH</span>

RUN yum -y <span class="token function">install</span> <span class="token function">vim</span>
RUN yum -y <span class="token function">install</span> net-tools

EXPOSE <span class="token number">80</span>

CMD <span class="token builtin class-name">echo</span> <span class="token variable">$MYPATH</span>
CMD <span class="token builtin class-name">echo</span> <span class="token string">&quot;success--------------ok&quot;</span>
CMD /bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2\u3001\u6784\u5EFA" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u6784\u5EFA" aria-hidden="true">#</a> 2\u3001\u6784\u5EFA</h4><p>docker build -t \u65B0\u955C\u50CF\u540D\u5B57:TAG .</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-56-15.png" alt="" loading="lazy"></p><h4 id="_3\u3001\u8FD0\u884C" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u8FD0\u884C" aria-hidden="true">#</a> 3\u3001\u8FD0\u884C</h4><p>docker run -it \u65B0\u955C\u50CF\u540D\u5B57:TAG</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_17-57-09.png" alt="" loading="lazy"></p><h4 id="_4\u3001\u5217\u51FA\u955C\u50CF\u7684\u53D8\u66F4\u5386\u53F2" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u5217\u51FA\u955C\u50CF\u7684\u53D8\u66F4\u5386\u53F2" aria-hidden="true">#</a> 4\u3001\u5217\u51FA\u955C\u50CF\u7684\u53D8\u66F4\u5386\u53F2</h4><p>docker history \u955C\u50CF\u540D</p><p>CMD/ENTRYPOINT \u955C\u50CF\u6848\u4F8B</p><p>\u90FD\u662F\u6307\u5B9A\u4E00\u4E2A\u5BB9\u5668\u542F\u52A8\u65F6\u8981\u8FD0\u884C\u7684\u547D\u4EE4</p><h3 id="cmd" tabindex="-1"><a class="header-anchor" href="#cmd" aria-hidden="true">#</a> CMD</h3><p>\u200B Dockerfile\u4E2D\u53EF\u4EE5\u6709\u591A\u4E2ACMD\u6307\u4EE4\uFF0C\u4F46\u53EA\u6709\u6700\u540E\u4E00\u4E2A\u751F\u6548\uFF0CCMD\u4F1A\u88ABdockerrun\u4E4B\u540E\u7684\u53C2\u6570\u66FF\u6362</p><p>\u200B Case</p><p>\u200B tomcat\u7684\u8BB2\u89E3\u6F14\u793A docker run -it -p 8080:8080 tomcat ls -l</p><h5 id="entrypoint" tabindex="-1"><a class="header-anchor" href="#entrypoint" aria-hidden="true">#</a> ENTRYPOINT</h5><p>\u200B docker run \u4E4B\u540E\u7684\u53C2\u6570\u4F1A\u88AB\u5F53\u505A\u53C2\u6570\u4F20\u9012\u7ED9 ENTRYPOINT \u4E4B\u540E\u5F62\u6210\u65B0\u7684\u547D\u4EE4\u7EC4\u5408</p><p>\u200B Case</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-02-41.png" alt="" loading="lazy"></p><p>\u5236\u4F5CCMD\u7248\u53EF\u4EE5\u67E5\u8BE2IP\u4FE1\u606F\u7684\u5BB9\u5668</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-03-11.png" alt="" loading="lazy"></p><h5 id="curl\u7684\u547D\u4EE4\u89E3\u91CA" tabindex="-1"><a class="header-anchor" href="#curl\u7684\u547D\u4EE4\u89E3\u91CA" aria-hidden="true">#</a> curl\u7684\u547D\u4EE4\u89E3\u91CA</h5><p><strong>curl</strong>\u547D\u4EE4\u53EF\u4EE5\u7528\u6765\u6267\u884C\u4E0B\u8F7D\u3001\u53D1\u9001\u5404\u79CD<strong>HTTP</strong>\u8BF7\u6C42\uFF0C\u6307\u5B9A<strong>HTTP</strong>\u5934\u90E8\u7B49\u64CD\u4F5C\u3002</p>`,49),Rs=n("\u5982\u679C\u7CFB\u7EDF\u6CA1\u6709"),Ds=s("strong",null,"curl",-1),Is=n("\u53EF\u4EE5\u4F7F\u7528"),As=s("strong",null,"yum install curl",-1),Os=n("\u5B89\u88C5\uFF0C\u4E5F\u53EF\u4EE5\u4E0B\u8F7D\u5B89\u88C5\u3002 "),zs=s("strong",null,"curl\u662F\u5C06\u4E0B\u8F7D\u6587\u4EF6\u8F93\u51FA\u5230stdout",-1),Es=n(" \u4F7F\u7528\u547D\u4EE4: curl "),Ls={href:"http://www",target:"_blank",rel:"noopener noreferrer"},Ns=n("http://www"),Cs=n(" .baidu.com \u6267\u884C\u540E\uFF0Cwww.baidu.com\u7684html\u5C31\u4F1A\u663E\u793A\u5728\u5C4F\u5E55\u4E0A\u4E86"),Us=s("p",null,"\u8FD9\u662F\u6700\u7B80\u5355\u7684\u4F7F\u7528\u65B9\u6CD5\u3002\u7528\u8FD9\u4E2A\u547D\u4EE4\u83B7\u5F97\u4E86htp://curl.haxx.se\u6307\u5411\u7684\u9875\u9762\uFF0C\u540C\u6837\uFF0C\u5982\u679C\u8FD9\u91CC\u7684URL\u6307\u5411\u7684\u662F--\u4E2A\u6587\u4EF6\u6216\u8005\u4E00\u5E45\u56FE\u90FD\u53EF\u4EE5\u76F4\u63A5\u4E0B\u8F7D\u5230\u672C\u5730\u3002\u5982\u679C\u4E0B\u8F7D\u7684\u662FHTML\u6587\u6863\uFF0C\u90A3\u4E48\u7F3A\u7701\u7684\u5C06\u53EA\u663E\u793A\u6587\u4EF6\u5934\u90E8\uFF0C\u5373HTML\u6587\u6863\u7684header\u3002\u8981\u5168\u90E8\u663E\u793A\uFF0C\u8BF7\u52A0\u53C2\u6570-i",-1),Ps=s("p",null,"WHY",-1),Fs=n("\u6211\u4EEC\u53EF\u4EE5\u770B\u5230\u53EF\u6267\u884C\u6587\u4EF6\u627E\u4E0D\u5230\u7684\u62A5\u9519\uFF0C"),Bs=s("strong",null,"executable file not found\u3002",-1),Hs=n(" \u4E4B\u524D\u6211\u4EEC\u8BF4\u8FC7\uFF0C"),Ms=s("strong",null,"\u8DDF\u5728\u955C\u50CF\u540D\u540E\u9762\u7684\u662Fcommand,\u8FD0\u884C\u65F6\u4F1A\u66FF\u6362CMD\u7684\u9ED8\u8BA4\u503C\u3002",-1),Gs=n(" \u56E0\u6B64\u8FD9\u91CC\u7684-i\u66FF\u6362\u4E86\u539F\u6765\u7684CMD\uFF0C\u800C\u4E0D\u662F\u6DFB\u52A0\u5728\u539F\u6765\u7684curl -s htp://ip.cn\u540E\u9762\u3002\u800C-i \u6839\u672C\u4E0D\u662F\u547D\u4EE4\uFF0C\u6240\u4EE5\u81EA\u7136\u627E\u4E0D\u5230\u3002 \u90A3\u4E48\u5982\u679C\u6211\u4EEC\u5E0C\u671B\u52A0\u5165-i\u8FD9\u53C2\u6570\uFF0C\u6211\u4EEC\u5C31\u5FC5\u987B\u91CD\u65B0\u5B8C\u6574\u7684\u8F93\u5165\u8FD9\u4E2A\u547D\u4EE4: "),js=n("$ docker run myip curl -s "),Ws={href:"http://ip.cn",target:"_blank",rel:"noopener noreferrer"},Ys=n("http://ip.cn"),Ks=n(" -i"),Vs=t(`<p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-05-28.png" alt="" loading="lazy"></p><h3 id="\u81EA\u5B9A\u4E49\u955C\u50CFtomcat" tabindex="-1"><a class="header-anchor" href="#\u81EA\u5B9A\u4E49\u955C\u50CFtomcat" aria-hidden="true">#</a> \u81EA\u5B9A\u4E49\u955C\u50CFTomcat</h3><h5 id="_1\u3001mkdir-p-zzyy-mydockerfile-tomcat9" tabindex="-1"><a class="header-anchor" href="#_1\u3001mkdir-p-zzyy-mydockerfile-tomcat9" aria-hidden="true">#</a> 1\u3001mkdir -p /zzyy/mydockerfile/tomcat9</h5><h5 id="_2\u3001\u5728\u4E0A\u8FF0\u76EE\u5F55\u4E0B-touch-c-txt" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u5728\u4E0A\u8FF0\u76EE\u5F55\u4E0B-touch-c-txt" aria-hidden="true">#</a> 2\u3001\u5728\u4E0A\u8FF0\u76EE\u5F55\u4E0B touch c.txt</h5><h5 id="_3\u3001\u5C06jdk\u548Ctomcat\u5B89\u88C5\u7684\u538B\u7F29\u5305\u62F7\u8D1D\u8FDB\u4E0A\u4E00\u6B65\u76EE\u5F55" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u5C06jdk\u548Ctomcat\u5B89\u88C5\u7684\u538B\u7F29\u5305\u62F7\u8D1D\u8FDB\u4E0A\u4E00\u6B65\u76EE\u5F55" aria-hidden="true">#</a> 3\u3001\u5C06jdk\u548Ctomcat\u5B89\u88C5\u7684\u538B\u7F29\u5305\u62F7\u8D1D\u8FDB\u4E0A\u4E00\u6B65\u76EE\u5F55</h5><h5 id="_4\u3001\u5728zzyyuse-mydockerfile-tomcat9\u76EE\u5F55\u4E0B\u65B0\u5EFAdockerfile\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u5728zzyyuse-mydockerfile-tomcat9\u76EE\u5F55\u4E0B\u65B0\u5EFAdockerfile\u6587\u4EF6" aria-hidden="true">#</a> 4\u3001\u5728zzyyuse/mydockerfile/tomcat9\u76EE\u5F55\u4E0B\u65B0\u5EFADockerfile\u6587\u4EF6</h5><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> centos</span>
<span class="token instruction"><span class="token keyword">MAINTAINER</span> zzyy\\&lt;zzyybs@ 126.com&gt;</span>
<span class="token comment">#\u628A\u5BBF\u4E3B\u673A\u5F53\u524D\u4E0A\u4E0B\u6587\u7684c .txt\u62F7\u8D1D\u5230\u5BB9\u5668/usr/local/\u8DEF\u5F84\u4E0B</span>
<span class="token instruction"><span class="token keyword">COPY</span> c.txt /usr/local/cincontainer.txt</span>
<span class="token comment">#\u628Ajava\u4E0Etomcat\u6DFB\u52A0\u5230\u5BB9\u5668\u4E2D</span>
<span class="token instruction"><span class="token keyword">ADD</span> jdk-8u171-linux x64.tar .gz /usr/local/</span>
<span class="token instruction"><span class="token keyword">ADD</span> apache-tomcat-9.0.8.tar.gz /usr/ocal/</span>
<span class="token comment">#\u5B89\u88C5vim\u7F16\u8F91\u5668</span>
<span class="token instruction"><span class="token keyword">RUN</span> yum -y install vim</span>
<span class="token comment">#\u8BBE\u7F6E\u5DE5 \u4F5C\u8BBF\u95EE\u65F6\u5019\u7684WORKDIR\u8DEF\u5F84\uFF0C \u767B\u5F55\u843D\u811A\u70B9</span>
<span class="token instruction"><span class="token keyword">ENV</span> MYPATH /usr/local</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> <span class="token variable">$MYPATH</span></span>
<span class="token comment">#\u914D:\u7F6Ejava\u4E0Etomcat\u73AF\u5883\u53D8\u91CF</span>
<span class="token instruction"><span class="token keyword">ENV</span> JAVA_ HOME /usr/localjdk1 .8.0_ 171</span>
<span class="token instruction"><span class="token keyword">ENV</span> CLASSPATH <span class="token variable">$JAVA_</span> HOME/lib/dt.jar:<span class="token variable">$JAVA_</span> HOME/lib/tools.jar</span>
<span class="token instruction"><span class="token keyword">ENV</span> CATALINA_ HOME /usr/local/apache-tomcat-9.0.8</span>
<span class="token instruction"><span class="token keyword">ENV</span> CATALINA_ BASE /usr/ocal/apache-tomcat-9.0.8</span>
<span class="token instruction"><span class="token keyword">ENV</span> PATH <span class="token variable">$PATH</span>:<span class="token variable">$JAVA_</span> HOME/bin:<span class="token variable">$CATALINA_</span> HOME/ib:<span class="token variable">$CATALINA_</span> HOME/bin</span>
<span class="token comment">#\u5BB9\u5668\u8FD0\u884C\u65F6\u76D1\u542C\u7684\u7AEF\u53E3</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 8080</span>
<span class="token comment">#\u542F\u52A8\u65F6\u8FD0\u884Ctomcat</span>
<span class="token comment"># ENTRYPOINT [&quot;/usrl/local/apache-tomcat-9.0.8/bin/startup.sh&quot; ]</span>
<span class="token comment"># CMD [&quot;/usr/local/apache-tomcat-9.0.8/bin/catalina.sh&quot;,&quot;run&quot;]</span>
<span class="token instruction"><span class="token keyword">CMD</span> /usr/local/apache-tomcat-9.0.8/bin/startup.sh &amp;&amp; tail -F /usr/local/apache-tomcat-9.0.8/in/logs/catalina.out</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u76EE\u5F55\u5185\u5BB9</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-12-29.png" alt="" loading="lazy"></p><h5 id="_5\u3001\u6784\u5EFA" tabindex="-1"><a class="header-anchor" href="#_5\u3001\u6784\u5EFA" aria-hidden="true">#</a> 5\u3001\u6784\u5EFA</h5><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-12-48.png" alt="" loading="lazy"></p><p>\u6784\u5EFA\u5B8C\u6210</p><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-13-20.png" alt="" loading="lazy"></p><h5 id="_6\u3001run" tabindex="-1"><a class="header-anchor" href="#_6\u3001run" aria-hidden="true">#</a> 6\u3001run</h5><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code>docker run -d -p 9080:8080 -name myt9
 -v /zyuse/mydockerfiletomcat9/test:/usrlocal/apache-tomcat9.0.8/webapps/test
 -v /zzyyuse/mydockerfile/tomcat9/tomcat9logs/:/usrlocal/apache-tomcat-9.0.8/logs -privileged=true zzyytomcat9
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-14-42.png" alt="" loading="lazy"></p><p>\u5907\u6CE8</p><p>Docker\u6302\u8F7D\u4E3B\u673A\u76EE\u5F55Docker\u8BBF\u95EE\u51FA\u73B0cannot open directory : Permission denied\u89E3\u51B3\u529E\u6CD5:\u5728\u6302\u8F7D\u76EE\u5F55\u540E\u591A\u52A0\u4E00\u4E2A--privileged=true\u53C2\u6570\u5373\u53EF</p><h5 id="_7\u3001\u9A8C\u8BC1" tabindex="-1"><a class="header-anchor" href="#_7\u3001\u9A8C\u8BC1" aria-hidden="true">#</a> 7\u3001\u9A8C\u8BC1</h5><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-58-14.png" alt="" loading="lazy"></p><h5 id="_8\u3001\u7EFC\u5408\u524D-\u8FF0\u5BB9\u5668\u5377\u6D4B\u8BD5\u7684web\u670D\u52A1test\u53D1\u5E03" tabindex="-1"><a class="header-anchor" href="#_8\u3001\u7EFC\u5408\u524D-\u8FF0\u5BB9\u5668\u5377\u6D4B\u8BD5\u7684web\u670D\u52A1test\u53D1\u5E03" aria-hidden="true">#</a> 8\u3001\u7EFC\u5408\u524D \u8FF0\u5BB9\u5668\u5377\u6D4B\u8BD5\u7684web\u670D\u52A1test\u53D1\u5E03</h5><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_18-58-56.png" alt="" loading="lazy"></p><p>web.xml</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>\\<span class="token prolog">&lt;?xml version=&quot;1 .0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name"><span class="token namespace">xmIns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XML Schema-instance<span class="token punctuation">&quot;</span></span>
<span class="token attr-name">xmIns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://java sun.com/xm/ns/javaee<span class="token punctuation">&quot;</span></span>
<span class="token attr-name"><span class="token namespace">xsi:</span>schemaL</span> <span class="token attr-name">ocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://java. sun.com/xml/ns/javaee htp:/:/java. sun.com/xml/ns/javaee/web-app_ 2_ _5.xsd<span class="token punctuation">&quot;</span></span>
<span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>WebApp_ ID<span class="token punctuation">&quot;</span></span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2.5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>display-name</span><span class="token punctuation">&gt;</span></span>test\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>display-name</span><span class="token punctuation">&gt;</span></span>

\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>a.jsp</p><div class="language-jsp ext-jsp line-numbers-mode"><pre class="language-jsp"><code>\\&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;
\\&lt;!DOCTYPE html PUBLIC\u201C//W3C//DTD HTML 4.01 Transitional//EN&quot; http://www.w3.org/TR/html4/loose.dtd&quot;&gt;
\\&lt;html&gt;
\\&lt;head&gt;
\\&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
\\&lt;title&gt;Insert title here \\&lt;/title&gt;
\\&lt;/head&gt;
\\&lt;body&gt;
welcome-
\\&lt;%=&quot;i am in docker tomcat self &quot;%&gt;
\\&lt;br&gt;
\\&lt;br&gt;
\\&lt;% System.out,.printIn(&quot;==========docker tomcat self&quot;);%&gt;
\\&lt;/body&gt;
\\&lt;/htmI&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6D4B\u8BD5</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot;%&gt;
\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span> <span class="token name">PUBLIC\u201C//W3C//DTD</span> <span class="token name">HTML</span> <span class="token name">4.01</span> <span class="token name">Transitional//EN</span><span class="token string">&quot; http://www.w3.org/TR/html4/loose.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Insert title here \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
welcome-
\\&lt;%=&quot;i am in docker tomcat self &quot;%&gt;
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
\\&lt;% System.out,.printIn(&quot;==========docker tomcat self&quot;);%&gt;
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>htmI</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5C0F\u603B\u7ED3-3" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u603B\u7ED3-3" aria-hidden="true">#</a> \u5C0F\u603B\u7ED3</h2><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-03_19-00-48.png" alt="" loading="lazy"></p><h1 id="\u4E03-\u3001-docker\u5E38\u7528\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u4E03-\u3001-docker\u5E38\u7528\u5B89\u88C5" aria-hidden="true">#</a> \u4E03 \u3001 Docker\u5E38\u7528\u5B89\u88C5</h1><h3 id="\u603B\u4F53\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#\u603B\u4F53\u6B65\u9AA4" aria-hidden="true">#</a> \u603B\u4F53\u6B65\u9AA4</h3><blockquote><p>\u641C\u7D22\u955C\u50CF</p><p>\u62C9\u53D6\u955C\u50CF</p><p>\u67E5\u770B\u955C\u50CF</p><p>\u542F\u52A8\u955C\u50CF</p><p>\u505C\u6B62\u5BB9\u5668</p><p>\u79FB\u9664\u5BB9\u5668</p></blockquote><h3 id="\u5B89\u88C5mysql" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5mysql" aria-hidden="true">#</a> \u5B89\u88C5Mysql</h3><h4 id="docker-hub-\u4E0A\u67E5\u627Emysql\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#docker-hub-\u4E0A\u67E5\u627Emysql\u955C\u50CF" aria-hidden="true">#</a> docker hub \u4E0A\u67E5\u627Emysql\u955C\u50CF</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_11-38-56.png" alt="" loading="lazy"></p><h4 id="\u4ECE-docker-hub-\u963F\u91CC\u4E91\u52A0\u901F\u5668-\u62C9\u53D6mysql\u955C\u50CF\u5230\u672C\u5730\u6807\u7B7E\u4E3A5-6" tabindex="-1"><a class="header-anchor" href="#\u4ECE-docker-hub-\u963F\u91CC\u4E91\u52A0\u901F\u5668-\u62C9\u53D6mysql\u955C\u50CF\u5230\u672C\u5730\u6807\u7B7E\u4E3A5-6" aria-hidden="true">#</a> \u4ECE docker hub(\u963F\u91CC\u4E91\u52A0\u901F\u5668)\u62C9\u53D6mysql\u955C\u50CF\u5230\u672C\u5730\u6807\u7B7E\u4E3A5.6</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_11-40-13.png" alt="" loading="lazy"></p><h4 id="\u4F7F\u7528mysql5-6\u955C\u50CF\u521B\u5EFA\u5BB9\u5668-\u4E5F\u53EB\u8FD0\u884C\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528mysql5-6\u955C\u50CF\u521B\u5EFA\u5BB9\u5668-\u4E5F\u53EB\u8FD0\u884C\u955C\u50CF" aria-hidden="true">#</a> \u4F7F\u7528mysql5.6\u955C\u50CF\u521B\u5EFA\u5BB9\u5668(\u4E5F\u53EB\u8FD0\u884C\u955C\u50CF)</h4><p>\u4F7F\u7528mysql\u955C\u50CF</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -p <span class="token number">12345</span>:3306 --name mysql 
-v /ggcc/mysql/conf:/etc/mysql/conf.d 
-v /ggcc/mysql/logs:/logs 
-v /ggcc/mysql/data:/var/lib/mysql 
-e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> -d mysql:5.6
----------------------------------------------
\u547D\u4EE4\u8BF4\u660E:
-p <span class="token number">12345</span>:3306:\u5C06\u4E3B\u673A\u768412345\u7AEF\u53E3\u6620\u5C04\u5230docker\u5BB9\u5668\u76843306\u7AEF\u53E3\u3002
-name mysq:\u8FD0\u884C\u670D\u52A1\u540D\u5B57
-V /ggcc/mysql/conf:/etc/mysql/conf.d :\u5C06\u4E3B\u673A/zzyyuse/mysq<span class="token operator">|</span>\u5F55\u4E0B\u7684conf/my.cnf\u6302\u8F7D\u5230\u5BB9\u5668\u7684/etc/mysql/conf.d
-v /ggcc/mysqlogs/logs: \u5C06\u4E3B\u673A/zzyyuse/mysq<span class="token operator">|</span>\u76EE \u5F55\u4E0B\u7684logs \u76EE\u5F55\u6302\u8F7D\u5230\u5BB9\u5668\u7684/logs\u3002
-V /ggcc/mysqldata:/var/lib/mysql :\u5C06\u4E3B\u673Alzzyyuse/mysql\u76EE\u5F55\u4E0B\u7684data\u76EE\u5F55\u6302\u8F7D\u5230\u5BB9\u5668\u7684/var/lib/mysql <span class="token builtin class-name">.</span>
-e MYSQL_ ROOT_ <span class="token assign-left variable">PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span>: \u521D\u59CB\u5316root\u7528\u6237\u7684\u5BC6\u7801\u3002.
-d mysql:5.6:\u540E\u53F0\u7A0B\u5E8F\u8FD0\u884Cmysql5.6 
----------------------------------------------
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it Mysql\u8FD0\u884C\u6210\u529F\u540E\u7684\u5BB9\u5668ID /bin/bash
----------------------------------------------
\u6570\u636E\u5907\u4EFD\u5C0F\u6D4B\u8BD5
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> mysql\u670D\u52A1\u5BB9\u5668ID <span class="token function">sh</span> -c <span class="token string">&#39;exec mysqldump --all-databases -uroot -p&quot;123456&quot;&#39;</span> <span class="token operator">&gt;</span>/ggcc/all-database.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_11-59-32.png" alt="" loading="lazy"></p><h4 id="\u6570\u636E\u5907\u4EFD\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5907\u4EFD\u6D4B\u8BD5" aria-hidden="true">#</a> \u6570\u636E\u5907\u4EFD\u6D4B\u8BD5</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-02-59.png" alt="" loading="lazy"></p><h3 id="\u5B89\u88C5redis" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5redis" aria-hidden="true">#</a> \u5B89\u88C5Redis</h3><h4 id="\u4ECEdocker-hu\u4E0A-\u963F\u91CC\u4E91\u52A0\u901F\u5668-\u62C9\u53D6redis\u955C\u50CF\u5230\u672C\u5730\u6807\u7B7E\u4E3A-3-2" tabindex="-1"><a class="header-anchor" href="#\u4ECEdocker-hu\u4E0A-\u963F\u91CC\u4E91\u52A0\u901F\u5668-\u62C9\u53D6redis\u955C\u50CF\u5230\u672C\u5730\u6807\u7B7E\u4E3A-3-2" aria-hidden="true">#</a> \u4ECEdocker hu\u4E0A(\u963F\u91CC\u4E91\u52A0\u901F\u5668)\u62C9\u53D6redis\u955C\u50CF\u5230\u672C\u5730\u6807\u7B7E\u4E3A\uFF1A3.2</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-05-08.png" alt="" loading="lazy"></p><h4 id="\u4F7F\u7528redis3-2\u955C\u50CF\u521B\u5EFA\u5BB9\u5668-\u4E5F\u53EB\u8FD0\u884C\u955C\u50CF" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528redis3-2\u955C\u50CF\u521B\u5EFA\u5BB9\u5668-\u4E5F\u53EB\u8FD0\u884C\u955C\u50CF" aria-hidden="true">#</a> \u4F7F\u7528redis3.2\u955C\u50CF\u521B\u5EFA\u5BB9\u5668(\u4E5F\u53EB\u8FD0\u884C\u955C\u50CF)</h4><p>\u200B \u4F7F\u7528\u955C\u50CF</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> run -p <span class="token number">6379</span>:6379 -v /ggcc/myredis/data:/data -v /ggcc/myredis/conf/redis.conf:/usr/local/etc/redis/redis.conf -d redis redis-server /usr/local/etc/redis/redis.conf --appendonly <span class="token function">yes</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5728\u4E3B\u673A-ggcc-myredis-conf-redis-conf\u76EE\u5F55\u4E0A\u65B0\u5EFAredis-conf\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5728\u4E3B\u673A-ggcc-myredis-conf-redis-conf\u76EE\u5F55\u4E0A\u65B0\u5EFAredis-conf\u6587\u4EF6" aria-hidden="true">#</a> \u5728\u4E3B\u673A/ggcc/myredis/conf/redis.conf\u76EE\u5F55\u4E0A\u65B0\u5EFAredis.conf\u6587\u4EF6</h4><p>vim /ggcc/myredis/conf/redis.conf/redis.conf</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code># <span class="token class-name">Redis</span> configuration file example<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span> that in order <span class="token keyword">to</span> <span class="token namespace">read</span> the configuration file<span class="token punctuation">,</span> <span class="token class-name">Redis</span> must be
# started <span class="token keyword">with</span> <span class="token namespace">the</span> file path as first argument<span class="token operator">:</span>
#
# <span class="token punctuation">.</span>/redis<span class="token operator">-</span>server <span class="token operator">/</span>path<span class="token operator">/</span><span class="token keyword">to</span><span class="token operator">/</span>redis<span class="token punctuation">.</span>conf

# <span class="token class-name">Note</span> on units<span class="token operator">:</span> when memory size is needed<span class="token punctuation">,</span> it is possible <span class="token keyword">to</span> <span class="token namespace">specify</span>
# it in the usual form of <span class="token number">1</span>k <span class="token number">5</span>GB <span class="token number">4</span>M and so forth<span class="token operator">:</span>
#
# <span class="token number">1</span>k <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1000</span> bytes
# <span class="token number">1</span>kb <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1024</span> bytes
# <span class="token number">1</span>m <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1000000</span> bytes
# <span class="token number">1</span>mb <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span> bytes
# <span class="token number">1</span>g <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1000000000</span> bytes
# <span class="token number">1</span>gb <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span> bytes
#
# units are <span class="token keyword">case</span> insensitive so <span class="token number">1</span>GB <span class="token number">1</span>Gb <span class="token number">1</span>gB are all the same<span class="token punctuation">.</span>

################################## INCLUDES ###################################

# <span class="token class-name">Include</span> one or more other config files <span class="token class-name"><span class="token namespace">here<span class="token punctuation">.</span></span>  This</span> is useful <span class="token keyword">if</span> you
# have a standard template that goes <span class="token keyword">to</span> <span class="token namespace">all</span> <span class="token class-name">Redis</span> servers but also need
# <span class="token keyword">to</span> <span class="token namespace">customize</span> a few per<span class="token operator">-</span>server <span class="token class-name"><span class="token namespace">settings<span class="token punctuation">.</span></span>  Include</span> files can include
# other files<span class="token punctuation">,</span> so use <span class="token keyword">this</span> wisely<span class="token punctuation">.</span>
#
# <span class="token class-name">Notice</span> option <span class="token string">&quot;include&quot;</span> won&#39;t be rewritten by command <span class="token string">&quot;CONFIG REWRITE&quot;</span>
# from admin or <span class="token class-name">Redis</span> <span class="token class-name">Sentinel<span class="token punctuation">.</span> Since</span> <span class="token class-name">Redis</span> always <span class="token keyword">uses</span> <span class="token namespace">the</span> last processed
# line as value of a configuration directive<span class="token punctuation">,</span> you&#39;d better put includes
# at the beginning of <span class="token keyword">this</span> file <span class="token keyword">to</span> <span class="token namespace">avoid</span> overwriting config change at runtime<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> instead you are interested in using includes <span class="token keyword">to</span> <span class="token namespace">override</span> configuration
# options<span class="token punctuation">,</span> it is better <span class="token keyword">to</span> <span class="token namespace">use</span> include as the last line<span class="token punctuation">.</span>
#
# include <span class="token operator">/</span>path<span class="token operator">/</span><span class="token keyword">to</span><span class="token operator">/</span>local<span class="token punctuation">.</span>conf
# include <span class="token operator">/</span>path<span class="token operator">/</span><span class="token keyword">to</span><span class="token operator">/</span>other<span class="token punctuation">.</span>conf

################################## MODULES #####################################

# <span class="token class-name">Load</span> modules at <span class="token class-name"><span class="token namespace">startup<span class="token punctuation">.</span></span> If</span> the server is not able <span class="token keyword">to</span> <span class="token namespace">load</span> modules
# it will <span class="token class-name"><span class="token namespace">abort<span class="token punctuation">.</span></span> It</span> is possible <span class="token keyword">to</span> <span class="token namespace">use</span> multiple loadmodule directives<span class="token punctuation">.</span>
#
# loadmodule <span class="token operator">/</span>path<span class="token operator">/</span><span class="token keyword">to</span><span class="token operator">/</span>my_module<span class="token punctuation">.</span>so
# loadmodule <span class="token operator">/</span>path<span class="token operator">/</span><span class="token keyword">to</span><span class="token operator">/</span>other_module<span class="token punctuation">.</span>so

################################## NETWORK #####################################

# <span class="token class-name">By</span> <span class="token keyword">default</span><span class="token punctuation">,</span> <span class="token keyword">if</span> no <span class="token string">&quot;bind&quot;</span> configuration directive is specified<span class="token punctuation">,</span> <span class="token class-name">Redis</span> listens
# <span class="token keyword">for</span> connections from all the network interfaces available on the server<span class="token punctuation">.</span>
# <span class="token class-name">It</span> is possible <span class="token keyword">to</span> <span class="token namespace">listen</span> <span class="token keyword">to</span> <span class="token namespace">just</span> one or multiple selected interfaces using
# the <span class="token string">&quot;bind&quot;</span> configuration directive<span class="token punctuation">,</span> followed by one or more IP addresses<span class="token punctuation">.</span>
#
# <span class="token class-name">Examples</span><span class="token operator">:</span>
#
# bind <span class="token number">192.168</span><span class="token number">.1</span><span class="token number">.100</span> <span class="token number">10.0</span><span class="token number">.0</span><span class="token number">.1</span>
# bind <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span> <span class="token operator">::</span><span class="token number">1</span>
#
# <span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span> WARNING <span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span> <span class="token class-name">If</span> the computer running <span class="token class-name">Redis</span> is directly exposed <span class="token keyword">to</span> <span class="token namespace">the</span>
# internet<span class="token punctuation">,</span> binding <span class="token keyword">to</span> <span class="token namespace">all</span> the interfaces is dangerous and will expose the
# instance <span class="token keyword">to</span> <span class="token namespace">everybody</span> on the <span class="token class-name"><span class="token namespace">internet<span class="token punctuation">.</span></span> So</span> by <span class="token keyword">default</span> we uncomment the
# following bind directive<span class="token punctuation">,</span> that will force <span class="token class-name">Redis</span> <span class="token keyword">to</span> <span class="token namespace">listen</span> only into
# the <span class="token class-name">IPv4</span> loopback <span class="token keyword">interface</span> address <span class="token punctuation">(</span><span class="token keyword">this</span> means <span class="token class-name">Redis</span> will be able <span class="token keyword">to</span>
# accept connections only from clients running into the same computer it
# is running<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES
# JUST COMMENT THE FOLLOWING LINE<span class="token punctuation">.</span>
# <span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span>
#bind <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>

# <span class="token class-name">Protected</span> mode is a layer of security protection<span class="token punctuation">,</span> in order <span class="token keyword">to</span> <span class="token namespace">avoid</span> that
# <span class="token class-name">Redis</span> instances left <span class="token keyword">open</span> <span class="token namespace">on</span> the internet are accessed and exploited<span class="token punctuation">.</span>
#
# <span class="token class-name">When</span> <span class="token keyword">protected</span> mode is on and <span class="token keyword">if</span><span class="token operator">:</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">The</span> server is not binding explicitly <span class="token keyword">to</span> <span class="token namespace">a</span> set of addresses using the
#    <span class="token string">&quot;bind&quot;</span> directive<span class="token punctuation">.</span>
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">No</span> password is configured<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> server only accepts connections from clients connecting from the
# <span class="token class-name">IPv4</span> and <span class="token class-name">IPv6</span> loopback addresses <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span> and <span class="token operator">::</span><span class="token number">1</span><span class="token punctuation">,</span> and from <span class="token class-name">Unix</span> domain
# sockets<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> <span class="token keyword">protected</span> mode is <span class="token class-name"><span class="token namespace">enabled<span class="token punctuation">.</span></span> You</span> should disable it only <span class="token keyword">if</span>
# you are sure you want clients from other hosts <span class="token keyword">to</span> <span class="token namespace">connect</span> <span class="token keyword">to</span> <span class="token class-name">Redis</span>
# even <span class="token keyword">if</span> no authentication is configured<span class="token punctuation">,</span> nor a specific set of interfaces
# are explicitly listed using the <span class="token string">&quot;bind&quot;</span> directive<span class="token punctuation">.</span>
<span class="token keyword">protected</span><span class="token operator">-</span>mode yes

# <span class="token class-name">Accept</span> connections on the specified port<span class="token punctuation">,</span> <span class="token keyword">default</span> is <span class="token number">6379</span> <span class="token punctuation">(</span>IANA #<span class="token number">815344</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
# <span class="token class-name">If</span> port <span class="token number">0</span> is specified <span class="token class-name">Redis</span> will not listen on a TCP socket<span class="token punctuation">.</span>
port <span class="token number">6379</span>

# <span class="token class-name">TCP</span> <span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> backlog<span class="token punctuation">.</span>
#
# <span class="token class-name">In</span> high requests<span class="token operator">-</span>per<span class="token operator">-</span>second environments you need an high backlog in order
# <span class="token keyword">to</span> <span class="token namespace">avoid</span> slow clients connections <span class="token class-name"><span class="token namespace">issues<span class="token punctuation">.</span></span> Note</span> that the <span class="token class-name">Linux</span> kernel
# will silently truncate it <span class="token keyword">to</span> <span class="token namespace">the</span> value of <span class="token operator">/</span>proc<span class="token operator">/</span>sys<span class="token operator">/</span>net<span class="token operator">/</span>core<span class="token operator">/</span>somaxconn so
# make sure <span class="token keyword">to</span> <span class="token namespace">raise</span> both the value of somaxconn and tcp_max_syn_backlog
# in order <span class="token keyword">to</span> <span class="token namespace">get</span> the desired effect<span class="token punctuation">.</span>
tcp<span class="token operator">-</span>backlog <span class="token number">511</span>

# <span class="token class-name">Unix</span> socket<span class="token punctuation">.</span>
#
# <span class="token class-name">Specify</span> the path <span class="token keyword">for</span> the <span class="token class-name">Unix</span> socket that will be used <span class="token keyword">to</span> <span class="token namespace">listen</span> <span class="token keyword">for</span>
# incoming <span class="token class-name"><span class="token namespace">connections<span class="token punctuation">.</span></span> There</span> is no <span class="token keyword">default</span><span class="token punctuation">,</span> so <span class="token class-name">Redis</span> will not listen
# on a unix socket when not specified<span class="token punctuation">.</span>
#
# unixsocket <span class="token operator">/</span>tmp<span class="token operator">/</span>redis<span class="token punctuation">.</span>sock
# unixsocketperm <span class="token number">700</span>

# <span class="token class-name">Close</span> the connection after a client is idle <span class="token keyword">for</span> <span class="token class-name">N</span> seconds <span class="token punctuation">(</span><span class="token number">0</span> <span class="token keyword">to</span> <span class="token namespace">disable</span><span class="token punctuation">)</span>
timeout <span class="token number">0</span>

# TCP keepalive<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> non<span class="token operator">-</span>zero<span class="token punctuation">,</span> use SO_KEEPALIVE <span class="token keyword">to</span> <span class="token namespace">send</span> TCP <span class="token class-name">ACKs</span> <span class="token keyword">to</span> <span class="token namespace">clients</span> in absence
# of <span class="token class-name"><span class="token namespace">communication<span class="token punctuation">.</span></span> This</span> is useful <span class="token keyword">for</span> two reasons<span class="token operator">:</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">Detect</span> dead peers<span class="token punctuation">.</span>
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">Take</span> the connection alive from the point of view of network
#    equipment in the middle<span class="token punctuation">.</span>
#
# <span class="token class-name">On</span> <span class="token class-name">Linux</span><span class="token punctuation">,</span> the specified value <span class="token punctuation">(</span>in seconds<span class="token punctuation">)</span> is the period used <span class="token keyword">to</span> <span class="token namespace">send</span> <span class="token class-name">ACKs</span><span class="token punctuation">.</span>
# <span class="token class-name">Note</span> that <span class="token keyword">to</span> <span class="token namespace">close</span> the connection the <span class="token keyword">double</span> of the time is needed<span class="token punctuation">.</span>
# <span class="token class-name">On</span> other kernels the period depends on the kernel configuration<span class="token punctuation">.</span>
#
# <span class="token class-name">A</span> reasonable value <span class="token keyword">for</span> <span class="token keyword">this</span> option is <span class="token number">300</span> seconds<span class="token punctuation">,</span> which is the <span class="token keyword">new</span>
# <span class="token class-name">Redis</span> <span class="token keyword">default</span> starting <span class="token keyword">with</span> <span class="token class-name">Redis</span> <span class="token number">3.2</span><span class="token number">.1</span><span class="token punctuation">.</span>
tcp<span class="token operator">-</span>keepalive <span class="token number">300</span>

################################# TLS<span class="token operator">/</span>SSL #####################################

# <span class="token class-name">By</span> <span class="token keyword">default</span><span class="token punctuation">,</span> TLS<span class="token operator">/</span>SSL is <span class="token class-name"><span class="token namespace">disabled<span class="token punctuation">.</span></span> To</span> enable it<span class="token punctuation">,</span> the <span class="token string">&quot;tls-port&quot;</span> configuration
# directive can be used <span class="token keyword">to</span> <span class="token namespace">define</span> TLS<span class="token operator">-</span>listening <span class="token class-name"><span class="token namespace">ports<span class="token punctuation">.</span></span> To</span> enable TLS on the
# <span class="token keyword">default</span> port<span class="token punctuation">,</span> use<span class="token operator">:</span>
#
# port <span class="token number">0</span>
# tls<span class="token operator">-</span>port <span class="token number">6379</span>

# <span class="token class-name">Configure</span> a <span class="token class-name">X</span><span class="token number">.509</span> certificate and <span class="token keyword">private</span> key <span class="token keyword">to</span> <span class="token namespace">use</span> <span class="token keyword">for</span> authenticating the
# server <span class="token keyword">to</span> <span class="token namespace">connected</span> clients<span class="token punctuation">,</span> masters or cluster <span class="token class-name"><span class="token namespace">peers<span class="token punctuation">.</span></span>  These</span> files should be
# PEM formatted<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>cert<span class="token operator">-</span>file redis<span class="token punctuation">.</span>crt 
# tls<span class="token operator">-</span>key<span class="token operator">-</span>file redis<span class="token punctuation">.</span>key

# <span class="token class-name">Configure</span> a DH parameters file <span class="token keyword">to</span> <span class="token namespace">enable</span> <span class="token class-name">Diffie</span><span class="token operator">-</span><span class="token class-name">Hellman</span> <span class="token punctuation">(</span>DH<span class="token punctuation">)</span> key exchange<span class="token operator">:</span>
#
# tls<span class="token operator">-</span>dh<span class="token operator">-</span>params<span class="token operator">-</span>file redis<span class="token punctuation">.</span>dh

# <span class="token class-name">Configure</span> a <span class="token class-name">CA</span> <span class="token function">certificate</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> bundle or directory <span class="token keyword">to</span> <span class="token namespace">authenticate</span> TLS<span class="token operator">/</span>SSL
# clients and <span class="token class-name"><span class="token namespace">peers<span class="token punctuation">.</span></span>  Redis</span> <span class="token keyword">requires</span> <span class="token namespace">an</span> explicit configuration of at least one
# of these<span class="token punctuation">,</span> and will not implicitly use the system wide configuration<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>ca<span class="token operator">-</span>cert<span class="token operator">-</span>file ca<span class="token punctuation">.</span>crt
# tls<span class="token operator">-</span>ca<span class="token operator">-</span>cert<span class="token operator">-</span>dir <span class="token operator">/</span>etc<span class="token operator">/</span>ssl<span class="token operator">/</span>certs

# <span class="token class-name">By</span> <span class="token keyword">default</span><span class="token punctuation">,</span> clients <span class="token punctuation">(</span>including replica servers<span class="token punctuation">)</span> on a TLS port are required
# <span class="token keyword">to</span> <span class="token namespace">authenticate</span> using valid client side certificates<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> <span class="token string">&quot;no&quot;</span> is specified<span class="token punctuation">,</span> client certificates are not required and not accepted<span class="token punctuation">.</span>
# <span class="token class-name">If</span> <span class="token string">&quot;optional&quot;</span> is specified<span class="token punctuation">,</span> client certificates are accepted and must be
# valid <span class="token keyword">if</span> provided<span class="token punctuation">,</span> but are not required<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>auth<span class="token operator">-</span>clients no
# tls<span class="token operator">-</span>auth<span class="token operator">-</span>clients optional

# <span class="token class-name">By</span> <span class="token keyword">default</span><span class="token punctuation">,</span> a <span class="token class-name">Redis</span> replica does not attempt <span class="token keyword">to</span> <span class="token namespace">establish</span> a TLS connection
# <span class="token keyword">with</span> <span class="token namespace">its</span> master<span class="token punctuation">.</span>
#
# <span class="token class-name">Use</span> the following directive <span class="token keyword">to</span> <span class="token namespace">enable</span> TLS on replication links<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>replication yes

# <span class="token class-name">By</span> <span class="token keyword">default</span><span class="token punctuation">,</span> the <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span> bus <span class="token keyword">uses</span> <span class="token namespace">a</span> plain TCP <span class="token class-name"><span class="token namespace">connection<span class="token punctuation">.</span></span> To</span> enable
# TLS <span class="token keyword">for</span> the bus protocol<span class="token punctuation">,</span> use the following directive<span class="token operator">:</span>
#
# tls<span class="token operator">-</span>cluster yes

# <span class="token class-name">Explicitly</span> specify TLS versions <span class="token keyword">to</span> <span class="token namespace">support<span class="token punctuation">.</span></span> <span class="token class-name">Allowed</span> values are <span class="token keyword">case</span> insensitive
# and include <span class="token string">&quot;TLSv1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TLSv1.1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TLSv1.2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;TLSv1.3&quot;</span> <span class="token punctuation">(</span><span class="token class-name">OpenSSL</span> <span class="token operator">&gt;=</span> <span class="token number">1.1</span><span class="token number">.1</span><span class="token punctuation">)</span> or
# any <span class="token class-name"><span class="token namespace">combination<span class="token punctuation">.</span></span> To</span> enable only <span class="token class-name">TLSv1</span><span class="token number">.2</span> and <span class="token class-name">TLSv1</span><span class="token number">.3</span><span class="token punctuation">,</span> use<span class="token operator">:</span>
#
# tls<span class="token operator">-</span>protocols <span class="token string">&quot;TLSv1.2 TLSv1.3&quot;</span>

# <span class="token class-name">Configure</span> allowed <span class="token class-name"><span class="token namespace">ciphers<span class="token punctuation">.</span></span>  See</span> the <span class="token function">ciphers</span><span class="token punctuation">(</span><span class="token number">1</span>ssl<span class="token punctuation">)</span> manpage <span class="token keyword">for</span> more information
# about the syntax of <span class="token keyword">this</span> string<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span><span class="token operator">:</span> <span class="token keyword">this</span> configuration applies only <span class="token keyword">to</span> \\<span class="token operator">&lt;=</span> <span class="token class-name">TLSv1</span><span class="token number">.2</span><span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>ciphers DEFAULT<span class="token operator">:</span><span class="token operator">!</span>MEDIUM

# <span class="token class-name">Configure</span> allowed <span class="token class-name">TLSv1</span><span class="token number">.3</span> <span class="token class-name"><span class="token namespace">ciphersuites<span class="token punctuation">.</span></span>  See</span> the <span class="token function">ciphers</span><span class="token punctuation">(</span><span class="token number">1</span>ssl<span class="token punctuation">)</span> manpage <span class="token keyword">for</span> more
# information about the syntax of <span class="token keyword">this</span> string<span class="token punctuation">,</span> and specifically <span class="token keyword">for</span> <span class="token class-name">TLSv1</span><span class="token number">.3</span>
# ciphersuites<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>ciphersuites TLS_CHACHA20_POLY1305_SHA256

# <span class="token class-name">When</span> choosing a cipher<span class="token punctuation">,</span> use the server&#39;s preference instead of the client
# <span class="token class-name"><span class="token namespace">preference<span class="token punctuation">.</span></span> By</span> <span class="token keyword">default</span><span class="token punctuation">,</span> the server follows the client&#39;s preference<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>prefer<span class="token operator">-</span>server<span class="token operator">-</span>ciphers yes

# <span class="token class-name">By</span> <span class="token keyword">default</span><span class="token punctuation">,</span> TLS session caching is enabled <span class="token keyword">to</span> <span class="token namespace">allow</span> faster and less expensive
# reconnections by clients that support <span class="token class-name"><span class="token namespace">it<span class="token punctuation">.</span></span> Use</span> the following directive <span class="token keyword">to</span> <span class="token namespace">disable</span>
# caching<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>session<span class="token operator">-</span>caching no

# <span class="token class-name">Change</span> the <span class="token keyword">default</span> number of TLS sessions <span class="token class-name"><span class="token namespace">cached<span class="token punctuation">.</span></span> A</span> zero value sets the cache
# <span class="token keyword">to</span> <span class="token namespace">unlimited</span> <span class="token class-name"><span class="token namespace">size<span class="token punctuation">.</span></span> The</span> <span class="token keyword">default</span> size is <span class="token number">20480.</span>
#
# tls<span class="token operator">-</span>session<span class="token operator">-</span>cache<span class="token operator">-</span>size <span class="token number">5000</span>

# <span class="token class-name">Change</span> the <span class="token keyword">default</span> timeout of cached TLS <span class="token class-name"><span class="token namespace">sessions<span class="token punctuation">.</span></span> The</span> <span class="token keyword">default</span> timeout is <span class="token number">300</span>
# seconds<span class="token punctuation">.</span>
#
# tls<span class="token operator">-</span>session<span class="token operator">-</span>cache<span class="token operator">-</span>timeout <span class="token number">60</span>

################################# GENERAL #####################################

# <span class="token class-name">By</span> <span class="token keyword">default</span> <span class="token class-name">Redis</span> does not run as a <span class="token class-name"><span class="token namespace">daemon<span class="token punctuation">.</span></span> Use</span> <span class="token char">&#39;yes&#39;</span> <span class="token keyword">if</span> you need it<span class="token punctuation">.</span>
# <span class="token class-name">Note</span> that <span class="token class-name">Redis</span> will write a pid file in <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>run<span class="token operator">/</span>redis<span class="token punctuation">.</span>pid when daemonized<span class="token punctuation">.</span>
daemonize no

# <span class="token class-name">If</span> you run <span class="token class-name">Redis</span> from upstart or systemd<span class="token punctuation">,</span> <span class="token class-name">Redis</span> can interact <span class="token keyword">with</span> <span class="token namespace">your</span>
# supervision <span class="token class-name"><span class="token namespace">tree<span class="token punctuation">.</span></span> Options</span><span class="token operator">:</span>
#   supervised no      <span class="token operator">-</span> no supervision interaction
#   supervised upstart <span class="token operator">-</span> signal upstart by putting <span class="token class-name">Redis</span> into SIGSTOP mode
#   supervised systemd <span class="token operator">-</span> signal systemd by writing READY<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">to</span> $NOTIFY_SOCKET
#   supervised auto    <span class="token operator">-</span> detect upstart or systemd method based on
#                        UPSTART_JOB or NOTIFY_SOCKET environment variables
# <span class="token class-name">Note</span><span class="token operator">:</span> these supervision methods only signal <span class="token string">&quot;process is ready.&quot;</span>
#       <span class="token class-name">They</span> <span class="token keyword">do</span> not enable continuous liveness pings back <span class="token keyword">to</span> <span class="token namespace">your</span> supervisor<span class="token punctuation">.</span>
supervised no

# <span class="token class-name">If</span> a pid file is specified<span class="token punctuation">,</span> <span class="token class-name">Redis</span> writes it where specified at startup
# and removes it at exit<span class="token punctuation">.</span>
#
# <span class="token class-name">When</span> the server runs non daemonized<span class="token punctuation">,</span> no pid file is created <span class="token keyword">if</span> none is
# specified in the <span class="token class-name"><span class="token namespace">configuration<span class="token punctuation">.</span></span> When</span> the server is daemonized<span class="token punctuation">,</span> the pid file
# is used even <span class="token keyword">if</span> not specified<span class="token punctuation">,</span> defaulting <span class="token keyword">to</span> <span class="token string">&quot;/var/run/redis.pid&quot;</span><span class="token punctuation">.</span>
#
# <span class="token class-name">Creating</span> a pid file is best effort<span class="token operator">:</span> <span class="token keyword">if</span> <span class="token class-name">Redis</span> is not able <span class="token keyword">to</span> <span class="token namespace">create</span> it
# nothing bad happens<span class="token punctuation">,</span> the server will start and run normally<span class="token punctuation">.</span>
pidfile <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>run<span class="token operator">/</span>redis_6379<span class="token punctuation">.</span>pid

# <span class="token class-name">Specify</span> the server verbosity level<span class="token punctuation">.</span>
# <span class="token class-name">This</span> can be one of<span class="token operator">:</span>
# debug <span class="token punctuation">(</span>a lot of information<span class="token punctuation">,</span> useful <span class="token keyword">for</span> development<span class="token operator">/</span>testing<span class="token punctuation">)</span>
# verbose <span class="token punctuation">(</span>many rarely useful info<span class="token punctuation">,</span> but not a mess like the debug level<span class="token punctuation">)</span>
# notice <span class="token punctuation">(</span>moderately verbose<span class="token punctuation">,</span> what you want in production probably<span class="token punctuation">)</span>
# warning <span class="token punctuation">(</span>only very important <span class="token operator">/</span> critical messages are logged<span class="token punctuation">)</span>
loglevel notice

# <span class="token class-name">Specify</span> the log file <span class="token class-name"><span class="token namespace">name<span class="token punctuation">.</span></span> Also</span> the empty string can be used <span class="token keyword">to</span> <span class="token namespace">force</span>
# <span class="token class-name">Redis</span> <span class="token keyword">to</span> <span class="token namespace">log</span> on the standard <span class="token class-name"><span class="token namespace">output<span class="token punctuation">.</span></span> Note</span> that <span class="token keyword">if</span> you use standard
# output <span class="token keyword">for</span> logging but daemonize<span class="token punctuation">,</span> logs will be sent <span class="token keyword">to</span> <span class="token operator">/</span>dev<span class="token operator">/</span><span class="token keyword">null</span>
logfile <span class="token string">&quot;&quot;</span>

# <span class="token class-name">To</span> enable logging <span class="token keyword">to</span> <span class="token namespace">the</span> system logger<span class="token punctuation">,</span> just set &#39;syslog<span class="token operator">-</span>enabled&#39; <span class="token keyword">to</span> <span class="token namespace">yes</span><span class="token punctuation">,</span>
# and optionally update the other syslog parameters <span class="token keyword">to</span> <span class="token namespace">suit</span> your needs<span class="token punctuation">.</span>
# syslog<span class="token operator">-</span>enabled no

# <span class="token class-name">Specify</span> the syslog identity<span class="token punctuation">.</span>
# syslog<span class="token operator">-</span>ident redis

# <span class="token class-name">Specify</span> the syslog <span class="token class-name"><span class="token namespace">facility<span class="token punctuation">.</span></span> Must</span> be USER or between LOCAL0<span class="token operator">-</span>LOCAL7<span class="token punctuation">.</span>
# syslog<span class="token operator">-</span>facility local0

# <span class="token class-name">Set</span> the number of <span class="token class-name"><span class="token namespace">databases<span class="token punctuation">.</span></span> The</span> <span class="token keyword">default</span> database is <span class="token class-name">DB</span> <span class="token number">0</span><span class="token punctuation">,</span> you can select
# a different one on a per<span class="token operator">-</span>connection basis using SELECT \\<span class="token generics"><span class="token punctuation">&lt;</span>dbid<span class="token punctuation">&gt;</span></span> where
# dbid is a number between <span class="token number">0</span> and &#39;databases&#39;<span class="token operator">-</span><span class="token number">1</span>
databases <span class="token number">16</span>

# <span class="token class-name">By</span> <span class="token keyword">default</span> <span class="token class-name">Redis</span> shows an ASCII art logo only when started <span class="token keyword">to</span> <span class="token namespace">log</span> <span class="token keyword">to</span> <span class="token namespace">the</span>
# standard output and <span class="token keyword">if</span> the standard output is a <span class="token class-name">TTY<span class="token punctuation">.</span> Basically</span> <span class="token keyword">this</span> means
# that normally a logo is displayed only in interactive sessions<span class="token punctuation">.</span>
#
# <span class="token class-name">However</span> it is possible <span class="token keyword">to</span> <span class="token namespace">force</span> the pre<span class="token operator">-</span><span class="token number">4.0</span> behavior and always show a
# ASCII art logo in startup logs by setting the following option <span class="token keyword">to</span> <span class="token namespace">yes<span class="token punctuation">.</span></span>
always<span class="token operator">-</span>show<span class="token operator">-</span>logo yes

################################ SNAPSHOTTING  ################################
#
# <span class="token class-name">Save</span> the DB on disk<span class="token operator">:</span>
#
#   save \\<span class="token generics"><span class="token punctuation">&lt;</span>seconds<span class="token punctuation">&gt;</span></span> \\<span class="token generics"><span class="token punctuation">&lt;</span>changes<span class="token punctuation">&gt;</span></span>
#
#   <span class="token class-name">Will</span> save the DB <span class="token keyword">if</span> both the given number of seconds and the given
#   number of write operations against the DB occurred<span class="token punctuation">.</span>
#
#   <span class="token class-name">In</span> the example below the behaviour will be <span class="token keyword">to</span> <span class="token namespace">save</span><span class="token operator">:</span>
#   after <span class="token number">900</span> sec <span class="token punctuation">(</span><span class="token number">15</span> min<span class="token punctuation">)</span> <span class="token keyword">if</span> at least <span class="token number">1</span> key changed
#   after <span class="token number">300</span> sec <span class="token punctuation">(</span><span class="token number">5</span> min<span class="token punctuation">)</span> <span class="token keyword">if</span> at least <span class="token number">10</span> keys changed
#   after <span class="token number">60</span> sec <span class="token keyword">if</span> at least <span class="token number">10000</span> keys changed
#
#   <span class="token class-name">Note</span><span class="token operator">:</span> you can disable saving completely by commenting out all <span class="token string">&quot;save&quot;</span> lines<span class="token punctuation">.</span>
#
#   <span class="token class-name">It</span> is also possible <span class="token keyword">to</span> <span class="token namespace">remove</span> all the previously configured save
#   points by adding a save directive <span class="token keyword">with</span> <span class="token namespace">a</span> single empty string argument
#   like in the following example<span class="token operator">:</span>
#
#   save <span class="token string">&quot;&quot;</span>

save <span class="token number">900</span> <span class="token number">1</span>
save <span class="token number">300</span> <span class="token number">10</span>
save <span class="token number">60</span> <span class="token number">10000</span>

# <span class="token class-name">By</span> <span class="token keyword">default</span> <span class="token class-name">Redis</span> will stop accepting writes <span class="token keyword">if</span> RDB snapshots are enabled
# <span class="token punctuation">(</span>at least one save point<span class="token punctuation">)</span> and the latest background save failed<span class="token punctuation">.</span>
# <span class="token class-name">This</span> will make the user aware <span class="token punctuation">(</span>in a hard way<span class="token punctuation">)</span> that data is not persisting
# on disk properly<span class="token punctuation">,</span> otherwise chances are that no one will notice and some
# disaster will happen<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> the background saving process will start working again <span class="token class-name">Redis</span> will
# automatically allow writes again<span class="token punctuation">.</span>
#
# <span class="token class-name">However</span> <span class="token keyword">if</span> you have setup your proper monitoring of the <span class="token class-name">Redis</span> server
# and persistence<span class="token punctuation">,</span> you may want <span class="token keyword">to</span> <span class="token namespace">disable</span> <span class="token keyword">this</span> feature so that <span class="token class-name">Redis</span> will
# <span class="token keyword">continue</span> <span class="token keyword">to</span> <span class="token namespace">work</span> as usual even <span class="token keyword">if</span> there are problems <span class="token keyword">with</span> <span class="token namespace">disk</span><span class="token punctuation">,</span>
# permissions<span class="token punctuation">,</span> and so forth<span class="token punctuation">.</span>
stop<span class="token operator">-</span>writes<span class="token operator">-</span>on<span class="token operator">-</span>bgsave<span class="token operator">-</span>error yes

# <span class="token class-name">Compress</span> string objects using LZF when dump <span class="token punctuation">.</span>rdb databases<span class="token operator">?</span>
# <span class="token class-name">For</span> <span class="token keyword">default</span> that&#39;s set <span class="token keyword">to</span> <span class="token char">&#39;yes&#39;</span> as it&#39;s almost always a win<span class="token punctuation">.</span>
# <span class="token class-name">If</span> you want <span class="token keyword">to</span> <span class="token namespace">save</span> some CPU in the saving child set it <span class="token keyword">to</span> <span class="token char">&#39;no&#39;</span> but
# the dataset will likely be bigger <span class="token keyword">if</span> you have compressible values or keys<span class="token punctuation">.</span>
rdbcompression yes

# <span class="token class-name">Since</span> version <span class="token number">5</span> of RDB a CRC64 checksum is placed at the end of the file<span class="token punctuation">.</span>
# <span class="token class-name">This</span> makes the format more resistant <span class="token keyword">to</span> <span class="token namespace">corruption</span> but there is a performance
# hit <span class="token keyword">to</span> <span class="token namespace">pay</span> <span class="token punctuation">(</span>around <span class="token number">10</span><span class="token operator">%</span><span class="token punctuation">)</span> when saving and loading <span class="token class-name">RDB</span> files<span class="token punctuation">,</span> so you can disable it
# <span class="token keyword">for</span> maximum performances<span class="token punctuation">.</span>
#
# RDB files created <span class="token keyword">with</span> <span class="token namespace">checksum</span> disabled have a checksum of zero that will
# tell the loading code <span class="token keyword">to</span> <span class="token namespace">skip</span> the check<span class="token punctuation">.</span>
rdbchecksum yes

# <span class="token class-name">The</span> filename where <span class="token keyword">to</span> <span class="token namespace">dump</span> the DB
dbfilename dump<span class="token punctuation">.</span>rdb

# <span class="token class-name">Remove</span> RDB files used by replication in instances without persistence
# <span class="token class-name"><span class="token namespace">enabled<span class="token punctuation">.</span></span> By</span> <span class="token keyword">default</span> <span class="token keyword">this</span> option is disabled<span class="token punctuation">,</span> however there are environments
# where <span class="token keyword">for</span> regulations or other security concerns<span class="token punctuation">,</span> RDB files persisted on
# disk by masters in order <span class="token keyword">to</span> <span class="token namespace">feed</span> replicas<span class="token punctuation">,</span> or stored on disk by replicas
# in order <span class="token keyword">to</span> <span class="token namespace">load</span> them <span class="token keyword">for</span> the initial synchronization<span class="token punctuation">,</span> should be deleted
# <span class="token class-name">ASAP<span class="token punctuation">.</span> Note</span> that <span class="token keyword">this</span> option ONLY WORKS in instances that have both AOF
# and RDB persistence disabled<span class="token punctuation">,</span> otherwise is completely ignored<span class="token punctuation">.</span>
#
# <span class="token class-name">An</span> alternative <span class="token punctuation">(</span>and sometimes better<span class="token punctuation">)</span> way <span class="token keyword">to</span> <span class="token namespace">obtain</span> the same effect is
# <span class="token keyword">to</span> <span class="token namespace">use</span> diskless replication on both master and replicas <span class="token class-name"><span class="token namespace">instances<span class="token punctuation">.</span></span> However</span>
# in the <span class="token keyword">case</span> of replicas<span class="token punctuation">,</span> diskless is not always an option<span class="token punctuation">.</span>
rdb<span class="token operator">-</span>del<span class="token operator">-</span>sync<span class="token operator">-</span>files no

# <span class="token class-name">The</span> working directory<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> DB will be written inside <span class="token keyword">this</span> directory<span class="token punctuation">,</span> <span class="token keyword">with</span> <span class="token namespace">the</span> filename specified
# above using the &#39;dbfilename&#39; configuration directive<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token class-name">Append</span> <span class="token class-name">Only</span> <span class="token class-name">File</span> will also be created inside <span class="token keyword">this</span> directory<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span> that you must specify a directory here<span class="token punctuation">,</span> not a file name<span class="token punctuation">.</span>
dir <span class="token punctuation">.</span>/

################################# REPLICATION #################################

# <span class="token class-name">Master</span><span class="token operator">-</span><span class="token class-name">Replica</span> <span class="token class-name"><span class="token namespace">replication<span class="token punctuation">.</span></span> Use</span> replicaof <span class="token keyword">to</span> <span class="token namespace">make</span> a <span class="token class-name">Redis</span> instance a copy of
# another <span class="token class-name">Redis</span> <span class="token class-name"><span class="token namespace">server<span class="token punctuation">.</span></span> A</span> few things <span class="token keyword">to</span> <span class="token namespace">understand</span> ASAP about <span class="token class-name">Redis</span> replication<span class="token punctuation">.</span>
#
#   <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>      <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
#   <span class="token operator">|</span>      <span class="token class-name">Master</span>      <span class="token operator">|</span> <span class="token operator">--</span><span class="token operator">-&gt;</span> <span class="token operator">|</span>    <span class="token class-name">Replica</span>    <span class="token operator">|</span>
#   <span class="token operator">|</span> <span class="token punctuation">(</span>receive writes<span class="token punctuation">)</span> <span class="token operator">|</span>      <span class="token operator">|</span>  <span class="token punctuation">(</span>exact copy<span class="token punctuation">)</span> <span class="token operator">|</span>
#   <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>      <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">Redis</span> replication is asynchronous<span class="token punctuation">,</span> but you can configure a master <span class="token keyword">to</span>
#    stop accepting writes <span class="token keyword">if</span> it appears <span class="token keyword">to</span> <span class="token namespace">be</span> not connected <span class="token keyword">with</span> <span class="token namespace">at</span> least
#    a given number of replicas<span class="token punctuation">.</span>
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">Redis</span> replicas are able <span class="token keyword">to</span> <span class="token namespace">perform</span> a partial resynchronization <span class="token keyword">with</span> <span class="token namespace">the</span>
#    master <span class="token keyword">if</span> the replication link is lost <span class="token keyword">for</span> a relatively small amount of
#    <span class="token class-name"><span class="token namespace">time<span class="token punctuation">.</span></span> You</span> may want <span class="token keyword">to</span> <span class="token namespace">configure</span> the replication backlog size <span class="token punctuation">(</span>see the next
#    sections of <span class="token keyword">this</span> file<span class="token punctuation">)</span> <span class="token keyword">with</span> <span class="token namespace">a</span> sensible value depending on your needs<span class="token punctuation">.</span>
# <span class="token number">3</span><span class="token punctuation">)</span> <span class="token class-name">Replication</span> is automatic and does not need user <span class="token class-name"><span class="token namespace">intervention<span class="token punctuation">.</span></span> After</span> a
#    network partition replicas automatically <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">reconnect</span> <span class="token keyword">to</span> <span class="token namespace">masters</span>
#    and resynchronize <span class="token keyword">with</span> <span class="token namespace">them<span class="token punctuation">.</span></span>
#
# replicaof \\<span class="token generics"><span class="token punctuation">&lt;</span>masterip<span class="token punctuation">&gt;</span></span> \\<span class="token generics"><span class="token punctuation">&lt;</span>masterport<span class="token punctuation">&gt;</span></span>

# <span class="token class-name">If</span> the master is password <span class="token keyword">protected</span> <span class="token punctuation">(</span>using the <span class="token string">&quot;requirepass&quot;</span> configuration
# directive below<span class="token punctuation">)</span> it is possible <span class="token keyword">to</span> <span class="token namespace">tell</span> the replica <span class="token keyword">to</span> <span class="token namespace">authenticate</span> before
# starting the replication synchronization process<span class="token punctuation">,</span> otherwise the master will
# refuse the replica request<span class="token punctuation">.</span>
#
# masterauth \\<span class="token operator">&lt;</span>master<span class="token operator">-</span>password<span class="token operator">&gt;</span>
#
# <span class="token class-name">However</span> <span class="token keyword">this</span> is not enough <span class="token keyword">if</span> you are using <span class="token class-name">Redis</span> <span class="token class-name">ACLs</span> <span class="token punctuation">(</span><span class="token keyword">for</span> <span class="token class-name">Redis</span> version
# <span class="token number">6</span> or greater<span class="token punctuation">)</span><span class="token punctuation">,</span> and the <span class="token keyword">default</span> user is not capable of running the PSYNC
# command and<span class="token operator">/</span>or other commands needed <span class="token keyword">for</span> <span class="token class-name"><span class="token namespace">replication<span class="token punctuation">.</span></span> In</span> <span class="token keyword">this</span> <span class="token keyword">case</span> it&#39;s
# better <span class="token keyword">to</span> <span class="token namespace">configure</span> a special user <span class="token keyword">to</span> <span class="token namespace">use</span> <span class="token keyword">with</span> <span class="token namespace">replication</span><span class="token punctuation">,</span> and specify the
# masteruser configuration as such<span class="token operator">:</span>
#
# masteruser \\<span class="token generics"><span class="token punctuation">&lt;</span>username<span class="token punctuation">&gt;</span></span>
#
# <span class="token class-name">When</span> masteruser is specified<span class="token punctuation">,</span> the replica will authenticate against its
# master using the <span class="token keyword">new</span> <span class="token class-name">AUTH</span> form<span class="token operator">:</span> AUTH \\<span class="token generics"><span class="token punctuation">&lt;</span>username<span class="token punctuation">&gt;</span></span> \\<span class="token generics"><span class="token punctuation">&lt;</span>password<span class="token punctuation">&gt;</span></span><span class="token punctuation">.</span>

# <span class="token class-name">When</span> a replica loses its connection <span class="token keyword">with</span> <span class="token namespace">the</span> master<span class="token punctuation">,</span> or when the replication
# is still in progress<span class="token punctuation">,</span> the replica can act in two different ways<span class="token operator">:</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">if</span> replica<span class="token operator">-</span>serve<span class="token operator">-</span>stale<span class="token operator">-</span>data is set <span class="token keyword">to</span> <span class="token char">&#39;yes&#39;</span> <span class="token punctuation">(</span>the <span class="token keyword">default</span><span class="token punctuation">)</span> the replica will
#    still reply <span class="token keyword">to</span> <span class="token namespace">client</span> requests<span class="token punctuation">,</span> possibly <span class="token keyword">with</span> <span class="token namespace">out</span> of date data<span class="token punctuation">,</span> or the
#    data set may just be empty <span class="token keyword">if</span> <span class="token keyword">this</span> is the first synchronization<span class="token punctuation">.</span>
#
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">if</span> replica<span class="token operator">-</span>serve<span class="token operator">-</span>stale<span class="token operator">-</span>data is set <span class="token keyword">to</span> <span class="token char">&#39;no&#39;</span> the replica will reply <span class="token keyword">with</span>
#    an error <span class="token string">&quot;SYNC with master in progress&quot;</span> <span class="token keyword">to</span> <span class="token namespace">all</span> the kind of commands
#    but <span class="token keyword">to</span> INFO<span class="token punctuation">,</span> replicaOF<span class="token punctuation">,</span> AUTH<span class="token punctuation">,</span> PING<span class="token punctuation">,</span> SHUTDOWN<span class="token punctuation">,</span> REPLCONF<span class="token punctuation">,</span> ROLE<span class="token punctuation">,</span> CONFIG<span class="token punctuation">,</span>
#    SUBSCRIBE<span class="token punctuation">,</span> UNSUBSCRIBE<span class="token punctuation">,</span> PSUBSCRIBE<span class="token punctuation">,</span> PUNSUBSCRIBE<span class="token punctuation">,</span> PUBLISH<span class="token punctuation">,</span> PUBSUB<span class="token punctuation">,</span>
#    COMMAND<span class="token punctuation">,</span> POST<span class="token punctuation">,</span> HOST<span class="token operator">:</span> and LATENCY<span class="token punctuation">.</span>
#
replica<span class="token operator">-</span>serve<span class="token operator">-</span>stale<span class="token operator">-</span>data yes

# <span class="token class-name">You</span> can configure a replica instance <span class="token keyword">to</span> <span class="token namespace">accept</span> writes or <span class="token class-name"><span class="token namespace">not<span class="token punctuation">.</span></span> Writing</span> against
# a replica instance may be useful <span class="token keyword">to</span> <span class="token namespace">store</span> some ephemeral data <span class="token punctuation">(</span>because data
# written on a replica will be easily deleted after resync <span class="token keyword">with</span> <span class="token namespace">the</span> master<span class="token punctuation">)</span> but
# may also cause problems <span class="token keyword">if</span> clients are writing <span class="token keyword">to</span> <span class="token namespace">it</span> because of a
# misconfiguration<span class="token punctuation">.</span>
#
# <span class="token class-name">Since</span> <span class="token class-name">Redis</span> <span class="token number">2.6</span> by <span class="token keyword">default</span> replicas are read<span class="token operator">-</span>only<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span><span class="token operator">:</span> read only replicas are not designed <span class="token keyword">to</span> <span class="token namespace">be</span> exposed <span class="token keyword">to</span> <span class="token namespace">untrusted</span> clients
# on the <span class="token class-name"><span class="token namespace">internet<span class="token punctuation">.</span></span> It</span>&#39;s just a protection layer against misuse of the instance<span class="token punctuation">.</span>
# <span class="token class-name">Still</span> a read only replica <span class="token keyword">exports</span> <span class="token namespace">by</span> <span class="token keyword">default</span> all the administrative commands
# such as CONFIG<span class="token punctuation">,</span> DEBUG<span class="token punctuation">,</span> and so <span class="token class-name"><span class="token namespace">forth<span class="token punctuation">.</span></span> To</span> a limited extent you can improve
# security of read only replicas using &#39;rename<span class="token operator">-</span>command&#39; <span class="token keyword">to</span> <span class="token namespace">shadow</span> all the
# administrative <span class="token operator">/</span> dangerous commands<span class="token punctuation">.</span>
replica<span class="token operator">-</span>read<span class="token operator">-</span>only yes

# <span class="token class-name">Replication</span> SYNC strategy<span class="token operator">:</span> disk or socket<span class="token punctuation">.</span>
#
# <span class="token class-name">New</span> replicas and reconnecting replicas that are not able <span class="token keyword">to</span> <span class="token keyword">continue</span> the
# replication process just receiving differences<span class="token punctuation">,</span> need <span class="token keyword">to</span> <span class="token keyword">do</span> what is called a
# <span class="token string">&quot;full synchronization&quot;</span><span class="token punctuation">.</span> <span class="token class-name">An</span> RDB file is transmitted from the master <span class="token keyword">to</span> <span class="token namespace">the</span>
# replicas<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> transmission can happen in two different ways<span class="token operator">:</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">Disk</span><span class="token operator">-</span>backed<span class="token operator">:</span> <span class="token class-name">The</span> <span class="token class-name">Redis</span> master creates a <span class="token keyword">new</span> process that writes the RDB
#                 file on <span class="token class-name"><span class="token namespace">disk<span class="token punctuation">.</span></span> Later</span> the file is transferred by the parent
#                 process <span class="token keyword">to</span> <span class="token namespace">the</span> replicas incrementally<span class="token punctuation">.</span>
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">Diskless</span><span class="token operator">:</span> <span class="token class-name">The</span> <span class="token class-name">Redis</span> master creates a <span class="token keyword">new</span> process that directly writes the
#              RDB file <span class="token keyword">to</span> <span class="token namespace">replica</span> sockets<span class="token punctuation">,</span> without touching the disk at all<span class="token punctuation">.</span>
#
# <span class="token class-name">With</span> disk<span class="token operator">-</span>backed replication<span class="token punctuation">,</span> <span class="token keyword">while</span> the RDB file is generated<span class="token punctuation">,</span> more replicas
# can be queued and served <span class="token keyword">with</span> <span class="token namespace">the</span> RDB file as soon as the current child
# producing the RDB file finishes its <span class="token class-name"><span class="token namespace">work<span class="token punctuation">.</span></span> With</span> diskless replication instead
# once the transfer starts<span class="token punctuation">,</span> <span class="token keyword">new</span> replicas arriving will be queued and a <span class="token keyword">new</span>
# transfer will start when the current one terminates<span class="token punctuation">.</span>
#
# <span class="token class-name">When</span> diskless replication is used<span class="token punctuation">,</span> the master waits a configurable amount of
# time <span class="token punctuation">(</span>in seconds<span class="token punctuation">)</span> before starting the transfer in the hope that multiple
# replicas will arrive and the transfer can be parallelized<span class="token punctuation">.</span>
#
# <span class="token class-name">With</span> slow disks and fast <span class="token punctuation">(</span>large bandwidth<span class="token punctuation">)</span> networks<span class="token punctuation">,</span> diskless replication
# works better<span class="token punctuation">.</span>
repl<span class="token operator">-</span>diskless<span class="token operator">-</span>sync no

# <span class="token class-name">When</span> diskless replication is enabled<span class="token punctuation">,</span> it is possible <span class="token keyword">to</span> <span class="token namespace">configure</span> the delay
# the server waits in order <span class="token keyword">to</span> <span class="token namespace">spawn</span> the child that transfers the RDB via socket
# <span class="token keyword">to</span> <span class="token namespace">the</span> replicas<span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> is important since once the transfer starts<span class="token punctuation">,</span> it is not possible <span class="token keyword">to</span> <span class="token namespace">serve</span>
# <span class="token keyword">new</span> replicas arriving<span class="token punctuation">,</span> that will be queued <span class="token keyword">for</span> the next <span class="token class-name">RDB</span> transfer<span class="token punctuation">,</span> so the
# server waits a delay in order <span class="token keyword">to</span> <span class="token namespace">let</span> more replicas arrive<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> delay is specified in seconds<span class="token punctuation">,</span> and by <span class="token keyword">default</span> is <span class="token number">5</span> <span class="token class-name"><span class="token namespace">seconds<span class="token punctuation">.</span></span> To</span> disable
# it entirely just set it <span class="token keyword">to</span> <span class="token number">0</span> seconds and the transfer will start ASAP<span class="token punctuation">.</span>
repl<span class="token operator">-</span>diskless<span class="token operator">-</span>sync<span class="token operator">-</span>delay <span class="token number">5</span>

# <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
# WARNING<span class="token operator">:</span> RDB diskless load is <span class="token class-name"><span class="token namespace">experimental<span class="token punctuation">.</span></span> Since</span> in <span class="token keyword">this</span> setup the replica
# does not immediately store an RDB on disk<span class="token punctuation">,</span> it may cause data loss during
# failovers<span class="token punctuation">.</span> RDB diskless load <span class="token operator">+</span> <span class="token class-name">Redis</span> modules not handling <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> reads may also
# cause <span class="token class-name">Redis</span> <span class="token keyword">to</span> <span class="token namespace">abort</span> in <span class="token keyword">case</span> of <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> errors during the initial synchronization
# stage <span class="token keyword">with</span> <span class="token namespace">the</span> <span class="token class-name"><span class="token namespace">master<span class="token punctuation">.</span></span> Use</span> only <span class="token keyword">if</span> your <span class="token keyword">do</span> what you are doing<span class="token punctuation">.</span>
# <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
#
# <span class="token class-name">Replica</span> can load the RDB it reads from the replication link directly from the
# socket<span class="token punctuation">,</span> or store the RDB <span class="token keyword">to</span> <span class="token namespace">a</span> file and read that file after it was completely
# recived from the master<span class="token punctuation">.</span>
#
# <span class="token class-name">In</span> many cases the disk is slower than the network<span class="token punctuation">,</span> and storing and loading
# the RDB file may increase replication time <span class="token punctuation">(</span>and even increase the master&#39;s
# <span class="token class-name">Copy</span> on <span class="token class-name">Write</span> memory and salve buffers<span class="token punctuation">)</span><span class="token punctuation">.</span>
# <span class="token class-name">However</span><span class="token punctuation">,</span> parsing the RDB file directly from the socket may mean that we have
# <span class="token keyword">to</span> <span class="token namespace">flush</span> the contents of the current database before the full rdb was
# <span class="token class-name"><span class="token namespace">received<span class="token punctuation">.</span></span> For</span> <span class="token keyword">this</span> reason we have the following options<span class="token operator">:</span>
#
# <span class="token string">&quot;disabled&quot;</span>    <span class="token operator">-</span> <span class="token class-name">Don</span>&#39;t use diskless load <span class="token punctuation">(</span>store the rdb file <span class="token keyword">to</span> <span class="token namespace">the</span> disk first<span class="token punctuation">)</span>
# <span class="token string">&quot;on-empty-db&quot;</span> <span class="token operator">-</span> <span class="token class-name">Use</span> diskless load only when it is completely safe<span class="token punctuation">.</span>
# <span class="token string">&quot;swapdb&quot;</span>      <span class="token operator">-</span> <span class="token class-name">Keep</span> a copy of the current db contents in RAM <span class="token keyword">while</span> parsing
#                 the data directly from the socket<span class="token punctuation">.</span> note that <span class="token keyword">this</span> <span class="token keyword">requires</span>
#                 sufficient memory<span class="token punctuation">,</span> <span class="token keyword">if</span> you don&#39;t have it<span class="token punctuation">,</span> you risk an OOM kill<span class="token punctuation">.</span>
repl<span class="token operator">-</span>diskless<span class="token operator">-</span>load disabled

# <span class="token class-name">Replicas</span> send <span class="token class-name">PINGs</span> <span class="token keyword">to</span> <span class="token namespace">server</span> in a predefined <span class="token class-name"><span class="token namespace">interval<span class="token punctuation">.</span></span> It</span>&#39;s possible <span class="token keyword">to</span>
# change <span class="token keyword">this</span> interval <span class="token keyword">with</span> <span class="token namespace">the</span> repl_ping_replica_period <span class="token class-name"><span class="token namespace">option<span class="token punctuation">.</span></span> The</span> <span class="token keyword">default</span>
# value is <span class="token number">10</span> seconds<span class="token punctuation">.</span>
#
# repl<span class="token operator">-</span>ping<span class="token operator">-</span>replica<span class="token operator">-</span>period <span class="token number">10</span>

# <span class="token class-name">The</span> following option sets the replication timeout <span class="token keyword">for</span><span class="token operator">:</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">Bulk</span> transfer <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> during SYNC<span class="token punctuation">,</span> from the point of view of replica<span class="token punctuation">.</span>
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">Master</span> timeout from the point of view of replicas <span class="token punctuation">(</span>data<span class="token punctuation">,</span> pings<span class="token punctuation">)</span><span class="token punctuation">.</span>
# <span class="token number">3</span><span class="token punctuation">)</span> <span class="token class-name">Replica</span> timeout from the point of view of masters <span class="token punctuation">(</span>REPLCONF <span class="token class-name">ACK</span> pings<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">It</span> is important <span class="token keyword">to</span> <span class="token namespace">make</span> sure that <span class="token keyword">this</span> value is greater than the value
# specified <span class="token keyword">for</span> repl<span class="token operator">-</span>ping<span class="token operator">-</span>replica<span class="token operator">-</span>period otherwise a timeout will be detected
# every time there is low traffic between the master and the replica<span class="token punctuation">.</span>
#
# repl<span class="token operator">-</span>timeout <span class="token number">60</span>

# <span class="token class-name">Disable</span> TCP_NODELAY on the replica socket after SYNC<span class="token operator">?</span>
#
# <span class="token class-name">If</span> you select <span class="token string">&quot;yes&quot;</span> <span class="token class-name">Redis</span> will use a smaller number of TCP packets and
# less bandwidth <span class="token keyword">to</span> <span class="token namespace">send</span> data <span class="token keyword">to</span> <span class="token namespace">replicas<span class="token punctuation">.</span></span> <span class="token class-name">But</span> <span class="token keyword">this</span> can add a delay <span class="token keyword">for</span>
# the data <span class="token keyword">to</span> <span class="token namespace">appear</span> on the replica side<span class="token punctuation">,</span> up <span class="token keyword">to</span> <span class="token number">40</span> milliseconds <span class="token keyword">with</span>
# <span class="token class-name">Linux</span> kernels using a <span class="token keyword">default</span> configuration<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> you select <span class="token string">&quot;no&quot;</span> the delay <span class="token keyword">for</span> data <span class="token keyword">to</span> <span class="token namespace">appear</span> on the replica side will
# be reduced but more bandwidth will be used <span class="token keyword">for</span> replication<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> we optimize <span class="token keyword">for</span> low latency<span class="token punctuation">,</span> but in very high traffic conditions
# or when the master and replicas are many hops away<span class="token punctuation">,</span> turning <span class="token keyword">this</span> <span class="token keyword">to</span> <span class="token string">&quot;yes&quot;</span> may
# be a good idea<span class="token punctuation">.</span>
repl<span class="token operator">-</span>disable<span class="token operator">-</span>tcp<span class="token operator">-</span>nodelay no

# <span class="token class-name">Set</span> the replication backlog <span class="token class-name"><span class="token namespace">size<span class="token punctuation">.</span></span> The</span> backlog is a buffer that accumulates
# replica data when replicas are disconnected <span class="token keyword">for</span> some time<span class="token punctuation">,</span> so that when a
# replica wants <span class="token keyword">to</span> <span class="token namespace">reconnect</span> again<span class="token punctuation">,</span> often a full resync is not needed<span class="token punctuation">,</span> but a
# partial resync is enough<span class="token punctuation">,</span> just passing the portion of data the replica
# missed <span class="token keyword">while</span> disconnected<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> bigger the replication backlog<span class="token punctuation">,</span> the longer the time the replica can be
# disconnected and later be able <span class="token keyword">to</span> <span class="token namespace">perform</span> a partial resynchronization<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> backlog is only allocated once there is at least a replica connected<span class="token punctuation">.</span>
#
# repl<span class="token operator">-</span>backlog<span class="token operator">-</span>size <span class="token number">1</span>mb

# <span class="token class-name">After</span> a master has no longer connected replicas <span class="token keyword">for</span> some time<span class="token punctuation">,</span> the backlog
# will be <span class="token class-name"><span class="token namespace">freed<span class="token punctuation">.</span></span> The</span> following option configures the amount of seconds that
# need <span class="token keyword">to</span> <span class="token namespace">elapse</span><span class="token punctuation">,</span> starting from the time the last replica disconnected<span class="token punctuation">,</span> <span class="token keyword">for</span>
# the backlog buffer <span class="token keyword">to</span> <span class="token namespace">be</span> freed<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span> that replicas never free the backlog <span class="token keyword">for</span> timeout<span class="token punctuation">,</span> since they may be
# promoted <span class="token keyword">to</span> <span class="token namespace">masters</span> later<span class="token punctuation">,</span> and should be able <span class="token keyword">to</span> <span class="token namespace">correctly</span> &quot;partially
# resynchronize&quot; <span class="token keyword">with</span> <span class="token namespace">the</span> replicas<span class="token operator">:</span> hence they should always accumulate backlog<span class="token punctuation">.</span>
#
# <span class="token class-name">A</span> value of <span class="token number">0</span> means <span class="token keyword">to</span> <span class="token namespace">never</span> release the backlog<span class="token punctuation">.</span>
#
# repl<span class="token operator">-</span>backlog<span class="token operator">-</span>ttl <span class="token number">3600</span>

# <span class="token class-name">The</span> replica priority is an integer number published by <span class="token class-name">Redis</span> in the INFO
# <span class="token class-name"><span class="token namespace">output<span class="token punctuation">.</span></span> It</span> is used by <span class="token class-name">Redis</span> <span class="token class-name">Sentinel</span> in order <span class="token keyword">to</span> <span class="token namespace">select</span> a replica <span class="token keyword">to</span> <span class="token namespace">promote</span>
# into a master <span class="token keyword">if</span> the master is no longer working correctly<span class="token punctuation">.</span>
#
# <span class="token class-name">A</span> replica <span class="token keyword">with</span> <span class="token namespace">a</span> low priority number is considered better <span class="token keyword">for</span> promotion<span class="token punctuation">,</span> so
# <span class="token keyword">for</span> instance <span class="token keyword">if</span> there are three replicas <span class="token keyword">with</span> <span class="token namespace">priority</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">25</span> <span class="token class-name">Sentinel</span>
# will pick the one <span class="token keyword">with</span> <span class="token namespace">priority</span> <span class="token number">10</span><span class="token punctuation">,</span> that is the lowest<span class="token punctuation">.</span>
#
# <span class="token class-name">However</span> a special priority of <span class="token number">0</span> marks the replica as not able <span class="token keyword">to</span> <span class="token namespace">perform</span> the
# role of master<span class="token punctuation">,</span> so a replica <span class="token keyword">with</span> <span class="token namespace">priority</span> of <span class="token number">0</span> will never be selected by
# <span class="token class-name">Redis</span> <span class="token class-name">Sentinel</span> <span class="token keyword">for</span> promotion<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> the priority is <span class="token number">100.</span>
replica<span class="token operator">-</span>priority <span class="token number">100</span>

# <span class="token class-name">It</span> is possible <span class="token keyword">for</span> a master <span class="token keyword">to</span> <span class="token namespace">stop</span> accepting writes <span class="token keyword">if</span> there are less than
# <span class="token class-name">N</span> replicas connected<span class="token punctuation">,</span> having a lag less or equal than <span class="token class-name">M</span> seconds<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token class-name">N</span> replicas need <span class="token keyword">to</span> <span class="token namespace">be</span> in <span class="token string">&quot;online&quot;</span> state<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> lag in seconds<span class="token punctuation">,</span> that must be \\<span class="token operator">&lt;=</span> the specified value<span class="token punctuation">,</span> is calculated from
# the last ping received from the replica<span class="token punctuation">,</span> that is usually sent every second<span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> option does not GUARANTEE that <span class="token class-name">N</span> replicas will accept the write<span class="token punctuation">,</span> but
# will limit the window of exposure <span class="token keyword">for</span> lost writes in <span class="token keyword">case</span> not enough replicas
# are available<span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token namespace">the</span> specified number of seconds<span class="token punctuation">.</span>
#
# <span class="token class-name">For</span> example <span class="token keyword">to</span> <span class="token namespace">require</span> at least <span class="token number">3</span> replicas <span class="token keyword">with</span> <span class="token namespace">a</span> lag \\<span class="token operator">&lt;=</span> <span class="token number">10</span> seconds use<span class="token operator">:</span>
#
# min<span class="token operator">-</span>replicas<span class="token operator">-</span><span class="token keyword">to</span><span class="token operator">-</span>write <span class="token number">3</span>
# min<span class="token operator">-</span>replicas<span class="token operator">-</span>max<span class="token operator">-</span>lag <span class="token number">10</span>
#
# <span class="token class-name">Setting</span> one or the other <span class="token keyword">to</span> <span class="token number">0</span> disables the feature<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> min<span class="token operator">-</span>replicas<span class="token operator">-</span><span class="token keyword">to</span><span class="token operator">-</span>write is set <span class="token keyword">to</span> <span class="token number">0</span> <span class="token punctuation">(</span>feature disabled<span class="token punctuation">)</span> and
# min<span class="token operator">-</span>replicas<span class="token operator">-</span>max<span class="token operator">-</span>lag is set <span class="token keyword">to</span> <span class="token number">10.</span>

# <span class="token class-name">A</span> <span class="token class-name">Redis</span> master is able <span class="token keyword">to</span> <span class="token namespace">list</span> the address and port of the attached
# replicas in different <span class="token class-name"><span class="token namespace">ways<span class="token punctuation">.</span></span> For</span> example the <span class="token string">&quot;INFO replication&quot;</span> section
# offers <span class="token keyword">this</span> information<span class="token punctuation">,</span> which is used<span class="token punctuation">,</span> among other tools<span class="token punctuation">,</span> by
# <span class="token class-name">Redis</span> <span class="token class-name">Sentinel</span> in order <span class="token keyword">to</span> <span class="token namespace">discover</span> replica instances<span class="token punctuation">.</span>
# <span class="token class-name">Another</span> place where <span class="token keyword">this</span> info is available is in the output of the
# <span class="token string">&quot;ROLE&quot;</span> command of a master<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> listed IP and address normally reported by a replica is obtained
# in the following way<span class="token operator">:</span>
#
#   IP<span class="token operator">:</span> <span class="token class-name">The</span> address is auto detected by checking the peer address
#   of the socket used by the replica <span class="token keyword">to</span> <span class="token namespace">connect</span> <span class="token keyword">with</span> <span class="token namespace">the</span> master<span class="token punctuation">.</span>
#
#   <span class="token class-name">Port</span><span class="token operator">:</span> <span class="token class-name">The</span> port is communicated by the replica during the replication
#   handshake<span class="token punctuation">,</span> and is normally the port that the replica is using <span class="token keyword">to</span>
#   listen <span class="token keyword">for</span> connections<span class="token punctuation">.</span>
#
# <span class="token class-name">However</span> when port forwarding or <span class="token class-name">Network</span> <span class="token class-name">Address</span> <span class="token class-name">Translation</span> <span class="token punctuation">(</span>NAT<span class="token punctuation">)</span> is
# used<span class="token punctuation">,</span> the replica may be actually reachable via different IP and port
# <span class="token class-name"><span class="token namespace">pairs<span class="token punctuation">.</span></span> The</span> following two options can be used by a replica in order <span class="token keyword">to</span>
# report <span class="token keyword">to</span> <span class="token namespace">its</span> master a specific set of IP and port<span class="token punctuation">,</span> so that both INFO
# and ROLE will report those values<span class="token punctuation">.</span>
#
# <span class="token class-name">There</span> is no need <span class="token keyword">to</span> <span class="token namespace">use</span> both the options <span class="token keyword">if</span> you need <span class="token keyword">to</span> <span class="token namespace">override</span> just
# the port or the IP address<span class="token punctuation">.</span>
#
# replica<span class="token operator">-</span>announce<span class="token operator">-</span>ip <span class="token number">5.5</span><span class="token number">.5</span><span class="token number">.5</span>
# replica<span class="token operator">-</span>announce<span class="token operator">-</span>port <span class="token number">1234</span>

############################### KEYS TRACKING #################################

# <span class="token class-name">Redis</span> <span class="token keyword">implements</span> server assisted support <span class="token keyword">for</span> client side caching of values<span class="token punctuation">.</span>
# <span class="token class-name">This</span> is implemented using an invalidation table that remembers<span class="token punctuation">,</span> using
# <span class="token number">16</span> millions of slots<span class="token punctuation">,</span> what clients may have certain subsets of <span class="token class-name"><span class="token namespace">keys<span class="token punctuation">.</span></span> In</span> turn
# <span class="token keyword">this</span> is used in order <span class="token keyword">to</span> <span class="token namespace">send</span> invalidation messages <span class="token keyword">to</span> <span class="token namespace">clients<span class="token punctuation">.</span></span> <span class="token class-name">Please</span>
# <span class="token keyword">to</span> <span class="token namespace">understand</span> more about the feature check <span class="token keyword">this</span> page<span class="token operator">:</span>
#
#   https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>redis<span class="token punctuation">.</span>io<span class="token operator">/</span>topics<span class="token operator">/</span>client<span class="token operator">-</span>side<span class="token operator">-</span>caching
#
# <span class="token class-name">When</span> tracking is enabled <span class="token keyword">for</span> a client<span class="token punctuation">,</span> all the read only queries are assumed
# <span class="token keyword">to</span> <span class="token namespace">be</span> cached<span class="token operator">:</span> <span class="token keyword">this</span> will force <span class="token class-name">Redis</span> <span class="token keyword">to</span> <span class="token namespace">store</span> information in the invalidation
# <span class="token class-name"><span class="token namespace">table<span class="token punctuation">.</span></span> When</span> keys are modified<span class="token punctuation">,</span> such information is flushed away<span class="token punctuation">,</span> and
# invalidation messages are sent <span class="token keyword">to</span> <span class="token namespace">the</span> <span class="token class-name"><span class="token namespace">clients<span class="token punctuation">.</span></span> However</span> <span class="token keyword">if</span> the workload is
# heavily dominated by reads<span class="token punctuation">,</span> <span class="token class-name">Redis</span> could use more and more memory in order
# <span class="token keyword">to</span> <span class="token namespace">track</span> the keys fetched by many clients<span class="token punctuation">.</span>
#
# <span class="token class-name">For</span> <span class="token keyword">this</span> reason it is possible <span class="token keyword">to</span> <span class="token namespace">configure</span> a maximum fill value <span class="token keyword">for</span> the
# invalidation <span class="token class-name"><span class="token namespace">table<span class="token punctuation">.</span></span> By</span> <span class="token keyword">default</span> it is set <span class="token keyword">to</span> <span class="token number">1</span>M of keys<span class="token punctuation">,</span> and once <span class="token keyword">this</span> limit
# is reached<span class="token punctuation">,</span> <span class="token class-name">Redis</span> will start <span class="token keyword">to</span> <span class="token namespace">evict</span> keys in the invalidation table
# even <span class="token keyword">if</span> they were not modified<span class="token punctuation">,</span> just <span class="token keyword">to</span> <span class="token namespace">reclaim</span> memory<span class="token operator">:</span> <span class="token keyword">this</span> will in turn
# force the clients <span class="token keyword">to</span> <span class="token namespace">invalidate</span> the cached <span class="token class-name"><span class="token namespace">values<span class="token punctuation">.</span></span> Basically</span> the table
# maximum size is a trade off between the memory you want <span class="token keyword">to</span> <span class="token namespace">spend</span> server
# side <span class="token keyword">to</span> <span class="token namespace">track</span> information about who cached what<span class="token punctuation">,</span> and the ability of clients
# <span class="token keyword">to</span> <span class="token namespace">retain</span> cached objects in memory<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> you set the value <span class="token keyword">to</span> <span class="token number">0</span><span class="token punctuation">,</span> it means there are no limits<span class="token punctuation">,</span> and <span class="token class-name">Redis</span> will
# retain as many keys as needed in the invalidation table<span class="token punctuation">.</span>
# <span class="token class-name">In</span> the <span class="token string">&quot;stats&quot;</span> <span class="token class-name">INFO</span> section<span class="token punctuation">,</span> you can find information about the number of
# keys in the invalidation table at every given moment<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span><span class="token operator">:</span> when key tracking is used in broadcasting mode<span class="token punctuation">,</span> no memory is used
# in the server side so <span class="token keyword">this</span> setting is useless<span class="token punctuation">.</span>
#
# tracking<span class="token operator">-</span>table<span class="token operator">-</span>max<span class="token operator">-</span>keys <span class="token number">1000000</span>

################################## SECURITY ###################################

# <span class="token class-name">Warning</span><span class="token operator">:</span> since <span class="token class-name">Redis</span> is pretty fast an outside user can <span class="token keyword">try</span> up <span class="token keyword">to</span>
# <span class="token number">1</span> million passwords per second against a modern <span class="token class-name"><span class="token namespace">box<span class="token punctuation">.</span></span> This</span> means that you
# should use very strong passwords<span class="token punctuation">,</span> otherwise they will be very easy <span class="token keyword">to</span> <span class="token keyword">break</span><span class="token punctuation">.</span>
# <span class="token class-name">Note</span> that because the password is really a shared secret between the client
# and the server<span class="token punctuation">,</span> and should not be memorized by any human<span class="token punctuation">,</span> the password
# can be easily a <span class="token keyword">long</span> string from <span class="token operator">/</span>dev<span class="token operator">/</span>urandom or whatever<span class="token punctuation">,</span> so by using a
# <span class="token keyword">long</span> and unguessable password no brute force attack will be possible<span class="token punctuation">.</span>

# <span class="token class-name">Redis</span> ACL users are defined in the following format<span class="token operator">:</span>
#
#   user \\<span class="token generics"><span class="token punctuation">&lt;</span>username<span class="token punctuation">&gt;</span></span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> acl rules <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
#
# <span class="token class-name">For</span> example<span class="token operator">:</span>
#
#   user worker <span class="token operator">+</span><span class="token annotation punctuation">@list</span> <span class="token operator">+</span><span class="token annotation punctuation">@connection</span> <span class="token operator">~</span>jobs<span class="token operator">:</span><span class="token operator">*</span> on <span class="token operator">&gt;</span>ffa9203c493aa99
#
# <span class="token class-name">The</span> special username <span class="token string">&quot;default&quot;</span> is used <span class="token keyword">for</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">connections<span class="token punctuation">.</span></span> If</span> <span class="token keyword">this</span> user
# has the <span class="token string">&quot;nopass&quot;</span> rule<span class="token punctuation">,</span> then <span class="token keyword">new</span> connections will be immediately authenticated
# as the <span class="token string">&quot;default&quot;</span> user without the need of any password provided via the
# AUTH <span class="token class-name"><span class="token namespace">command<span class="token punctuation">.</span></span> Otherwise</span> <span class="token keyword">if</span> the <span class="token string">&quot;default&quot;</span> user is not flagged <span class="token keyword">with</span> <span class="token string">&quot;nopass&quot;</span>
# the connections will start in not authenticated state<span class="token punctuation">,</span> and will require
# AUTH <span class="token punctuation">(</span>or the HELLO command <span class="token class-name">AUTH</span> option<span class="token punctuation">)</span> in order <span class="token keyword">to</span> <span class="token namespace">be</span> authenticated and
# start <span class="token keyword">to</span> <span class="token namespace">work<span class="token punctuation">.</span></span>
#
# <span class="token class-name">The</span> ACL rules that describe what an user can <span class="token keyword">do</span> are the following<span class="token operator">:</span>
#
#  on           <span class="token class-name">Enable</span> the user<span class="token operator">:</span> it is possible <span class="token keyword">to</span> <span class="token namespace">authenticate</span> as <span class="token keyword">this</span> user<span class="token punctuation">.</span>
#  off          <span class="token class-name">Disable</span> the user<span class="token operator">:</span> it&#39;s no longer possible <span class="token keyword">to</span> <span class="token namespace">authenticate</span>
#               <span class="token keyword">with</span> <span class="token keyword">this</span> user<span class="token punctuation">,</span> however the already authenticated connections
#               will still work<span class="token punctuation">.</span>
#  <span class="token operator">+</span>\\<span class="token generics"><span class="token punctuation">&lt;</span>command<span class="token punctuation">&gt;</span></span>   <span class="token class-name">Allow</span> the execution of that command
#  <span class="token operator">-</span>\\<span class="token generics"><span class="token punctuation">&lt;</span>command<span class="token punctuation">&gt;</span></span>   <span class="token class-name">Disallow</span> the execution of that command
#  <span class="token operator">+</span>@\\<span class="token generics"><span class="token punctuation">&lt;</span>category<span class="token punctuation">&gt;</span></span> <span class="token class-name">Allow</span> the execution of all the commands in such category
#               <span class="token keyword">with</span> <span class="token namespace">valid</span> categories are like <span class="token annotation punctuation">@admin</span><span class="token punctuation">,</span> <span class="token annotation punctuation">@set</span><span class="token punctuation">,</span> <span class="token annotation punctuation">@sortedset</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
#               and so forth<span class="token punctuation">,</span> see the full list in the server<span class="token punctuation">.</span>c file where
#               the <span class="token class-name">Redis</span> command table is described and defined<span class="token punctuation">.</span>
#               <span class="token class-name">The</span> special category <span class="token annotation punctuation">@all</span> means all the commands<span class="token punctuation">,</span> but currently
#               present in the server<span class="token punctuation">,</span> and that will be loaded in the future
#               via modules<span class="token punctuation">.</span>
#  <span class="token operator">+</span>\\<span class="token generics"><span class="token punctuation">&lt;</span>command<span class="token punctuation">&gt;</span></span><span class="token operator">|</span>subcommand    <span class="token class-name">Allow</span> a specific subcommand of an otherwise
#                           disabled <span class="token class-name"><span class="token namespace">command<span class="token punctuation">.</span></span> Note</span> that <span class="token keyword">this</span> form is not
#                           allowed as negative like <span class="token operator">-</span>DEBUG<span class="token operator">|</span>SEGFAULT<span class="token punctuation">,</span> but
#                           only additive starting <span class="token keyword">with</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">.</span>
#  allcommands  <span class="token class-name">Alias</span> <span class="token keyword">for</span> <span class="token operator">+</span><span class="token annotation punctuation">@all. Note</span> that it implies the ability <span class="token keyword">to</span> <span class="token namespace">execute</span>
#               all the future commands loaded via the modules system<span class="token punctuation">.</span>
#  nocommands   <span class="token class-name">Alias</span> <span class="token keyword">for</span> <span class="token operator">-</span><span class="token annotation punctuation">@all</span><span class="token punctuation">.</span>
#  <span class="token operator">~</span>\\<span class="token generics"><span class="token punctuation">&lt;</span>pattern<span class="token punctuation">&gt;</span></span>   <span class="token class-name">Add</span> a pattern of keys that can be mentioned as part of
#               <span class="token class-name"><span class="token namespace">commands<span class="token punctuation">.</span></span> For</span> instance <span class="token operator">~</span><span class="token operator">*</span> allows all the <span class="token class-name"><span class="token namespace">keys<span class="token punctuation">.</span></span> The</span> pattern
#               is a glob<span class="token operator">-</span>style pattern like the one of KEYS<span class="token punctuation">.</span>
#               <span class="token class-name">It</span> is possible <span class="token keyword">to</span> <span class="token namespace">specify</span> multiple patterns<span class="token punctuation">.</span>
#  allkeys      <span class="token class-name">Alias</span> <span class="token keyword">for</span> <span class="token operator">~</span><span class="token operator">*</span>
#  resetkeys    <span class="token class-name">Flush</span> the list of allowed keys patterns<span class="token punctuation">.</span>
#  <span class="token operator">&gt;</span>\\<span class="token generics"><span class="token punctuation">&lt;</span>password<span class="token punctuation">&gt;</span></span>  <span class="token class-name">Add</span> <span class="token keyword">this</span> passowrd <span class="token keyword">to</span> <span class="token namespace">the</span> list of valid password <span class="token keyword">for</span> the user<span class="token punctuation">.</span>
#               <span class="token class-name">For</span> example <span class="token operator">&gt;</span>mypass will add <span class="token string">&quot;mypass&quot;</span> <span class="token keyword">to</span> <span class="token namespace">the</span> list<span class="token punctuation">.</span>
#               <span class="token class-name">This</span> directive clears the <span class="token string">&quot;nopass&quot;</span> flag <span class="token punctuation">(</span>see later<span class="token punctuation">)</span><span class="token punctuation">.</span>
#  \\<span class="token operator">&lt;</span>\\<span class="token generics"><span class="token punctuation">&lt;</span>password<span class="token punctuation">&gt;</span></span>  <span class="token class-name">Remove</span> <span class="token keyword">this</span> password from the list of valid passwords<span class="token punctuation">.</span>
#  nopass       <span class="token class-name">All</span> the set passwords of the user are removed<span class="token punctuation">,</span> and the user
#               is flagged as requiring no password<span class="token operator">:</span> it means that every
#               password will work against <span class="token keyword">this</span> <span class="token class-name"><span class="token namespace">user<span class="token punctuation">.</span></span> If</span> <span class="token keyword">this</span> directive is
#               used <span class="token keyword">for</span> the <span class="token keyword">default</span> user<span class="token punctuation">,</span> every <span class="token keyword">new</span> connection will be
#               immediately authenticated <span class="token keyword">with</span> <span class="token namespace">the</span> <span class="token keyword">default</span> user without
#               any explicit AUTH command <span class="token class-name"><span class="token namespace">required<span class="token punctuation">.</span></span> Note</span> that the <span class="token string">&quot;resetpass&quot;</span>
#               directive will clear <span class="token keyword">this</span> condition<span class="token punctuation">.</span>
#  resetpass    <span class="token class-name">Flush</span> the list of allowed <span class="token class-name"><span class="token namespace">passwords<span class="token punctuation">.</span></span> Moreover</span> removes the
#               <span class="token string">&quot;nopass&quot;</span> <span class="token class-name"><span class="token namespace">status<span class="token punctuation">.</span></span> After</span> <span class="token string">&quot;resetpass&quot;</span> the user has no associated
#               passwords and there is no way <span class="token keyword">to</span> <span class="token namespace">authenticate</span> without adding
#               some password <span class="token punctuation">(</span>or setting it as <span class="token string">&quot;nopass&quot;</span> later<span class="token punctuation">)</span><span class="token punctuation">.</span>
#  reset        <span class="token class-name">Performs</span> the following actions<span class="token operator">:</span> resetpass<span class="token punctuation">,</span> resetkeys<span class="token punctuation">,</span> off<span class="token punctuation">,</span>
#               <span class="token operator">-</span><span class="token annotation punctuation">@all. The</span> user returns <span class="token keyword">to</span> <span class="token namespace">the</span> same state it has immediately
#               after its creation<span class="token punctuation">.</span>
#
# ACL rules can be specified in any order<span class="token operator">:</span> <span class="token keyword">for</span> instance you can start <span class="token keyword">with</span>
# passwords<span class="token punctuation">,</span> then flags<span class="token punctuation">,</span> or key <span class="token class-name"><span class="token namespace">patterns<span class="token punctuation">.</span></span> However</span> note that the additive
# and subtractive rules will CHANGE MEANING depending on the ordering<span class="token punctuation">.</span>
# <span class="token class-name">For</span> instance see the following example<span class="token operator">:</span>
#
#   user alice on <span class="token operator">+</span><span class="token annotation punctuation">@all</span> <span class="token operator">-</span>DEBUG <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">&gt;</span>somepassword
#
# <span class="token class-name">This</span> will allow <span class="token string">&quot;alice&quot;</span> <span class="token keyword">to</span> <span class="token namespace">use</span> all the commands <span class="token keyword">with</span> <span class="token namespace">the</span> exception of the
# <span class="token class-name">DEBUG</span> command<span class="token punctuation">,</span> since <span class="token operator">+</span><span class="token annotation punctuation">@all</span> added all the commands <span class="token keyword">to</span> <span class="token namespace">the</span> set of the commands
# alice can use<span class="token punctuation">,</span> and later DEBUG was <span class="token class-name"><span class="token namespace">removed<span class="token punctuation">.</span></span> However</span> <span class="token keyword">if</span> we invert the order
# of two ACL rules the result will be different<span class="token operator">:</span>
#
#   user alice on <span class="token operator">-</span>DEBUG <span class="token operator">+</span><span class="token annotation punctuation">@all</span> <span class="token operator">~</span><span class="token operator">*</span> <span class="token operator">&gt;</span>somepassword
#
# <span class="token class-name">Now</span> DEBUG was removed when alice had yet no commands in the set of allowed
# commands<span class="token punctuation">,</span> later all the commands are added<span class="token punctuation">,</span> so the user will be able <span class="token keyword">to</span>
# execute everything<span class="token punctuation">.</span>
#
# <span class="token class-name">Basically</span> ACL rules are processed left<span class="token operator">-</span><span class="token keyword">to</span><span class="token operator">-</span>right<span class="token punctuation">.</span>
#
# <span class="token class-name">For</span> more information about ACL configuration please refer <span class="token keyword">to</span>
# the <span class="token class-name">Redis</span> web site at https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>redis<span class="token punctuation">.</span>io<span class="token operator">/</span>topics<span class="token operator">/</span>acl

# ACL LOG
#
# <span class="token class-name">The</span> ACL <span class="token class-name">Log</span> tracks failed commands and authentication events associated
# <span class="token keyword">with</span> <span class="token class-name">ACLs<span class="token punctuation">.</span> The</span> ACL <span class="token class-name">Log</span> is useful <span class="token keyword">to</span> <span class="token namespace">troubleshoot</span> failed commands blocked 
# by <span class="token class-name">ACLs<span class="token punctuation">.</span> The</span> ACL <span class="token class-name">Log</span> is stored in <span class="token class-name"><span class="token namespace">memory<span class="token punctuation">.</span></span> You</span> can reclaim memory <span class="token keyword">with</span> 
# ACL LOG <span class="token class-name">RESET<span class="token punctuation">.</span> Define</span> the maximum entry length of the ACL <span class="token class-name">Log</span> below<span class="token punctuation">.</span>
acllog<span class="token operator">-</span>max<span class="token operator">-</span>len <span class="token number">128</span>

# <span class="token class-name">Using</span> an external ACL file
#
# <span class="token class-name">Instead</span> of configuring users here in <span class="token keyword">this</span> file<span class="token punctuation">,</span> it is possible <span class="token keyword">to</span> <span class="token namespace">use</span>
# a stand<span class="token operator">-</span>alone file just listing <span class="token class-name"><span class="token namespace">users<span class="token punctuation">.</span></span> The</span> two methods cannot be mixed<span class="token operator">:</span>
# <span class="token keyword">if</span> you configure users here and at the same time you activate the exteranl
# <span class="token class-name">ACL</span> file<span class="token punctuation">,</span> the server will refuse <span class="token keyword">to</span> <span class="token namespace">start<span class="token punctuation">.</span></span>
#
# <span class="token class-name">The</span> format of the external ACL user file is exactly the same as the
# format that is used inside redis<span class="token punctuation">.</span>conf <span class="token keyword">to</span> <span class="token namespace">describe</span> users<span class="token punctuation">.</span>
#
# aclfile <span class="token operator">/</span>etc<span class="token operator">/</span>redis<span class="token operator">/</span>users<span class="token punctuation">.</span>acl

# IMPORTANT NOTE<span class="token operator">:</span> starting <span class="token keyword">with</span> <span class="token class-name">Redis</span> <span class="token number">6</span> <span class="token string">&quot;requirepass&quot;</span> is just a compatiblity
# layer on top of the <span class="token keyword">new</span> <span class="token class-name">ACL</span> <span class="token class-name"><span class="token namespace">system<span class="token punctuation">.</span></span> The</span> option effect will be just setting
# the password <span class="token keyword">for</span> the <span class="token keyword">default</span> <span class="token class-name"><span class="token namespace">user<span class="token punctuation">.</span></span> Clients</span> will still authenticate using
# AUTH \\<span class="token generics"><span class="token punctuation">&lt;</span>password<span class="token punctuation">&gt;</span></span> as usually<span class="token punctuation">,</span> or more explicitly <span class="token keyword">with</span> AUTH <span class="token keyword">default</span> \\<span class="token generics"><span class="token punctuation">&lt;</span>password<span class="token punctuation">&gt;</span></span>
# <span class="token keyword">if</span> they follow the <span class="token keyword">new</span> protocol<span class="token operator">:</span> both will work<span class="token punctuation">.</span>
#
# requirepass foobared

# <span class="token class-name">Command</span> renaming <span class="token punctuation">(</span>DEPRECATED<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
# WARNING<span class="token operator">:</span> avoid using <span class="token keyword">this</span> option <span class="token keyword">if</span> <span class="token class-name"><span class="token namespace">possible<span class="token punctuation">.</span></span> Instead</span> use <span class="token class-name">ACLs</span> <span class="token keyword">to</span> <span class="token namespace">remove</span>
# commands from the <span class="token keyword">default</span> user<span class="token punctuation">,</span> and put them only in some admin user you
# create <span class="token keyword">for</span> administrative purposes<span class="token punctuation">.</span>
# <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
#
# <span class="token class-name">It</span> is possible <span class="token keyword">to</span> <span class="token namespace">change</span> the name of dangerous commands in a shared
# <span class="token class-name"><span class="token namespace">environment<span class="token punctuation">.</span></span> For</span> instance the CONFIG command may be renamed into something
# hard <span class="token keyword">to</span> <span class="token namespace">guess</span> so that it will still be available <span class="token keyword">for</span> internal<span class="token operator">-</span>use tools
# but not available <span class="token keyword">for</span> general clients<span class="token punctuation">.</span>
#
# <span class="token class-name">Example</span><span class="token operator">:</span>
#
# rename<span class="token operator">-</span>command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52
#
# <span class="token class-name">It</span> is also possible <span class="token keyword">to</span> <span class="token namespace">completely</span> kill a command by renaming it into
# an empty string<span class="token operator">:</span>
#
# rename<span class="token operator">-</span>command CONFIG <span class="token string">&quot;&quot;</span>
#
# <span class="token class-name">Please</span> note that changing the name of commands that are logged into the
# AOF file or transmitted <span class="token keyword">to</span> <span class="token namespace">replicas</span> may cause problems<span class="token punctuation">.</span>

################################### CLIENTS ####################################

# <span class="token class-name">Set</span> the max number of connected clients at the same <span class="token class-name"><span class="token namespace">time<span class="token punctuation">.</span></span> By</span> <span class="token keyword">default</span>
# <span class="token keyword">this</span> limit is set <span class="token keyword">to</span> <span class="token number">10000</span> clients<span class="token punctuation">,</span> however <span class="token keyword">if</span> the <span class="token class-name">Redis</span> server is not
# able <span class="token keyword">to</span> <span class="token namespace">configure</span> the process file limit <span class="token keyword">to</span> <span class="token namespace">allow</span> <span class="token keyword">for</span> the specified limit
# the max number of allowed clients is set <span class="token keyword">to</span> <span class="token namespace">the</span> current file limit
# minus <span class="token number">32</span> <span class="token punctuation">(</span>as <span class="token class-name">Redis</span> reserves a few file descriptors <span class="token keyword">for</span> internal <span class="token keyword">uses</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">Once</span> the limit is reached <span class="token class-name">Redis</span> will close all the <span class="token keyword">new</span> connections sending
# an error &#39;max number of clients reached&#39;<span class="token punctuation">.</span>
#
# IMPORTANT<span class="token operator">:</span> <span class="token class-name">When</span> <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span> is used<span class="token punctuation">,</span> the max number of connections is also
# shared <span class="token keyword">with</span> <span class="token namespace">the</span> cluster bus<span class="token operator">:</span> every node in the cluster will use two
# connections<span class="token punctuation">,</span> one incoming and another <span class="token class-name"><span class="token namespace">outgoing<span class="token punctuation">.</span></span> It</span> is important <span class="token keyword">to</span> <span class="token namespace">size</span> the
# limit accordingly in <span class="token keyword">case</span> of very large clusters<span class="token punctuation">.</span>
#
# maxclients <span class="token number">10000</span>

############################## MEMORY MANAGEMENT ################################

# <span class="token class-name">Set</span> a memory usage limit <span class="token keyword">to</span> <span class="token namespace">the</span> specified amount of bytes<span class="token punctuation">.</span>
# <span class="token class-name">When</span> the memory limit is reached <span class="token class-name">Redis</span> will <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">remove</span> keys
# according <span class="token keyword">to</span> <span class="token namespace">the</span> eviction policy selected <span class="token punctuation">(</span>see maxmemory<span class="token operator">-</span>policy<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> <span class="token class-name">Redis</span> can&#39;t remove keys according <span class="token keyword">to</span> <span class="token namespace">the</span> policy<span class="token punctuation">,</span> or <span class="token keyword">if</span> the policy is
# set <span class="token keyword">to</span> &#39;noeviction&#39;<span class="token punctuation">,</span> <span class="token class-name">Redis</span> will start <span class="token keyword">to</span> <span class="token namespace">reply</span> <span class="token keyword">with</span> <span class="token namespace">errors</span> <span class="token keyword">to</span> <span class="token namespace">commands</span>
# that would use more memory<span class="token punctuation">,</span> like SET<span class="token punctuation">,</span> LPUSH<span class="token punctuation">,</span> and so on<span class="token punctuation">,</span> and will <span class="token keyword">continue</span>
# <span class="token keyword">to</span> <span class="token namespace">reply</span> <span class="token keyword">to</span> <span class="token namespace">read</span><span class="token operator">-</span>only commands like GET<span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> option is usually useful when using <span class="token class-name">Redis</span> as an LRU or <span class="token class-name">LFU</span> cache<span class="token punctuation">,</span> or <span class="token keyword">to</span>
# set a hard memory limit <span class="token keyword">for</span> an instance <span class="token punctuation">(</span>using the &#39;noeviction&#39; policy<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# WARNING<span class="token operator">:</span> <span class="token class-name">If</span> you have replicas attached <span class="token keyword">to</span> <span class="token namespace">an</span> instance <span class="token keyword">with</span> <span class="token namespace">maxmemory</span> on<span class="token punctuation">,</span>
# the size of the output buffers needed <span class="token keyword">to</span> <span class="token namespace">feed</span> the replicas are subtracted
# from the used memory count<span class="token punctuation">,</span> so that network problems <span class="token operator">/</span> resyncs will
# not trigger a loop where keys are evicted<span class="token punctuation">,</span> and in turn the output
# buffer of replicas is full <span class="token keyword">with</span> <span class="token class-name">DELs</span> of keys evicted triggering the deletion
# of more keys<span class="token punctuation">,</span> and so forth until the database is completely emptied<span class="token punctuation">.</span>
#
# <span class="token class-name">In</span> <span class="token keyword">short</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">if</span> you have replicas attached it is suggested that you set a lower
# limit <span class="token keyword">for</span> maxmemory so that there is some free RAM on the system <span class="token keyword">for</span> replica
# output buffers <span class="token punctuation">(</span>but <span class="token keyword">this</span> is not needed <span class="token keyword">if</span> the policy is &#39;noeviction&#39;<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# maxmemory \\<span class="token generics"><span class="token punctuation">&lt;</span>bytes<span class="token punctuation">&gt;</span></span>

# MAXMEMORY POLICY<span class="token operator">:</span> how <span class="token class-name">Redis</span> will select what <span class="token keyword">to</span> <span class="token namespace">remove</span> when maxmemory
# is <span class="token class-name"><span class="token namespace">reached<span class="token punctuation">.</span></span> You</span> can select one from the following behaviors<span class="token operator">:</span>
#
# <span class="token keyword">volatile</span><span class="token operator">-</span>lru <span class="token operator">-&gt;</span> <span class="token class-name">Evict</span> using approximated LRU<span class="token punctuation">,</span> only keys <span class="token keyword">with</span> <span class="token namespace">an</span> expire set<span class="token punctuation">.</span>
# allkeys<span class="token operator">-</span>lru <span class="token operator">-&gt;</span> <span class="token class-name">Evict</span> any key using approximated LRU<span class="token punctuation">.</span>
# <span class="token keyword">volatile</span><span class="token operator">-</span>lfu <span class="token operator">-&gt;</span> <span class="token class-name">Evict</span> using approximated LFU<span class="token punctuation">,</span> only keys <span class="token keyword">with</span> <span class="token namespace">an</span> expire set<span class="token punctuation">.</span>
# allkeys<span class="token operator">-</span>lfu <span class="token operator">-&gt;</span> <span class="token class-name">Evict</span> any key using approximated LFU<span class="token punctuation">.</span>
# <span class="token keyword">volatile</span><span class="token operator">-</span>random <span class="token operator">-&gt;</span> <span class="token class-name">Remove</span> a random key having an expire set<span class="token punctuation">.</span>
# allkeys<span class="token operator">-</span>random <span class="token operator">-&gt;</span> <span class="token class-name">Remove</span> a random key<span class="token punctuation">,</span> any key<span class="token punctuation">.</span>
# <span class="token keyword">volatile</span><span class="token operator">-</span>ttl <span class="token operator">-&gt;</span> <span class="token class-name">Remove</span> the key <span class="token keyword">with</span> <span class="token namespace">the</span> nearest expire time <span class="token punctuation">(</span>minor TTL<span class="token punctuation">)</span>
# noeviction <span class="token operator">-&gt;</span> <span class="token class-name">Don</span>&#39;t evict anything<span class="token punctuation">,</span> just <span class="token keyword">return</span> an error on write operations<span class="token punctuation">.</span>
#
# LRU means <span class="token class-name">Least</span> <span class="token class-name">Recently</span> <span class="token class-name">Used</span>
# LFU means <span class="token class-name">Least</span> <span class="token class-name">Frequently</span> <span class="token class-name">Used</span>
#
# <span class="token class-name">Both</span> LRU<span class="token punctuation">,</span> LFU and <span class="token keyword">volatile</span><span class="token operator">-</span>ttl are implemented using approximated
# randomized algorithms<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span><span class="token operator">:</span> <span class="token keyword">with</span> <span class="token namespace">any</span> of the above policies<span class="token punctuation">,</span> <span class="token class-name">Redis</span> will <span class="token keyword">return</span> an error on write
#       operations<span class="token punctuation">,</span> when there are no suitable keys <span class="token keyword">for</span> eviction<span class="token punctuation">.</span>
#
#       <span class="token class-name">At</span> the date of writing these commands are<span class="token operator">:</span> set setnx setex append
#       incr decr rpush lpush rpushx lpushx linsert lset rpoplpush sadd
#       sinter sinterstore sunion sunionstore sdiff sdiffstore zadd zincrby
#       zunionstore zinterstore hset hsetnx hmset hincrby incrby decrby
#       getset mset msetnx exec sort
#
# <span class="token class-name">The</span> <span class="token keyword">default</span> is<span class="token operator">:</span>
#
# maxmemory<span class="token operator">-</span>policy noeviction

# LRU<span class="token punctuation">,</span> LFU and minimal TTL algorithms are not precise algorithms but approximated
# algorithms <span class="token punctuation">(</span>in order <span class="token keyword">to</span> <span class="token namespace">save</span> memory<span class="token punctuation">)</span><span class="token punctuation">,</span> so you can tune it <span class="token keyword">for</span> speed or
# <span class="token class-name"><span class="token namespace">accuracy<span class="token punctuation">.</span></span> For</span> <span class="token keyword">default</span> <span class="token class-name">Redis</span> will check five keys and pick the one that was
# used less recently<span class="token punctuation">,</span> you can change the sample size using the following
# configuration directive<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token keyword">default</span> of <span class="token number">5</span> produces good enough results<span class="token punctuation">.</span> <span class="token number">10</span> <span class="token class-name">Approximates</span> very closely
# <span class="token boolean">true</span> LRU but costs more CPU<span class="token punctuation">.</span> <span class="token number">3</span> is faster but not very accurate<span class="token punctuation">.</span>
#
# maxmemory<span class="token operator">-</span>samples <span class="token number">5</span>

# <span class="token class-name">Starting</span> from <span class="token class-name">Redis</span> <span class="token number">5</span><span class="token punctuation">,</span> by <span class="token keyword">default</span> a replica will ignore its maxmemory setting
# <span class="token punctuation">(</span>unless it is promoted <span class="token keyword">to</span> <span class="token namespace">master</span> after a failover or manually<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token class-name">It</span> means
# that the eviction of keys will be just handled by the master<span class="token punctuation">,</span> sending the
# DEL commands <span class="token keyword">to</span> <span class="token namespace">the</span> replica as keys evict in the master side<span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> behavior ensures that masters and replicas stay consistent<span class="token punctuation">,</span> and is usually
# what you want<span class="token punctuation">,</span> however <span class="token keyword">if</span> your replica is writable<span class="token punctuation">,</span> or you want the replica
# <span class="token keyword">to</span> <span class="token namespace">have</span> a different memory setting<span class="token punctuation">,</span> and you are sure all the writes performed
# <span class="token keyword">to</span> <span class="token namespace">the</span> replica are idempotent<span class="token punctuation">,</span> then you may change <span class="token keyword">this</span> <span class="token keyword">default</span> <span class="token punctuation">(</span>but be sure
# <span class="token keyword">to</span> <span class="token namespace">understand</span> what you are doing<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span> that since the replica by <span class="token keyword">default</span> does not evict<span class="token punctuation">,</span> it may end using more
# memory than the one set via maxmemory <span class="token punctuation">(</span>there are certain buffers that may
# be larger on the replica<span class="token punctuation">,</span> or data structures may sometimes take more memory
# and so forth<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token class-name">So</span> make sure you monitor your replicas and make sure they
# have enough memory <span class="token keyword">to</span> <span class="token namespace">never</span> hit a real out<span class="token operator">-</span>of<span class="token operator">-</span>memory condition before the
# master hits the configured maxmemory setting<span class="token punctuation">.</span>
#
# replica<span class="token operator">-</span>ignore<span class="token operator">-</span>maxmemory yes

# <span class="token class-name">Redis</span> reclaims expired keys in two ways<span class="token operator">:</span> upon access when those keys are
# found <span class="token keyword">to</span> <span class="token namespace">be</span> expired<span class="token punctuation">,</span> and also in background<span class="token punctuation">,</span> in what is called the
# <span class="token string">&quot;active expire key&quot;</span><span class="token punctuation">.</span> <span class="token class-name">The</span> key space is slowly and interactively scanned
# looking <span class="token keyword">for</span> expired keys <span class="token keyword">to</span> <span class="token namespace">reclaim</span><span class="token punctuation">,</span> so that it is possible <span class="token keyword">to</span> <span class="token namespace">free</span> memory
# of keys that are expired and will never be accessed again in a <span class="token keyword">short</span> time<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token keyword">default</span> effort of the expire cycle will <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">avoid</span> having more than
# ten percent of expired keys still in memory<span class="token punctuation">,</span> and will <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">avoid</span> consuming
# more than <span class="token number">25</span><span class="token operator">%</span> of total memory and <span class="token keyword">to</span> <span class="token namespace">add</span> latency <span class="token keyword">to</span> <span class="token namespace">the</span> <span class="token class-name"><span class="token namespace">system<span class="token punctuation">.</span></span> However</span>
# it is possible <span class="token keyword">to</span> <span class="token namespace">increase</span> the expire <span class="token string">&quot;effort&quot;</span> that is normally set <span class="token keyword">to</span>
# <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token namespace">a</span> greater value<span class="token punctuation">,</span> up <span class="token keyword">to</span> <span class="token namespace">the</span> value <span class="token string">&quot;10&quot;</span><span class="token punctuation">.</span> <span class="token class-name">At</span> its maximum value the
# system will use more CPU<span class="token punctuation">,</span> longer cycles <span class="token punctuation">(</span>and technically may introduce
# more latency<span class="token punctuation">)</span><span class="token punctuation">,</span> and will tollerate less already expired keys still present
# in the <span class="token class-name"><span class="token namespace">system<span class="token punctuation">.</span></span> It</span>&#39;s a tradeoff betweeen memory<span class="token punctuation">,</span> CPU and latecy<span class="token punctuation">.</span>
#
# active<span class="token operator">-</span>expire<span class="token operator">-</span>effort <span class="token number">1</span>

############################# LAZY FREEING ####################################

# <span class="token class-name">Redis</span> has two primitives <span class="token keyword">to</span> <span class="token namespace">delete</span> <span class="token class-name"><span class="token namespace">keys<span class="token punctuation">.</span></span> One</span> is called DEL and is a blocking
# deletion of the <span class="token class-name"><span class="token namespace">object<span class="token punctuation">.</span></span> It</span> means that the server stops processing <span class="token keyword">new</span> commands
# in order <span class="token keyword">to</span> <span class="token namespace">reclaim</span> all the memory associated <span class="token keyword">with</span> <span class="token namespace">an</span> object in a synchronous
# <span class="token class-name"><span class="token namespace">way<span class="token punctuation">.</span></span> If</span> the key deleted is associated <span class="token keyword">with</span> <span class="token namespace">a</span> small object<span class="token punctuation">,</span> the time needed
# in order <span class="token keyword">to</span> <span class="token namespace">execute</span> the DEL command is very small and comparable <span class="token keyword">to</span> <span class="token namespace">most</span> other
# <span class="token class-name">O</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> or <span class="token class-name">O</span><span class="token punctuation">(</span>log_N<span class="token punctuation">)</span> commands in <span class="token class-name">Redis<span class="token punctuation">.</span> However</span> <span class="token keyword">if</span> the key is associated <span class="token keyword">with</span> <span class="token namespace">an</span>
# aggregated value containing millions of elements<span class="token punctuation">,</span> the server can block <span class="token keyword">for</span>
# a <span class="token keyword">long</span> time <span class="token punctuation">(</span>even seconds<span class="token punctuation">)</span> in order <span class="token keyword">to</span> <span class="token namespace">complete</span> the operation<span class="token punctuation">.</span>
#
# <span class="token class-name">For</span> the above reasons <span class="token class-name">Redis</span> also offers non blocking deletion primitives
# such as UNLINK <span class="token punctuation">(</span>non blocking DEL<span class="token punctuation">)</span> and the ASYNC option of FLUSHALL and
# <span class="token class-name">FLUSHDB</span> commands<span class="token punctuation">,</span> in order <span class="token keyword">to</span> <span class="token namespace">reclaim</span> memory in <span class="token class-name"><span class="token namespace">background<span class="token punctuation">.</span></span> Those</span> commands
# are executed in constant <span class="token class-name"><span class="token namespace">time<span class="token punctuation">.</span></span> Another</span> thread will incrementally free the
# object in the background as fast as possible<span class="token punctuation">.</span>
#
# DEL<span class="token punctuation">,</span> UNLINK and ASYNC option of FLUSHALL and FLUSHDB are user<span class="token operator">-</span>controlled<span class="token punctuation">.</span>
# <span class="token class-name">It</span>&#39;s up <span class="token keyword">to</span> <span class="token namespace">the</span> design of the application <span class="token keyword">to</span> <span class="token namespace">understand</span> when it is a good
# idea <span class="token keyword">to</span> <span class="token namespace">use</span> one or the <span class="token class-name"><span class="token namespace">other<span class="token punctuation">.</span></span> However</span> the <span class="token class-name">Redis</span> server sometimes has <span class="token keyword">to</span>
# delete keys or flush the whole database as a side effect of other operations<span class="token punctuation">.</span>
# <span class="token class-name">Specifically</span> <span class="token class-name">Redis</span> deletes objects independently of a user call in the
# following scenarios<span class="token operator">:</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">On</span> eviction<span class="token punctuation">,</span> because of the maxmemory and maxmemory policy configurations<span class="token punctuation">,</span>
#    in order <span class="token keyword">to</span> <span class="token namespace">make</span> room <span class="token keyword">for</span> <span class="token keyword">new</span> data<span class="token punctuation">,</span> without going over the specified
#    memory limit<span class="token punctuation">.</span>
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">Because</span> of expire<span class="token operator">:</span> when a key <span class="token keyword">with</span> <span class="token namespace">an</span> associated time <span class="token keyword">to</span> <span class="token namespace">live</span> <span class="token punctuation">(</span>see the
#    <span class="token class-name">EXPIRE</span> command<span class="token punctuation">)</span> must be deleted from memory<span class="token punctuation">.</span>
# <span class="token number">3</span><span class="token punctuation">)</span> <span class="token class-name">Because</span> of a side effect of a command that stores data on a key that may
#    already <span class="token class-name"><span class="token namespace">exist<span class="token punctuation">.</span></span> For</span> example the RENAME command may delete the old key
#    content when it is replaced <span class="token keyword">with</span> <span class="token namespace">another</span> <span class="token class-name"><span class="token namespace">one<span class="token punctuation">.</span></span> Similarly</span> SUNIONSTORE
#    or SORT <span class="token keyword">with</span> STORE option may delete existing <span class="token class-name"><span class="token namespace">keys<span class="token punctuation">.</span></span> The</span> SET command
#    itself removes any old content of the specified key in order <span class="token keyword">to</span> <span class="token namespace">replace</span>
#    it <span class="token keyword">with</span> <span class="token namespace">the</span> specified string<span class="token punctuation">.</span>
# <span class="token number">4</span><span class="token punctuation">)</span> <span class="token class-name">During</span> replication<span class="token punctuation">,</span> when a replica performs a full resynchronization <span class="token keyword">with</span>
#    its master<span class="token punctuation">,</span> the content of the whole database is removed in order <span class="token keyword">to</span>
#    load the RDB file just transferred<span class="token punctuation">.</span>
#
# <span class="token class-name">In</span> all the above cases the <span class="token keyword">default</span> is <span class="token keyword">to</span> <span class="token namespace">delete</span> objects in a blocking way<span class="token punctuation">,</span>
# like <span class="token keyword">if</span> DEL was <span class="token class-name"><span class="token namespace">called<span class="token punctuation">.</span></span> However</span> you can configure each <span class="token keyword">case</span> specifically
# in order <span class="token keyword">to</span> <span class="token namespace">instead</span> release memory in a non<span class="token operator">-</span>blocking way like <span class="token keyword">if</span> UNLINK
# was called<span class="token punctuation">,</span> using the following configuration directives<span class="token punctuation">.</span>

lazyfree<span class="token operator">-</span>lazy<span class="token operator">-</span>eviction no
lazyfree<span class="token operator">-</span>lazy<span class="token operator">-</span>expire no
lazyfree<span class="token operator">-</span>lazy<span class="token operator">-</span>server<span class="token operator">-</span>del no
replica<span class="token operator">-</span>lazy<span class="token operator">-</span>flush no

# <span class="token class-name">It</span> is also possible<span class="token punctuation">,</span> <span class="token keyword">for</span> the <span class="token keyword">case</span> when <span class="token keyword">to</span> <span class="token namespace">replace</span> the user code DEL calls
# <span class="token keyword">with</span> UNLINK calls is not easy<span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token namespace">modify</span> the <span class="token keyword">default</span> behavior of the DEL
# command <span class="token keyword">to</span> <span class="token namespace">act</span> exactly like UNLINK<span class="token punctuation">,</span> using the following configuration
# directive<span class="token operator">:</span>

lazyfree<span class="token operator">-</span>lazy<span class="token operator">-</span>user<span class="token operator">-</span>del no

################################ THREADED <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> #################################

# <span class="token class-name">Redis</span> is mostly single threaded<span class="token punctuation">,</span> however there are certain threaded
# operations such as UNLINK<span class="token punctuation">,</span> slow <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> accesses and other things that are
# performed on side threads<span class="token punctuation">.</span>
#
# <span class="token class-name">Now</span> it is also possible <span class="token keyword">to</span> <span class="token namespace">handle</span> <span class="token class-name">Redis</span> clients socket reads and writes
# in different <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> <span class="token class-name"><span class="token namespace">threads<span class="token punctuation">.</span></span> Since</span> especially writing is so slow<span class="token punctuation">,</span> normally
# <span class="token class-name">Redis</span> users use pipelining in order <span class="token keyword">to</span> <span class="token namespace">speedup</span> the <span class="token class-name">Redis</span> performances per
# core<span class="token punctuation">,</span> and spawn multiple instances in order <span class="token keyword">to</span> <span class="token namespace">scale</span> <span class="token class-name"><span class="token namespace">more<span class="token punctuation">.</span></span> Using</span> <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span>
# threads it is possible <span class="token keyword">to</span> <span class="token namespace">easily</span> speedup two times <span class="token class-name">Redis</span> without resorting
# <span class="token keyword">to</span> <span class="token namespace">pipelining</span> nor sharding of the instance<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> threading is disabled<span class="token punctuation">,</span> we suggest enabling it only in machines
# that have at least <span class="token number">4</span> or more cores<span class="token punctuation">,</span> leaving at least one spare core<span class="token punctuation">.</span>
# <span class="token class-name">Using</span> more than <span class="token number">8</span> threads is unlikely <span class="token keyword">to</span> <span class="token namespace">help</span> <span class="token class-name"><span class="token namespace">much<span class="token punctuation">.</span></span> We</span> also recommend using
# threaded <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> only <span class="token keyword">if</span> you actually have performance problems<span class="token punctuation">,</span> <span class="token keyword">with</span> <span class="token class-name">Redis</span>
# instances being able <span class="token keyword">to</span> <span class="token namespace">use</span> a quite big percentage of <span class="token class-name">CPU</span> time<span class="token punctuation">,</span> otherwise
# there is no point in using <span class="token keyword">this</span> feature<span class="token punctuation">.</span>
#
# <span class="token class-name">So</span> <span class="token keyword">for</span> instance <span class="token keyword">if</span> you have a four cores boxes<span class="token punctuation">,</span> <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">use</span> <span class="token number">2</span> or <span class="token number">3</span> <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span>
# threads<span class="token punctuation">,</span> <span class="token keyword">if</span> you have a <span class="token number">8</span> cores<span class="token punctuation">,</span> <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">use</span> <span class="token number">6</span> <span class="token class-name"><span class="token namespace">threads<span class="token punctuation">.</span></span> In</span> order <span class="token keyword">to</span>
# enable <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> threads use the following configuration directive<span class="token operator">:</span>
#
# io<span class="token operator">-</span>threads <span class="token number">4</span>
#
# <span class="token class-name">Setting</span> io<span class="token operator">-</span>threads <span class="token keyword">to</span> <span class="token number">1</span> will just use the main thread as usually<span class="token punctuation">.</span>
# <span class="token class-name">When</span> <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> threads are enabled<span class="token punctuation">,</span> we only use threads <span class="token keyword">for</span> writes<span class="token punctuation">,</span> that is
# <span class="token keyword">to</span> <span class="token namespace">thread</span> the <span class="token function">write</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> syscall and transfer the client buffers <span class="token keyword">to</span> <span class="token namespace">the</span>
# <span class="token class-name"><span class="token namespace">socket<span class="token punctuation">.</span></span> However</span> it is also possible <span class="token keyword">to</span> <span class="token namespace">enable</span> threading of reads and
# protocol parsing using the following configuration directive<span class="token punctuation">,</span> by setting
# it <span class="token keyword">to</span> <span class="token namespace">yes</span><span class="token operator">:</span>
#
# io<span class="token operator">-</span>threads<span class="token operator">-</span><span class="token keyword">do</span><span class="token operator">-</span>reads no
#
# <span class="token class-name">Usually</span> threading reads doesn&#39;t help much<span class="token punctuation">.</span>
#
# NOTE <span class="token number">1</span><span class="token operator">:</span> <span class="token class-name">This</span> configuration directive cannot be changed at runtime via
# CONFIG <span class="token class-name">SET<span class="token punctuation">.</span> Aso</span> <span class="token keyword">this</span> feature currently does not work when SSL is
# enabled<span class="token punctuation">.</span>
#
# NOTE <span class="token number">2</span><span class="token operator">:</span> <span class="token class-name">If</span> you want <span class="token keyword">to</span> <span class="token namespace">test</span> the <span class="token class-name">Redis</span> speedup using redis<span class="token operator">-</span>benchmark<span class="token punctuation">,</span> make
# sure you also run the benchmark itself in threaded mode<span class="token punctuation">,</span> using the
# <span class="token operator">--</span>threads option <span class="token keyword">to</span> <span class="token namespace">match</span> the number of <span class="token class-name">Redis</span> theads<span class="token punctuation">,</span> otherwise you&#39;ll not
# be able <span class="token keyword">to</span> <span class="token namespace">notice</span> the improvements<span class="token punctuation">.</span>

############################ KERNEL OOM CONTROL ##############################

# <span class="token class-name">On</span> <span class="token class-name">Linux</span><span class="token punctuation">,</span> it is possible <span class="token keyword">to</span> <span class="token namespace">hint</span> the kernel OOM killer on what processes
# should be killed first when out of memory<span class="token punctuation">.</span>
#
# <span class="token class-name">Enabling</span> <span class="token keyword">this</span> feature makes <span class="token class-name">Redis</span> actively control the oom_score_adj value
# <span class="token keyword">for</span> all its processes<span class="token punctuation">,</span> depending on their <span class="token class-name"><span class="token namespace">role<span class="token punctuation">.</span></span> The</span> <span class="token keyword">default</span> scores will
# attempt <span class="token keyword">to</span> <span class="token namespace">have</span> background child processes killed before all others<span class="token punctuation">,</span> and
# replicas killed before masters<span class="token punctuation">.</span>

oom<span class="token operator">-</span>score<span class="token operator">-</span>adj no

# <span class="token class-name">When</span> oom<span class="token operator">-</span>score<span class="token operator">-</span>adj is used<span class="token punctuation">,</span> <span class="token keyword">this</span> directive controls the specific values used
# <span class="token keyword">for</span> master<span class="token punctuation">,</span> replica and background child <span class="token class-name"><span class="token namespace">processes<span class="token punctuation">.</span></span> Values</span> range <span class="token operator">-</span><span class="token number">1000</span> <span class="token keyword">to</span>
# <span class="token number">1000</span> <span class="token punctuation">(</span>higher means more likely <span class="token keyword">to</span> <span class="token namespace">be</span> killed<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">Unprivileged</span> processes <span class="token punctuation">(</span>not root<span class="token punctuation">,</span> and without <span class="token class-name">CAP_SYS_RESOURCE</span> capabilities<span class="token punctuation">)</span>
# can freely increase their value<span class="token punctuation">,</span> but not decrease it below its initial
# settings<span class="token punctuation">.</span>
#
# <span class="token class-name">Values</span> are used relative <span class="token keyword">to</span> <span class="token namespace">the</span> initial value of oom_score_adj when the server
# <span class="token class-name"><span class="token namespace">starts<span class="token punctuation">.</span></span> Because</span> typically the initial value is <span class="token number">0</span><span class="token punctuation">,</span> they will often match the
# absolute values<span class="token punctuation">.</span>

oom<span class="token operator">-</span>score<span class="token operator">-</span>adj<span class="token operator">-</span>values <span class="token number">0</span> <span class="token number">200</span> <span class="token number">800</span>

############################## APPEND ONLY MODE ###############################

# <span class="token class-name">By</span> <span class="token keyword">default</span> <span class="token class-name">Redis</span> asynchronously dumps the dataset on <span class="token class-name"><span class="token namespace">disk<span class="token punctuation">.</span></span> This</span> mode is
# good enough in many applications<span class="token punctuation">,</span> but an issue <span class="token keyword">with</span> <span class="token namespace">the</span> <span class="token class-name">Redis</span> process or
# a power outage may result into a few minutes of writes lost <span class="token punctuation">(</span>depending on
# the configured save points<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token class-name">Append</span> <span class="token class-name">Only</span> <span class="token class-name">File</span> is an alternative persistence mode that <span class="token keyword">provides</span>
# much better <span class="token class-name"><span class="token namespace">durability<span class="token punctuation">.</span></span> For</span> instance using the <span class="token keyword">default</span> data fsync policy
# <span class="token punctuation">(</span>see later in the config file<span class="token punctuation">)</span> <span class="token class-name">Redis</span> can lose just one second of writes in a
# dramatic event like a server power outage<span class="token punctuation">,</span> or a single write <span class="token keyword">if</span> something
# wrong <span class="token keyword">with</span> <span class="token namespace">the</span> <span class="token class-name">Redis</span> process itself happens<span class="token punctuation">,</span> but the operating system is
# still running correctly<span class="token punctuation">.</span>
#
# AOF and RDB persistence can be enabled at the same time without problems<span class="token punctuation">.</span>
# <span class="token class-name">If</span> the AOF is enabled on startup <span class="token class-name">Redis</span> will load the AOF<span class="token punctuation">,</span> that is the file
# <span class="token keyword">with</span> <span class="token namespace">the</span> better durability guarantees<span class="token punctuation">.</span>
#
# <span class="token class-name">Please</span> check http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>redis<span class="token punctuation">.</span>io<span class="token operator">/</span>topics<span class="token operator">/</span>persistence <span class="token keyword">for</span> more information<span class="token punctuation">.</span>

appendonly no

# <span class="token class-name">The</span> name of the append only file <span class="token punctuation">(</span><span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;appendonly.aof&quot;</span><span class="token punctuation">)</span>

appendfilename <span class="token string">&quot;appendonly.aof&quot;</span>

# <span class="token class-name">The</span> <span class="token function">fsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> call tells the <span class="token class-name">Operating</span> <span class="token class-name">System</span> <span class="token keyword">to</span> <span class="token namespace">actually</span> write data on disk
# instead of waiting <span class="token keyword">for</span> more data in the output <span class="token class-name"><span class="token namespace">buffer<span class="token punctuation">.</span></span> Some</span> OS will really flush
# data on disk<span class="token punctuation">,</span> some other OS will just <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token keyword">do</span> it ASAP<span class="token punctuation">.</span>
#
# <span class="token class-name">Redis</span> supports three different modes<span class="token operator">:</span>
#
# no<span class="token operator">:</span> don&#39;t fsync<span class="token punctuation">,</span> just let the OS flush the data when it <span class="token class-name"><span class="token namespace">wants<span class="token punctuation">.</span></span> Faster</span><span class="token punctuation">.</span>
# always<span class="token operator">:</span> fsync after every write <span class="token keyword">to</span> <span class="token namespace">the</span> append only <span class="token class-name"><span class="token namespace">log<span class="token punctuation">.</span></span> Slow</span><span class="token punctuation">,</span> <span class="token class-name">Safest</span><span class="token punctuation">.</span>
# everysec<span class="token operator">:</span> fsync only one time every <span class="token class-name"><span class="token namespace">second<span class="token punctuation">.</span></span> Compromise</span><span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token keyword">default</span> is <span class="token string">&quot;everysec&quot;</span><span class="token punctuation">,</span> as that&#39;s usually the right compromise between
# speed and data <span class="token class-name"><span class="token namespace">safety<span class="token punctuation">.</span></span> It</span>&#39;s up <span class="token keyword">to</span> <span class="token namespace">you</span> <span class="token keyword">to</span> <span class="token namespace">understand</span> <span class="token keyword">if</span> you can relax <span class="token keyword">this</span> <span class="token keyword">to</span>
# <span class="token string">&quot;no&quot;</span> that will let the operating system flush the output buffer when
# it wants<span class="token punctuation">,</span> <span class="token keyword">for</span> better performances <span class="token punctuation">(</span>but <span class="token keyword">if</span> you can live <span class="token keyword">with</span> <span class="token namespace">the</span> idea of
# some data loss consider the <span class="token keyword">default</span> persistence mode that&#39;s snapshotting<span class="token punctuation">)</span><span class="token punctuation">,</span>
# or on the contrary<span class="token punctuation">,</span> use <span class="token string">&quot;always&quot;</span> that&#39;s very slow but a bit safer than
# everysec<span class="token punctuation">.</span>
#
# <span class="token class-name">More</span> details please check the following article<span class="token operator">:</span>
# http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>antirez<span class="token punctuation">.</span>com<span class="token operator">/</span>post<span class="token operator">/</span>redis<span class="token operator">-</span>persistence<span class="token operator">-</span>demystified<span class="token punctuation">.</span>html
#
# <span class="token class-name">If</span> unsure<span class="token punctuation">,</span> use <span class="token string">&quot;everysec&quot;</span><span class="token punctuation">.</span>

# appendfsync always
appendfsync everysec
# appendfsync no

# <span class="token class-name">When</span> the AOF fsync policy is set <span class="token keyword">to</span> <span class="token namespace">always</span> or everysec<span class="token punctuation">,</span> and a background
# saving process <span class="token punctuation">(</span>a background save or AOF log background rewriting<span class="token punctuation">)</span> is
# performing a lot of <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> against the disk<span class="token punctuation">,</span> in some <span class="token class-name">Linux</span> configurations
# <span class="token class-name">Redis</span> may block too <span class="token keyword">long</span> on the <span class="token function">fsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token class-name"><span class="token namespace">call<span class="token punctuation">.</span></span> Note</span> that there is no fix <span class="token keyword">for</span>
# <span class="token keyword">this</span> currently<span class="token punctuation">,</span> as even performing fsync in a different thread will block
# our synchronous <span class="token function">write</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> call<span class="token punctuation">.</span>
#
# <span class="token class-name">In</span> order <span class="token keyword">to</span> <span class="token namespace">mitigate</span> <span class="token keyword">this</span> problem it&#39;s possible <span class="token keyword">to</span> <span class="token namespace">use</span> the following option
# that will prevent <span class="token function">fsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> from being called in the main process <span class="token keyword">while</span> a
# BGSAVE or BGREWRITEAOF is in progress<span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> means that <span class="token keyword">while</span> another child is saving<span class="token punctuation">,</span> the durability of <span class="token class-name">Redis</span> is
# the same as <span class="token string">&quot;appendfsync none&quot;</span><span class="token punctuation">.</span> <span class="token class-name">In</span> practical terms<span class="token punctuation">,</span> <span class="token keyword">this</span> means that it is
# possible <span class="token keyword">to</span> <span class="token namespace">lose</span> up <span class="token keyword">to</span> <span class="token number">30</span> seconds of log in the worst scenario <span class="token punctuation">(</span><span class="token keyword">with</span> <span class="token namespace">the</span>
# <span class="token keyword">default</span> <span class="token class-name">Linux</span> settings<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> you have latency problems turn <span class="token keyword">this</span> <span class="token keyword">to</span> <span class="token string">&quot;yes&quot;</span><span class="token punctuation">.</span> <span class="token class-name">Otherwise</span> leave it as
# <span class="token string">&quot;no&quot;</span> that is the safest pick from the point of view of durability<span class="token punctuation">.</span>

no<span class="token operator">-</span>appendfsync<span class="token operator">-</span>on<span class="token operator">-</span>rewrite no

# <span class="token class-name">Automatic</span> rewrite of the append only file<span class="token punctuation">.</span>
# <span class="token class-name">Redis</span> is able <span class="token keyword">to</span> <span class="token namespace">automatically</span> rewrite the log file implicitly calling
# BGREWRITEAOF when the AOF log size grows by the specified percentage<span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> is how it works<span class="token operator">:</span> <span class="token class-name">Redis</span> remembers the size of the AOF file after the
# latest rewrite <span class="token punctuation">(</span><span class="token keyword">if</span> no rewrite has happened since the restart<span class="token punctuation">,</span> the size of
# the AOF at startup is used<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> base size is compared <span class="token keyword">to</span> <span class="token namespace">the</span> current <span class="token class-name"><span class="token namespace">size<span class="token punctuation">.</span></span> If</span> the current size is
# bigger than the specified percentage<span class="token punctuation">,</span> the rewrite is <span class="token class-name"><span class="token namespace">triggered<span class="token punctuation">.</span></span> Also</span>
# you need <span class="token keyword">to</span> <span class="token namespace">specify</span> a minimal size <span class="token keyword">for</span> the AOF file <span class="token keyword">to</span> <span class="token namespace">be</span> rewritten<span class="token punctuation">,</span> <span class="token keyword">this</span>
# is useful <span class="token keyword">to</span> <span class="token namespace">avoid</span> rewriting the AOF file even <span class="token keyword">if</span> the percentage increase
# is reached but it is still pretty small<span class="token punctuation">.</span>
#
# <span class="token class-name">Specify</span> a percentage of zero in order <span class="token keyword">to</span> <span class="token namespace">disable</span> the automatic AOF
# rewrite feature<span class="token punctuation">.</span>

auto<span class="token operator">-</span>aof<span class="token operator">-</span>rewrite<span class="token operator">-</span>percentage <span class="token number">100</span>
auto<span class="token operator">-</span>aof<span class="token operator">-</span>rewrite<span class="token operator">-</span>min<span class="token operator">-</span>size <span class="token number">64</span>mb

# <span class="token class-name">An</span> AOF file may be found <span class="token keyword">to</span> <span class="token namespace">be</span> truncated at the end during the <span class="token class-name">Redis</span>
# startup process<span class="token punctuation">,</span> when the AOF data gets loaded back into memory<span class="token punctuation">.</span>
# <span class="token class-name">This</span> may happen when the system where <span class="token class-name">Redis</span> is running
# crashes<span class="token punctuation">,</span> especially when an ext4 filesystem is mounted without the
# data<span class="token operator">=</span>ordered option <span class="token punctuation">(</span>however <span class="token keyword">this</span> can&#39;t happen when <span class="token class-name">Redis</span> itself
# crashes or aborts but the operating system still works correctly<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">Redis</span> can either exit <span class="token keyword">with</span> <span class="token namespace">an</span> error when <span class="token keyword">this</span> happens<span class="token punctuation">,</span> or load as much
# data as possible <span class="token punctuation">(</span>the <span class="token keyword">default</span> now<span class="token punctuation">)</span> and start <span class="token keyword">if</span> the AOF file is found
# <span class="token keyword">to</span> <span class="token namespace">be</span> truncated at the <span class="token class-name"><span class="token namespace">end<span class="token punctuation">.</span></span> The</span> following option controls <span class="token keyword">this</span> behavior<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> aof<span class="token operator">-</span>load<span class="token operator">-</span>truncated is set <span class="token keyword">to</span> <span class="token namespace">yes</span><span class="token punctuation">,</span> a truncated AOF file is loaded and
# the <span class="token class-name">Redis</span> server starts emitting a log <span class="token keyword">to</span> <span class="token namespace">inform</span> the user of the event<span class="token punctuation">.</span>
# <span class="token class-name">Otherwise</span> <span class="token keyword">if</span> the option is set <span class="token keyword">to</span> <span class="token namespace">no</span><span class="token punctuation">,</span> the server aborts <span class="token keyword">with</span> <span class="token namespace">an</span> error
# and refuses <span class="token keyword">to</span> <span class="token namespace">start<span class="token punctuation">.</span></span> <span class="token class-name">When</span> the option is set <span class="token keyword">to</span> <span class="token namespace">no</span><span class="token punctuation">,</span> the user <span class="token keyword">requires</span>
# <span class="token keyword">to</span> <span class="token namespace">fix</span> the AOF file using the <span class="token string">&quot;redis-check-aof&quot;</span> utility before <span class="token keyword">to</span> <span class="token namespace">restart</span>
# the server<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span> that <span class="token keyword">if</span> the AOF file will be found <span class="token keyword">to</span> <span class="token namespace">be</span> corrupted in the middle
# the server will still exit <span class="token keyword">with</span> <span class="token namespace">an</span> <span class="token class-name"><span class="token namespace">error<span class="token punctuation">.</span></span> This</span> option only applies when
# <span class="token class-name">Redis</span> will <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">read</span> more data from the AOF file but not enough bytes
# will be found<span class="token punctuation">.</span>
aof<span class="token operator">-</span>load<span class="token operator">-</span>truncated yes

# <span class="token class-name">When</span> rewriting the <span class="token class-name">AOF</span> file<span class="token punctuation">,</span> <span class="token class-name">Redis</span> is able <span class="token keyword">to</span> <span class="token namespace">use</span> an RDB preamble in the
# AOF file <span class="token keyword">for</span> faster rewrites and <span class="token class-name"><span class="token namespace">recoveries<span class="token punctuation">.</span></span> When</span> <span class="token keyword">this</span> option is turned
# on the rewritten AOF file is composed of two different stanzas<span class="token operator">:</span>
#
#   <span class="token punctuation">[</span>RDB file<span class="token punctuation">]</span><span class="token punctuation">[</span>AOF tail<span class="token punctuation">]</span>
#
# <span class="token class-name">When</span> loading <span class="token class-name">Redis</span> recognizes that the AOF file starts <span class="token keyword">with</span> <span class="token namespace">the</span> <span class="token string">&quot;REDIS&quot;</span>
# string and loads the prefixed <span class="token class-name">RDB</span> file<span class="token punctuation">,</span> and continues loading the AOF
# tail<span class="token punctuation">.</span>
aof<span class="token operator">-</span>use<span class="token operator">-</span>rdb<span class="token operator">-</span>preamble yes

################################ LUA SCRIPTING  ###############################

# <span class="token class-name">Max</span> execution time of a <span class="token class-name">Lua</span> script in milliseconds<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> the maximum execution time is reached <span class="token class-name">Redis</span> will log that a script is
# still in execution after the maximum allowed time and will start <span class="token keyword">to</span>
# reply <span class="token keyword">to</span> <span class="token namespace">queries</span> <span class="token keyword">with</span> <span class="token namespace">an</span> error<span class="token punctuation">.</span>
#
# <span class="token class-name">When</span> a <span class="token keyword">long</span> running script exceeds the maximum execution time only the
# SCRIPT KILL and SHUTDOWN NOSAVE commands are <span class="token class-name"><span class="token namespace">available<span class="token punctuation">.</span></span> The</span> first can be
# used <span class="token keyword">to</span> <span class="token namespace">stop</span> a script that did not yet called write <span class="token class-name"><span class="token namespace">commands<span class="token punctuation">.</span></span> The</span> second
# is the only way <span class="token keyword">to</span> <span class="token namespace">shut</span> down the server in the <span class="token keyword">case</span> a write command was
# already issued by the script but the user doesn&#39;t want <span class="token keyword">to</span> <span class="token namespace">wait</span> <span class="token keyword">for</span> the natural
# termination of the script<span class="token punctuation">.</span>
#
# <span class="token class-name">Set</span> it <span class="token keyword">to</span> <span class="token number">0</span> or a negative value <span class="token keyword">for</span> unlimited execution without warnings<span class="token punctuation">.</span>
lua<span class="token operator">-</span>time<span class="token operator">-</span>limit <span class="token number">5000</span>

################################ REDIS CLUSTER  ###############################

# <span class="token class-name">Normal</span> <span class="token class-name">Redis</span> instances can&#39;t be part of a <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span><span class="token punctuation">;</span> only nodes that are
# started as cluster nodes <span class="token class-name"><span class="token namespace">can<span class="token punctuation">.</span></span> In</span> order <span class="token keyword">to</span> <span class="token namespace">start</span> a <span class="token class-name">Redis</span> instance as a
# cluster node enable the cluster support uncommenting the following<span class="token operator">:</span>
#
# cluster<span class="token operator">-</span>enabled yes

# <span class="token class-name">Every</span> cluster node has a cluster configuration <span class="token class-name"><span class="token namespace">file<span class="token punctuation">.</span></span> This</span> file is not
# intended <span class="token keyword">to</span> <span class="token namespace">be</span> edited by <span class="token class-name"><span class="token namespace">hand<span class="token punctuation">.</span></span> It</span> is created and updated by <span class="token class-name">Redis</span> nodes<span class="token punctuation">.</span>
# <span class="token class-name">Every</span> <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span> node <span class="token keyword">requires</span> <span class="token namespace">a</span> different cluster configuration file<span class="token punctuation">.</span>
# <span class="token class-name">Make</span> sure that instances running in the same system <span class="token keyword">do</span> not have
# overlapping cluster configuration file names<span class="token punctuation">.</span>
#
# cluster<span class="token operator">-</span>config<span class="token operator">-</span>file nodes<span class="token operator">-</span><span class="token number">6379.</span>conf

# <span class="token class-name">Cluster</span> node timeout is the amount of milliseconds a node must be unreachable
# <span class="token keyword">for</span> it <span class="token keyword">to</span> <span class="token namespace">be</span> considered in failure state<span class="token punctuation">.</span>
# <span class="token class-name">Most</span> other internal time limits are multiple of the node timeout<span class="token punctuation">.</span>
#
# cluster<span class="token operator">-</span>node<span class="token operator">-</span>timeout <span class="token number">15000</span>

# <span class="token class-name">A</span> replica of a failing master will avoid <span class="token keyword">to</span> <span class="token namespace">start</span> a failover <span class="token keyword">if</span> its data
# looks too old<span class="token punctuation">.</span>
#
# <span class="token class-name">There</span> is no simple way <span class="token keyword">for</span> a replica <span class="token keyword">to</span> <span class="token namespace">actually</span> have an exact measure of
# its <span class="token string">&quot;data age&quot;</span><span class="token punctuation">,</span> so the following two checks are performed<span class="token operator">:</span>
#
# <span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">If</span> there are multiple replicas able <span class="token keyword">to</span> <span class="token namespace">failover</span><span class="token punctuation">,</span> they exchange messages
#    in order <span class="token keyword">to</span> <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">give</span> an advantage <span class="token keyword">to</span> <span class="token namespace">the</span> replica <span class="token keyword">with</span> <span class="token namespace">the</span> best
#    replication offset <span class="token punctuation">(</span>more data from the master processed<span class="token punctuation">)</span><span class="token punctuation">.</span>
#    <span class="token class-name">Replicas</span> will <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">get</span> their rank by offset<span class="token punctuation">,</span> and apply <span class="token keyword">to</span> <span class="token namespace">the</span> start
#    of the failover a delay proportional <span class="token keyword">to</span> <span class="token namespace">their</span> rank<span class="token punctuation">.</span>
#
# <span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">Every</span> single replica computes the time of the last interaction <span class="token keyword">with</span>
#    its <span class="token class-name"><span class="token namespace">master<span class="token punctuation">.</span></span> This</span> can be the last ping or command received <span class="token punctuation">(</span><span class="token keyword">if</span> the master
#    is still in the <span class="token string">&quot;connected&quot;</span> state<span class="token punctuation">)</span><span class="token punctuation">,</span> or the time that elapsed since the
#    disconnection <span class="token keyword">with</span> <span class="token namespace">the</span> master <span class="token punctuation">(</span><span class="token keyword">if</span> the replication link is currently down<span class="token punctuation">)</span><span class="token punctuation">.</span>
#    <span class="token class-name">If</span> the last interaction is too old<span class="token punctuation">,</span> the replica will not <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">failover</span>
#    at all<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> point <span class="token string">&quot;2&quot;</span> can be tuned by <span class="token class-name"><span class="token namespace">user<span class="token punctuation">.</span></span> Specifically</span> a replica will not perform
# the failover <span class="token keyword">if</span><span class="token punctuation">,</span> since the last interaction <span class="token keyword">with</span> <span class="token namespace">the</span> master<span class="token punctuation">,</span> the time
# elapsed is greater than<span class="token operator">:</span>
#
#   <span class="token punctuation">(</span>node<span class="token operator">-</span>timeout <span class="token operator">*</span> replica<span class="token operator">-</span>validity<span class="token operator">-</span>factor<span class="token punctuation">)</span> <span class="token operator">+</span> repl<span class="token operator">-</span>ping<span class="token operator">-</span>replica<span class="token operator">-</span>period
#
# <span class="token class-name">So</span> <span class="token keyword">for</span> example <span class="token keyword">if</span> node<span class="token operator">-</span>timeout is <span class="token number">30</span> seconds<span class="token punctuation">,</span> and the replica<span class="token operator">-</span>validity<span class="token operator">-</span>factor
# is <span class="token number">10</span><span class="token punctuation">,</span> and assuming a <span class="token keyword">default</span> repl<span class="token operator">-</span>ping<span class="token operator">-</span>replica<span class="token operator">-</span>period of <span class="token number">10</span> seconds<span class="token punctuation">,</span> the
# replica will not <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">failover</span> <span class="token keyword">if</span> it was not able <span class="token keyword">to</span> <span class="token namespace">talk</span> <span class="token keyword">with</span> <span class="token namespace">the</span> master
# <span class="token keyword">for</span> longer than <span class="token number">310</span> seconds<span class="token punctuation">.</span>
#
# <span class="token class-name">A</span> large replica<span class="token operator">-</span>validity<span class="token operator">-</span>factor may allow replicas <span class="token keyword">with</span> <span class="token namespace">too</span> old data <span class="token keyword">to</span> <span class="token namespace">failover</span>
# a master<span class="token punctuation">,</span> <span class="token keyword">while</span> a too small value may prevent the cluster from being able <span class="token keyword">to</span>
# elect a replica at all<span class="token punctuation">.</span>
#
# <span class="token class-name">For</span> maximum availability<span class="token punctuation">,</span> it is possible <span class="token keyword">to</span> <span class="token namespace">set</span> the replica<span class="token operator">-</span>validity<span class="token operator">-</span>factor
# <span class="token keyword">to</span> <span class="token namespace">a</span> value of <span class="token number">0</span><span class="token punctuation">,</span> which means<span class="token punctuation">,</span> that replicas will always <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">failover</span> the
# master regardless of the last time they interacted <span class="token keyword">with</span> <span class="token namespace">the</span> master<span class="token punctuation">.</span>
# <span class="token punctuation">(</span><span class="token class-name">However</span> they&#39;ll always <span class="token keyword">try</span> <span class="token keyword">to</span> <span class="token namespace">apply</span> a delay proportional <span class="token keyword">to</span> <span class="token namespace">their</span>
# offset rank<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">Zero</span> is the only value able <span class="token keyword">to</span> <span class="token namespace">guarantee</span> that when all the partitions heal
# the cluster will always be able <span class="token keyword">to</span> <span class="token keyword">continue</span><span class="token punctuation">.</span>
#
# cluster<span class="token operator">-</span>replica<span class="token operator">-</span>validity<span class="token operator">-</span>factor <span class="token number">10</span>

# <span class="token class-name">Cluster</span> replicas are able <span class="token keyword">to</span> <span class="token namespace">migrate</span> <span class="token keyword">to</span> <span class="token namespace">orphaned</span> masters<span class="token punctuation">,</span> that are masters
# that are left without working <span class="token class-name"><span class="token namespace">replicas<span class="token punctuation">.</span></span> This</span> improves the cluster ability
# <span class="token keyword">to</span> <span class="token namespace">resist</span> <span class="token keyword">to</span> <span class="token namespace">failures</span> as otherwise an orphaned master can&#39;t be failed over
# in <span class="token keyword">case</span> of failure <span class="token keyword">if</span> it has no working replicas<span class="token punctuation">.</span>
#
# <span class="token class-name">Replicas</span> migrate <span class="token keyword">to</span> <span class="token namespace">orphaned</span> masters only <span class="token keyword">if</span> there are still at least a
# given number of other working replicas <span class="token keyword">for</span> their old <span class="token class-name"><span class="token namespace">master<span class="token punctuation">.</span></span> This</span> number
# is the <span class="token string">&quot;migration barrier&quot;</span><span class="token punctuation">.</span> <span class="token class-name">A</span> migration barrier of <span class="token number">1</span> means that a replica
# will migrate only <span class="token keyword">if</span> there is at least <span class="token number">1</span> other working replica <span class="token keyword">for</span> its master
# and so <span class="token class-name"><span class="token namespace">forth<span class="token punctuation">.</span></span> It</span> usually reflects the number of replicas you want <span class="token keyword">for</span> every
# master in your cluster<span class="token punctuation">.</span>
#
# <span class="token class-name">Default</span> is <span class="token number">1</span> <span class="token punctuation">(</span>replicas migrate only <span class="token keyword">if</span> their masters remain <span class="token keyword">with</span> <span class="token namespace">at</span> least
# one replica<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token class-name">To</span> disable migration just set it <span class="token keyword">to</span> <span class="token namespace">a</span> very large value<span class="token punctuation">.</span>
# <span class="token class-name">A</span> value of <span class="token number">0</span> can be set but is useful only <span class="token keyword">for</span> debugging and dangerous
# in production<span class="token punctuation">.</span>
#
# cluster<span class="token operator">-</span>migration<span class="token operator">-</span>barrier <span class="token number">1</span>

# <span class="token class-name">By</span> <span class="token keyword">default</span> <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span> nodes stop accepting queries <span class="token keyword">if</span> they detect there
# is at least an hash slot uncovered <span class="token punctuation">(</span>no available node is serving it<span class="token punctuation">)</span><span class="token punctuation">.</span>
# <span class="token class-name">This</span> way <span class="token keyword">if</span> the cluster is partially down <span class="token punctuation">(</span><span class="token keyword">for</span> example a range of hash slots
# are no longer covered<span class="token punctuation">)</span> all the cluster becomes<span class="token punctuation">,</span> eventually<span class="token punctuation">,</span> unavailable<span class="token punctuation">.</span>
# <span class="token class-name">It</span> automatically returns available as soon as all the slots are covered again<span class="token punctuation">.</span>
#
# <span class="token class-name">However</span> sometimes you want the subset of the cluster which is working<span class="token punctuation">,</span>
# <span class="token keyword">to</span> <span class="token keyword">continue</span> <span class="token keyword">to</span> <span class="token namespace">accept</span> queries <span class="token keyword">for</span> the part of the key space that is still
# <span class="token class-name"><span class="token namespace">covered<span class="token punctuation">.</span></span> In</span> order <span class="token keyword">to</span> <span class="token keyword">do</span> so<span class="token punctuation">,</span> just set the cluster<span class="token operator">-</span>require<span class="token operator">-</span>full<span class="token operator">-</span>coverage
# option <span class="token keyword">to</span> <span class="token namespace">no<span class="token punctuation">.</span></span>
#
# cluster<span class="token operator">-</span>require<span class="token operator">-</span>full<span class="token operator">-</span>coverage yes

# <span class="token class-name">This</span> option<span class="token punctuation">,</span> when set <span class="token keyword">to</span> <span class="token namespace">yes</span><span class="token punctuation">,</span> prevents replicas from trying <span class="token keyword">to</span> <span class="token namespace">failover</span> its
# master during master <span class="token class-name"><span class="token namespace">failures<span class="token punctuation">.</span></span> However</span> the master can still perform a
# manual failover<span class="token punctuation">,</span> <span class="token keyword">if</span> forced <span class="token keyword">to</span> <span class="token keyword">do</span> so<span class="token punctuation">.</span>
#
# <span class="token class-name">This</span> is useful in different scenarios<span class="token punctuation">,</span> especially in the <span class="token keyword">case</span> of multiple
# data center operations<span class="token punctuation">,</span> where we want one side <span class="token keyword">to</span> <span class="token namespace">never</span> be promoted <span class="token keyword">if</span> not
# in the <span class="token keyword">case</span> of a total DC failure<span class="token punctuation">.</span>
#
# cluster<span class="token operator">-</span>replica<span class="token operator">-</span>no<span class="token operator">-</span>failover no

# <span class="token class-name">This</span> option<span class="token punctuation">,</span> when set <span class="token keyword">to</span> <span class="token namespace">yes</span><span class="token punctuation">,</span> allows nodes <span class="token keyword">to</span> <span class="token namespace">serve</span> read traffic <span class="token keyword">while</span> the
# the cluster is in a down state<span class="token punctuation">,</span> as <span class="token keyword">long</span> as it believes it owns the slots<span class="token punctuation">.</span> 
#
# <span class="token class-name">This</span> is useful <span class="token keyword">for</span> two <span class="token class-name"><span class="token namespace">cases<span class="token punctuation">.</span></span>  The</span> first <span class="token keyword">case</span> is <span class="token keyword">for</span> when an application 
# doesn&#39;t require consistency of data during node failures or network partitions<span class="token punctuation">.</span>
# <span class="token class-name">One</span> example of <span class="token keyword">this</span> is a cache<span class="token punctuation">,</span> where as <span class="token keyword">long</span> as the node has the data it
# should be able <span class="token keyword">to</span> <span class="token namespace">serve</span> it<span class="token punctuation">.</span> 
#
# <span class="token class-name">The</span> second use <span class="token keyword">case</span> is <span class="token keyword">for</span> configurations that don&#39;t meet the recommended  
# three shards but want <span class="token keyword">to</span> <span class="token namespace">enable</span> cluster mode and scale <span class="token class-name"><span class="token namespace">later<span class="token punctuation">.</span></span> A</span> 
# master outage in a <span class="token number">1</span> or <span class="token number">2</span> shard configuration causes a read<span class="token operator">/</span>write outage <span class="token keyword">to</span> <span class="token namespace">the</span>
# entire cluster without <span class="token keyword">this</span> option set<span class="token punctuation">,</span> <span class="token keyword">with</span> <span class="token namespace">it</span> set there is only a write outage<span class="token punctuation">.</span>
# <span class="token class-name">Without</span> a quorum of masters<span class="token punctuation">,</span> slot ownership will not change automatically<span class="token punctuation">.</span> 
#
# cluster<span class="token operator">-</span>allow<span class="token operator">-</span>reads<span class="token operator">-</span>when<span class="token operator">-</span>down no

# <span class="token class-name">In</span> order <span class="token keyword">to</span> <span class="token namespace">setup</span> your cluster make sure <span class="token keyword">to</span> <span class="token namespace">read</span> the documentation
# available at http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>redis<span class="token punctuation">.</span>io web site<span class="token punctuation">.</span>

########################## CLUSTER DOCKER<span class="token operator">/</span>NAT support  ########################

# <span class="token class-name">In</span> certain deployments<span class="token punctuation">,</span> <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span> nodes address discovery fails<span class="token punctuation">,</span> because
# addresses are NAT<span class="token operator">-</span>ted or because ports are forwarded <span class="token punctuation">(</span>the typical <span class="token keyword">case</span> is
# <span class="token class-name">Docker</span> and other containers<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">In</span> order <span class="token keyword">to</span> <span class="token namespace">make</span> <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span> working in such environments<span class="token punctuation">,</span> a <span class="token keyword">static</span>
# configuration where each node knows its <span class="token keyword">public</span> address is <span class="token class-name"><span class="token namespace">needed<span class="token punctuation">.</span></span> The</span>
# following two options are used <span class="token keyword">for</span> <span class="token keyword">this</span> scope<span class="token punctuation">,</span> and are<span class="token operator">:</span>
#
# <span class="token operator">*</span> cluster<span class="token operator">-</span>announce<span class="token operator">-</span>ip
# <span class="token operator">*</span> cluster<span class="token operator">-</span>announce<span class="token operator">-</span>port
# <span class="token operator">*</span> cluster<span class="token operator">-</span>announce<span class="token operator">-</span>bus<span class="token operator">-</span>port
#
# <span class="token class-name">Each</span> instruct the node about its address<span class="token punctuation">,</span> client port<span class="token punctuation">,</span> and cluster message
# bus <span class="token class-name"><span class="token namespace">port<span class="token punctuation">.</span></span> The</span> information is then published in the header of the bus packets
# so that other nodes will be able <span class="token keyword">to</span> <span class="token namespace">correctly</span> map the address of the node
# publishing the information<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> the above options are not used<span class="token punctuation">,</span> the normal <span class="token class-name">Redis</span> <span class="token class-name">Cluster</span> auto<span class="token operator">-</span>detection
# will be used instead<span class="token punctuation">.</span>
#
# <span class="token class-name">Note</span> that when remapped<span class="token punctuation">,</span> the bus port may not be at the fixed offset of
# clients port <span class="token operator">+</span> <span class="token number">10000</span><span class="token punctuation">,</span> so you can specify any port and bus<span class="token operator">-</span>port depending
# on how they get <span class="token class-name"><span class="token namespace">remapped<span class="token punctuation">.</span></span> If</span> the bus<span class="token operator">-</span>port is not set<span class="token punctuation">,</span> a fixed offset of
# <span class="token number">10000</span> will be used as usually<span class="token punctuation">.</span>
#
# <span class="token class-name">Example</span><span class="token operator">:</span>
#
# cluster<span class="token operator">-</span>announce<span class="token operator">-</span>ip <span class="token number">10.1</span><span class="token number">.1</span><span class="token number">.5</span>
# cluster<span class="token operator">-</span>announce<span class="token operator">-</span>port <span class="token number">6379</span>
# cluster<span class="token operator">-</span>announce<span class="token operator">-</span>bus<span class="token operator">-</span>port <span class="token number">6380</span>

################################## SLOW LOG ###################################

# <span class="token class-name">The</span> <span class="token class-name">Redis</span> <span class="token class-name">Slow</span> <span class="token class-name">Log</span> is a system <span class="token keyword">to</span> <span class="token namespace">log</span> queries that exceeded a specified
# execution <span class="token class-name"><span class="token namespace">time<span class="token punctuation">.</span></span> The</span> execution time does not include the <span class="token class-name">I</span><span class="token operator">/</span><span class="token class-name">O</span> operations
# like talking <span class="token keyword">with</span> <span class="token namespace">the</span> client<span class="token punctuation">,</span> sending the reply and so forth<span class="token punctuation">,</span>
# but just the time needed <span class="token keyword">to</span> <span class="token namespace">actually</span> execute the command <span class="token punctuation">(</span><span class="token keyword">this</span> is the only
# stage of command execution where the thread is blocked and can not serve
# other requests in the meantime<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">You</span> can configure the slow log <span class="token keyword">with</span> <span class="token namespace">two</span> parameters<span class="token operator">:</span> one tells <span class="token class-name">Redis</span>
# what is the execution time<span class="token punctuation">,</span> in microseconds<span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token namespace">exceed</span> in order <span class="token keyword">for</span> the
# command <span class="token keyword">to</span> <span class="token namespace">get</span> logged<span class="token punctuation">,</span> and the other parameter is the length of the
# slow <span class="token class-name"><span class="token namespace">log<span class="token punctuation">.</span></span> When</span> a <span class="token keyword">new</span> command is logged the oldest one is removed from the
# queue of logged commands<span class="token punctuation">.</span>

# <span class="token class-name">The</span> following time is expressed in microseconds<span class="token punctuation">,</span> so <span class="token number">1000000</span> is equivalent
# <span class="token keyword">to</span> <span class="token namespace">one</span> <span class="token class-name"><span class="token namespace">second<span class="token punctuation">.</span></span> Note</span> that a negative number disables the slow log<span class="token punctuation">,</span> <span class="token keyword">while</span>
# a value of zero forces the logging of every command<span class="token punctuation">.</span>
slowlog<span class="token operator">-</span>log<span class="token operator">-</span>slower<span class="token operator">-</span>than <span class="token number">10000</span>

# <span class="token class-name">There</span> is no limit <span class="token keyword">to</span> <span class="token keyword">this</span> <span class="token class-name"><span class="token namespace">length<span class="token punctuation">.</span></span> Just</span> be aware that it will consume memory<span class="token punctuation">.</span>
# <span class="token class-name">You</span> can reclaim memory used by the slow log <span class="token keyword">with</span> SLOWLOG RESET<span class="token punctuation">.</span>
slowlog<span class="token operator">-</span>max<span class="token operator">-</span>len <span class="token number">128</span>

################################ LATENCY MONITOR ##############################

# <span class="token class-name">The</span> <span class="token class-name">Redis</span> latency monitoring subsystem samples different operations
# at runtime in order <span class="token keyword">to</span> <span class="token namespace">collect</span> data related <span class="token keyword">to</span> <span class="token namespace">possible</span> sources of
# latency of a <span class="token class-name">Redis</span> instance<span class="token punctuation">.</span>
#
# <span class="token class-name">Via</span> the LATENCY command <span class="token keyword">this</span> information is available <span class="token keyword">to</span> <span class="token namespace">the</span> user that can
# print graphs and obtain reports<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> system only logs operations that were performed in a time equal or
# greater than the amount of milliseconds specified via the
# latency<span class="token operator">-</span>monitor<span class="token operator">-</span>threshold configuration <span class="token class-name"><span class="token namespace">directive<span class="token punctuation">.</span></span> When</span> its value is set
# <span class="token keyword">to</span> <span class="token namespace">zero</span><span class="token punctuation">,</span> the latency monitor is turned off<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> latency monitoring is disabled since it is mostly not needed
# <span class="token keyword">if</span> you don&#39;t have latency issues<span class="token punctuation">,</span> and collecting data has a performance
# impact<span class="token punctuation">,</span> that <span class="token keyword">while</span> very small<span class="token punctuation">,</span> can be measured under big <span class="token class-name"><span class="token namespace">load<span class="token punctuation">.</span></span> Latency</span>
# monitoring can easily be enabled at runtime using the command
# <span class="token string">&quot;CONFIG SET latency-monitor-threshold \\&lt;milliseconds&gt;&quot;</span> <span class="token keyword">if</span> needed<span class="token punctuation">.</span>
latency<span class="token operator">-</span>monitor<span class="token operator">-</span>threshold <span class="token number">0</span>

############################# EVENT NOTIFICATION ##############################

# <span class="token class-name">Redis</span> can notify <span class="token class-name">Pub</span><span class="token operator">/</span><span class="token class-name">Sub</span> clients about events happening in the key space<span class="token punctuation">.</span>
# <span class="token class-name">This</span> feature is documented at http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>redis<span class="token punctuation">.</span>io<span class="token operator">/</span>topics<span class="token operator">/</span>notifications
#
# <span class="token class-name">For</span> instance <span class="token keyword">if</span> keyspace events notification is enabled<span class="token punctuation">,</span> and a client
# performs a DEL operation on key <span class="token string">&quot;foo&quot;</span> stored in the <span class="token class-name">Database</span> <span class="token number">0</span><span class="token punctuation">,</span> two
# messages will be published via <span class="token class-name">Pub</span><span class="token operator">/</span><span class="token class-name">Sub</span><span class="token operator">:</span>
#
# PUBLISH __keyspace<span class="token annotation punctuation">@0__</span><span class="token operator">:</span>foo del
# PUBLISH __keyevent<span class="token annotation punctuation">@0__</span><span class="token operator">:</span>del foo
#
# <span class="token class-name">It</span> is possible <span class="token keyword">to</span> <span class="token namespace">select</span> the events that <span class="token class-name">Redis</span> will notify among a set
# of <span class="token class-name"><span class="token namespace">classes<span class="token punctuation">.</span></span> Every</span> <span class="token keyword">class</span> is identified by a single character<span class="token operator">:</span>
#
#  <span class="token class-name">K</span>     <span class="token class-name">Keyspace</span> events<span class="token punctuation">,</span> published <span class="token keyword">with</span> __keyspace@\\<span class="token generics"><span class="token punctuation">&lt;</span>db<span class="token punctuation">&gt;</span></span>__ prefix<span class="token punctuation">.</span>
#  <span class="token class-name">E</span>     <span class="token class-name">Keyevent</span> events<span class="token punctuation">,</span> published <span class="token keyword">with</span> __keyevent@\\<span class="token generics"><span class="token punctuation">&lt;</span>db<span class="token punctuation">&gt;</span></span>__ prefix<span class="token punctuation">.</span>
#  g     <span class="token class-name">Generic</span> commands <span class="token punctuation">(</span>non<span class="token operator">-</span>type specific<span class="token punctuation">)</span> like DEL<span class="token punctuation">,</span> EXPIRE<span class="token punctuation">,</span> RENAME<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
#  $     <span class="token class-name">String</span> commands
#  l     <span class="token class-name">List</span> commands
#  s     <span class="token class-name">Set</span> commands
#  h     <span class="token class-name">Hash</span> commands
#  z     <span class="token class-name">Sorted</span> set commands
#  x     <span class="token class-name">Expired</span> events <span class="token punctuation">(</span>events generated every time a key expires<span class="token punctuation">)</span>
#  e     <span class="token class-name">Evicted</span> events <span class="token punctuation">(</span>events generated when a key is evicted <span class="token keyword">for</span> maxmemory<span class="token punctuation">)</span>
#  t     <span class="token class-name">Stream</span> commands
#  m     <span class="token class-name">Key</span><span class="token operator">-</span>miss events <span class="token punctuation">(</span><span class="token class-name">Note</span><span class="token operator">:</span> <span class="token class-name">It</span> is not included in the <span class="token char">&#39;A&#39;</span> <span class="token keyword">class</span><span class="token punctuation">)</span>
#  <span class="token class-name">A</span>     <span class="token class-name">Alias</span> <span class="token keyword">for</span> g$lshzxet<span class="token punctuation">,</span> so that the <span class="token string">&quot;AKE&quot;</span> string means all the events
#        <span class="token punctuation">(</span><span class="token class-name">Except</span> key<span class="token operator">-</span>miss events which are excluded from <span class="token char">&#39;A&#39;</span> due <span class="token keyword">to</span> <span class="token namespace">their</span>
#         unique nature<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
#  <span class="token class-name">The</span> <span class="token string">&quot;notify-keyspace-events&quot;</span> takes as argument a string that is composed
#  of zero or multiple <span class="token class-name"><span class="token namespace">characters<span class="token punctuation">.</span></span> The</span> empty string means that notifications
#  are disabled<span class="token punctuation">.</span>
#
#  <span class="token class-name">Example</span><span class="token operator">:</span> <span class="token keyword">to</span> <span class="token namespace">enable</span> list and generic events<span class="token punctuation">,</span> from the point of view of the
#           event name<span class="token punctuation">,</span> use<span class="token operator">:</span>
#
#  notify<span class="token operator">-</span>keyspace<span class="token operator">-</span>events <span class="token class-name">Elg</span>
#
#  <span class="token class-name">Example</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token keyword">to</span> <span class="token namespace">get</span> the stream of the expired keys subscribing <span class="token keyword">to</span> <span class="token namespace">channel</span>
#             name __keyevent<span class="token annotation punctuation">@0__</span><span class="token operator">:</span>expired use<span class="token operator">:</span>
#
#  notify<span class="token operator">-</span>keyspace<span class="token operator">-</span>events <span class="token class-name">Ex</span>
#
#  <span class="token class-name">By</span> <span class="token keyword">default</span> all notifications are disabled because most users don&#39;t need
#  <span class="token keyword">this</span> feature and the feature has some <span class="token class-name"><span class="token namespace">overhead<span class="token punctuation">.</span></span> Note</span> that <span class="token keyword">if</span> you don&#39;t
#  specify at least one of <span class="token class-name">K</span> or <span class="token class-name">E</span><span class="token punctuation">,</span> no events will be delivered<span class="token punctuation">.</span>
notify<span class="token operator">-</span>keyspace<span class="token operator">-</span>events <span class="token string">&quot;&quot;</span>

############################### GOPHER SERVER #################################

# <span class="token class-name">Redis</span> contains an implementation of the <span class="token class-name">Gopher</span> protocol<span class="token punctuation">,</span> as specified in
# the <span class="token class-name">RFC</span> <span class="token number">1436</span> <span class="token punctuation">(</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>ietf<span class="token punctuation">.</span>org<span class="token operator">/</span>rfc<span class="token operator">/</span>rfc1436<span class="token punctuation">.</span>txt<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token class-name">Gopher</span> protocol was very popular in the late &#39;<span class="token number">90</span>s<span class="token punctuation">.</span> <span class="token class-name">It</span> is an alternative
# <span class="token keyword">to</span> <span class="token namespace">the</span> web<span class="token punctuation">,</span> and the implementation both server and client side is so simple
# that the <span class="token class-name">Redis</span> server has just <span class="token number">100</span> lines of code in order <span class="token keyword">to</span> <span class="token namespace">implement</span> <span class="token keyword">this</span>
# support<span class="token punctuation">.</span>
#
# <span class="token class-name">What</span> <span class="token keyword">do</span> you <span class="token keyword">do</span> <span class="token keyword">with</span> <span class="token class-name">Gopher</span> nowadays<span class="token operator">?</span> <span class="token class-name">Well</span> <span class="token class-name">Gopher</span> never <span class="token operator">*</span>really<span class="token operator">*</span> died<span class="token punctuation">,</span> and
# lately there is a movement in order <span class="token keyword">for</span> the <span class="token class-name">Gopher</span> more hierarchical content
# composed of just plain text documents <span class="token keyword">to</span> <span class="token namespace">be</span> <span class="token class-name"><span class="token namespace">resurrected<span class="token punctuation">.</span></span> Some</span> want a simpler
# internet<span class="token punctuation">,</span> others believe that the mainstream internet became too much
# controlled<span class="token punctuation">,</span> and it&#39;s cool <span class="token keyword">to</span> <span class="token namespace">create</span> an alternative space <span class="token keyword">for</span> people that
# want a bit of fresh air<span class="token punctuation">.</span>
#
# <span class="token class-name">Anyway</span> <span class="token keyword">for</span> the <span class="token number">10</span>nth birthday of the <span class="token class-name">Redis</span><span class="token punctuation">,</span> we gave it the <span class="token class-name">Gopher</span> protocol
# as a gift<span class="token punctuation">.</span>
#
# <span class="token operator">--</span><span class="token operator">-</span> HOW IT WORKS<span class="token operator">?</span> <span class="token operator">--</span><span class="token operator">-</span>
#
# <span class="token class-name">The</span> <span class="token class-name">Redis</span> <span class="token class-name">Gopher</span> support <span class="token keyword">uses</span> <span class="token namespace">the</span> inline protocol of <span class="token class-name">Redis</span><span class="token punctuation">,</span> and specifically
# two kind of inline requests that were anyway illegal<span class="token operator">:</span> an empty request
# or any request that starts <span class="token keyword">with</span> <span class="token string">&quot;/&quot;</span> <span class="token punctuation">(</span>there are no <span class="token class-name">Redis</span> commands starting
# <span class="token keyword">with</span> <span class="token namespace">such</span> a slash<span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token class-name">Normal</span> RESP2<span class="token operator">/</span>RESP3 requests are completely out of the
# path of the <span class="token class-name">Gopher</span> protocol implementation and are served as usually as well<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> you <span class="token keyword">open</span> <span class="token namespace">a</span> connection <span class="token keyword">to</span> <span class="token class-name">Redis</span> when <span class="token class-name">Gopher</span> is enabled and send it
# a string like <span class="token string">&quot;/foo&quot;</span><span class="token punctuation">,</span> <span class="token keyword">if</span> there is a key named <span class="token string">&quot;/foo&quot;</span> it is served via the
# <span class="token class-name">Gopher</span> protocol<span class="token punctuation">.</span>
#
# <span class="token class-name">In</span> order <span class="token keyword">to</span> <span class="token namespace">create</span> a real <span class="token class-name">Gopher</span> <span class="token string">&quot;hole&quot;</span> <span class="token punctuation">(</span>the name of a <span class="token class-name">Gopher</span> site in <span class="token class-name">Gopher</span>
# talking<span class="token punctuation">)</span><span class="token punctuation">,</span> you likely need a script like the following<span class="token operator">:</span>
#
#   https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>antirez<span class="token operator">/</span>gopher2redis
#
# <span class="token operator">--</span><span class="token operator">-</span> SECURITY WARNING <span class="token operator">--</span><span class="token operator">-</span>
#
# <span class="token class-name">If</span> you plan <span class="token keyword">to</span> <span class="token namespace">put</span> <span class="token class-name">Redis</span> on the internet in a publicly accessible address
# <span class="token keyword">to</span> <span class="token namespace">server</span> <span class="token class-name">Gopher</span> pages MAKE SURE TO SET <span class="token class-name">A</span> PASSWORD <span class="token keyword">to</span> <span class="token namespace">the</span> instance<span class="token punctuation">.</span>
# <span class="token class-name">Once</span> a password is set<span class="token operator">:</span>
#
#   <span class="token number">1.</span> <span class="token class-name">The</span> <span class="token class-name">Gopher</span> server <span class="token punctuation">(</span>when enabled<span class="token punctuation">,</span> not by <span class="token keyword">default</span><span class="token punctuation">)</span> will still serve
#      content via <span class="token class-name">Gopher</span><span class="token punctuation">.</span>
#   <span class="token number">2.</span> <span class="token class-name">However</span> other commands cannot be called before the client will
#      authenticate<span class="token punctuation">.</span>
#
# <span class="token class-name">So</span> use the &#39;requirepass&#39; option <span class="token keyword">to</span> <span class="token namespace">protect</span> your instance<span class="token punctuation">.</span>
#
# <span class="token class-name">To</span> enable <span class="token class-name">Gopher</span> support uncomment the following line and set
# the option from no <span class="token punctuation">(</span>the <span class="token keyword">default</span><span class="token punctuation">)</span> <span class="token keyword">to</span> <span class="token namespace">yes<span class="token punctuation">.</span></span>
#
# gopher<span class="token operator">-</span>enabled no

############################### ADVANCED CONFIG ###############################

# <span class="token class-name">Hashes</span> are encoded using a memory efficient data structure when they have a
# small number of entries<span class="token punctuation">,</span> and the biggest entry does not exceed a given
# <span class="token class-name"><span class="token namespace">threshold<span class="token punctuation">.</span></span> These</span> thresholds can be configured using the following directives<span class="token punctuation">.</span>
hash<span class="token operator">-</span>max<span class="token operator">-</span>ziplist<span class="token operator">-</span>entries <span class="token number">512</span>
hash<span class="token operator">-</span>max<span class="token operator">-</span>ziplist<span class="token operator">-</span>value <span class="token number">64</span>

# <span class="token class-name">Lists</span> are also encoded in a special way <span class="token keyword">to</span> <span class="token namespace">save</span> a lot of space<span class="token punctuation">.</span>
# <span class="token class-name">The</span> number of entries allowed per internal list node can be specified
# as a fixed maximum size or a maximum number of elements<span class="token punctuation">.</span>
# <span class="token class-name">For</span> a fixed maximum size<span class="token punctuation">,</span> use <span class="token operator">-</span><span class="token number">5</span> through <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> meaning<span class="token operator">:</span>
# <span class="token operator">-</span><span class="token number">5</span><span class="token operator">:</span> max size<span class="token operator">:</span> <span class="token number">64</span> <span class="token class-name">Kb</span>  \\<span class="token operator">&lt;</span><span class="token operator">--</span> not recommended <span class="token keyword">for</span> normal workloads
# <span class="token operator">-</span><span class="token number">4</span><span class="token operator">:</span> max size<span class="token operator">:</span> <span class="token number">32</span> <span class="token class-name">Kb</span>  \\<span class="token operator">&lt;</span><span class="token operator">--</span> not recommended
# <span class="token operator">-</span><span class="token number">3</span><span class="token operator">:</span> max size<span class="token operator">:</span> <span class="token number">16</span> <span class="token class-name">Kb</span>  \\<span class="token operator">&lt;</span><span class="token operator">--</span> probably not recommended
# <span class="token operator">-</span><span class="token number">2</span><span class="token operator">:</span> max size<span class="token operator">:</span> <span class="token number">8</span> <span class="token class-name">Kb</span>   \\<span class="token operator">&lt;</span><span class="token operator">--</span> good
# <span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> max size<span class="token operator">:</span> <span class="token number">4</span> <span class="token class-name">Kb</span>   \\<span class="token operator">&lt;</span><span class="token operator">--</span> good
# <span class="token class-name">Positive</span> numbers mean store up <span class="token keyword">to</span> _exactly_ that number of elements
# per list node<span class="token punctuation">.</span>
# <span class="token class-name">The</span> highest performing option is usually <span class="token operator">-</span><span class="token number">2</span> <span class="token punctuation">(</span><span class="token number">8</span> <span class="token class-name">Kb</span> size<span class="token punctuation">)</span> or <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">(</span><span class="token number">4</span> <span class="token class-name">Kb</span> size<span class="token punctuation">)</span><span class="token punctuation">,</span>
# but <span class="token keyword">if</span> your use <span class="token keyword">case</span> is unique<span class="token punctuation">,</span> adjust the settings as necessary<span class="token punctuation">.</span>
list<span class="token operator">-</span>max<span class="token operator">-</span>ziplist<span class="token operator">-</span>size <span class="token operator">-</span><span class="token number">2</span>

# <span class="token class-name">Lists</span> may also be compressed<span class="token punctuation">.</span>
# <span class="token class-name">Compress</span> depth is the number of quicklist ziplist nodes from <span class="token operator">*</span>each<span class="token operator">*</span> side of
# the list <span class="token keyword">to</span> <span class="token operator">*</span>exclude<span class="token operator">*</span> from <span class="token class-name"><span class="token namespace">compression<span class="token punctuation">.</span></span>  The</span> head and tail of the list
# are always uncompressed <span class="token keyword">for</span> fast push<span class="token operator">/</span>pop <span class="token class-name"><span class="token namespace">operations<span class="token punctuation">.</span></span>  Settings</span> are<span class="token operator">:</span>
# <span class="token number">0</span><span class="token operator">:</span> disable all list compression
# <span class="token number">1</span><span class="token operator">:</span> depth <span class="token number">1</span> means &quot;don&#39;t start compressing until after <span class="token number">1</span> node into the list<span class="token punctuation">,</span>
#    going from either the head or tail&quot;
#    <span class="token class-name">So</span><span class="token operator">:</span> <span class="token punctuation">[</span>head<span class="token punctuation">]</span><span class="token operator">-&gt;</span>node<span class="token operator">-&gt;</span>node<span class="token operator">-&gt;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>-<span class="token operator">&gt;</span>node<span class="token operator">-&gt;</span><span class="token punctuation">[</span>tail<span class="token punctuation">]</span>
#    <span class="token punctuation">[</span>head<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>tail<span class="token punctuation">]</span> will always be uncompressed<span class="token punctuation">;</span> inner nodes will compress<span class="token punctuation">.</span>
# <span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">[</span>head<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token operator">-&gt;</span>node<span class="token operator">-&gt;</span>node<span class="token operator">-&gt;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>-<span class="token operator">&gt;</span>node<span class="token operator">-&gt;</span><span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">[</span>tail<span class="token punctuation">]</span>
#    <span class="token number">2</span> here means<span class="token operator">:</span> don&#39;t compress head or head<span class="token operator">-&gt;</span>next or tail<span class="token operator">-&gt;</span>prev or tail<span class="token punctuation">,</span>
#    but compress all nodes between them<span class="token punctuation">.</span>
# <span class="token number">3</span><span class="token operator">:</span> <span class="token punctuation">[</span>head<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">[</span>next<span class="token punctuation">]</span><span class="token operator">-&gt;</span>node<span class="token operator">-&gt;</span>node<span class="token operator">-&gt;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>-<span class="token operator">&gt;</span>node<span class="token operator">-&gt;</span><span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">[</span>prev<span class="token punctuation">]</span><span class="token operator">-&gt;</span><span class="token punctuation">[</span>tail<span class="token punctuation">]</span>
# etc<span class="token punctuation">.</span>
list<span class="token operator">-</span>compress<span class="token operator">-</span>depth <span class="token number">0</span>

# <span class="token class-name">Sets</span> have a special encoding in just one <span class="token keyword">case</span><span class="token operator">:</span> when a set is composed
# of just strings that happen <span class="token keyword">to</span> <span class="token namespace">be</span> integers in radix <span class="token number">10</span> in the range
# of <span class="token number">64</span> bit signed integers<span class="token punctuation">.</span>
# <span class="token class-name">The</span> following configuration setting sets the limit in the size of the
# set in order <span class="token keyword">to</span> <span class="token namespace">use</span> <span class="token keyword">this</span> special memory saving encoding<span class="token punctuation">.</span>
set<span class="token operator">-</span>max<span class="token operator">-</span>intset<span class="token operator">-</span>entries <span class="token number">512</span>

# <span class="token class-name">Similarly</span> <span class="token keyword">to</span> <span class="token namespace">hashes</span> and lists<span class="token punctuation">,</span> sorted sets are also specially encoded in
# order <span class="token keyword">to</span> <span class="token namespace">save</span> a lot of <span class="token class-name"><span class="token namespace">space<span class="token punctuation">.</span></span> This</span> encoding is only used when the length and
# elements of a sorted set are below the following limits<span class="token operator">:</span>
zset<span class="token operator">-</span>max<span class="token operator">-</span>ziplist<span class="token operator">-</span>entries <span class="token number">128</span>
zset<span class="token operator">-</span>max<span class="token operator">-</span>ziplist<span class="token operator">-</span>value <span class="token number">64</span>

# <span class="token class-name">HyperLogLog</span> sparse representation bytes <span class="token class-name"><span class="token namespace">limit<span class="token punctuation">.</span></span> The</span> limit includes the
# <span class="token number">16</span> bytes <span class="token class-name"><span class="token namespace">header<span class="token punctuation">.</span></span> When</span> an <span class="token class-name">HyperLogLog</span> using the sparse representation crosses
# <span class="token keyword">this</span> limit<span class="token punctuation">,</span> it is converted into the dense representation<span class="token punctuation">.</span>
#
# <span class="token class-name">A</span> value greater than <span class="token number">16000</span> is totally useless<span class="token punctuation">,</span> since at that point the
# dense representation is more memory efficient<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> suggested value is <span class="token operator">~</span> <span class="token number">3000</span> in order <span class="token keyword">to</span> <span class="token namespace">have</span> the benefits of
# the space efficient encoding without slowing down too much PFADD<span class="token punctuation">,</span>
# which is <span class="token class-name">O</span><span class="token punctuation">(</span><span class="token class-name">N</span><span class="token punctuation">)</span> <span class="token keyword">with</span> <span class="token namespace">the</span> sparse <span class="token class-name"><span class="token namespace">encoding<span class="token punctuation">.</span></span> The</span> value can be raised <span class="token keyword">to</span>
# <span class="token operator">~</span> <span class="token number">10000</span> when CPU is not a concern<span class="token punctuation">,</span> but space is<span class="token punctuation">,</span> and the data set is
# composed of many <span class="token class-name">HyperLogLogs</span> <span class="token keyword">with</span> <span class="token namespace">cardinality</span> in the <span class="token number">0</span> <span class="token operator">-</span> <span class="token number">15000</span> range<span class="token punctuation">.</span>
hll<span class="token operator">-</span>sparse<span class="token operator">-</span>max<span class="token operator">-</span>bytes <span class="token number">3000</span>

# <span class="token class-name">Streams</span> macro node max size <span class="token operator">/</span> <span class="token class-name"><span class="token namespace">items<span class="token punctuation">.</span></span> The</span> stream data structure is a radix
# tree of big nodes that encode multiple items <span class="token class-name"><span class="token namespace">inside<span class="token punctuation">.</span></span> Using</span> <span class="token keyword">this</span> configuration
# it is possible <span class="token keyword">to</span> <span class="token namespace">configure</span> how big a single node can be in bytes<span class="token punctuation">,</span> and the
# maximum number of items it may contain before switching <span class="token keyword">to</span> <span class="token namespace">a</span> <span class="token keyword">new</span> node when
# appending <span class="token keyword">new</span> stream <span class="token class-name"><span class="token namespace">entries<span class="token punctuation">.</span></span> If</span> any of the following settings are set <span class="token keyword">to</span>
# zero<span class="token punctuation">,</span> the limit is ignored<span class="token punctuation">,</span> so <span class="token keyword">for</span> instance it is possible <span class="token keyword">to</span> <span class="token namespace">set</span> just a
# max entires limit by setting max<span class="token operator">-</span>bytes <span class="token keyword">to</span> <span class="token number">0</span> and max<span class="token operator">-</span>entries <span class="token keyword">to</span> <span class="token namespace">the</span> desired
# value<span class="token punctuation">.</span>
stream<span class="token operator">-</span>node<span class="token operator">-</span>max<span class="token operator">-</span>bytes <span class="token number">4096</span>
stream<span class="token operator">-</span>node<span class="token operator">-</span>max<span class="token operator">-</span>entries <span class="token number">100</span>

# <span class="token class-name">Active</span> rehashing <span class="token keyword">uses</span> <span class="token number">1</span> millisecond every <span class="token number">100</span> milliseconds of CPU time in
# order <span class="token keyword">to</span> <span class="token namespace">help</span> rehashing the main <span class="token class-name">Redis</span> hash table <span class="token punctuation">(</span>the one mapping top<span class="token operator">-</span>level
# keys <span class="token keyword">to</span> <span class="token namespace">values</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token class-name">The</span> hash table implementation <span class="token class-name">Redis</span> <span class="token keyword">uses</span> <span class="token punctuation">(</span>see dict<span class="token punctuation">.</span>c<span class="token punctuation">)</span>
# performs a lazy rehashing<span class="token operator">:</span> the more operation you run into a hash table
# that is rehashing<span class="token punctuation">,</span> the more rehashing <span class="token string">&quot;steps&quot;</span> are performed<span class="token punctuation">,</span> so <span class="token keyword">if</span> the
# server is idle the rehashing is never complete and some more memory is used
# by the hash table<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token keyword">default</span> is <span class="token keyword">to</span> <span class="token namespace">use</span> <span class="token keyword">this</span> millisecond <span class="token number">10</span> times every second in order <span class="token keyword">to</span>
# actively rehash the main dictionaries<span class="token punctuation">,</span> freeing memory when possible<span class="token punctuation">.</span>
#
# <span class="token class-name">If</span> unsure<span class="token operator">:</span>
# use <span class="token string">&quot;activerehashing no&quot;</span> <span class="token keyword">if</span> you have hard latency requirements and it is
# not a good thing in your environment that <span class="token class-name">Redis</span> can reply from time <span class="token keyword">to</span> <span class="token namespace">time</span>
# <span class="token keyword">to</span> <span class="token namespace">queries</span> <span class="token keyword">with</span> <span class="token number">2</span> milliseconds delay<span class="token punctuation">.</span>
#
# use <span class="token string">&quot;activerehashing yes&quot;</span> <span class="token keyword">if</span> you don&#39;t have such hard requirements but
# want <span class="token keyword">to</span> <span class="token namespace">free</span> memory asap when possible<span class="token punctuation">.</span>
activerehashing yes

# <span class="token class-name">The</span> client output buffer limits can be used <span class="token keyword">to</span> <span class="token namespace">force</span> disconnection of clients
# that are not reading data from the server fast enough <span class="token keyword">for</span> some reason <span class="token punctuation">(</span>a
# common reason is that a <span class="token class-name">Pub</span><span class="token operator">/</span><span class="token class-name">Sub</span> client can&#39;t consume messages as fast as the
# publisher can produce them<span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> limit can be set differently <span class="token keyword">for</span> the three different classes of clients<span class="token operator">:</span>
#
# normal <span class="token operator">-&gt;</span> normal clients including MONITOR clients
# replica  <span class="token operator">-&gt;</span> replica clients
# pubsub <span class="token operator">-&gt;</span> clients subscribed <span class="token keyword">to</span> <span class="token namespace">at</span> least one pubsub channel or pattern
#
# <span class="token class-name">The</span> syntax of every client<span class="token operator">-</span>output<span class="token operator">-</span>buffer<span class="token operator">-</span>limit directive is the following<span class="token operator">:</span>
#
# client<span class="token operator">-</span>output<span class="token operator">-</span>buffer<span class="token operator">-</span>limit \\<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">class</span><span class="token punctuation">&gt;</span></span> \\<span class="token generics"><span class="token punctuation">&lt;</span>hard limit<span class="token punctuation">&gt;</span></span> \\<span class="token generics"><span class="token punctuation">&lt;</span>soft limit<span class="token punctuation">&gt;</span></span> \\<span class="token generics"><span class="token punctuation">&lt;</span>soft seconds<span class="token punctuation">&gt;</span></span>
#
# <span class="token class-name">A</span> client is immediately disconnected once the hard limit is reached<span class="token punctuation">,</span> or <span class="token keyword">if</span>
# the soft limit is reached and remains reached <span class="token keyword">for</span> the specified number of
# seconds <span class="token punctuation">(</span>continuously<span class="token punctuation">)</span><span class="token punctuation">.</span>
# <span class="token class-name">So</span> <span class="token keyword">for</span> instance <span class="token keyword">if</span> the hard limit is <span class="token number">32</span> megabytes and the soft limit is
# <span class="token number">16</span> megabytes <span class="token operator">/</span> <span class="token number">10</span> seconds<span class="token punctuation">,</span> the client will get disconnected immediately
# <span class="token keyword">if</span> the size of the output buffers reach <span class="token number">32</span> megabytes<span class="token punctuation">,</span> but will also get
# disconnected <span class="token keyword">if</span> the client reaches <span class="token number">16</span> megabytes and continuously overcomes
# the limit <span class="token keyword">for</span> <span class="token number">10</span> seconds<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> normal clients are not limited because they don&#39;t receive data
# without asking <span class="token punctuation">(</span>in a push way<span class="token punctuation">)</span><span class="token punctuation">,</span> but just after a request<span class="token punctuation">,</span> so only
# asynchronous clients may create a scenario where data is requested faster
# than it can read<span class="token punctuation">.</span>
#
# <span class="token class-name">Instead</span> there is a <span class="token keyword">default</span> limit <span class="token keyword">for</span> pubsub and replica clients<span class="token punctuation">,</span> since
# subscribers and replicas receive data in a push fashion<span class="token punctuation">.</span>
#
# <span class="token class-name">Both</span> the hard or the soft limit can be disabled by setting them <span class="token keyword">to</span> <span class="token namespace">zero<span class="token punctuation">.</span></span>
client<span class="token operator">-</span>output<span class="token operator">-</span>buffer<span class="token operator">-</span>limit normal <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span>
client<span class="token operator">-</span>output<span class="token operator">-</span>buffer<span class="token operator">-</span>limit replica <span class="token number">256</span>mb <span class="token number">64</span>mb <span class="token number">60</span>
client<span class="token operator">-</span>output<span class="token operator">-</span>buffer<span class="token operator">-</span>limit pubsub <span class="token number">32</span>mb <span class="token number">8</span>mb <span class="token number">60</span>

# <span class="token class-name">Client</span> query buffers accumulate <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">commands<span class="token punctuation">.</span></span> They</span> are limited <span class="token keyword">to</span> <span class="token namespace">a</span> fixed
# amount by <span class="token keyword">default</span> in order <span class="token keyword">to</span> <span class="token namespace">avoid</span> that a protocol desynchronization <span class="token punctuation">(</span><span class="token keyword">for</span>
# instance due <span class="token keyword">to</span> <span class="token namespace">a</span> bug in the client<span class="token punctuation">)</span> will lead <span class="token keyword">to</span> <span class="token namespace">unbound</span> memory usage in
# the query <span class="token class-name"><span class="token namespace">buffer<span class="token punctuation">.</span></span> However</span> you can configure it here <span class="token keyword">if</span> you have very special
# needs<span class="token punctuation">,</span> such us huge multi<span class="token operator">/</span>exec requests or alike<span class="token punctuation">.</span>
#
# client<span class="token operator">-</span>query<span class="token operator">-</span>buffer<span class="token operator">-</span>limit <span class="token number">1</span>gb

# <span class="token class-name">In</span> the <span class="token class-name">Redis</span> protocol<span class="token punctuation">,</span> bulk requests<span class="token punctuation">,</span> that are<span class="token punctuation">,</span> elements representing single
# strings<span class="token punctuation">,</span> are normally limited ot <span class="token number">512</span> <span class="token class-name"><span class="token namespace">mb<span class="token punctuation">.</span></span> However</span> you can change <span class="token keyword">this</span> limit
# here<span class="token punctuation">,</span> but must be <span class="token number">1</span>mb or greater
#
# proto<span class="token operator">-</span>max<span class="token operator">-</span>bulk<span class="token operator">-</span>len <span class="token number">512</span>mb

# <span class="token class-name">Redis</span> calls an internal function <span class="token keyword">to</span> <span class="token namespace">perform</span> many background tasks<span class="token punctuation">,</span> like
# closing connections of clients in timeout<span class="token punctuation">,</span> purging expired keys that are
# never requested<span class="token punctuation">,</span> and so forth<span class="token punctuation">.</span>
#
# <span class="token class-name">Not</span> all tasks are performed <span class="token keyword">with</span> <span class="token namespace">the</span> same frequency<span class="token punctuation">,</span> but <span class="token class-name">Redis</span> checks <span class="token keyword">for</span>
# tasks <span class="token keyword">to</span> <span class="token namespace">perform</span> according <span class="token keyword">to</span> <span class="token namespace">the</span> specified <span class="token string">&quot;hz&quot;</span> value<span class="token punctuation">.</span>
#
# <span class="token class-name">By</span> <span class="token keyword">default</span> <span class="token string">&quot;hz&quot;</span> is set <span class="token keyword">to</span> <span class="token number">10.</span> <span class="token class-name">Raising</span> the value will use more CPU when
# <span class="token class-name">Redis</span> is idle<span class="token punctuation">,</span> but at the same time will make <span class="token class-name">Redis</span> more responsive when
# there are many keys expiring at the same time<span class="token punctuation">,</span> and timeouts may be
# handled <span class="token keyword">with</span> <span class="token namespace">more</span> precision<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> range is between <span class="token number">1</span> and <span class="token number">500</span><span class="token punctuation">,</span> however a value over <span class="token number">100</span> is usually not
# a good <span class="token class-name"><span class="token namespace">idea<span class="token punctuation">.</span></span> Most</span> users should use the <span class="token keyword">default</span> of <span class="token number">10</span> and raise <span class="token keyword">this</span> up <span class="token keyword">to</span>
# <span class="token number">100</span> only in environments where very low latency is required<span class="token punctuation">.</span>
hz <span class="token number">10</span>

# <span class="token class-name">Normally</span> it is useful <span class="token keyword">to</span> <span class="token namespace">have</span> an HZ value which is proportional <span class="token keyword">to</span> <span class="token namespace">the</span>
# number of clients <span class="token class-name"><span class="token namespace">connected<span class="token punctuation">.</span></span> This</span> is useful in order<span class="token punctuation">,</span> <span class="token keyword">for</span> instance<span class="token punctuation">,</span> <span class="token keyword">to</span>
# avoid too many clients are processed <span class="token keyword">for</span> each background task invocation
# in order <span class="token keyword">to</span> <span class="token namespace">avoid</span> latency spikes<span class="token punctuation">.</span>
#
# <span class="token class-name">Since</span> the <span class="token keyword">default</span> HZ value by <span class="token keyword">default</span> is conservatively set <span class="token keyword">to</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token class-name">Redis</span>
# offers<span class="token punctuation">,</span> and enables by <span class="token keyword">default</span><span class="token punctuation">,</span> the ability <span class="token keyword">to</span> <span class="token namespace">use</span> an adaptive HZ value
# which will temporary raise when there are many connected clients<span class="token punctuation">.</span>
#
# <span class="token class-name">When</span> dynamic HZ is enabled<span class="token punctuation">,</span> the actual configured HZ will be used
# as a baseline<span class="token punctuation">,</span> but multiples of the configured HZ value will be actually
# used as needed once more clients are <span class="token class-name"><span class="token namespace">connected<span class="token punctuation">.</span></span> In</span> <span class="token keyword">this</span> way an idle
# instance will use very little CPU time <span class="token keyword">while</span> a busy instance will be
# more responsive<span class="token punctuation">.</span>
dynamic<span class="token operator">-</span>hz yes

# <span class="token class-name">When</span> a child rewrites the <span class="token class-name">AOF</span> file<span class="token punctuation">,</span> <span class="token keyword">if</span> the following option is enabled
# the file will be fsync<span class="token operator">-</span>ed every <span class="token number">32</span> MB of data <span class="token class-name"><span class="token namespace">generated<span class="token punctuation">.</span></span> This</span> is useful
# in order <span class="token keyword">to</span> <span class="token namespace">commit</span> the file <span class="token keyword">to</span> <span class="token namespace">the</span> disk more incrementally and avoid
# big latency spikes<span class="token punctuation">.</span>
aof<span class="token operator">-</span>rewrite<span class="token operator">-</span>incremental<span class="token operator">-</span>fsync yes

# <span class="token class-name">When</span> redis saves <span class="token class-name">RDB</span> file<span class="token punctuation">,</span> <span class="token keyword">if</span> the following option is enabled
# the file will be fsync<span class="token operator">-</span>ed every <span class="token number">32</span> MB of data <span class="token class-name"><span class="token namespace">generated<span class="token punctuation">.</span></span> This</span> is useful
# in order <span class="token keyword">to</span> <span class="token namespace">commit</span> the file <span class="token keyword">to</span> <span class="token namespace">the</span> disk more incrementally and avoid
# big latency spikes<span class="token punctuation">.</span>
rdb<span class="token operator">-</span>save<span class="token operator">-</span>incremental<span class="token operator">-</span>fsync yes

# <span class="token class-name">Redis</span> <span class="token class-name">LFU</span> eviction <span class="token punctuation">(</span>see maxmemory setting<span class="token punctuation">)</span> can be <span class="token class-name"><span class="token namespace">tuned<span class="token punctuation">.</span></span> However</span> it is a good
# idea <span class="token keyword">to</span> <span class="token namespace">start</span> <span class="token keyword">with</span> <span class="token namespace">the</span> <span class="token keyword">default</span> settings and only change them after investigating
# how <span class="token keyword">to</span> <span class="token namespace">improve</span> the performances and how the keys LFU change over time<span class="token punctuation">,</span> which
# is possible <span class="token keyword">to</span> <span class="token namespace">inspect</span> via the OBJECT FREQ command<span class="token punctuation">.</span>
#
# <span class="token class-name">There</span> are two tunable parameters in the <span class="token class-name">Redis</span> LFU implementation<span class="token operator">:</span> the
# counter logarithm factor and the counter decay <span class="token class-name"><span class="token namespace">time<span class="token punctuation">.</span></span> It</span> is important <span class="token keyword">to</span>
# understand what the two parameters mean before changing them<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> LFU counter is just <span class="token number">8</span> bits per key<span class="token punctuation">,</span> it&#39;s maximum value is <span class="token number">255</span><span class="token punctuation">,</span> so <span class="token class-name">Redis</span>
# <span class="token keyword">uses</span> <span class="token namespace">a</span> probabilistic increment <span class="token keyword">with</span> <span class="token namespace">logarithmic</span> <span class="token class-name"><span class="token namespace">behavior<span class="token punctuation">.</span></span> Given</span> the value
# of the old counter<span class="token punctuation">,</span> when a key is accessed<span class="token punctuation">,</span> the counter is incremented in
# <span class="token keyword">this</span> way<span class="token operator">:</span>
#
# <span class="token number">1.</span> <span class="token class-name">A</span> random number <span class="token class-name">R</span> between <span class="token number">0</span> and <span class="token number">1</span> is extracted<span class="token punctuation">.</span>
# <span class="token number">2.</span> <span class="token class-name">A</span> probability <span class="token class-name">P</span> is calculated as <span class="token number">1</span><span class="token operator">/</span><span class="token punctuation">(</span>old_value<span class="token operator">*</span>lfu_log_factor<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
# <span class="token number">3.</span> <span class="token class-name">The</span> counter is incremented only <span class="token keyword">if</span> <span class="token class-name">R</span> \\<span class="token operator">&lt;</span> <span class="token class-name">P</span><span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token keyword">default</span> lfu<span class="token operator">-</span>log<span class="token operator">-</span>factor is <span class="token number">10.</span> <span class="token class-name">This</span> is a table of how the frequency
# counter changes <span class="token keyword">with</span> <span class="token namespace">a</span> different number of accesses <span class="token keyword">with</span> <span class="token namespace">different</span>
# logarithmic factors<span class="token operator">:</span>
#
# <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
# <span class="token operator">|</span> factor <span class="token operator">|</span> <span class="token number">100</span> hits   <span class="token operator">|</span> <span class="token number">1000</span> hits  <span class="token operator">|</span> <span class="token number">100</span>K hits  <span class="token operator">|</span> <span class="token number">1</span>M hits    <span class="token operator">|</span> <span class="token number">10</span>M hits   <span class="token operator">|</span>
# <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
# <span class="token operator">|</span> <span class="token number">0</span>      <span class="token operator">|</span> <span class="token number">104</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span>
# <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
# <span class="token operator">|</span> <span class="token number">1</span>      <span class="token operator">|</span> <span class="token number">18</span>         <span class="token operator">|</span> <span class="token number">49</span>         <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span>
# <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
# <span class="token operator">|</span> <span class="token number">10</span>     <span class="token operator">|</span> <span class="token number">10</span>         <span class="token operator">|</span> <span class="token number">18</span>         <span class="token operator">|</span> <span class="token number">142</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span>
# <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
# <span class="token operator">|</span> <span class="token number">100</span>    <span class="token operator">|</span> <span class="token number">8</span>          <span class="token operator">|</span> <span class="token number">11</span>         <span class="token operator">|</span> <span class="token number">49</span>         <span class="token operator">|</span> <span class="token number">143</span>        <span class="token operator">|</span> <span class="token number">255</span>        <span class="token operator">|</span>
# <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
#
# NOTE<span class="token operator">:</span> <span class="token class-name">The</span> above table was obtained by running the following commands<span class="token operator">:</span>
#
#   redis<span class="token operator">-</span>benchmark <span class="token operator">-</span>n <span class="token number">1000000</span> incr foo
#   redis<span class="token operator">-</span>cli object freq foo
#
# NOTE <span class="token number">2</span><span class="token operator">:</span> <span class="token class-name">The</span> counter initial value is <span class="token number">5</span> in order <span class="token keyword">to</span> <span class="token namespace">give</span> <span class="token keyword">new</span> objects a chance
# <span class="token keyword">to</span> <span class="token namespace">accumulate</span> hits<span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> counter decay time is the time<span class="token punctuation">,</span> in minutes<span class="token punctuation">,</span> that must elapse in order
# <span class="token keyword">for</span> the key counter <span class="token keyword">to</span> <span class="token namespace">be</span> divided by two <span class="token punctuation">(</span>or decremented <span class="token keyword">if</span> it has a value
# less \\<span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> <span class="token keyword">default</span> value <span class="token keyword">for</span> the lfu<span class="token operator">-</span>decay<span class="token operator">-</span>time is <span class="token number">1.</span> <span class="token class-name">A</span> <span class="token class-name">Special</span> value of <span class="token number">0</span> means <span class="token keyword">to</span>
# decay the counter every time it happens <span class="token keyword">to</span> <span class="token namespace">be</span> scanned<span class="token punctuation">.</span>
#
# lfu<span class="token operator">-</span>log<span class="token operator">-</span>factor <span class="token number">10</span>
# lfu<span class="token operator">-</span>decay<span class="token operator">-</span>time <span class="token number">1</span>

########################### ACTIVE DEFRAGMENTATION #######################
#
# <span class="token class-name">What</span> is active defragmentation<span class="token operator">?</span>
# <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
#
# <span class="token class-name">Active</span> <span class="token punctuation">(</span>online<span class="token punctuation">)</span> defragmentation allows a <span class="token class-name">Redis</span> server <span class="token keyword">to</span> <span class="token namespace">compact</span> the
# spaces left between small allocations and deallocations of data in memory<span class="token punctuation">,</span>
# thus allowing <span class="token keyword">to</span> <span class="token namespace">reclaim</span> back memory<span class="token punctuation">.</span>
#
# <span class="token class-name">Fragmentation</span> is a natural process that happens <span class="token keyword">with</span> <span class="token namespace">every</span> allocator <span class="token punctuation">(</span>but
# less so <span class="token keyword">with</span> <span class="token class-name">Jemalloc</span><span class="token punctuation">,</span> fortunately<span class="token punctuation">)</span> and certain <span class="token class-name"><span class="token namespace">workloads<span class="token punctuation">.</span></span> Normally</span> a server
# restart is needed in order <span class="token keyword">to</span> <span class="token namespace">lower</span> the fragmentation<span class="token punctuation">,</span> or at least <span class="token keyword">to</span> <span class="token namespace">flush</span>
# away all the data and create it <span class="token class-name"><span class="token namespace">again<span class="token punctuation">.</span></span> However</span> thanks <span class="token keyword">to</span> <span class="token keyword">this</span> feature
# implemented by <span class="token class-name">Oran</span> <span class="token class-name">Agra</span> <span class="token keyword">for</span> <span class="token class-name">Redis</span> <span class="token number">4.0</span> <span class="token keyword">this</span> process can happen at runtime
# in an <span class="token string">&quot;hot&quot;</span> way<span class="token punctuation">,</span> <span class="token keyword">while</span> the server is running<span class="token punctuation">.</span>
#
# <span class="token class-name">Basically</span> when the fragmentation is over a certain level <span class="token punctuation">(</span>see the
# configuration options below<span class="token punctuation">)</span> <span class="token class-name">Redis</span> will start <span class="token keyword">to</span> <span class="token namespace">create</span> <span class="token keyword">new</span> copies of the
# values in contiguous memory regions by exploiting certain specific <span class="token class-name">Jemalloc</span>
# features <span class="token punctuation">(</span>in order <span class="token keyword">to</span> <span class="token namespace">understand</span> <span class="token keyword">if</span> an allocation is causing fragmentation
# and <span class="token keyword">to</span> <span class="token namespace">allocate</span> it in a better place<span class="token punctuation">)</span><span class="token punctuation">,</span> and at the same time<span class="token punctuation">,</span> will release the
# old copies of the <span class="token class-name"><span class="token namespace">data<span class="token punctuation">.</span></span> This</span> process<span class="token punctuation">,</span> repeated incrementally <span class="token keyword">for</span> all the keys
# will cause the fragmentation <span class="token keyword">to</span> <span class="token namespace">drop</span> back <span class="token keyword">to</span> <span class="token namespace">normal</span> values<span class="token punctuation">.</span>
#
# <span class="token class-name">Important</span> things <span class="token keyword">to</span> <span class="token namespace">understand</span><span class="token operator">:</span>
#
# <span class="token number">1.</span> <span class="token class-name">This</span> feature is disabled by <span class="token keyword">default</span><span class="token punctuation">,</span> and only works <span class="token keyword">if</span> you compiled <span class="token class-name">Redis</span>
#    <span class="token keyword">to</span> <span class="token namespace">use</span> the copy of <span class="token class-name">Jemalloc</span> we ship <span class="token keyword">with</span> <span class="token namespace">the</span> source code of <span class="token class-name">Redis</span><span class="token punctuation">.</span>
#    <span class="token class-name">This</span> is the <span class="token keyword">default</span> <span class="token keyword">with</span> <span class="token class-name">Linux</span> builds<span class="token punctuation">.</span>
#
# <span class="token number">2.</span> <span class="token class-name">You</span> never need <span class="token keyword">to</span> <span class="token namespace">enable</span> <span class="token keyword">this</span> feature <span class="token keyword">if</span> you don&#39;t have fragmentation
#    issues<span class="token punctuation">.</span>
#
# <span class="token number">3.</span> <span class="token class-name">Once</span> you experience fragmentation<span class="token punctuation">,</span> you can enable <span class="token keyword">this</span> feature when
#    needed <span class="token keyword">with</span> <span class="token namespace">the</span> command <span class="token string">&quot;CONFIG SET activedefrag yes&quot;</span><span class="token punctuation">.</span>
#
# <span class="token class-name">The</span> configuration parameters are able <span class="token keyword">to</span> <span class="token namespace">fine</span> tune the behavior of the
# defragmentation <span class="token class-name"><span class="token namespace">process<span class="token punctuation">.</span></span> If</span> you are not sure about what they mean it is
# a good idea <span class="token keyword">to</span> <span class="token namespace">leave</span> the defaults untouched<span class="token punctuation">.</span>

# <span class="token class-name">Enabled</span> active defragmentation
# activedefrag no

# <span class="token class-name">Minimum</span> amount of fragmentation waste <span class="token keyword">to</span> <span class="token namespace">start</span> active defrag
# active<span class="token operator">-</span>defrag<span class="token operator">-</span>ignore<span class="token operator">-</span>bytes <span class="token number">100</span>mb

# <span class="token class-name">Minimum</span> percentage of fragmentation <span class="token keyword">to</span> <span class="token namespace">start</span> active defrag
# active<span class="token operator">-</span>defrag<span class="token operator">-</span>threshold<span class="token operator">-</span>lower <span class="token number">10</span>

# <span class="token class-name">Maximum</span> percentage of fragmentation at which we use maximum effort
# active<span class="token operator">-</span>defrag<span class="token operator">-</span>threshold<span class="token operator">-</span>upper <span class="token number">100</span>

# <span class="token class-name">Minimal</span> effort <span class="token keyword">for</span> defrag in <span class="token class-name">CPU</span> percentage<span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token namespace">be</span> used when the lower
# threshold is reached
# active<span class="token operator">-</span>defrag<span class="token operator">-</span>cycle<span class="token operator">-</span>min <span class="token number">1</span>

# <span class="token class-name">Maximal</span> effort <span class="token keyword">for</span> defrag in <span class="token class-name">CPU</span> percentage<span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token namespace">be</span> used when the upper
# threshold is reached
# active<span class="token operator">-</span>defrag<span class="token operator">-</span>cycle<span class="token operator">-</span>max <span class="token number">25</span>

# <span class="token class-name">Maximum</span> number of set<span class="token operator">/</span>hash<span class="token operator">/</span>zset<span class="token operator">/</span>list fields that will be processed from
# the main dictionary scan
# active<span class="token operator">-</span>defrag<span class="token operator">-</span>max<span class="token operator">-</span>scan<span class="token operator">-</span>fields <span class="token number">1000</span>

# <span class="token class-name">Jemalloc</span> background thread <span class="token keyword">for</span> purging will be enabled by <span class="token keyword">default</span>
jemalloc<span class="token operator">-</span>bg<span class="token operator">-</span>thread yes

# <span class="token class-name">It</span> is possible <span class="token keyword">to</span> <span class="token namespace">pin</span> different threads and processes of <span class="token class-name">Redis</span> <span class="token keyword">to</span> <span class="token namespace">specific</span>
# <span class="token class-name">CPUs</span> in your system<span class="token punctuation">,</span> in order <span class="token keyword">to</span> <span class="token namespace">maximize</span> the performances of the server<span class="token punctuation">.</span>
# <span class="token class-name">This</span> is useful both in order <span class="token keyword">to</span> <span class="token namespace">pin</span> different <span class="token class-name">Redis</span> threads in different
# <span class="token class-name">CPUs</span><span class="token punctuation">,</span> but also in order <span class="token keyword">to</span> <span class="token namespace">make</span> sure that multiple <span class="token class-name">Redis</span> instances running
# in the same host will be pinned <span class="token keyword">to</span> <span class="token namespace">different</span> <span class="token class-name">CPUs</span><span class="token punctuation">.</span>
#
# <span class="token class-name">Normally</span> you can <span class="token keyword">do</span> <span class="token keyword">this</span> using the <span class="token string">&quot;taskset&quot;</span> command<span class="token punctuation">,</span> however it is also
# possible <span class="token keyword">to</span> <span class="token keyword">this</span> via <span class="token class-name">Redis</span> configuration directly<span class="token punctuation">,</span> both in <span class="token class-name">Linux</span> and <span class="token class-name">FreeBSD</span><span class="token punctuation">.</span>
#
# <span class="token class-name">You</span> can pin the server<span class="token operator">/</span><span class="token class-name">IO</span> threads<span class="token punctuation">,</span> bio threads<span class="token punctuation">,</span> aof rewrite child process<span class="token punctuation">,</span> and
# the bgsave child <span class="token class-name"><span class="token namespace">process<span class="token punctuation">.</span></span> The</span> syntax <span class="token keyword">to</span> <span class="token namespace">specify</span> the cpu list is the same as
# the taskset command<span class="token operator">:</span>
#
# <span class="token class-name">Set</span> redis server<span class="token operator">/</span>io threads <span class="token keyword">to</span> <span class="token namespace">cpu</span> affinity <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token operator">:</span>
# server_cpulist <span class="token number">0</span><span class="token operator">-</span><span class="token number">7</span><span class="token operator">:</span><span class="token number">2</span>
#
# <span class="token class-name">Set</span> bio threads <span class="token keyword">to</span> <span class="token namespace">cpu</span> affinity <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token operator">:</span>
# bio_cpulist <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span>
#
# <span class="token class-name">Set</span> aof rewrite child process <span class="token keyword">to</span> <span class="token namespace">cpu</span> affinity <span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token operator">:</span>
# aof_rewrite_cpulist <span class="token number">8</span><span class="token operator">-</span><span class="token number">11</span>
#
# <span class="token class-name">Set</span> bgsave child process <span class="token keyword">to</span> <span class="token namespace">cpu</span> affinity <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span>
# bgsave_cpulist <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">11</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u6D4B\u8BD5-redis-cli\u8FDE\u63A5\u4E0A\u6765" tabindex="-1"><a class="header-anchor" href="#\u6D4B\u8BD5-redis-cli\u8FDE\u63A5\u4E0A\u6765" aria-hidden="true">#</a> \u6D4B\u8BD5 redis-cli\u8FDE\u63A5\u4E0A\u6765</h4><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code>docker exec -it \u8FD0\u884C\u7740redis\u670D\u52A1\u5BB9\u5668\u7684ID redis-cli
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-28-49.png" alt="" loading="lazy"></p><h4 id="\u6D4B\u8BD5\u6301\u4E45\u5316\u6587\u4EF6\u751F\u6210" tabindex="-1"><a class="header-anchor" href="#\u6D4B\u8BD5\u6301\u4E45\u5316\u6587\u4EF6\u751F\u6210" aria-hidden="true">#</a> \u6D4B\u8BD5\u6301\u4E45\u5316\u6587\u4EF6\u751F\u6210</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-29-12.png" alt="" loading="lazy"></p><h1 id="\u516B\u3001\u5C06\u955C\u50CF\u63A8\u9001\u5230\u963F\u91CC\u4E91" tabindex="-1"><a class="header-anchor" href="#\u516B\u3001\u5C06\u955C\u50CF\u63A8\u9001\u5230\u963F\u91CC\u4E91" aria-hidden="true">#</a> \u516B\u3001\u5C06\u955C\u50CF\u63A8\u9001\u5230\u963F\u91CC\u4E91</h1><h3 id="\u672C\u5730\u955C\u50CF\u53D1\u5E03\u5230\u963F\u91CC\u4E91\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#\u672C\u5730\u955C\u50CF\u53D1\u5E03\u5230\u963F\u91CC\u4E91\u6D41\u7A0B" aria-hidden="true">#</a> \u672C\u5730\u955C\u50CF\u53D1\u5E03\u5230\u963F\u91CC\u4E91\u6D41\u7A0B</h3><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-49-17.png" alt="" loading="lazy"></p><h3 id="\u955C\u50CF\u751F\u6210\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u955C\u50CF\u751F\u6210\u65B9\u6CD5" aria-hidden="true">#</a> \u955C\u50CF\u751F\u6210\u65B9\u6CD5</h3><p>1\u3001\u524D\u9762\u7684Dockerfile</p><p>2\u3001\u4ECE\u5BB9\u5668\u4E2D\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u955C\u50CF</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code>docker commit [OPTIONS] \u5BB9\u5668ID [REPOSITORY[:TAG]]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-50-48.png" alt="" loading="lazy"></p><h3 id="\u5C06\u672C\u5730\u955C\u50CF\u63A8\u9001\u5230\u963F\u91CC\u4E91" tabindex="-1"><a class="header-anchor" href="#\u5C06\u672C\u5730\u955C\u50CF\u63A8\u9001\u5230\u963F\u91CC\u4E91" aria-hidden="true">#</a> \u5C06\u672C\u5730\u955C\u50CF\u63A8\u9001\u5230\u963F\u91CC\u4E91</h3><h4 id="_1\u3001\u672C\u5730\u955C\u50CF\u7D20\u6750\u539F\u578B" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u672C\u5730\u955C\u50CF\u7D20\u6750\u539F\u578B" aria-hidden="true">#</a> 1\u3001\u672C\u5730\u955C\u50CF\u7D20\u6750\u539F\u578B</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-51-52.png" alt="" loading="lazy"></p><p>2\u3001\u963F\u91CC\u4E91\u5F00\u53D1\u8005\u5E73\u53F0</p>`,70),$s={href:"https://promotion.aliyun.com/ntms/act/kubernetes.html",target:"_blank",rel:"noopener noreferrer"},Js=n("https://promotion.aliyun.com/ntms/act/kubernetes.html"),Xs=t(`<p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-53-02.png" alt="" loading="lazy"></p><h4 id="_3\u3001\u521B\u5EFA\u955C\u50CF\u4ED3\u5E93" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u521B\u5EFA\u955C\u50CF\u4ED3\u5E93" aria-hidden="true">#</a> 3\u3001\u521B\u5EFA\u955C\u50CF\u4ED3\u5E93</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-54-07.png" alt="" loading="lazy"></p><p>\u547D\u540D\u7A7A\u95F4</p><p>\u4ED3\u5E93\u540D\u79F0</p><h4 id="_4\u3001\u5C06\u955C\u50CF\u63A8\u9001\u5230registry" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u5C06\u955C\u50CF\u63A8\u9001\u5230registry" aria-hidden="true">#</a> 4\u3001\u5C06\u955C\u50CF\u63A8\u9001\u5230registry</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>$ sudo docker login <span class="token operator">--</span>username<span class="token operator">=</span>white3e registry<span class="token punctuation">.</span>cn<span class="token operator">-</span>shenzhen<span class="token punctuation">.</span>aliyuncs<span class="token punctuation">.</span>com
$ sudo docker tag <span class="token punctuation">[</span><span class="token class-name">ImageId</span><span class="token punctuation">]</span> registry<span class="token punctuation">.</span>cn<span class="token operator">-</span>shenzhen<span class="token punctuation">.</span>aliyuncs<span class="token punctuation">.</span>com<span class="token operator">/</span>ggccqq<span class="token operator">/</span>mycentos<span class="token operator">:</span><span class="token punctuation">[</span>\u955C\u50CF\u7248\u672C\u53F7<span class="token punctuation">]</span>
$ sudo docker push registry<span class="token punctuation">.</span>cn<span class="token operator">-</span>shenzhen<span class="token punctuation">.</span>aliyuncs<span class="token punctuation">.</span>com<span class="token operator">/</span>ggccqq<span class="token operator">/</span>mycentos<span class="token operator">:</span><span class="token punctuation">[</span>\u955C\u50CF\u7248\u672C\u53F7<span class="token punctuation">]</span>
\u5176\u4E2D<span class="token punctuation">[</span><span class="token class-name">ImageId</span><span class="token punctuation">]</span><span class="token punctuation">[</span>\u955C\u50CF\u7248\u672C<span class="token punctuation">]</span>\u81EA\u5DF1\u586B\u5199
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-56-10.png" alt="" loading="lazy"></p><h4 id="_5\u3001\u516C\u6709\u4E91\u53EF\u4EE5\u67E5\u8BE2\u5F97\u5230" tabindex="-1"><a class="header-anchor" href="#_5\u3001\u516C\u6709\u4E91\u53EF\u4EE5\u67E5\u8BE2\u5F97\u5230" aria-hidden="true">#</a> 5\u3001\u516C\u6709\u4E91\u53EF\u4EE5\u67E5\u8BE2\u5F97\u5230</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-56-53.png" alt="" loading="lazy"></p><h4 id="_6\u3001\u67E5\u770B\u8BE6\u60C5" tabindex="-1"><a class="header-anchor" href="#_6\u3001\u67E5\u770B\u8BE6\u60C5" aria-hidden="true">#</a> 6\u3001\u67E5\u770B\u8BE6\u60C5</h4><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-57-23.png" alt="" loading="lazy"></p><h3 id="\u5C06\u963F\u91CC\u4E91\u4E0A\u7684\u955C\u50CF\u4E0B\u8F7D\u5230\u672C\u5730" tabindex="-1"><a class="header-anchor" href="#\u5C06\u963F\u91CC\u4E91\u4E0A\u7684\u955C\u50CF\u4E0B\u8F7D\u5230\u672C\u5730" aria-hidden="true">#</a> \u5C06\u963F\u91CC\u4E91\u4E0A\u7684\u955C\u50CF\u4E0B\u8F7D\u5230\u672C\u5730</h3><p><img src="http://qnimg.gisfsde.com/work/Snipaste_2020-10-04_12-59-00.png" alt="" loading="lazy"></p>`,14);function Zs(Qs,sn){const a=o("ExternalLinkIcon");return l(),c("div",null,[r,s("blockquote",null,[d,s("p",null,[k,u,m,v,b,h,y,w,s("a",g,[f,e(a)]),_,x,q])]),T,s("p",null,[S,s("a",R,[D,e(a)])]),s("p",null,[I,s("a",A,[O,e(a)])]),z,s("p",null,[E,s("a",L,[N,e(a)])]),C,s("p",null,[U,P,F,B,H,s("strong",null,[M,s("a",G,[j,e(a)]),W]),Y]),K,s("p",null,[V,s("a",$,[J,e(a)]),X]),Z,s("p",null,[s("a",Q,[ss,e(a)])]),ns,as,es,s("p",null,[ts,s("a",ps,[os,e(a)])]),ls,cs,is,rs,ds,ks,s("ul",null,[s("li",null,[us,s("a",ms,[vs,e(a)]),bs])]),hs,s("p",null,[ys,s("a",ws,[gs,e(a)])]),fs,_s,xs,s("p",null,[s("a",qs,[Ts,e(a)])]),Ss,s("p",null,[Rs,Ds,Is,As,Os,zs,Es,s("a",Ls,[Ns,e(a)]),Cs]),Us,Ps,s("p",null,[Fs,Bs,Hs,Ms,Gs,s("strong",null,[js,s("a",Ws,[Ys,e(a)]),Ks])]),Vs,s("p",null,[s("a",$s,[Js,e(a)])]),Xs])}var en=p(i,[["render",Zs],["__file","Docker.html.vue"]]);export{en as default};
