import{_ as e}from"./plugin-vue_export-helper.21dcd24c.js";import{r as o,o as c,c as l,a as n,b as t,e as p,d as s}from"./app.95807bc9.js";const i={},u=p('<p>\u5173\u4E8EGIS</p><h1 id="mapbox" tabindex="-1"><a class="header-anchor" href="#mapbox" aria-hidden="true">#</a> MAPBOX</h1><h2 id="cgcs2000-mapbox-vue\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#cgcs2000-mapbox-vue\u4F7F\u7528" aria-hidden="true">#</a> cgcs2000 Mapbox VUE\u4F7F\u7528</h2><p>\u5B89\u88C5\uFF1Anpm i @cgcs2000/mapbox-gl</p><h2 id="mapbox\u6E90\u7801\u7F16\u8BD1\u3001\u5207\u7247\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#mapbox\u6E90\u7801\u7F16\u8BD1\u3001\u5207\u7247\u6D41\u7A0B" aria-hidden="true">#</a> MAPBOX\u6E90\u7801\u7F16\u8BD1\u3001\u5207\u7247\u6D41\u7A0B</h2><blockquote><p>\u51C6\u5907\uFF1A\u719F\u6089linux \u5B89\u88C5\u3001\u7F51\u7EDC\u3001\u6587\u4EF6\u7B49\u57FA\u672C\u64CD\u4F5C\uFF0CJS\u3001HTML\u7B49\u719F\u6089\uFF0CMapbox\u719F\u6089\uFF0CSQL\u719F\u6089\uFF0C\uFF0C\uFF0C</p><p>\u6CE8\u610F\u53C2\u6570\uFF1A\u540C\u4E00\u5957\u5750\u6807\u3001\u7ECF\u7EAC\u5EA6\u7B49</p></blockquote><blockquote><p>Ubuntu\u73AF\u5883\u51C6\u5907===\u300B\u5176\u4ED6\u683C\u5F0F\u6570\u636E===\u300Bshp\u6570\u636E===\u300BWindows\u5BFC\u5165postgresql\u6570\u636E\u5E93===\u300B\u901A\u8FC7ogr2ogr\u8F6C\u6362\u4E3Ageojson===\u300B\u901A\u8FC7tippecanoe\u5207\u7247\uFF08\u53C2\u6570\u81EA\u63A7\uFF09<mark>\u300B~~\u6570\u636E\u6253\u5305\uFF08\u4F20\u8F93\u66F4\u5FEB\uFF09~~windows\u5171\u4EAB\u6587\u4EF6\u5939</mark>=\u300B\u51C6\u5907mapbox2000 js css\u6587\u4EF6====\u300Bmapbox\u524D\u7AEF\u4EE3\u7801\u5BFC\u5165\u6570\u636E\u5E76\u663E\u793A====\u300B\u51C6\u5907\u56FE\u6807\u6570\u636E===\u300Bfilter\u5206\u7C7B\u56FE\u6807\u663E\u793A=====\u300B\u5206\u5C42\u6570\u636E\u663E\u793A====\u300B\u7EC6\u8282\u4F18\u5316\uFF08\u989C\u8272\uFF0C\u5149\uFF0C\u5B57\u4F53\u5927\u5C0F\uFF0C\u56FE\u7247\u5927\u5C0F\uFF09<mark><mark>\u300B\u52A0\u5165\u70B9\u51FB\u663E\u793A\u4F4D\u7F6E</mark></mark>\u300B\u5176\u4ED6\u70B9\u51FB\u529F\u80FD====\u300Bwfts\u5E95\u56FE\u5207\u6362==\u300B\u63A7\u4EF6\u52A0\u8F7D===\u300Bwfs\uFF0Cwms\u6570\u636E\u52A0\u8F7D\uFF08\u4E0D\u540C\u6570\u636E\u6E90\uFF09==\u300B\u5176\u4ED6\u6A21\u578B\u52A0\u5165</p></blockquote><h3 id="\u8BE6\u7EC6\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#\u8BE6\u7EC6\u6B65\u9AA4" aria-hidden="true">#</a> \u8BE6\u7EC6\u6B65\u9AA4</h3>',8),r={id:"\u73AF\u5883\u51C6\u5907",tabindex:"-1"},k=n("a",{class:"header-anchor",href:"#\u73AF\u5883\u51C6\u5907","aria-hidden":"true"},"#",-1),d=s(),v={href:"https://my.oschina.net/u/1464512/blog/1631972",target:"_blank",rel:"noopener noreferrer"},m=s("\u73AF\u5883\u51C6\u5907"),b=p('<h4 id="ubuntu\u865A\u62DF\u673A" tabindex="-1"><a class="header-anchor" href="#ubuntu\u865A\u62DF\u673A" aria-hidden="true">#</a> Ubuntu\u865A\u62DF\u673A\uFF1A</h4><p>\u7F51\u7EDC\u73AF\u5883\uFF0C\u6570\u636E\u5171\u4EAB\uFF0CPostgresql\uFF0CTippecanoe\uFF0CPROJ.4\u3001GEOS\u548CGDAL\uFF08ogr2ogr\uFF09\uFF0Cgcc\u3001g++\u3001make</p><h3 id="windows" tabindex="-1"><a class="header-anchor" href="#windows" aria-hidden="true">#</a> windows\uFF1A</h3><p>Postgresql,VMware,Ubuntu\u955C\u50CF\uFF08\u5B98\u65B9\u6307\u5B9A\uFF09\uFF0CNavicat\uFF08\u65B9\u4FBF\u67E5\u770B\u6570\u636E\u548C\u5EFA\u7ACB\u7A7A\u95F4\u6570\u636E\u5E93\uFF09\uFF0CVSCode</p><h3 id="\u8BE6\u7EC6\u6B65\u9AA4-1" tabindex="-1"><a class="header-anchor" href="#\u8BE6\u7EC6\u6B65\u9AA4-1" aria-hidden="true">#</a> \u8BE6\u7EC6\u6B65\u9AA4\uFF1A</h3>',5),g={id:"\u5B89\u88C5postgresql\u6570\u636E\u5E93-\u73AF\u5883\u914D\u7F6E-\u5BFC\u5165shp",tabindex:"-1"},y=n("a",{class:"header-anchor",href:"#\u5B89\u88C5postgresql\u6570\u636E\u5E93-\u73AF\u5883\u914D\u7F6E-\u5BFC\u5165shp","aria-hidden":"true"},"#",-1),h=s(),q={href:"https://blog.csdn.net/zhangshuanlai/article/details/84100165",target:"_blank",rel:"noopener noreferrer"},f=s("\u5B89\u88C5Postgresql\u6570\u636E\u5E93\uFF0C\u73AF\u5883\u914D\u7F6E\uFF0C\u5BFC\u5165shp"),w=n("h4",{id:"windows\u5B89\u88C5postgresql",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#windows\u5B89\u88C5postgresql","aria-hidden":"true"},"#"),s(" Windows\u5B89\u88C5Postgresql")],-1),_={href:"https://www.postgresql.org/",target:"_blank",rel:"noopener noreferrer"},E=s("\u4E0B\u8F7D"),D=p(`<p>\u73AF\u5883\u53D8\u91CF\u6DFB\u52A0</p><p>\u8BBE\u7F6E\u5916\u7F51\u8BBF\u95EE\uFF08pg_hba.conf\uFF09</p><div class="language-elm ext-elm line-numbers-mode"><pre class="language-elm"><code><span class="token operator">#</span> <span class="token constant">TYPE</span>  <span class="token constant">DATABASE</span>        <span class="token constant">USER</span>            <span class="token constant">ADDRESS</span>                 <span class="token constant">METHOD</span>

<span class="token operator">#</span> <span class="token constant">IPv4</span> <span class="token hvariable">local</span> <span class="token hvariable">connections</span><span class="token operator">:</span>
<span class="token hvariable">host</span>    <span class="token hvariable">all</span>             <span class="token hvariable">all</span>             <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token operator">/</span><span class="token number">32</span>            <span class="token hvariable">md5</span>
<span class="token hvariable">host</span>    <span class="token hvariable">all</span>             <span class="token hvariable">all</span>             <span class="token number">0.0</span><span class="token punctuation">.</span><span class="token number">0.0</span><span class="token operator">/</span><span class="token number">0</span>            <span class="token hvariable">md5</span>
<span class="token operator">#</span> <span class="token constant">IPv6</span> <span class="token hvariable">local</span> <span class="token hvariable">connections</span><span class="token operator">:</span>
<span class="token hvariable">host</span>    <span class="token hvariable">all</span>             <span class="token hvariable">all</span>             <span class="token operator">::</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">128</span>                 <span class="token hvariable">md5</span>
<span class="token operator">#</span> <span class="token constant">Allow</span> <span class="token hvariable">replication</span> <span class="token hvariable">connections</span> <span class="token hvariable">from</span> <span class="token hvariable">localhost</span><span class="token punctuation">,</span> <span class="token hvariable">by</span> <span class="token hvariable">a</span> <span class="token hvariable">user</span> <span class="token hvariable">with</span> <span class="token hvariable">the</span>
<span class="token operator">#</span> <span class="token hvariable">replication</span> <span class="token hvariable">privilege</span><span class="token punctuation">.</span>
<span class="token operator">#</span><span class="token hvariable">host</span>    <span class="token hvariable">replication</span>     <span class="token hvariable">postgres</span>        <span class="token number">127.0</span><span class="token punctuation">.</span><span class="token number">0.1</span><span class="token operator">/</span><span class="token number">32</span>            <span class="token hvariable">md5</span>
<span class="token operator">#</span><span class="token hvariable">host</span>    <span class="token hvariable">replication</span>     <span class="token hvariable">postgres</span>        <span class="token operator">::</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">128</span>                 <span class="token hvariable">md5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5EFA\u7ACB\u7A7A\u95F4\u6570\u636E\u5E93,\u76EE\u6807\u6570\u636E\u5E93\u6267\u884C\u4EE5\u4E0B\u8BED\u53E5</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> extension postgis<span class="token punctuation">;</span>
<span class="token keyword">create</span> extension postgis_topology<span class="token punctuation">;</span>
<span class="token keyword">create</span> extension fuzzystrmatch<span class="token punctuation">;</span>
<span class="token keyword">create</span> extension postgis_tiger_geocoder<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728SHP\u6587\u4EF6\u5939\u65B0\u5EFAtxt\u6587\u4EF6\uFF0C\u7C98\u8D34\u4EE5\u4E0B\u4EE3\u7801\uFF0C\u5BFC\u5165\u6570\u636E\u5230\u6570\u636E\u5E93\uFF0C\u76F8\u5173\u53C2\u6570\u5982\u4E0B\uFF0C\u6539\u6210bat\u540E\u7F00\uFF0C\u53CC\u51FB\u8FD0\u884C\u540E\u8F93\u5165\u5BC6\u7801\uFF0C\u663E\u793A\u7C7B\u4F3C insert 1\u6210\u529F</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>shp2pgsql <span class="token operator">-</span>s <span class="token number">4544</span> <span class="token operator">-</span>c <span class="token operator">-</span>W \u201CGBK\u201D DJQ5120812018<span class="token punctuation">.</span>shp <span class="token keyword">public</span><span class="token punctuation">.</span>DJQ5120812018 <span class="token operator">|</span> psql <span class="token operator">-</span>d shp2pgsqldemo <span class="token operator">-</span>U postgres <span class="token operator">-</span>W
\u793A\u4F8B  \uFF1Ashp2pgsql <span class="token operator">-</span>s <span class="token number">4544</span> <span class="token operator">-</span>c <span class="token operator">-</span>W <span class="token string">&quot;UTF-8&quot;</span> ADDRESS<span class="token punctuation">.</span>shp  <span class="token keyword">public</span><span class="token punctuation">.</span>rrrrr<span class="token operator">|</span> psql <span class="token operator">-</span>h <span class="token number">192.168</span><span class="token number">.22</span><span class="token number">.128</span> <span class="token operator">-</span>d postgres <span class="token operator">-</span>U postgres <span class="token operator">-</span>W
                               \u7F16\u7801\u683C\u5F0F  SHP\u6570\u636E    <span class="token keyword">public</span>\u4E0B\u7684rrrrr\u8868        \u5BFC\u5165\u6570\u636E\u5E93\u5730\u5740     \u6570\u636E\u5E93\u540D     \u7528\u6237\u540D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E5F\u53EF\u5206\u4E3A\u4E24\u4E2A\u6B65\u9AA4\uFF0C\u5148\u8F6C\u6362\u4E3Asql\u8BED\u53E5\uFF0C\u518D\u5BFC\u5165,\u6B65\u9AA4\u540C\u4E0A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>shp2pgsql -s 4544 -c -W \u201CGBK\u201D DJQ5120812018.shp&gt;DJQ5120812018.sql
psql -d shp2pgsqldemo -U postgres -f DJQ5120812018.sql -W
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u53EF\u80FD\u51FA\u73B0\u7684\u95EE\u9898-\u89E3\u51B3\u529E\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u53EF\u80FD\u51FA\u73B0\u7684\u95EE\u9898-\u89E3\u51B3\u529E\u6CD5" aria-hidden="true">#</a> \u53EF\u80FD\u51FA\u73B0\u7684\u95EE\u9898 \u89E3\u51B3\u529E\u6CD5</h4><p>\u4E71\u7801 \u66F4\u6539\u7F16\u7801</p><p>\u5BFC\u5165\u4E2D\u65AD\uFF0C\u6570\u636E\u5E93\u65E0\u6570\u636E \u6570\u636E\u8FC7\u5927</p><h4 id="\u53C2\u6570-\u542B\u4E49" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570-\u542B\u4E49" aria-hidden="true">#</a> \u53C2\u6570 \u542B\u4E49</h4><p>-s \u7A7A\u95F4\u53C2\u8003\u6807\u8BC6\u7B26\uFF08SRID\uFF09 -d \u91CD\u65B0\u5EFA\u7ACB\u8868\uFF0C\u5E76\u63D2\u5165\u6570\u636E</p><p>-a \u5728\u540C\u4E00\u4E2A\u8868\u4E2D\u589E\u52A0\u6570\u636E</p><p>-c \u5EFA\u7ACB\u65B0\u8868\uFF0C\u5E76\u63D2\u5165\u6570\u636E(\u7F3A\u7701)</p><p>-p \u53EA\u521B\u5EFA\u8868</p><p>-g \u6307\u5B9A\u8981\u521B\u5EFA\u7684\u8868\u7684\u7A7A\u95F4\u5B57\u6BB5\u540D\u79F0(\u5728\u8FFD\u52A0\u6570\u636E\u65F6\u6709\u7528) -D \u4F7F\u7528dump\u65B9\u5F0F\uFF0C\u6BD4\u7F3A\u7701\u751F\u6210sql\u7684\u901F\u5EA6\u5FEB -G \u4F7F\u7528\u7C7B\u578Bgeography -k \u4FDD\u6301\u6807\u8BC6\u7B26\uFF08\u5217\u540D\uFF0C\u6A21\u5F0F\uFF0C\u5C5E\u6027\uFF09\u5927\u5C0F\u5199\u3002 -i \u5C06\u6240\u6709\u6574\u578B\u90FD\u8F6C\u4E3A\u6807\u51C6\u768432-bit\u6574\u6570 -I \u5728\u51E0\u4F55\u5217\u4E0A\u5EFA\u7ACBGIST\u7D22\u5F15 -S \u751F\u6210\u7B80\u5355\u51E0\u4F55\uFF0C\u800C\u975EMULTI\u51E0\u4F55 -t \u6307\u5B9A\u51E0\u4F55\u7684\u7EF4\u5EA6 -w \u6307\u5B9A\u8F93\u51FA\u683C\u5F0F\u4E3AWKT -W \u8F93\u5165\u7684dbf\u6587\u4EF6\u7F16\u7801\u65B9\u5F0F -N \u6307\u5B9A\u51E0\u4F55\u4E3A\u7A7A\u65F6\u7684\u64CD\u4F5C -n \u53EA\u5BFC\u5165dbf\u6587\u4EF6 -T \u6307\u5B9A\u8868\u7684\u8868\u7A7A\u95F4 -X \u6307\u5B9A\u7D22\u5F15\u7684\u8868\u7A7A\u95F4 -? \u5E2E\u52A9</p>`,18),x=p(`<li><h4 id="\u901A\u8FC7ogr2ogr\u8F6C\u6362\u4E3Ageojson" tabindex="-1"><a class="header-anchor" href="#\u901A\u8FC7ogr2ogr\u8F6C\u6362\u4E3Ageojson" aria-hidden="true">#</a> \u901A\u8FC7ogr2ogr\u8F6C\u6362\u4E3Ageojson</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>ogr2ogr <span class="token operator">-</span>f <span class="token string">&quot;GeoJSON&quot;</span> <span class="token punctuation">.</span><span class="token operator">/</span>asstln<span class="token punctuation">.</span>json PG:<span class="token string">&quot;host=localhost dbname=postgres user=postgres password=111111&quot;</span> <span class="token operator">-</span><span class="token keyword">sql</span> <span class="token string">&quot;select * from asstln&quot;</span>
                       \u76EE\u6807\u6587\u4EF6\u540D          \u5BFC\u51FA\u6570\u636E\u5E93\u8FDE\u63A5\u4FE1\u606F                                                            \u5BFC\u51FA\u8868\u540D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li>`,1),j=p(`<h4 id="\u901A\u8FC7tippecanoe\u5207\u7247-\u53C2\u6570\u81EA\u63A7" tabindex="-1"><a class="header-anchor" href="#\u901A\u8FC7tippecanoe\u5207\u7247-\u53C2\u6570\u81EA\u63A7" aria-hidden="true">#</a> \u901A\u8FC7tippecanoe\u5207\u7247\uFF08\u53C2\u6570\u81EA\u63A7\uFF09</h4><p><strong>\u5355\u6570\u636E\u6E90</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>tippecanoe <span class="token operator">-</span>e tracenln <span class="token operator">-</span>pC <span class="token operator">-</span>Z0 <span class="token operator">-</span>z20 <span class="token operator">-</span>f tracenln<span class="token punctuation">.</span>json
              \u76EE\u6807\u6587\u4EF6\u5939     \u5207\u7247\u7B49\u7EA7\u7A7A\u503C   \u6E90\u6587\u4EF6\u540D
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5355\u5C42\u591A\u6570\u636E\u6E90\u5408\u5E76</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#where\u786E\u5B9A\u7EA7\u522B</span>
ogr2ogr <span class="token operator">-</span>f <span class="token string">&quot;GeoJSON&quot;</span> <span class="token punctuation">.</span><span class="token operator">/</span>veg_py<span class="token punctuation">.</span>json PG:<span class="token string">&quot;host=126.10.9.16 dbname=postgres user=postgres password=724111&quot;</span> <span class="token operator">-</span><span class="token keyword">sql</span> <span class="token string">&quot;select * from veg_py fscale=10&quot;</span> 
tippecanoe <span class="token operator">-</span>e tracenln <span class="token operator">-</span>pC <span class="token operator">-</span>Z0 <span class="token operator">-</span>z20 <span class="token operator">-</span>f tracenln1<span class="token punctuation">.</span>json tracenln2<span class="token punctuation">.</span>json tracenln3<span class="token punctuation">.</span>json
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),S={href:"https://www.yuque.com/geoway-vision/vision/tippecanoe",target:"_blank",rel:"noopener noreferrer"},F=s("\u53C2\u6570\u67E5\u770B"),C=n("li",null,[n("h4",{id:"\u6570\u636E\u6253\u5305-\u590D\u5236\u5230\u7F16\u7A0B\u7AEF-\u4F20\u8F93\u66F4\u5FEB-windows\u6587\u4EF6\u5171\u4EAB\u6587\u4EF6\u5939-\u6216tomcat-\u6216\u5728\u7EBF\u670D\u52A1\u5668\u4EE5\u4FBF\u6570\u636E\u8C03\u7528-\u6CE8\u610F\u89E3\u51B3\u89E6\u8DE8\u57DF\u8D44\u6E90\u8BBF\u95EE",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u6570\u636E\u6253\u5305-\u590D\u5236\u5230\u7F16\u7A0B\u7AEF-\u4F20\u8F93\u66F4\u5FEB-windows\u6587\u4EF6\u5171\u4EAB\u6587\u4EF6\u5939-\u6216tomcat-\u6216\u5728\u7EBF\u670D\u52A1\u5668\u4EE5\u4FBF\u6570\u636E\u8C03\u7528-\u6CE8\u610F\u89E3\u51B3\u89E6\u8DE8\u57DF\u8D44\u6E90\u8BBF\u95EE","aria-hidden":"true"},"#"),s(),n("s",null,"\u6570\u636E\u6253\u5305"),s(),n("s",null,"\u590D\u5236\u5230\u7F16\u7A0B\u7AEF\uFF08\u4F20\u8F93\u66F4\u5FEB\uFF09"),s(" windows\u6587\u4EF6\u5171\u4EAB\u6587\u4EF6\u5939\uFF0C\u6216Tomcat\uFF0C\u6216\u5728\u7EBF\u670D\u52A1\u5668\u4EE5\u4FBF\u6570\u636E\u8C03\u7528\uFF0C\u6CE8\u610F\u89E3\u51B3\u89E6\u8DE8\u57DF\u8D44\u6E90\u8BBF\u95EE")]),n("p",null,[n("img",{src:"http://qnimg.gisfsde.com/image-20210325142648372.png",alt:"image-20210325142648372",loading:"lazy"})])],-1),B=n("h4",{id:"\u51C6\u5907mapbox2000-js-css\u6587\u4EF6",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u51C6\u5907mapbox2000-js-css\u6587\u4EF6","aria-hidden":"true"},"#"),s(" \u51C6\u5907mapbox2000 js css\u6587\u4EF6")],-1),A={href:"https://blog.csdn.net/donglaoxie/article/details/104453761",target:"_blank",rel:"noopener noreferrer"},P=s("windows \u5B89\u88C5 git"),M={href:"https://blog.csdn.net/donglaoxie/article/details/104513190",target:"_blank",rel:"noopener noreferrer"},L=s("Node.JS \u5B89\u88C5\u8BF4\u660E"),T={href:"https://blog.csdn.net/donglaoxie/article/details/104520798",target:"_blank",rel:"noopener noreferrer"},G=s("Yarn\u5B89\u88C5\u3001\u914D\u7F6E\u3001\u955C\u50CF\u6E90\u4FEE\u6539"),I=p(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install --global yarn
yarn --version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,1),z={href:"https://blog.csdn.net/donglaoxie/article/details/104532608",target:"_blank",rel:"noopener noreferrer"},W=s("Node.js\u5B89\u88C5\u672C\u5730\u63D2\u4EF6\u6784\u5EFA\u5DE5\u5177node-gyp"),O=s(" GitHub Mapbox\u6E90\u7801\u5730\u5740\uFF1A"),R={href:"https://github.com/mapbox/mapbox-gl-js",target:"_blank",rel:"noopener noreferrer"},V=s("https://github.com/mapbox/mapbox-gl-js"),N=s(),J={href:"https://github.com/cgcs2000/tippecanoe",target:"_blank",rel:"noopener noreferrer"},Y=s("2000\u5750\u6807\u6E90\u7801"),U=s("\uFF0C"),$=n("h4",{id:"\u9879\u76EE\u7F16\u8BD1",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u9879\u76EE\u7F16\u8BD1","aria-hidden":"true"},"#"),s(" \u9879\u76EE\u7F16\u8BD1")],-1),X=n("ol",null,[n("li",null,[n("p",null,"yarn install")]),n("li",null,[n("p",null,"\u5B89\u88C5headless-gl\uFF0C\u5E76\u5C06node_modules/headless-gl/deps/windows/dll/x64/*.dll \u590D\u5236\u5230c:\\windows\\system32 npm install gl yarn run start-debug yarn run build-dev"),n("p",null,"\u51C6\u5907\u597Djs\u548Ccss\u6587\u4EF6")])],-1),H=p(`<li><h4 id="mapbox-\u524D\u7AEF\u4EE3\u7801\u5BFC\u5165\u5730\u56FE\u6570\u636E\u5E76\u663E\u793A" tabindex="-1"><a class="header-anchor" href="#mapbox-\u524D\u7AEF\u4EE3\u7801\u5BFC\u5165\u5730\u56FE\u6570\u636E\u5E76\u663E\u793A" aria-hidden="true">#</a> mapbox \u524D\u7AEF\u4EE3\u7801\u5BFC\u5165\u5730\u56FE\u6570\u636E\u5E76\u663E\u793A</h4></li><li><h4 id="_3d\u6A21\u578B" tabindex="-1"><a class="header-anchor" href="#_3d\u6A21\u578B" aria-hidden="true">#</a> 3D\u6A21\u578B</h4><p>\u9488\u5BF9\u5BF9\u5E94\u7684\u5EFA\u7B51\u6570\u636E\uFF0C\u8FDB\u884C\u5EFA\u7B51\u72693D\u663E\u793A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>	<span class="token literal-property property">paint</span><span class="token operator">:</span> <span class="token punctuation">{</span>
							<span class="token comment">// &#39;fill-color&#39;: &#39;red&#39;,</span>
							<span class="token comment">// &#39;fill-opacity&#39;: 1,</span>
							<span class="token string-property property">&#39;fill-extrusion-color&#39;</span><span class="token operator">:</span> <span class="token string">&#39;#f5f4ee&#39;</span><span class="token punctuation">,</span>
							<span class="token comment">// use an &#39;interpolate&#39; expression to add a smooth transition effect to the</span>
							<span class="token comment">// buildings as the user zooms in</span>
							<span class="token string-property property">&#39;fill-extrusion-height&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
								<span class="token string">&quot;interpolate&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;linear&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;zoom&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
								<span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
								<span class="token number">15.05</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;height&quot;</span><span class="token punctuation">]</span>
							<span class="token punctuation">]</span><span class="token punctuation">,</span>
							<span class="token string-property property">&#39;fill-extrusion-base&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
								<span class="token string">&quot;interpolate&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;linear&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;zoom&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
								<span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>
								<span class="token number">15.05</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;min_height&quot;</span><span class="token punctuation">]</span>
							<span class="token punctuation">]</span><span class="token punctuation">,</span>
							<span class="token string-property property">&#39;fill-extrusion-opacity&#39;</span><span class="token operator">:</span> <span class="token number">0.85</span>
						<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><h4 id="vscode-\u63D2\u4EF6\u670D\u52A1\u5668" tabindex="-1"><a class="header-anchor" href="#vscode-\u63D2\u4EF6\u670D\u52A1\u5668" aria-hidden="true">#</a> vscode \u63D2\u4EF6\u670D\u52A1\u5668</h4><p>\u63D2\u4EF6\u5B89\u88C5 Live Server</p></li>`,3),Q=n("h4",{id:"\u51C6\u5907\u56FE\u6807\u6570\u636E-pbf\u5B57\u4F53\u6570\u636E",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u51C6\u5907\u56FE\u6807\u6570\u636E-pbf\u5B57\u4F53\u6570\u636E","aria-hidden":"true"},"#"),s(" \u51C6\u5907\u56FE\u6807\u6570\u636E\uFF0CPBF\u5B57\u4F53\u6570\u636E")],-1),Z={href:"https://github.com/mapbox/spritezero",target:"_blank",rel:"noopener noreferrer"},K=s("https://github.com/mapbox/spritezero"),nn=n("p",null,"\u4ECE\u96F6\u751F\u6210\u56FE\u6807\u8D44\u6E90\u5DE5\u5177\uFF0C\u53EF\u7F51\u4E0A\u4E0B\u8F7D",-1),sn=n("p",null,[s("\u751F\u6210\u5982\u56FE\u5F62\u5F0F\u6587\u4EF6\uFF0C"),n("img",{src:"http://qnimg.gisfsde.com/image-20210322153503623.png",alt:"\u56FE\u8868\u6570\u636E",loading:"lazy"}),n("img",{src:"http://qnimg.gisfsde.com/image-20210322153604432.png",alt:"\u5B57\u4F53\u6570\u636E",loading:"lazy"})],-1),an=p(`<li><h4 id="filter-\u5206\u7C7B\u56FE\u6807\u663E\u793A" tabindex="-1"><a class="header-anchor" href="#filter-\u5206\u7C7B\u56FE\u6807\u663E\u793A" aria-hidden="true">#</a> filter \u5206\u7C7B\u56FE\u6807\u663E\u793A</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string-property property">&#39;filter&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
							<span class="token string">&#39;any&#39;</span><span class="token punctuation">,</span>
							<span class="token punctuation">[</span>
								<span class="token string">&#39;==&#39;</span><span class="token punctuation">,</span>
								<span class="token string">&#39;fcode&#39;</span><span class="token punctuation">,</span>
								<span class="token string">&#39;4206002500&#39;</span><span class="token comment">//2</span>

							<span class="token punctuation">]</span>
							<span class="token punctuation">,</span><span class="token punctuation">[</span>
								<span class="token string">&#39;==&#39;</span><span class="token punctuation">,</span>
								<span class="token string">&#39;fcode&#39;</span><span class="token punctuation">,</span>
								<span class="token string">&#39;4305010500&#39;</span><span class="token comment">//2</span>

							<span class="token punctuation">]</span>
						<span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><h4 id="\u5206\u5C42\u6570\u636E\u663E\u793A" tabindex="-1"><a class="header-anchor" href="#\u5206\u5C42\u6570\u636E\u663E\u793A" aria-hidden="true">#</a> \u5206\u5C42\u6570\u636E\u663E\u793A</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&quot;layers&quot;: []//\u4E2D\u8D8A\u9760\u524D\u7684\u5728\u5E95\u5C42
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><h4 id="\u7EC6\u8282\u4F18\u5316-\u989C\u8272-\u5149-\u5B57\u4F53\u5927\u5C0F-\u56FE\u7247\u5927\u5C0F" tabindex="-1"><a class="header-anchor" href="#\u7EC6\u8282\u4F18\u5316-\u989C\u8272-\u5149-\u5B57\u4F53\u5927\u5C0F-\u56FE\u7247\u5927\u5C0F" aria-hidden="true">#</a> \u7EC6\u8282\u4F18\u5316\uFF08\u989C\u8272\uFF0C\u5149\uFF0C\u5B57\u4F53\u5927\u5C0F\uFF0C\u56FE\u7247\u5927\u5C0F\uFF09</h4></li>`,3),tn=n("h4",{id:"\u63A7\u4EF6\u52A0\u8F7D",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u63A7\u4EF6\u52A0\u8F7D","aria-hidden":"true"},"#"),s(" \u63A7\u4EF6\u52A0\u8F7D")],-1),pn=n("p",null,[n("img",{src:"http://qnimg.gisfsde.com/image-20210322154135351.png",alt:"image-20210322154135351",loading:"lazy"})],-1),en={href:"https://iclient.supermap.io/examples/mapboxgl/examples.html#iServer-map",target:"_blank",rel:"noopener noreferrer"},on=s("Supermap\u67E5\u770B"),cn=p(`<li><h4 id="\u52A0\u5165\u70B9\u51FB\u663E\u793A\u76F8\u5173\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#\u52A0\u5165\u70B9\u51FB\u663E\u793A\u76F8\u5173\u4FE1\u606F" aria-hidden="true">#</a> \u52A0\u5165\u70B9\u51FB\u663E\u793A\u76F8\u5173\u4FE1\u606F</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//\u5F39\u51FA\u6846</span>

\u200B    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
\u200B      <span class="token keyword">var</span> features <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">queryRenderedFeatures</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>point<span class="token punctuation">,</span> <span class="token punctuation">{</span>
\u200B        layers<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;13&#39;</span><span class="token punctuation">]</span> <span class="token comment">// replace this with the id of the layer</span>
\u200B      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
\u200B      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>features<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
\u200B        <span class="token keyword">return</span><span class="token punctuation">;</span>
\u200B      <span class="token punctuation">}</span>
\u200B      <span class="token keyword">var</span> feature <span class="token operator">=</span> features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
\u200B      <span class="token keyword">var</span> popup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mapboxgl<span class="token punctuation">.</span>Popup</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">15</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
\u200B        <span class="token punctuation">.</span><span class="token function">setLngLat</span><span class="token punctuation">(</span>feature<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>coordinates<span class="token punctuation">)</span>
\u200B        <span class="token punctuation">.</span><span class="token function">setHTML</span><span class="token punctuation">(</span><span class="token string">&#39;\\&lt;h3&gt;&#39;</span> <span class="token operator">+</span> feature<span class="token punctuation">.</span>properties<span class="token punctuation">.</span>shortname <span class="token operator">+</span> <span class="token string">&#39;\\&lt;/h3&gt;\\&lt;p&gt;&#39;</span> <span class="token operator">+</span> feature<span class="token punctuation">.</span>properties<span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&#39;\\&lt;/p&gt;&#39;</span><span class="token punctuation">)</span>
\u200B        <span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
\u200B    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><h4 id="wfts-\u5E95\u56FE\u5207\u6362" tabindex="-1"><a class="header-anchor" href="#wfts-\u5E95\u56FE\u5207\u6362" aria-hidden="true">#</a> wfts \u5E95\u56FE\u5207\u6362</h4></li><li><h4 id="wfs-wms-\u6570\u636E\u52A0\u8F7D-\u4E0D\u540C\u6570\u636E\u6E90" tabindex="-1"><a class="header-anchor" href="#wfs-wms-\u6570\u636E\u52A0\u8F7D-\u4E0D\u540C\u6570\u636E\u6E90" aria-hidden="true">#</a> wfs\uFF0Cwms \u6570\u636E\u52A0\u8F7D\uFF08\u4E0D\u540C\u6570\u636E\u6E90\uFF09</h4></li><li><h4 id="\u5B9A\u4F4D" tabindex="-1"><a class="header-anchor" href="#\u5B9A\u4F4D" aria-hidden="true">#</a> \u5B9A\u4F4D</h4></li><li><h4 id="\u6570\u636E\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u67E5\u8BE2" aria-hidden="true">#</a> \u6570\u636E\u67E5\u8BE2</h4></li>`,5),ln=n("h4",{id:"\u6570\u636E\u53EF\u89C6\u5316",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u6570\u636E\u53EF\u89C6\u5316","aria-hidden":"true"},"#"),s(" \u6570\u636E\u53EF\u89C6\u5316")],-1),un=n("p",null,[n("img",{src:"http://qnimg.gisfsde.com/image-20210322154411490.png",alt:"image-20210322154411490",loading:"lazy"})],-1),rn={href:"https://iclient.supermap.io/examples/mapboxgl/examples.html#iServer-map",target:"_blank",rel:"noopener noreferrer"},kn=s("Supermap\u67E5\u770B"),dn=n("li",null,[n("h4",{id:"\u4F18\u5316",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u4F18\u5316","aria-hidden":"true"},"#"),s(" \u4F18\u5316")]),n("p",null,"\u7A97\u53E3\u6837\u5F0F\u4F18\u5316\uFF0C\u5F39\u51FA\u6846\u6837\u5F0F\u4F18\u5316\uFF0C\u5B57\u4F53\u7B49\u8C03\u8282")],-1),vn=p('<h3 id="\u4E00\u4E9B\u5C0F\u6280\u5DE7" tabindex="-1"><a class="header-anchor" href="#\u4E00\u4E9B\u5C0F\u6280\u5DE7" aria-hidden="true">#</a> \u4E00\u4E9B\u5C0F\u6280\u5DE7</h3><p>\u5F85\u66F4\u65B0</p><h3 id="mapbox\u6E90\u7801\u7F16\u8BD1" tabindex="-1"><a class="header-anchor" href="#mapbox\u6E90\u7801\u7F16\u8BD1" aria-hidden="true">#</a> Mapbox\u6E90\u7801\u7F16\u8BD1</h3><h3 id="\u73AF\u5883\u51C6\u5907-1" tabindex="-1"><a class="header-anchor" href="#\u73AF\u5883\u51C6\u5907-1" aria-hidden="true">#</a> \u73AF\u5883\u51C6\u5907</h3>',4),mn=n("strong",null,"GIT\u73AF\u5883\u642D\u5EFA\uFF1A",-1),bn=s(" \u8BE6\u7EC6\u70B9\u51FB\uFF1A"),gn={href:"https://blog.csdn.net/donglaoxie/article/details/104453761",target:"_blank",rel:"noopener noreferrer"},yn=s("\uFF08\u4E00\uFF09windows \u5B89\u88C5 git"),hn=n("strong",null,"Node.JS\u73AF\u5883\u642D\u5EFA\uFF1A",-1),qn=s(" \u8BE6\u7EC6\u70B9\u51FB\uFF1A"),fn={href:"https://blog.csdn.net/donglaoxie/article/details/104513190",target:"_blank",rel:"noopener noreferrer"},wn=s("\uFF08\u4E00\uFF09Node.JS \u5B89\u88C5\u8BF4\u660E"),_n=n("strong",null,"Yarn\u73AF\u5883\u642D\u5EFA\uFF1A",-1),En=s(" \u8BE6\u7EC6\u70B9\u51FB\uFF1A"),Dn={href:"https://blog.csdn.net/donglaoxie/article/details/104520798",target:"_blank",rel:"noopener noreferrer"},xn=s("\uFF08\u4E00\uFF09Yarn\u5B89\u88C5\u3001\u914D\u7F6E\u3001\u955C\u50CF\u6E90\u4FEE\u6539"),jn=p(`<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm install --global yarn
yarn --version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,1),Sn=n("strong",null,"Npm and node-gyp\u4F9D\u8D56\u5B89\u88C5",-1),Fn=s(" \u8BE6\u7EC6\u70B9\u51FB\uFF1A"),Cn={href:"https://blog.csdn.net/donglaoxie/article/details/104532608",target:"_blank",rel:"noopener noreferrer"},Bn=s("\uFF08\u4E8C\uFF09Node.js\u5B89\u88C5\u672C\u5730\u63D2\u4EF6\u6784\u5EFA\u5DE5\u5177node-gyp"),An=n("strong",null,"\u5176\u4ED6\u5730\u5740\uFF1A",-1),Pn=s(" GitHub Mapbox\u6E90\u7801\u5730\u5740\uFF1A"),Mn={href:"https://github.com/mapbox/mapbox-gl-js",target:"_blank",rel:"noopener noreferrer"},Ln=s("https://github.com/mapbox/mapbox-gl-js"),Tn=p('<h3 id="\u9879\u76EE\u7F16\u8BD1-1" tabindex="-1"><a class="header-anchor" href="#\u9879\u76EE\u7F16\u8BD1-1" aria-hidden="true">#</a> \u9879\u76EE\u7F16\u8BD1</h3><ol><li><p>yarn install</p></li><li><p>\u5B89\u88C5headless-gl\uFF0C\u5E76\u5C06node_modules/headless-gl/deps/windows/dll/x64/*.dll \u590D\u5236\u5230c:\\windows\\system32 npm install gl yarn run start-debug yarn run build-dev</p></li><li><p>debug/index.html\u4E2D\u4EE3\u7801\u6700\u4E0A\u65B9\u589E\u52A0token</p><p>&lt;script&gt; mapboxgl.accessToken=&#39;pk.eyJ1IjoibGltbiIsImEiOiJja2t1bG1na2IxZGU0MnZvNmlzY3FhZXM4In0.oQx4VguycOR4TK80Pyusmw&#39;; var\xA0map\xA0=\xA0window.map\xA0=\xA0new\xA0mapboxgl.Map({</p></li></ol><h3 id="mapbox\u4E13\u4E1A\u672F\u8BED" tabindex="-1"><a class="header-anchor" href="#mapbox\u4E13\u4E1A\u672F\u8BED" aria-hidden="true">#</a> MAPBOX\u4E13\u4E1A\u672F\u8BED</h3><p>\u77E2\u91CF\u74E6\u7247\uFF1A</p><p>\u6805\u683C\u74E6\u7247\uFF1A</p><h3 id="mapbox\u5B66\u4E60" tabindex="-1"><a class="header-anchor" href="#mapbox\u5B66\u4E60" aria-hidden="true">#</a> MAPBOX\u5B66\u4E60</h3>',6),Gn=s("\u4E2D\u6587\u6587\u6863\uFF1A"),In={href:"http://www.mapbox.cn/mapbox-gl-js/api/",target:"_blank",rel:"noopener noreferrer"},zn=s("http://www.mapbox.cn/mapbox-gl-js/api/"),Wn=p('<h3 id="styles-8" tabindex="-1"><a class="header-anchor" href="#styles-8" aria-hidden="true">#</a> Styles (8)</h3><p>\u4E3A\u5730\u56FE\u6DFB\u52A0\u751F\u6210\u7684\u56FE\u6807 \u4E3A\u5730\u56FE\u6DFB\u52A0\u52A8\u753B\u56FE\u6807 \u4E3A\u5730\u56FE\u751F\u6210\u53CA\u6DFB\u52A0\u7F3A\u5931\u7684\u56FE\u6807 \u4E3A\u5730\u56FE\u6DFB\u52A0\u56FE\u6807 \u4F7F\u7528\u81EA\u5B9A\u4E49\u6837\u5F0F\u5C55\u793A\u5730\u56FE \u663E\u793A\u536B\u661F\u5730\u56FE \u6539\u53D8\u4E00\u4E2A\u5730\u56FE\u7684\u6837\u5F0F \u663E\u793A\u4E00\u4E2A\u5730\u56FE</p><h3 id="layers-30" tabindex="-1"><a class="header-anchor" href="#layers-30" aria-hidden="true">#</a> Layers (30)</h3><p>\u75283D\u5F62\u5F0F\u5448\u73B0\u5EFA\u7B51\u7269 \u62C9\u4F38\u591A\u8FB9\u5F62\u4EE5\u7ED8\u52363D\u5BA4\u5185\u5730\u56FE \u6DFB\u52A03D\u6A21\u578B \u8C03\u6574\u56FE\u5C42\u4E0D\u900F\u660E\u5EA6 \u4E3A\u7EBF\u6DFB\u52A0\u52A8\u753B\u6548\u679C \u4E3A\u4E00\u7CFB\u5217\u56FE\u50CF\u6DFB\u52A0\u52A8\u753B\u6548\u679C \u4E3A\u70B9\u6DFB\u52A0\u52A8\u753B\u6548\u679C \u6309\u7167\u7F29\u653E\u7EA7\u522B\u6539\u53D8\u5EFA\u7B51\u989C\u8272 \u66F4\u6539\u6807\u6CE8\u7684\u5927\u5C0F\u5199 \u663E\u793A\u5177\u6709\u81EA\u5B9A\u4E49\u5C5E\u6027\u7684HTML\u805A\u7C7B \u521B\u5EFA\u6837\u5F0F\u805A\u7C7B \u4F7F\u7528\u6309\u94AE\u66F4\u6539\u56FE\u5C42\u989C\u8272 \u6DFB\u52A0\u81EA\u5B9A\u4E49\u6837\u5F0F\u56FE\u5C42 \u7ED9\u7EBF\u6DFB\u52A0\u6570\u636E\u9A71\u52A8\u5C5E\u6027\u7684\u6837\u5F0F\u3002 \u7ED9\u5706\u6DFB\u52A0\u6570\u636E\u9A71\u52A8\u5C5E\u6027\u7684\u6837\u5F0F \u663E\u793A\u591A\u79CD\u6587\u672C\u683C\u5F0F\u5E76\u8BBE\u7F6E\u5176\u6837\u5F0F \u4E3A\u591A\u8FB9\u5F62\u6DFB\u52A0\u56FE\u6848 \u5728\u6807\u7B7E\u4E0B\u6DFB\u52A0\u65B0\u56FE\u5C42 \u6DFB\u52A0 GeoJSON \u7EBF \u7ED8\u5236 GeoJSON \u70B9 \u6DFB\u52A0 GeoJSON \u591A\u8FB9\u5F62 \u521B\u5EFA\u70ED\u529B\u56FE\u56FE\u5C42 \u6DFB\u52A0\u6655\u6684 \u4F7F\u7528\u8868\u8FBE\u5F0F\u521B\u5EFA\u6E10\u53D8\u8272\u7EBF\u6761 \u8BBE\u7F6E\u6D77\u6D0B\u6DF1\u5EA6\u6570\u636E\u6837\u5F0F \u663E\u793A\u548C\u9690\u85CF\u56FE\u5C42 \u6539\u53D8\u884C\u653F\u8FB9\u754C\u4E16\u754C\u89C2 \u6839\u636E\u7F29\u653E\u7EA7\u522B\u66F4\u65B0\u7B49\u503C\u7EBF\u56FE\u5C42 \u53D8\u91CF\u6807\u7B7E\u4F4D\u7F6E \u53EF\u89C6\u5316\u4EBA\u53E3\u5BC6\u5EA6</p><h3 id="sources-9" tabindex="-1"><a class="header-anchor" href="#sources-9" aria-hidden="true">#</a> Sources (9)</h3><p>\u5C06\u672C\u5730JSON\u6570\u636E\u4E0E\u77E2\u91CF\u5207\u7247\u56FE\u5F62\u8FDE\u63A5 \u6DFB\u52A0\u5F71\u50CF \u6DFB\u52A0\u5B9E\u65F6\u6570\u636E \u66F4\u65B0\u5B9E\u65F6\u8981\u7D20 \u6DFB\u52A0\u6805\u683C\u5207\u7247\u6570\u636E\u6E90 \u6DFB\u52A0\u4E00\u4E2A\u7B2C\u4E09\u65B9\u77E2\u91CF\u5207\u7247\u6765\u6E90 \u6DFB\u52A0\u4E00\u4E2A\u77E2\u91CF\u56FE\u7247\u6570\u636E\u6E90 \u6DFB\u52A0\u4E00\u4E2A\u89C6\u9891 \u6DFB\u52A0\u4E00\u4E2A WMS \u6E90</p><h3 id="user-interaction-17" tabindex="-1"><a class="header-anchor" href="#user-interaction-17" aria-hidden="true">#</a> User interaction (17)</h3><p>\u57FA\u4E8E\u5468\u8FB9\u58F0\u97F3\u7ED93D\u5EFA\u7B51\u6DFB\u52A0\u52A8\u753B\u6548\u679C \u7981\u7528\u5730\u56FE\u65CB\u8F6C \u521B\u5EFA\u53EF\u62D6\u52A8\u7684\u70B9 \u521B\u5EFA\u53EF\u62D6\u52A8\u7684\u6807\u8BB0\uFF08Marker\uFF09 \u901A\u8FC7\u6587\u672C\u8F93\u5165\u7B5B\u9009\u7B26\u53F7 \u5728 map view \u4E2D\u7B5B\u9009\u8981\u7D20 \u901A\u8FC7\u5207\u6362\u5217\u8868\u7B5B\u9009\u7B26\u53F7 \u521B\u5EFA\u60AC\u505C\u6548\u679C \u663E\u793A\u975E\u4EA4\u4E92\u5F0F\u5730\u56FE \u66F4\u6539\u5730\u56FE\u7684\u8BED\u8A00 \u9AD8\u4EAE\u5305\u542B\u76F8\u4F3C\u6570\u636E\u7684\u90E8\u5206 \u4ECE\u70B9\u51FB\u70B9\u5468\u56F4\u9009\u62E9\u7279\u5F81 \u9650\u5236\u5730\u56FE\u5E73\u79FB\u5728\u67D0\u4E00\u533A\u57DF \u83B7\u53D6\u9F20\u6807\u4E0B\u70B9\u7684\u7279\u5F81 \u5207\u6362\u4EA4\u4E92 \u521B\u5EFA\u65F6\u95F4\u6ED1\u52A8\u6761 \u9AD8\u4EAE\u4E00\u4E2A\u9009\u62E9\u6846\u8303\u56F4\u5185\u7684\u7279\u5F81</p><h3 id="camera-11" tabindex="-1"><a class="header-anchor" href="#camera-11" aria-hidden="true">#</a> Camera (11)</h3><p>\u4F7F\u5730\u56FE\u76F8\u673A\u73AF\u7ED5\u4E00\u70B9\u8FD0\u52A8 \u4E3A\u8DEF\u7EBF\u4E2D\u7684\u70B9\u6DFB\u52A0\u52A8\u753B\u6548\u679C \u5C06\u5730\u56FE\u5C45\u4E2D\u4E8E\u88AB\u5355\u51FB\u7684\u7B26\u53F7\u4E0A \u7F13\u6162\u98DE\u81F3\u67D0\u4E2A\u4F4D\u7F6E \u5C06\u5730\u56FE\u7F29\u653E\u81F3\u8FB9\u754C\u6846\u5185 \u98DE\u81F3\u67D0\u4E00\u4F4D\u7F6E \u4F7F\u7528\u6E38\u620F\u5F0F\u63A7\u4EF6\u6D4F\u89C8\u5730\u56FE \u8DF3\u81F3\u4E00\u7CFB\u5217\u5730\u70B9 \u4EE5\u5E7B\u706F\u7247\u5F62\u5F0F\u64AD\u653E\u5730\u56FE\u4F4D\u7F6E\u3002 \u6839\u636E\u6EDA\u52A8\u4F4D\u7F6E\u98DE\u5230\u67D0\u5904 \u8BBE\u7F6E pitch \u548C bearing</p><h3 id="controls-and-overlays-16" tabindex="-1"><a class="header-anchor" href="#controls-and-overlays-16" aria-hidden="true">#</a> Controls and overlays (16)</h3><p>\u4E3A\u6807\u8BB0(marker)\u6DFB\u52A0\u52A8\u753B\u6548\u679C \u6539\u53D8\u6CE8\u91CA\u7684\u9ED8\u8BA4\u4F4D\u7F6E \u4F7F\u7528 Markers \u6DFB\u52A0\u81EA\u5B9A\u4E49\u56FE\u6807 \u7981\u7528\u6EDA\u8F6E\u7F29\u653E \u5168\u5C4F\u67E5\u770B\u5730\u56FE \u5B9A\u4F4D\u7528\u6237 \u5728\u4E0D\u540C\u5730\u56FE\u4E4B\u95F4\u6ED1\u52A8 \u663E\u793A\u9A7E\u9A76\u65B9\u5411 \u663E\u793A\u5DF2\u7ED8\u5236\u7684\u591A\u8FB9\u5F62\u533A\u57DF \u6DFB\u52A0\u5730\u7406\u7F16\u7801\u5668 \u5229\u7528\u5730\u70B9\u540D\u79F0\u6DFB\u52A0\u6807\u8BB0 \u70B9\u51FB\u65F6\u663E\u793A\u591A\u8FB9\u5F62\u4FE1\u606F \u60AC\u6D6E\u65F6\u663E\u793A\u5F39\u51FA\u7A97 \u70B9\u51FB\u65F6\u663E\u793A\u4E00\u4E2A\u5F39\u51FA\u7A97 \u663E\u793A\u4E00\u4E2A\u5F39\u51FA\u7A97 \u5C06\u5F39\u51FA\u7A97\u53E3\u9644\u52A0\u5230 marker \u5B9E\u4F8B</p><h3 id="geocoder-8" tabindex="-1"><a class="header-anchor" href="#geocoder-8" aria-hidden="true">#</a> Geocoder (8)</h3><p>\u4ECE\u5176\u4ED6\u6570\u636E\u6E90\u4E2D\u8865\u5145\u8FDB\u4E00\u6B65\u7684\u5730\u7406\u7F16\u7801\u67E5\u8BE2\u7ED3\u679C \u63A5\u6536\u8F93\u5165\u5750\u6807\u81F3\u5730\u7406\u7F16\u7801\u5668 \u4F7F\u7528\u5730\u7406\u7F16\u7801\u5668\u65F6\u91C7\u7528\u81EA\u5B9A\u4E49\u6E32\u67D3\u529F\u80FD \u5C06\u5730\u7406\u7F16\u7801\u7684\u7ED3\u679C\u9650\u5236\u5728\u6307\u5B9A\u5730\u533A\u8303\u56F4\u5185 \u5728\u4F7F\u7528\u5730\u7406\u7F16\u7801\u5668\u7684\u8FC7\u7A0B\u4E2D\u7ED3\u5408\u4F7F\u7528\u81EA\u5B9A\u4E49\u76F8\u673A\u52A8\u753B \u5728\u5730\u56FE\u4E0A\u6DFB\u52A0\u4F4D\u7F6E\u641C\u7D22\u6846 \u5C06\u5730\u7406\u7F16\u7801\u5668\u8FDB\u884C\u6307\u5B9A\u8BED\u8A00\u7684\u672C\u5730\u5316 \u5728Geocoder\u4EA7\u751F\u7ED3\u679C\u540E\u8BBE\u7F6E\u4E00\u4E2A\u70B9</p><h3 id="browser-support-1" tabindex="-1"><a class="header-anchor" href="#browser-support-1" aria-hidden="true">#</a> Browser support (1)</h3><p>\u68C0\u67E5\u6D4F\u89C8\u5668\u652F\u6301</p><h3 id="internationalization-support-2" tabindex="-1"><a class="header-anchor" href="#internationalization-support-2" aria-hidden="true">#</a> Internationalization support (2)</h3><p>\u4F7F\u7528\u672C\u5730\u751F\u6210\u7684\u8868\u610F\u6587\u5B57 \u4E3A\u4ECE\u53F3\u81F3\u5DE6\u4E66\u5199\u7684\u811A\u672C\u63D0\u4F9B\u652F\u6301</p>',18),On={id:"supermap",tabindex:"-1"},Rn=n("a",{class:"header-anchor",href:"#supermap","aria-hidden":"true"},"#",-1),Vn=s(),Nn={href:"https://iclient.supermap.io/examples/mapboxgl/examples.html#iServer-map",target:"_blank",rel:"noopener noreferrer"},Jn=s("SUPERMAP"),Yn=n("p",null,"\u4E00\u4E2Amapbox\u534E\u4E3D\u5916\u8863\u4E0E\u88C5\u5907",-1),Un=n("h1",{id:"cusium",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#cusium","aria-hidden":"true"},"#"),s(" Cusium")],-1),$n=n("blockquote",null,[n("p",null,"3D\u30012.5D\u30012D\u5730\u56FE\u5C55\u793A")],-1),Xn=n("h2",{id:"\u6E90\u7801\u89E3\u6790\u51C6\u5907",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u6E90\u7801\u89E3\u6790\u51C6\u5907","aria-hidden":"true"},"#"),s(" \u6E90\u7801\u89E3\u6790\u51C6\u5907")],-1),Hn={href:"https://cesium.com/learn/",target:"_blank",rel:"noopener noreferrer"},Qn=s("\u5B98\u7F51"),Zn={href:"http://cesium.xin/cesium/cn/Documentation1.72/index.html",target:"_blank",rel:"noopener noreferrer"},Kn=s("\u4E2D\u6587\u6587\u6863"),ns={href:"https://cesium.com/ion/?t=welcome",target:"_blank",rel:"noopener noreferrer"},ss=s("\u6CE8\u518C"),as=s("\u6E90\u7801\uFF1A"),ts={href:"https://cesium.com/learn/cesiumjs-learn/",target:"_blank",rel:"noopener noreferrer"},ps=s("\u4E0B\u8F7D"),es=p(`<p>\u73AF\u5883\uFF1Anode\u3001npm</p><p>\u4F7F\u7528\uFF1AVUE</p><p>\u8FD0\u884C\uFF1A\u65B9\u6CD5\u4E00\uFF1A</p><ol><li>\u89E3\u538B</li><li>\u6253\u5F00\u547D\u4EE4\u884C\uFF0C\u8FDB\u5165\u5F53\u524D\u76EE\u5F55</li><li>\u5B89\u88C5\u4F9D\u8D56\uFF0C\u8F93\u5165:cnpm install,\u7B49\u5F85\u5B89\u88C5\u5B8C\u6210\uFF0C\u7136\u540E\u8F93\u5165: node server.js</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>$ cd <span class="token punctuation">.</span><span class="token operator">/</span>Cesium<span class="token operator">-</span><span class="token number">1.40</span>
$ cnpm install  <span class="token operator">...</span>  Installed <span class="token number">37</span> packages  Linked <span class="token number">569</span> latest versions
$ npm start \u6216\u8005 node server<span class="token punctuation">.</span><span class="token function">js</span><span class="token punctuation">(</span>\u65B0\u7248\u672C\u662F node server<span class="token punctuation">.</span>cjs<span class="token punctuation">)</span>
Cesium development server running locally<span class="token punctuation">.</span>  Connect to http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8080</span><span class="token operator">/</span>\u590D\u5236
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u65B9\u6CD5\u4E8C\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>\u8FD9\u91CC\u5982\u679C\u4F7F\u7528 express\u53D1\u5E03\u9047\u5230\u95EE\u9898\uFF0C\u53EF\u4EE5\u4F7F\u7528 http<span class="token operator">-</span>server
$ npm install http<span class="token operator">-</span>server <span class="token operator">-</span>g
$ http<span class="token operator">-</span>server <span class="token operator">-</span>c<span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">(</span>\u5982\u679C\u53EA\u8F93\u5165http<span class="token operator">-</span>server\uFF0C\u66F4\u65B0\u4EE3\u7801\u540E\uFF0C\u9875\u9762\u4E0D\u4F1A\u540C\u6B65\u66F4\u65B0<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u65B9\u6CD5\u4E09\uFF1AVSCode \u63D2\u4EF6\u8FD0\u884C</p><h2 id="\u83B7\u53D6token" tabindex="-1"><a class="header-anchor" href="#\u83B7\u53D6token" aria-hidden="true">#</a> \u83B7\u53D6Token</h2><p><img src="http://qnimg.gisfsde.com/work/image-20220113093336025.png" alt="image-20220113093336025" loading="lazy"></p><p>\u4F7F\u7528</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    Cesium<span class="token punctuation">.</span>Ion<span class="token punctuation">.</span>defaultAccessToken <span class="token operator">=</span> <span class="token string">&#39;token&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u4E3B\u9875\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#\u4E3B\u9875\u8BF4\u660E" aria-hidden="true">#</a> \u4E3B\u9875\u8BF4\u660E</h2><hr><hr><h3 id="cesium-ion" tabindex="-1"><a class="header-anchor" href="#cesium-ion" aria-hidden="true">#</a> Cesium ion</h3><p>Cesium ion is your hub for discovering 3D content and tiling your own data for streaming. CesiumJS and ion work together to enable you to build world class 3D mapping applications.</p>`,17),os={href:"https://cesium.com/ion/signup/",target:"_blank",rel:"noopener noreferrer"},cs=s("Sign up for a free account"),ls=s(" to get your access token required for using ion's Bing Maps global imagery and Cesium World Terrain assets."),is=n("h3",{id:"local-links",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#local-links","aria-hidden":"true"},"#"),s(" Local links")],-1),us={href:"http://126.10.1.204:8081/Build/Documentation/index.html",target:"_blank",rel:"noopener noreferrer"},rs=s("Documentation"),ks=n("th",null,"The complete API documentation and reference.",-1),ds={href:"http://126.10.1.204:8081/Apps/HelloWorld.html",target:"_blank",rel:"noopener noreferrer"},vs=s("Hello World"),ms=n("td",null,"The simplest possible Cesium application.",-1),bs={href:"http://126.10.1.204:8081/Apps/CesiumViewer/index.html",target:"_blank",rel:"noopener noreferrer"},gs=s("Cesium Viewer"),ys=n("td",null,"A sample Cesium reference application which allows you to browse the globe and select from a variety of imagery and terrain layers as well as load CZML, GeoJSON, and other formats supported by Cesium.",-1),hs={href:"http://126.10.1.204:8081/Apps/Sandcastle/index.html",target:"_blank",rel:"noopener noreferrer"},qs=s("Sandcastle"),fs=n("td",null,"Cesium's live code editor and example gallery. Browse examples highlighting features of the Cesium API and edit and run them all in your web browser. Cesium applications created in Sandcastle can be saved and downloaded.",-1),ws={href:"http://126.10.1.204:8081/Specs/SpecRunner.html",target:"_blank",rel:"noopener noreferrer"},_s=s("Run tests"),Es=n("td",null,"Run Cesium's full suite of unit tests",-1),Ds=n("h3",{id:"external-links",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#external-links","aria-hidden":"true"},"#"),s(" External links")],-1),xs={href:"https://cesium.com/",target:"_blank",rel:"noopener noreferrer"},js=s("Cesium"),Ss=n("th",null,"Learn about the Cesium team and the Cesium ion platform",-1),Fs={href:"https://cesium.com/blog/",target:"_blank",rel:"noopener noreferrer"},Cs=s("Cesium Blog"),Bs=n("td",null,"Follow project news, developer tips, and posts about Cesium's innovative technology",-1),As={href:"https://cesium.com/learn/",target:"_blank",rel:"noopener noreferrer"},Ps=s("Tutorials"),Ms=n("td",null,"Step-by-step guides for learning to use CesiumJS",-1),Ls={href:"https://community.cesium.com/",target:"_blank",rel:"noopener noreferrer"},Ts=s("Community Forum"),Gs=n("td",null,"Questions and feedback welcome from all skill levels",-1),Is={href:"https://github.com/CesiumGS/cesium",target:"_blank",rel:"noopener noreferrer"},zs=s("GitHub"),Ws=n("td",null,"The official CesiumJS GitHub repository",-1),Os={href:"https://cesium.com/blog/categories/user-stories/",target:"_blank",rel:"noopener noreferrer"},Rs=s("User Stories"),Vs=n("td",null,"Demos and information about projects using CesiumJS",-1),Ns={href:"http://webglreport.com/",target:"_blank",rel:"noopener noreferrer"},Js=s("WebGL Report"),Ys=n("td",null,"Provides technical information about WebGL capabilities supported by your browser",-1),Us=p(`<hr><hr><h2 id="\u754C\u9762\u4ECB\u7ECD" tabindex="-1"><a class="header-anchor" href="#\u754C\u9762\u4ECB\u7ECD" aria-hidden="true">#</a> \u754C\u9762\u4ECB\u7ECD</h2><p><img src="http://qnimg.gisfsde.com/work/image-20220111165928042.png" alt="" loading="lazy"></p><h2 id="\u81EA\u9879\u76EE\u7F16\u5199" tabindex="-1"><a class="header-anchor" href="#\u81EA\u9879\u76EE\u7F16\u5199" aria-hidden="true">#</a> \u81EA\u9879\u76EE\u7F16\u5199</h2><p>\u73AF\u5883\uFF1AVUE2 \uFF0Ccesium 1.89</p><p>C:\\Users\\Administrator&gt;node -v v14.16.0</p><p>C:\\Users\\Administrator&gt;npm -v 6.14.11</p><h3 id="\u9879\u76EE\u521B\u5EFA" tabindex="-1"><a class="header-anchor" href="#\u9879\u76EE\u521B\u5EFA" aria-hidden="true">#</a> \u9879\u76EE\u521B\u5EFA</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>vue init webpack gislearn
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u5B89\u88C5cesium-1-89" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5cesium-1-89" aria-hidden="true">#</a> \u5B89\u88C5cesium 1.89</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm i cesium
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="\u4FEE\u6539webpack-prod-conf-js" tabindex="-1"><a class="header-anchor" href="#\u4FEE\u6539webpack-prod-conf-js" aria-hidden="true">#</a> \u4FEE\u6539webpack.prod.conf.js</h3><p>\u4FEE\u6539 --Cesium--\u6807\u8BB0\u5904</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&#39;use strict&#39;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> utils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./utils&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../config&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> baseWebpackConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.base.conf&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CopyWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;copy-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;extract-text-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> OptimizeCSSPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;optimize-css-assets-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> UglifyJsPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;uglifyjs-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u5B9A\u4E49\u8DEF\u5F84--Cesium--</span>
<span class="token keyword">const</span> cesiumSource <span class="token operator">=</span> <span class="token string">&#39;node_modules/cesium/Source&#39;</span>
<span class="token keyword">const</span> cesiumWorkers <span class="token operator">=</span> <span class="token string">&#39;../Build/Cesium/Workers&#39;</span>

<span class="token keyword">const</span> env <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;testing&#39;</span>
  <span class="token operator">?</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../config/test.env&#39;</span><span class="token punctuation">)</span>
  <span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../config/prod.env&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> webpackConfig <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseWebpackConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">styleLoaders</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">sourceMap</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>productionSourceMap<span class="token punctuation">,</span>
      <span class="token literal-property property">extract</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">usePostCSS</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>productionSourceMap <span class="token operator">?</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>devtool <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsRoot<span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;js/[name].[chunkhash].js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;js/[id].[chunkhash].js&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// \u6DFB\u52A0\u5982\u4E0B\u63D2\u4EF6--Cesium--</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> cesiumWorkers<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;Workers&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> <span class="token string">&#39;Assets&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;Assets&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> <span class="token string">&#39;Widgets&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;Widgets&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> <span class="token string">&#39;ThirdParty/Workers&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;ThirdParty/Workers&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// \u6CE8\u610F\u8FD9\u91CC\u548Cdev\u7684\u914D\u7F6E\u4E0D\u540C</span>
      <span class="token comment">// \u5B9A\u4E49Cesium\u4ECE\u54EA\u91CC\u52A0\u8F7D\u8D44\u6E90\uFF0C\u5982\u679C\u4F7F\u7528\u9ED8\u8BA4\u7684&#39;&#39;\uFF0C\u5374\u53D8\u6210\u4E86\u7EDD\u5BF9\u8DEF\u5F84\u4E86\uFF0C\u6240\u4EE5\u8FD9\u91CC\u4F7F\u7528&#39;./&#39;\uFF0C\u4F7F\u7528\u76F8\u5BF9\u8DEF\u5F84</span>
      <span class="token constant">CESIUM_BASE_URL</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">&#39;./&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// http://vuejs.github.io/vue-loader/en/workflow/production.html</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string-property property">&#39;p<wbr>rocess.env&#39;</span><span class="token operator">:</span> env
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">uglifyOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">warnings</span><span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token literal-property property">sourceMap</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>productionSourceMap<span class="token punctuation">,</span>
      <span class="token literal-property property">parallel</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// extract css into its own file</span>
    <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;css/[name].[contenthash].css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// Setting the following option to \`false\` will not extract CSS from codesplit chunks.</span>
      <span class="token comment">// Their CSS will instead be inserted dynamically with style-loader when the codesplit chunk has been loaded by webpack.</span>
      <span class="token comment">// It&#39;s currently set to \`true\` because we are seeing that sourcemaps are included in the codesplit bundle as well when it&#39;s \`false\`, </span>
      <span class="token comment">// increasing file size: https://github.com/vuejs-templates/webpack/issues/1110</span>
      <span class="token literal-property property">allChunks</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// Compress extracted CSS. We are using this plugin so that possible</span>
    <span class="token comment">// duplicated CSS from different components can be deduped.</span>
    <span class="token keyword">new</span> <span class="token class-name">OptimizeCSSPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">cssProcessorOptions</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>productionSourceMap
        <span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token literal-property property">safe</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">map</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">inline</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
        <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">safe</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// generate dist index.html with correct asset hash for caching.</span>
    <span class="token comment">// you can customize output by editing /index.html</span>
    <span class="token comment">// see https://github.com/ampedandwired/html-webpack-plugin</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;testing&#39;</span>
        <span class="token operator">?</span> <span class="token string">&#39;index.html&#39;</span>
        <span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>index<span class="token punctuation">,</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;index.html&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minify</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">removeComments</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">collapseWhitespace</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">removeAttributeQuotes</span><span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token comment">// more options:</span>
        <span class="token comment">// https://github.com/kangax/html-minifier#options-quick-reference</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// necessary to consistently work with multiple chunks via CommonsChunkPlugin</span>
      <span class="token literal-property property">chunksSortMode</span><span class="token operator">:</span> <span class="token string">&#39;dependency&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// keep module.id stable when vendor modules does not change</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HashedModuleIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// enable scope hoisting</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>ModuleConcatenationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// split vendor js into its own file</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;vendor&#39;</span><span class="token punctuation">,</span>
      <span class="token function">minChunks</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// any required modules inside node_modules are extracted to vendor</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
          module<span class="token punctuation">.</span>resource <span class="token operator">&amp;&amp;</span>
          <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span>resource<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
          module<span class="token punctuation">.</span>resource<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>
            path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../node_modules&#39;</span><span class="token punctuation">)</span>
          <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span>
        <span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// extract webpack runtime and module manifest to its own file in order to</span>
    <span class="token comment">// prevent vendor hash from being updated whenever app bundle is updated</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;manifest&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minChunks</span><span class="token operator">:</span> <span class="token number">Infinity</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// This instance extracts shared chunks from code splitted chunks and bundles them</span>
    <span class="token comment">// in a separate chunk, similar to the vendor chunk</span>
    <span class="token comment">// see: https://webpack.js.org/plugins/commons-chunk-plugin/#extra-async-commons-chunk</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;app&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">async</span><span class="token operator">:</span> <span class="token string">&#39;vendor-async&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minChunks</span><span class="token operator">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">// copy custom static assets</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../static&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">to</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsSubDirectory<span class="token punctuation">,</span>
        <span class="token literal-property property">ignore</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.*&#39;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>productionGzip<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> CompressionWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;compression-webpack-plugin&#39;</span><span class="token punctuation">)</span>

  webpackConfig<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">CompressionWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">asset</span><span class="token operator">:</span> <span class="token string">&#39;[path].gz[query]&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">algorithm</span><span class="token operator">:</span> <span class="token string">&#39;gzip&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>
        <span class="token string">&#39;\\\\.(&#39;</span> <span class="token operator">+</span>
        config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>productionGzipExtensions<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;|&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span>
        <span class="token string">&#39;)$&#39;</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
      <span class="token literal-property property">minRatio</span><span class="token operator">:</span> <span class="token number">0.8</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>bundleAnalyzerReport<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> BundleAnalyzerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-bundle-analyzer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>BundleAnalyzerPlugin
  webpackConfig<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">BundleAnalyzerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> webpackConfig

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="webpack-dev-conf-js" tabindex="-1"><a class="header-anchor" href="#webpack-dev-conf-js" aria-hidden="true">#</a> webpack.dev.conf.js</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&#39;use strict&#39;</span>
<span class="token keyword">const</span> utils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./utils&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../config&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> baseWebpackConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.base.conf&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CopyWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;copy-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> FriendlyErrorsPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;friendly-errors-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> portfinder <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;portfinder&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token constant">HOST</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">HOST</span>
<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">&amp;&amp;</span> <span class="token function">Number</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span><span class="token punctuation">)</span>
<span class="token comment">// \u5B9A\u4E49\u8DEF\u5F84\uFF1A--Cesium--</span>
<span class="token keyword">const</span> cesiumSource <span class="token operator">=</span> <span class="token string">&#39;node_modules/cesium/Source&#39;</span>
<span class="token keyword">const</span> cesiumWorkers <span class="token operator">=</span> <span class="token string">&#39;../Build/Cesium/Workers&#39;</span>

<span class="token keyword">const</span> devWebpackConfig <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>baseWebpackConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">styleLoaders</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">sourceMap</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>cssSourceMap<span class="token punctuation">,</span> <span class="token literal-property property">usePostCSS</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// cheap-module-eval-source-map is faster for development</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>devtool<span class="token punctuation">,</span>

  <span class="token comment">// these devServer options should be customized in /config/index.js</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">clientLogLevel</span><span class="token operator">:</span> <span class="token string">&#39;warning&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">rewrites</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> path<span class="token punctuation">.</span>posix<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>assetsPublicPath<span class="token punctuation">,</span> <span class="token string">&#39;index.html&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// since we use CopyWebpackPlugin.</span>
    <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token constant">HOST</span> <span class="token operator">||</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>host<span class="token punctuation">,</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token constant">PORT</span> <span class="token operator">||</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>port<span class="token punctuation">,</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>autoOpenBrowser<span class="token punctuation">,</span>
    <span class="token literal-property property">overlay</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>errorOverlay
      <span class="token operator">?</span> <span class="token punctuation">{</span> <span class="token literal-property property">warnings</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token literal-property property">errors</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
      <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>assetsPublicPath<span class="token punctuation">,</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>proxyTable<span class="token punctuation">,</span>
    <span class="token literal-property property">quiet</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// necessary for FriendlyErrorsPlugin</span>
    <span class="token literal-property property">watchOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">poll</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>poll<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// \u6DFB\u52A0\u5982\u4E0B\u63D2\u4EF6--Cesium--</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> cesiumWorkers<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;Workers&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> <span class="token string">&#39;Assets&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;Assets&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> <span class="token string">&#39;Widgets&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;Widgets&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> <span class="token string">&#39;ThirdParty/Workers&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;ThirdParty/Workers&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// Define relative base path in cesium for loading assets</span>
      <span class="token constant">CESIUM_BASE_URL</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>


    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token string-property property">&#39;p<wbr>rocess.env&#39;</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../config/dev.env&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>NamedModulesPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// HMR shows correct file names in console on update.</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>NoEmitOnErrorsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// https://github.com/ampedandwired/html-webpack-plugin</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;index.html&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;index.html&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// copy custom static assets</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">from</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../static&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">to</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>assetsSubDirectory<span class="token punctuation">,</span>
        <span class="token literal-property property">ignore</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.*&#39;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  portfinder<span class="token punctuation">.</span>basePort <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>port
  portfinder<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> port</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// publish the new Port, necessary for e2e tests</span>
      process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">=</span> port
      <span class="token comment">// add port to devServer config</span>
      devWebpackConfig<span class="token punctuation">.</span>devServer<span class="token punctuation">.</span>port <span class="token operator">=</span> port

      <span class="token comment">// Add FriendlyErrorsPlugin</span>
      devWebpackConfig<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FriendlyErrorsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">compilationSuccessInfo</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">messages</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Your application is running here: http://</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>devWebpackConfig<span class="token punctuation">.</span>devServer<span class="token punctuation">.</span>host<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">onErrors</span><span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>notifyOnErrors
          <span class="token operator">?</span> utils<span class="token punctuation">.</span><span class="token function">createNotifierCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token operator">:</span> <span class="token keyword">undefined</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

      <span class="token function">resolve</span><span class="token punctuation">(</span>devWebpackConfig<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="webpack-base-conf-js" tabindex="-1"><a class="header-anchor" href="#webpack-base-conf-js" aria-hidden="true">#</a> webpack.base.conf.js</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&#39;use strict&#39;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> utils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./utils&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../config&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> vueLoaderConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./vue-loader.conf&#39;</span><span class="token punctuation">)</span>
<span class="token comment">//\u5B9A\u4E49 Cesium \u6E90\u7801\u8DEF\u5F84  --Cesium--</span>
<span class="token keyword">const</span> cesiumSource <span class="token operator">=</span> <span class="token string">&#39;../node_modules/cesium/Source&#39;</span>
<span class="token keyword">const</span> cesiumWorkers <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>cesiumSource<span class="token punctuation">,</span> <span class="token string">&#39;Workers&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token parameter">dir</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;..&#39;</span><span class="token punctuation">,</span> dir<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">createLintingRule</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(js|vue)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;eslint-loader&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token string">&#39;pre&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">formatter</span><span class="token operator">:</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;eslint-friendly-formatter&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">emitWarning</span><span class="token operator">:</span> <span class="token operator">!</span>config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>showEslintErrorsInOverlay
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">context</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">app</span><span class="token operator">:</span> <span class="token string">&#39;./src/main.js&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// output: {</span>
  <span class="token comment">//   path: config.build.assetsRoot,</span>
  <span class="token comment">//   filename: &#39;[name].js&#39;,</span>
  <span class="token comment">//   publicPath: p<wbr>rocess.env.NODE_ENV === &#39;production&#39;</span>
  <span class="token comment">//     ? config.build.assetsPublicPath</span>
  <span class="token comment">//     : config.dev.assetsPublicPath</span>
  <span class="token comment">// },</span>

  <span class="token comment">// \u8BA9webpack\u6B63\u786E\u5904\u7406\u591A\u884C\u5B57\u7B26\u4E32\uFF0C\u5728output\u4E2D\u6DFB\u52A0sourcePrefix:&#39; &#39;--Cesium--</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsRoot<span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&#39;production&#39;</span>
      <span class="token operator">?</span> config<span class="token punctuation">.</span>build<span class="token punctuation">.</span>assetsPublicPath
      <span class="token operator">:</span> config<span class="token punctuation">.</span>dev<span class="token punctuation">.</span>assetsPublicPath<span class="token punctuation">,</span>
    <span class="token literal-property property">sourcePrefix</span><span class="token operator">:</span> <span class="token string">&#39; &#39;</span> <span class="token comment">//\u8BA9webpack\u6B63\u786E\u5904\u7406\u591A\u884C\u5B57\u7B26\u4E32</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// resolve: {</span>
  <span class="token comment">//   extensions: [&#39;.js&#39;, &#39;.vue&#39;, &#39;.json&#39;],</span>
  <span class="token comment">//   alias: {</span>
  <span class="token comment">//     &#39;vue$&#39;: &#39;vue/dist/vue.esm.js&#39;,</span>
  <span class="token comment">//     &#39;@&#39;: resolve(&#39;src&#39;),</span>
  <span class="token comment">//   }</span>
  <span class="token comment">// },</span>

  <span class="token comment">// \u9700\u8981\u5728resolve\u4E2D\u8BBE\u7F6Ecesium\u522B\u540D\uFF0C\u8FD9\u6837\u5728\u5F15\u5165\u7684\u65F6\u5019\u5C31\u53EF\u4EE5\u6839\u636E\u522B\u540D\u627E\u5230Cesium\u7684\u5305\u3002--Cesium--</span>
  <span class="token comment">// \uFF08\u6CE8\uFF1A\u4E5F\u53EF\u4EE5\u4E0D\u8BBE\u7F6E\u522B\u540D\uFF0C\u5BFC\u5305\u662F\u76F4\u63A5\u5BFC\u5165&#39;cesium/Source/Cesium.js&#39;\u5C31\u884C\u3002\u5176\u5B9E\u8BBE\u7F6E\u522B\u540D\u7684\u76EE\u7684\u5C31\u662F\u8BA9\u201C\u522B\u540D\u201D\u6307\u5411/ node_modules / cesium / Source\u76EE\u5F55\uFF09</span>
  <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.vue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.json&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;vue$&#39;</span><span class="token operator">:</span> <span class="token string">&#39;vue/dist/vue.esm.js&#39;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&#39;@&#39;</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">cesium</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> cesiumSource<span class="token punctuation">)</span> <span class="token comment">//\u8BBE\u7F6Ecesium\u522B\u540D</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u89E3\u51B3\u62A5\u9519 1.87\u7248\u672C\u65E0\u6548\uFF0C\u53EA\u80FD\u6682\u65F6\u9000\u7248\u672C--Cesium--</span>
    <span class="token comment">// npm install @open-wc/webpack-import-meta-loader --save-dev</span>
    <span class="token comment">//  error  in ./node_modules/cesium/Source/ThirdParty/zip.js</span>
    <span class="token comment">// Module parse failed: Unexpected token(6400:57)</span>
    <span class="token comment">// You may need an appropriate loader to handle this file type.</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;@open-wc/webpack-import-meta-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// \u521B\u5EFA\u5DE5\u7A0B\u5E08\u4F1A\u9009\u62E9 ESLint \u4EE3\u7801\u6821\u9A8C</span>
      <span class="token comment">//  Use ESLint to lint your code? Yes</span>
      <span class="token comment">// ...(config.dev.useEslint ? [createLintingRule()] : []),</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;vue-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> vueLoaderConfig
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;node_modules/webpack-dev-server/client&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(png|jpe?g|gif|svg)(\\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;img/[name].[hash:7].[ext]&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(mp4|webm|ogg|mp3|wav|flac|aac)(\\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;media/[name].[hash:7].[ext]&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(woff2?|eot|ttf|otf)(\\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
          <span class="token literal-property property">name</span><span class="token operator">:</span> utils<span class="token punctuation">.</span><span class="token function">assetsPath</span><span class="token punctuation">(</span><span class="token string">&#39;fonts/[name].[hash:7].[ext]&#39;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">unknownContextCritical</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//\u963B\u6B62\u4F9D\u8D56\u8B66\u544A--Cesium--</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// prevent webpack from injecting useless setImmediate polyfill because Vue</span>
    <span class="token comment">// source contains it (although only uses it if it&#39;s native).</span>
    <span class="token literal-property property">setImmediate</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">// prevent webpack from injecting mocks to Node native modules</span>
    <span class="token comment">// that does not make sense for the client</span>
    <span class="token literal-property property">dgram</span><span class="token operator">:</span> <span class="token string">&#39;empty&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">fs</span><span class="token operator">:</span> <span class="token string">&#39;empty&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">net</span><span class="token operator">:</span> <span class="token string">&#39;empty&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">tls</span><span class="token operator">:</span> <span class="token string">&#39;empty&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">child_process</span><span class="token operator">:</span> <span class="token string">&#39;empty&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u521B\u5EFA\u5730\u56FE\u7EC4\u4EF6-src-view-earth-vue" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u5730\u56FE\u7EC4\u4EF6-src-view-earth-vue" aria-hidden="true">#</a> \u521B\u5EFA\u5730\u56FE\u7EC4\u4EF6 src\\view\\earth.vue</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cesiumContainer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>credit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
 
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// \u8FD9\u91CC\u4E0D\u80FD\u4F7F\u7528 import Cesium from &#39;cesium/Cesium&#39; \u5BFC\u5165\u6A21\u5757\uFF0C\u56E0\u4E3ACesium 1.63 \u7248\u672C\u4EE5\u540E\u4F7F\u7528\u7684\u662FES6\u3002\u5E94\u8BE5\u4F7F\u7528\u4E00\u4E0B\u65B9\u5F0F</span>
<span class="token comment">// import { Viewer } from &quot;cesium/Cesium&quot;;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Cesium <span class="token keyword">from</span> <span class="token string">&quot;cesium/Cesium&quot;</span><span class="token punctuation">;</span> <span class="token comment">//\u6B63\u786E</span>
<span class="token keyword">import</span> <span class="token string">&quot;cesium/Widgets/widgets.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;earth&quot;</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// let viewer = new Viewer(&quot;cesiumContainer&quot;);</span>
    <span class="token comment">// 1. Geocoder : \u67E5\u627E\u4F4D\u7F6E\u5DE5\u5177\uFF0C\u67E5\u627E\u5230\u4E4B\u540E\u4F1A\u5C06\u955C\u5934\u5BF9\u51C6\u627E\u5230\u7684\u5730\u5740\uFF0C\u9ED8\u8BA4\u4F7F\u7528bing\u5730\u56FE</span>
    <span class="token comment">// 2. Home Button :\u89C6\u89D2\u8FD4\u56DE\u521D\u59CB\u4F4D\u7F6E.</span>
    <span class="token comment">// 3. Scene Mode Picker : \u9009\u62E9\u89C6\u89D2\u7684\u6A21\u5F0F\uFF0C\u6709\u4E09\u79CD\uFF1A3D\uFF0C2D\uFF0C\u54E5\u4F26\u5E03\u89C6\u56FE(CV)</span>
    <span class="token comment">// 4. Base Layer Picker : \u56FE\u5C42\u9009\u62E9\u5668\uFF0C\u9009\u62E9\u8981\u663E\u793A\u7684\u5730\u56FE\u670D\u52A1\u548C\u5730\u5F62\u670D\u52A1.</span>
    <span class="token comment">// 5. Navigation Help Button :\u5BFC\u822A\u5E2E\u52A9\u6309\u94AE\uFF0C\u663E\u793A\u9ED8\u8BA4\u7684\u5730\u56FE\u63A7\u5236\u5E2E\u52A9.</span>
    <span class="token comment">// 6. Animation : \u52A8\u753B\u5668\u4EF6\uFF0C\u63A7\u5236\u89C6\u56FE\u52A8\u753B\u7684\u64AD\u653E\u901F\u5EA6.</span>
    <span class="token comment">// 7. Timeline :\u65F6\u95F4\u7EBF,\u6307\u793A\u5F53\u524D\u65F6\u95F4\uFF0C\u5E76\u5141\u8BB8\u7528\u6237\u8DF3\u5230\u7279\u5B9A\u7684\u65F6\u95F4.</span>
    <span class="token comment">// 8. Credits Display :\u7248\u6743\u663E\u793A\uFF0C\u663E\u793A\u6570\u636E\u5F52\u5C5E\uFF0C\u5FC5\u9009</span>
    <span class="token comment">// 9. Fullscreen Button :\u5168\u5C4F\u6309\u94AE.</span>
    Cesium<span class="token punctuation">.</span>Ion<span class="token punctuation">.</span>defaultAccessToken <span class="token operator">=</span><span class="token string">&quot;\u81EA\u5DF1\u7684token&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token comment">// geocoder: false,</span>
      <span class="token comment">// homeButton: false,</span>
      <span class="token comment">// sceneModePicker: false,</span>
      <span class="token comment">// baseLayerPicker: false,</span>
      <span class="token comment">// navigationHelpButton: false,</span>
      <span class="token comment">// animation: false,</span>
      <span class="token literal-property property">creditContainer</span><span class="token operator">:</span> <span class="token string">&quot;credit&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">// timeline: false,</span>
      <span class="token comment">// fullscreenButton: false,</span>
      <span class="token comment">// vrButton: false,</span>
      <span class="token comment">// skyBox : new Cesium.SkyBox({</span>
      <span class="token comment">//     sources : {</span>
      <span class="token comment">//     positiveX : &#39;stars/TychoSkymapII.t3_08192x04096_80_px.jpg&#39;,</span>
      <span class="token comment">//     negativeX : &#39;stars/TychoSkymapII.t3_08192x04096_80_mx.jpg&#39;,</span>
      <span class="token comment">//     positiveY : &#39;stars/TychoSkymapII.t3_08192x04096_80_py.jpg&#39;,</span>
      <span class="token comment">//     negativeY : &#39;stars/TychoSkymapII.t3_08192x04096_80_my.jpg&#39;,</span>
      <span class="token comment">//     positiveZ : &#39;stars/TychoSkymapII.t3_08192x04096_80_pz.jpg&#39;,</span>
      <span class="token comment">//     negativeZ : &#39;stars/TychoSkymapII.t3_08192x04096_80_mz.jpg&#39;</span>
      <span class="token comment">//     }</span>
      <span class="token comment">// })</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u663E\u793A\u5E27\u901F(FPS)</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>debugShowFramesPerSecond <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token comment">// \u7ED8\u5236\u5F62\u72B6</span>
    <span class="token comment">// \u65B9\u5F0F\u4E00\uFF1A</span>
    <span class="token keyword">var</span> redBox <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Red box with black outline&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">107.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">box</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">dimensions</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">400000.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">material</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLUE</span><span class="token punctuation">.</span><span class="token function">withAlpha</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">outline</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">outlineColor</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLACK</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    viewer<span class="token punctuation">.</span><span class="token function">zoomTo</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u65B9\u5F0F\u4E8C\uFF1A</span>
    <span class="token keyword">var</span> czml <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;document&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;box&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;shape2&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Red box with black outline&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">cartographicDegrees</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">107.0</span><span class="token punctuation">,</span> <span class="token number">50.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">box</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">dimensions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">cartesian</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">400000.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">material</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">solidColor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">rgba</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">outline</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">outlineColor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">rgba</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// \u91CD\u590D\u521B\u5EFAViewer\u4F1A\u6DFB\u52A0\u591A\u4E2A\u7A97\u53E3</span>
    <span class="token comment">// var viewer = new Cesium.Viewer(&quot;cesiumContainer&quot;);</span>
    <span class="token keyword">var</span> dataSourcePromise <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>CzmlDataSource<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>czml<span class="token punctuation">)</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>dataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dataSourcePromise<span class="token punctuation">)</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span><span class="token function">zoomTo</span><span class="token punctuation">(</span>dataSourcePromise<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
 
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.container</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#cesiumContainer</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* \u4E0D\u5360\u636E\u7A7A\u95F4\uFF0C\u65E0\u6CD5\u70B9\u51FB\uFF0C\u53F3\u4E0A\u89D2\u6309\u94AE\u7EC4\uFF0C\u5DE6\u4E0B\u89D2\u52A8\u753B\u63A7\u4EF6 \uFF0C\u65F6\u95F4\u7EBF\uFF0Clogo\u4FE1\u606F*/</span>
<span class="token comment">/* .cesium-viewer-toolbar,
.cesium-viewer-animationContainer,
.cesium-viewer-timelineContainer,
.cesium-viewer-bottom {
  display: none;
} */</span>
<span class="token comment">/* \u5168\u5C4F\u6309\u94AE */</span>
<span class="token comment">/* .cesium-viewer-fullscreenContainer  {
  position: absolute;
  top: -999em;
} */</span>

<span class="token comment">/* \u6CE8\uFF1A\u5168\u5C4F\u6309\u94AE\u4E0D\u80FD\u901A\u8FC7display:none\u7684\u65B9\u5F0F\u6765\u8FBE\u5230\u9690\u85CF\u7684\u76EE\u7684\uFF0C\u8FD9\u662F\u56E0\u4E3A\u751F\u6210\u7684\u6309\u94AE\u63A7\u4EF6\u7684\u884C\u5185\u6837\u5F0F\u8BBE\u7F6E\u4E86display\u5C5E\u6027\uFF0C\u4F1A\u8986\u76D6\u5F15\u5165\u7684css\u5C5E\u6027

\\&lt;div class=&quot;cesium-viewer-fullscreenContainer&quot; style=&quot;display: block;&quot;&gt;...\\&lt;/div&gt; */</span>
\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6DFB\u52A0\u8DEF\u7531-src-router-index-js" tabindex="-1"><a class="header-anchor" href="#\u6DFB\u52A0\u8DEF\u7531-src-router-index-js" aria-hidden="true">#</a> \u6DFB\u52A0\u8DEF\u7531 src\\router\\index.js</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>import Vue from &#39;vue&#39;
import Router from &#39;vue-router&#39;
import HelloWorld from &#39;@/components/HelloWorld&#39;
import earth from &#39;@/view/earth&#39;

Vue.use(Router)

export default new Router({
  routes: [
    {
      path: &#39;/&#39;,
      name: &#39;HelloWorld&#39;,
      component: HelloWorld
    },
    {
      path: &#39;/earth&#39;,
      name: &#39;earth&#39;,
      component: earth
    }
  ]
})

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8FD0\u884C\u62A5\u95191" tabindex="-1"><a class="header-anchor" href="#\u8FD0\u884C\u62A5\u95191" aria-hidden="true">#</a> \u8FD0\u884C\u62A5\u95191</h3><p>error in ./node_modules/cesium/Source/ThirdParty/zip.js</p><h4 id="\u89E3\u51B3" tabindex="-1"><a class="header-anchor" href="#\u89E3\u51B3" aria-hidden="true">#</a> \u89E3\u51B3</h4><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>npm i @open-wc/webpack-import-meta-loader -S
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="vue-config-js-\u6216-webpack-base-conf-js\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#vue-config-js-\u6216-webpack-base-conf-js\u914D\u7F6E" aria-hidden="true">#</a> vue.config.js \u6216 webpack.base.conf.js\u914D\u7F6E</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                    <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;@open-wc/webpack-import-meta-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8FD0\u884C\u62A5\u95192" tabindex="-1"><a class="header-anchor" href="#\u8FD0\u884C\u62A5\u95192" aria-hidden="true">#</a> \u8FD0\u884C\u62A5\u95192</h3><p>error in (webpack)/hot/dev-server.js Module build failed: TypeError: Cannot read property &#39;length&#39; of undefined at Object.module.exports (F:\\demo\\cesiumtest-master\\node_modules@open-wc\\webpack-import-meta-loader\\webpack-import-meta-loader.js:20:63)</p><h4 id="\u89E3\u51B3-1" tabindex="-1"><a class="header-anchor" href="#\u89E3\u51B3-1" aria-hidden="true">#</a> \u89E3\u51B3</h4><p>\u70B9\u51FB\u62A5\u9519\u8DF3\u8F6C\u5230\u5BF9\u5E94\u6587\u4EF6\u884C\uFF0C\u5C06\u5176\u6CE8\u91CA\u5373\u53EF</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> relativePath <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>
    <span class="token comment">// this.context.indexOf(this.rootContext) + this.rootContext.length + 1,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>resource<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>sep<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8FD0\u884C" tabindex="-1"><a class="header-anchor" href="#\u8FD0\u884C" aria-hidden="true">#</a> \u8FD0\u884C</h3><p>npm run dev</p>`,36),$s={href:"http://localhost:8081/#/earth",target:"_blank",rel:"noopener noreferrer"},Xs=s("http://localhost:8081/#/earth"),Hs=n("p",null,[n("img",{src:"http://qnimg.gisfsde.com/work/image-20220111165928042.png",alt:"",loading:"lazy"})],-1),Qs=n("p",null,"npm run build \u6253\u5305\u6210\u529F",-1),Zs=n("h3",{id:"\u90E8\u7F72dist",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u90E8\u7F72dist","aria-hidden":"true"},"#"),s(" \u90E8\u7F72dist")],-1),Ks={href:"http://xx.xx.xx.11:8084/#/earth",target:"_blank",rel:"noopener noreferrer"},na=s("http://xx.xx.xx.11:8084/#/earth"),sa=s(" \u6210\u529F"),aa=p('<h2 id="\u529F\u80FD\u5F00\u53D1" tabindex="-1"><a class="header-anchor" href="#\u529F\u80FD\u5F00\u53D1" aria-hidden="true">#</a> \u529F\u80FD\u5F00\u53D1</h2><h3 id="\u63A7\u4EF6\u663E\u793A\u63A7\u5236" tabindex="-1"><a class="header-anchor" href="#\u63A7\u4EF6\u663E\u793A\u63A7\u5236" aria-hidden="true">#</a> \u63A7\u4EF6\u663E\u793A\u63A7\u5236</h3><ol><li>Geocoder : \u67E5\u627E\u4F4D\u7F6E\u5DE5\u5177\uFF0C\u67E5\u627E\u5230\u4E4B\u540E\u4F1A\u5C06\u955C\u5934\u5BF9\u51C6\u627E\u5230\u7684\u5730\u5740\uFF0C\u9ED8\u8BA4\u4F7F\u7528bing\u5730\u56FE</li><li>Home Button :\u89C6\u89D2\u8FD4\u56DE\u521D\u59CB\u4F4D\u7F6E.</li><li>Scene Mode Picker : \u9009\u62E9\u89C6\u89D2\u7684\u6A21\u5F0F\uFF0C\u6709\u4E09\u79CD\uFF1A3D\uFF0C2D\uFF0C\u54E5\u4F26\u5E03\u89C6\u56FE(CV)</li><li>Base Layer Picker : \u56FE\u5C42\u9009\u62E9\u5668\uFF0C\u9009\u62E9\u8981\u663E\u793A\u7684\u5730\u56FE\u670D\u52A1\u548C\u5730\u5F62\u670D\u52A1.</li><li>Navigation Help Button :\u5BFC\u822A\u5E2E\u52A9\u6309\u94AE\uFF0C\u663E\u793A\u9ED8\u8BA4\u7684\u5730\u56FE\u63A7\u5236\u5E2E\u52A9.</li><li>Animation : \u52A8\u753B\u5668\u4EF6\uFF0C\u63A7\u5236\u89C6\u56FE\u52A8\u753B\u7684\u64AD\u653E\u901F\u5EA6.</li><li>Timeline :\u65F6\u95F4\u7EBF,\u6307\u793A\u5F53\u524D\u65F6\u95F4\uFF0C\u5E76\u5141\u8BB8\u7528\u6237\u8DF3\u5230\u7279\u5B9A\u7684\u65F6\u95F4.</li><li>Credits Display :\u7248\u6743\u663E\u793A\uFF0C\u663E\u793A\u6570\u636E\u5F52\u5C5E\uFF0C\u5FC5\u9009</li><li>Fullscreen Button :\u5168\u5C4F\u6309\u94AE.</li></ol><h4 id="js\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#js\u65B9\u5F0F" aria-hidden="true">#</a> js\u65B9\u5F0F</h4>',4),ta={href:"https://cesium.com/learn/cesiumjs/ref-doc/Viewer.html?classFilter=viewer",target:"_blank",rel:"noopener noreferrer"},pa=s("\u5B98\u65B9\u6587\u6863"),ea=p(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">var</span> viewer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Viewer</span><span class="token punctuation">(</span><span class="token string">&quot;cesiumContainer&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">geocoder</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">homeButton</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">sceneModePicker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">baseLayerPicker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">navigationHelpButton</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">animation</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// creditContainer: &quot;credit&quot;,</span>
      <span class="token literal-property property">timeline</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fullscreenButton</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token literal-property property">vrButton</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token comment">// skyBox : new Cesium.SkyBox({</span>
      <span class="token comment">//     sources : {</span>
      <span class="token comment">//     positiveX : &#39;stars/TychoSkymapII.t3_08192x04096_80_px.jpg&#39;,</span>
      <span class="token comment">//     negativeX : &#39;stars/TychoSkymapII.t3_08192x04096_80_mx.jpg&#39;,</span>
      <span class="token comment">//     positiveY : &#39;stars/TychoSkymapII.t3_08192x04096_80_py.jpg&#39;,</span>
      <span class="token comment">//     negativeY : &#39;stars/TychoSkymapII.t3_08192x04096_80_my.jpg&#39;,</span>
      <span class="token comment">//     positiveZ : &#39;stars/TychoSkymapII.t3_08192x04096_80_pz.jpg&#39;,</span>
      <span class="token comment">//     negativeZ : &#39;stars/TychoSkymapII.t3_08192x04096_80_mz.jpg&#39;</span>
      <span class="token comment">//     }</span>
      <span class="token comment">// })</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u663E\u793A\u5E27\u901F(FPS)</span>
    viewer<span class="token punctuation">.</span>scene<span class="token punctuation">.</span>debugShowFramesPerSecond <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="css\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#css\u65B9\u5F0F" aria-hidden="true">#</a> css\u65B9\u5F0F</h4><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code>      <span class="token comment">/* \u4E0D\u5360\u636E\u7A7A\u95F4\uFF0C\u65E0\u6CD5\u70B9\u51FB */</span>
      .cesium-viewer-toolbar<span class="token punctuation">,</span>             <span class="token comment">/* \u53F3\u4E0A\u89D2\u6309\u94AE\u7EC4 */</span>
      .cesium-viewer-animationContainer<span class="token punctuation">,</span>  <span class="token comment">/* \u5DE6\u4E0B\u89D2\u52A8\u753B\u63A7\u4EF6 */</span>
      .cesium-viewer-timelineContainer<span class="token punctuation">,</span>   <span class="token comment">/* \u65F6\u95F4\u7EBF */</span>
      .cesium-viewer-bottom               <span class="token comment">/* logo\u4FE1\u606F */</span>
      <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      .cesium-viewer-fullscreenContainer  <span class="token comment">/* \u5168\u5C4F\u6309\u94AE */</span>
      <span class="token punctuation">{</span> <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span> <span class="token property">top</span><span class="token punctuation">:</span> -999em<span class="token punctuation">;</span>  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u521B\u5EFA\u5F62\u72B6" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u5F62\u72B6" aria-hidden="true">#</a> \u521B\u5EFA\u5F62\u72B6</h3><p><img src="http://qnimg.gisfsde.com/work/image-20220112173200428.png" alt="image-20220112173200428" loading="lazy"></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7ED8\u5236\u5F62\u72B6  \u6B63\u65B9\u4F53</span>
    <span class="token comment">// \u65B9\u5F0F\u4E00\uFF1AEntity</span>
<span class="token comment">//\u5176\u4ED6\u5F62\u72B6\uFF1Ahttp://cesium.xin/cesium/Documentation/Entity.html?classFilter=entity</span>
    <span class="token keyword">var</span> redBox <span class="token operator">=</span> viewer<span class="token punctuation">.</span>entities<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Red box with black outline&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Cartesian3<span class="token punctuation">.</span><span class="token function">fromDegrees</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">107.0</span><span class="token punctuation">,</span> <span class="token number">40.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">box</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">dimensions</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>Cartesian3</span><span class="token punctuation">(</span><span class="token number">400000.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">material</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLUE</span><span class="token punctuation">.</span><span class="token function">withAlpha</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">outline</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">outlineColor</span><span class="token operator">:</span> Cesium<span class="token punctuation">.</span>Color<span class="token punctuation">.</span><span class="token constant">BLACK</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    viewer<span class="token punctuation">.</span><span class="token function">zoomTo</span><span class="token punctuation">(</span>viewer<span class="token punctuation">.</span>entities<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// \u65B9\u5F0F\u4E8C\uFF1ACZML(\u53EF\u521B\u5EFA\u51E0\u4F55\u5F62\u72B6\u4E5F\u53EF\u521B\u5EFA\u52A8\u753B)</span>
    <span class="token keyword">var</span> czml <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;document&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;box&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;shape2&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Red box with black outline&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">cartographicDegrees</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">107.0</span><span class="token punctuation">,</span> <span class="token number">50.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">box</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">dimensions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">cartesian</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">400000.0</span><span class="token punctuation">,</span> <span class="token number">300000.0</span><span class="token punctuation">,</span> <span class="token number">500000.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">material</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">solidColor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">rgba</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">outline</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token literal-property property">outlineColor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">rgba</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// \u91CD\u590D\u521B\u5EFAViewer\u4F1A\u6DFB\u52A0\u591A\u4E2A\u7A97\u53E3</span>
    <span class="token comment">// var viewer = new Cesium.Viewer(&quot;cesiumContainer&quot;);</span>
    <span class="token keyword">var</span> dataSourcePromise <span class="token operator">=</span> Cesium<span class="token punctuation">.</span>CzmlDataSource<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>czml<span class="token punctuation">)</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>dataSources<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dataSourcePromise<span class="token punctuation">)</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span><span class="token function">zoomTo</span><span class="token punctuation">(</span>dataSourcePromise<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u6DFB\u52A0\u4E0D\u540C\u7C7B\u578B\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u6DFB\u52A0\u4E0D\u540C\u7C7B\u578B\u6570\u636E" aria-hidden="true">#</a> \u6DFB\u52A0\u4E0D\u540C\u7C7B\u578B\u6570\u636E</h3>`,7),oa={href:"https://www.jianshu.com/p/98d4c0b2c618",target:"_blank",rel:"noopener noreferrer"},ca=s("\u6982\u89C8"),la={href:"http://www.opengeospatial.org/standards/wms",target:"_blank",rel:"noopener noreferrer"},ia=s("Web Map Service"),ua=s(" (WMS) - \u4E00\u79CDOGC\u6807\u51C6\uFF0C\u4ECE\u5206\u5E03\u5F0F\u5730\u7406\u6570\u636E\u5E93\u4E2D\u901A\u8FC7\u5730\u56FE\u7684\u5730\u7406\u8303\u56F4\u6765\u8BF7\u6C42\u5207\u7247\u3002 Cesium\u4F7F\u7528 "),ra={href:"https://cesiumjs.org/Cesium/Build/Documentation/WebMapServiceImageryProvider.html",target:"_blank",rel:"noopener noreferrer"},ka=s("WebMapServiceImageryProvider"),da=s("\u53BB\u652F\u6301\u8FD9\u79CD\u3002"),va={href:"https://cesiumjs.org/Cesium/Build/Documentation/TileMapServiceImageryProvider.html",target:"_blank",rel:"noopener noreferrer"},ma=s("Tile Map Service"),ba=s(" (TMS) - \u4E00\u79CD\u8BBF\u95EE\u5730\u56FE\u5207\u7247\u7684REST\u63A5\u53E3\u3002 \u53EF\u4EE5\u7528"),ga={href:"http://www.cesiumlab.com",target:"_blank",rel:"noopener noreferrer"},ya=s("CesiumLab"),ha=s("\uFF0C "),qa={href:"http://www.maptiler.org/",target:"_blank",rel:"noopener noreferrer"},fa=s("MapTiler"),wa=s(" \u6216\u8005 "),_a={href:"http://www.klokan.cz/projects/gdal2tiles/",target:"_blank",rel:"noopener noreferrer"},Ea=s("GDAL2Tiles"),Da=s(" . Cesium\u4E2D\u4F7F\u7528"),xa={href:"https://cesiumjs.org/Cesium/Build/Documentation/TileMapServiceImageryProvider.html",target:"_blank",rel:"noopener noreferrer"},ja=s("TileMapServiceImageryProvider"),Sa=s("."),Fa={href:"http://www.opengeospatial.org/standards/wmts",target:"_blank",rel:"noopener noreferrer"},Ca=s("OpenGIS Web Map Tile Service"),Ba=s(" (WMTS) - \u4E00\u79CDOGC\u6807\u51C6\uFF0C\u4E3B\u8981\u662F\u4E3A\u9884\u6E32\u67D3\u7684\u5730\u56FE\u5207\u7247\u5F62\u5F0F. Cesium\u4E2D\u4F7F\u7528 "),Aa={href:"https://cesiumjs.org/Cesium/Build/Documentation/WebMapTileServiceImageryProvider.html",target:"_blank",rel:"noopener noreferrer"},Pa=s("WebMapTileServiceImageryProvider"),Ma=s("."),La={href:"http://wiki.openstreetmap.org/wiki/Main_Page",target:"_blank",rel:"noopener noreferrer"},Ta=s("OpenStreetMap"),Ga=s(" - \u8BBF\u95EE OpenStreetMap \u5207\u7247 \u6216\u8005 \u4EFB\u610F "),Ia={href:"http://wiki.openstreetmap.org/wiki/Slippy_map_tilenames",target:"_blank",rel:"noopener noreferrer"},za=s("Slippy map tiles"),Wa=s(".\u6709\u5F88\u591A\u65B9\u6CD5 "),Oa={href:"http://switch2osm.org/serving-tiles/",target:"_blank",rel:"noopener noreferrer"},Ra=s("\u53D1\u5E03\u8FD9\u79CD\u670D\u52A1 "),Va=s(".Cesium\u4E2D\u4F7F\u7528"),Na={href:"https://cesiumjs.org/Cesium/Build/Documentation/createOpenStreetMapImageryProvider.html",target:"_blank",rel:"noopener noreferrer"},Ja=s("createOpenStreetMapImageryProvider"),Ya=s("."),Ua={href:"http://www.bing.com/maps/",target:"_blank",rel:"noopener noreferrer"},$a=s("Bing \u5730\u56FE"),Xa=s(" - \u4F7F\u7528"),Ha={href:"http://msdn.microsoft.com/en-us/library/ff701713.aspx",target:"_blank",rel:"noopener noreferrer"},Qa=s("Bing \u5730\u56FE REST \u670D\u52A1"),Za=s("\u8BBF\u95EE\u5207\u7247. \u5728\u8FD9\u91CC "),Ka={href:"https://www.bingmapsportal.com/%E5%88%9B%E5%BB%BABing%E5%9C%B0%E5%9B%BE%E7%9A%84key",target:"_blank",rel:"noopener noreferrer"},nt=s("https://www.bingmapsportal.com/\u521B\u5EFABing\u5730\u56FE\u7684key"),st=s(". Cesium\u4E2D\u4F7F\u7528 "),at={href:"https://cesiumjs.org/Cesium/Build/Documentation/BingMapsImageryProvider.html",target:"_blank",rel:"noopener noreferrer"},tt=s("BingMapsImageryProvider"),pt=s("."),et=s("Esri ArcGIS MapServer - \u4F7F\u7528 "),ot={href:"http://resources.esri.com/help/9.3/arcgisserver/apis/rest/",target:"_blank",rel:"noopener noreferrer"},ct=s("ArcGIS Server REST API"),lt=s(" \u8BBF\u95EE\u5B58\u50A8\u5728ArcGIS Server\u4E0A\u7684\u5207\u7247\u3002Cesium\u4E2D\u4F7F\u7528"),it={href:"https://cesiumjs.org/Cesium/Build/Documentation/ArcGisMapServerImageryProvider.html",target:"_blank",rel:"noopener noreferrer"},ut=s("ArcGisMapServerImageryProvider"),rt=s("."),kt={href:"http://www.google.com/enterprise/mapsearth/products/earthenterprise.html",target:"_blank",rel:"noopener noreferrer"},dt=s("Google Earth Enterprise"),vt=s(" - \u8BBF\u95EEGoogle Earth \u4F01\u4E1A\u7248\u670D\u52A1\u5668\u53D1\u5E03\u7684\u5F71\u50CF\u5207\u7247\u3002Cesium\u4E2D "),mt={href:"https://cesiumjs.org/Cesium/Build/Documentation/GoogleEarthImageryProvider.html",target:"_blank",rel:"noopener noreferrer"},bt=s("GoogleEarthImageryProvider"),gt=s("."),yt={href:"https://www.mapbox.com/",target:"_blank",rel:"noopener noreferrer"},ht=s("Mapbox"),qt=s(" - \u4F7F\u7528 "),ft={href:"https://www.mapbox.com/developers/api/",target:"_blank",rel:"noopener noreferrer"},wt=s("Mapbox API"),_t=s("\u8BBF\u95EE\u5207\u7247. \u5728\u8FD9\u91CC\u65B0\u5EFA\u7528\u6237\uFF0C\u5E76\u4E14\u521B\u5EFA\u4E00\u4E2A "),Et={href:"https://www.mapbox.com/account/apps/",target:"_blank",rel:"noopener noreferrer"},Dt=s("access token"),xt=s(". Cesium\u4E2D\u4F7F\u7528 "),jt={href:"https://cesiumjs.org/Cesium/Build/Documentation/MapboxImageryProvider.html",target:"_blank",rel:"noopener noreferrer"},St=s("MapboxImageryProvider"),Ft=s("."),Ct=s("\u666E\u901A\u56FE\u7247\u6587\u4EF6 - \u4F7F\u7528\u4E00\u5F20\u666E\u901A\u56FE\u7247\u521B\u5EFA\u5F71\u50CF\u56FE\u5C42. Cesium\u4E2D\u4F7F\u7528 "),Bt={href:"https://cesiumjs.org/Cesium/Build/Documentation/SingleTileImageryProvider.html",target:"_blank",rel:"noopener noreferrer"},At=s("SingleTileImageryProvider"),Pt=s("."),Mt=s("\u81EA\u5B9A\u4E49\u5207\u7247\u673A\u5236 - \u4F7F\u7528"),Lt={href:"https://cesiumjs.org/Cesium/Build/Documentation/UrlTemplateImageryProvider.html",target:"_blank",rel:"noopener noreferrer"},Tt=s("UrlTemplateImageryProvider"),Gt=s(", \u53EF\u4EE5\u901A\u8FC7 URL \u6A21\u677F\u8FDE\u63A5\u5404\u79CD\u5F71\u50CF\u8D44\u6E90 \u3002\u6BD4\u5982TMS\u670D\u52A1\u7684URL\u6A21\u677F\u662F\uFF1A "),It=n("code",null,"//cesiumjs.org/tilesets/imagery/naturalearthii/{z}/{x}/{reverseY}.jpg",-1),zt=s("."),Wt={href:"https://cesiumjs.org/Cesium/Build/Documentation/TileCoordinatesImageryProvider.html",target:"_blank",rel:"noopener noreferrer"},Ot=s("\u5207\u7247\u5750\u6807"),Rt=s(" - \u7528\u6765\u663E\u793A\u5168\u7403\u662F\u5982\u4F55\u88AB\u5207\u7247\u7684\uFF0C\u652F\u6301\u591A\u79CD\u5207\u7247\u89C4\u5219\uFF0C\u753B\u51FA\u6BCF\u4E2A\u5207\u7247\u7684\u5730\u7406\u8FB9\u754C\uFF0C\u5E76\u4E14\u7528\u6587\u5B57\u6807\u6CE8\u6BCF\u4E2A\u5207\u7247\u7684level\uFF0Cx\uFF0Cy\u5750\u6807\u3002"),Vt={href:"https://www.cesiumlab.com",target:"_blank",rel:"noopener noreferrer"},Nt=s("\u767E\u5EA6\u5730\u56FE"),Jt=s(" - \u7528\u6765\u52A0\u8F7D\u767E\u5EA6\u9ED8\u8BA4\u5730\u56FE\u6216\u8005\u81EA\u5B9A\u4E49\u6837\u5F0F\u5730\u56FE\uFF0C\u8BF7\u8054\u7CFB\u6211\u4EEC\u3002"),Yt=p(`<h4 id="\u8DE8\u57DF\u95EE\u9898\u89E3\u51B3" tabindex="-1"><a class="header-anchor" href="#\u8DE8\u57DF\u95EE\u9898\u89E3\u51B3" aria-hidden="true">#</a> \u8DE8\u57DF\u95EE\u9898\u89E3\u51B3</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>

  <span class="token literal-property property">dev</span><span class="token operator">:</span> <span class="token punctuation">{</span>

    <span class="token comment">// Paths</span>
    <span class="token literal-property property">assetsSubDirectory</span><span class="token operator">:</span> <span class="token string">&#39;static&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">assetsPublicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">//\u63A5\u53E3\u5730\u5740\u539F\u672C\u662F/satellite/z={z}&amp;x={x}&amp;y={y} \u4F46\u662F\u4E3A\u4E86\u5339\u914D\u4EE3\u7406\u5730\u5740 \u8C03\u7528\u65F6\u9700\u5728\u524D\u9762\u52A0\u4E00\u4E2A /satellite,  \u56E0\u6B64\u63A5\u53E3\u5730\u5740\u9700\u8981\u5199\u6210\u8FD9\u6837\u7684\u5373\u53EF\u751F\u6548 /satellite/satellite/z={z}&amp;x={x}&amp;y={y}</span>
    <span class="token literal-property property">proxyTable</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;/ArcGIS&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">//\u4EE3\u7406\u7684\u76EE\u7684\uFF1A\u53EA\u8981\u662F/satellite\u5F00\u5934\u7684\u8DEF\u5F84\u90FD\u5F80localhost:3000\u8FDB\u884C\u8F6C\u53D1  </span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;https://sampleserver1.arcgisonline.com&#39;</span><span class="token punctuation">,</span> <span class="token comment">//\u540E\u7AEF\u63A5\u53E3\u5730\u5740 \u8BBE\u7F6E\u4EE3\u7406\u670D\u52A1\u5668\u5730\u5740 \u8F6C\u53D1\u5730\u5740</span>
        <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//WebSocket\u534F\u8BAE</span>
        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//\u8868\u793A\u662F\u5426\u6539\u53D8\u539F\u57DF\u540D\uFF1B\u8FD9\u4E2A\u4E00\u5B9A\u8981\u9009\u62E9\u4E3Atrue; \u662F\u5426\u5141\u8BB8\u8DE8\u57DF[ \u5982\u679C\u63A5\u53E3\u8DE8\u57DF \u5219\u8981\u914D\u7F6E\u8FD9\u4E2A\u53C2\u6570]</span>
        <span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// \u5982\u679C\u662Fhttps\u63A5\u53E3 \u9700\u8981\u914D\u7F6E\u8FD9\u4E2A\u53C2\u6570</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">// \u628A\u7A0B\u5E8F\u4E2D\u7684\u5730\u5740\u8F6C\u6362\u6210\u201C\u771F\u5B9E\u5730\u5740\u201D+\u2018/satellite\u2019\u540E\u9762\u7684\u90E8\u5206\u5982\u2018/satellite/satellite/z={z}&amp;x={x}&amp;y={y}&#39;\uFF0C\u88AB\u8F6C\u6362\u6210&#39;http://localhost:3000/satellite/z={z}&amp;x={x}&amp;y={y}&#39;</span>
          <span class="token string-property property">&#39;^/ArcGIS&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token comment">//\u4FEE\u6539pathRewrite\u5730\u5740 \u5C06\u524D\u7F00&#39;^satellite&#39;\u8F6C\u4E3A&#39;/satellite&#39;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u52A0\u8F7D\u4E0D\u540C\u7C7B\u578B\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u52A0\u8F7D\u4E0D\u540C\u7C7B\u578B\u6570\u636E" aria-hidden="true">#</a> \u52A0\u8F7D\u4E0D\u540C\u7C7B\u578B\u6570\u636E</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token comment">// \u52A0\u8F7D\u4E0D\u540C\u7C7B\u578B\u6570\u636E \u4ECE\u4E0A\u5230\u4E0B\u4F9D\u6B21\u8986\u76D6==============================================</span>

    <span class="token comment">// \u6570\u636E\u7C7B\u578B1\uFF1A -----------------------------------Web Map Service (WMS) -------------------------------------</span>
    <span class="token comment">// var provider = new Cesium.WebMapServiceImageryProvider({</span>
    <span class="token comment">//   // url: &quot;https://sampleserver1.arcgisonline.com/ArcGIS/services/Specialty/ESRI_StatesCitiesRivers_USA/MapServer/WMSServer&quot;,</span>
    <span class="token comment">//   url: &quot;ArcGIS/ArcGIS/services/Specialty/ESRI_StatesCitiesRivers_USA/MapServer/WMSServer&quot;,</span>
    <span class="token comment">//   layers: &quot;0&quot;,</span>
    <span class="token comment">//   // proxy: new Cesium.DefaultProxy(&quot;/proxy/&quot;),</span>
    <span class="token comment">// });</span>
    <span class="token comment">// viewer.imageryLayers.addImageryProvider(provider);</span>

    <span class="token comment">// \u6570\u636E\u7C7B\u578B2\uFF1A-----------------------------------OpenGIS Web Map Tile Service (WMTS)-----------------------------------</span>
    <span class="token comment">// var shadedRelief2 = new Cesium.WebMapTileServiceImageryProvider({</span>
    <span class="token comment">//   url: &quot;http://basemap.nationalmap.gov/arcgis/rest/services/USGSShadedReliefOnly/MapServer/WMTS/tile/1.0.0/USGSShadedReliefOnly/{Style}/{TileMatrixSet}/{TileMatrix}/{TileRow}/{TileCol}.jpg&quot;,</span>
    <span class="token comment">//   layer: &quot;USGSShadedReliefOnly&quot;,</span>
    <span class="token comment">//   style: &quot;default&quot;,</span>
    <span class="token comment">//   format: &quot;image/jpeg&quot;,</span>
    <span class="token comment">//   tileMatrixSetID: &quot;default028mm&quot;,</span>
    <span class="token comment">//   maximumLevel: 19,</span>
    <span class="token comment">//   credit: new Cesium.Credit(&quot;U. S. Geological Survey&quot;),</span>
    <span class="token comment">// });</span>
    <span class="token comment">// viewer.imageryLayers.addImageryProvider(shadedRelief2);</span>
    <span class="token comment">// url:&quot;http://61.175.211.102/arcgis/rest/services/wzmap/map/MapServer/WMTS?service=WMTS&amp;request=GetTile&amp;layer=wzmap&amp;style=default&amp;tilematriX={TileMatrix}&amp;tilerow={TileRow}&amp;tilecoL={TileCol}&quot;</span>

    <span class="token comment">// \u6570\u636E\u7C7B\u578B3\uFF1A -----------------------------------Tile Map Service (TMS)-----------------------------------</span>
    <span class="token comment">// var tms = new Cesium.TileMapServiceImageryProvider({</span>
    <span class="token comment">//   url: &quot;../images/cesium_maptiler/Cesium_Logo_Color&quot;,</span>
    <span class="token comment">//   fileExtension: &quot;png&quot;,</span>
    <span class="token comment">//   maximumLevel: 4,</span>
    <span class="token comment">//   rectangle: new Cesium.Rectangle(</span>
    <span class="token comment">//     Cesium.Math.toRadians(-120.0),</span>
    <span class="token comment">//     Cesium.Math.toRadians(20.0),</span>
    <span class="token comment">//     Cesium.Math.toRadians(-60.0),</span>
    <span class="token comment">//     Cesium.Math.toRadians(40.0)</span>
    <span class="token comment">//   ),</span>
    <span class="token comment">// });</span>
    <span class="token comment">// viewer.imageryLayers.addImageryProvider(tms);</span>

    <span class="token comment">// \u6570\u636E\u7C7B\u578B4\uFF1A -----------------------------------ArcGis-----------------------------------</span>
    <span class="token comment">// var esri = new Cesium.ArcGisMapServerImageryProvider({</span>
    <span class="token comment">//   url: &quot;https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer&quot;,</span>
    <span class="token comment">// });</span>
    <span class="token comment">// viewer.imageryLayers.addImageryProvider(esri);</span>

    <span class="token comment">// \u6570\u636E\u7C7B\u578B5\uFF1A-----------------------------------Mapbox-----------------------------------</span>
    <span class="token keyword">var</span> mapbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cesium<span class="token punctuation">.</span>MapboxImageryProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">mapId</span><span class="token operator">:</span> <span class="token string">&quot;mapbox.mapbox-streets-v8&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">accessToken</span><span class="token operator">:</span>
        <span class="token string">&quot;pk.eyJ1IjoibGltbiIsImEiOiJja2t1bG1na2IxZGU0MnZvNmlzY3FhZXM4In0.oQx4VguycOR4TK80Pyusmw&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    viewer<span class="token punctuation">.</span>imageryLayers<span class="token punctuation">.</span><span class="token function">addImageryProvider</span><span class="token punctuation">(</span>mapbox<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),Ut={id:"leaflet",tabindex:"-1"},$t=n("a",{class:"header-anchor",href:"#leaflet","aria-hidden":"true"},"#",-1),Xt=s(),Ht={href:"https://leafletjs.com/",target:"_blank",rel:"noopener noreferrer"},Qt=s("Leaflet "),Zt=n("blockquote",null,[n("h3",{id:"an-open-source-javascript-library-for-mobile-friendly-interactive-maps",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#an-open-source-javascript-library-for-mobile-friendly-interactive-maps","aria-hidden":"true"},"#"),s(" an open-source JavaScript library for mobile-friendly interactive maps")])],-1),Kt=s("Leaflet \u662F\u4E00\u4E2A\u4E3A\u5EFA\u8BBE\u79FB\u52A8\u8BBE\u5907\u53CB\u597D\u7684\u4E92\u52A8\u5730\u56FE\uFF0C\u800C\u5F00\u53D1\u7684\u73B0\u4EE3\u7684\u3001\u5F00\u6E90\u7684 JavaScript \u5E93\u3002\u867D\u7136\u4EE3\u7801\u4EC5\u6709 38 KB\uFF0C\u4F46\u5B83\u5177\u6709\u5F00\u53D1\u4EBA\u5458\u5F00\u53D1\u5728\u7EBF\u5730\u56FE\u7684\u5927\u90E8\u5206\u529F\u80FD\u3002Leaflet\u8BBE\u8BA1\u575A\u6301\u7B80\u4FBF\u3001\u9AD8\u6027\u80FD\u548C\u53EF\u7528\u6027\u597D\u7684\u601D\u60F3\uFF0C\u5728\u6240\u6709\u4E3B\u8981\u684C\u9762\u548C\u79FB\u52A8\u5E73\u53F0\u80FD\u9AD8\u6548\u8FD0\u4F5C\uFF0C\u5728\u73B0\u4EE3\u6D4F\u89C8\u5668\u4E0A\u4F1A\u5229\u7528HTML5\u548CCSS3\u7684\u4F18\u52BF\uFF0C\u540C\u65F6\u4E5F\u652F\u6301\u65E7\u7684\u6D4F\u89C8\u5668\u8BBF\u95EE\u3002\u652F\u6301\u63D2\u4EF6\u6269\u5C55\uFF0C\u6709\u4E00\u4E2A\u53CB\u597D\u3001\u6613\u4E8E\u4F7F\u7528\u7684API\u6587\u6863\u548C\u4E00\u4E2A\u7B80\u5355\u7684\u3001\u53EF\u8BFB\u7684\u6E90\u4EE3\u7801\u3002\u8BE6\u7EC6\u89C1\u5B98\u65B9\u7F51\u7AD9"),np={href:"https://leafletjs.com/",target:"_blank",rel:"noopener noreferrer"},sp=s("https://leafletjs.com/"),ap=p(`<h2 id="_3-3-1\u5730\u56FE" tabindex="-1"><a class="header-anchor" href="#_3-3-1\u5730\u56FE" aria-hidden="true">#</a> 3.3.1\u5730\u56FE</h2><h3 id="_3-3-1-1\u77E2\u91CF\u7535\u5B50\u5730\u56FE" tabindex="-1"><a class="header-anchor" href="#_3-3-1-1\u77E2\u91CF\u7535\u5B50\u5730\u56FE" aria-hidden="true">#</a> 3.3.1.1\u77E2\u91CF\u7535\u5B50\u5730\u56FE</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u6DFB\u52A0\u7535\u5B50\u5730\u56FE\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--\u6DFB\u52A0leaflet\u6837\u5F0F--&gt;</span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token comment">&lt;!--\u6DFB\u52A0leafletjs\u5305--&gt;</span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--\u6DFB\u52A0\u5750\u6807\u5E93--&gt;</span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599E-05</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995E-05</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998E-05</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999E-05</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994E-06</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497E-06</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748E-06</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span><span class="token string">&#39;EPSG:4490&#39;</span><span class="token punctuation">,</span>
      <span class="token string">&#39;+proj=longlat +ellps=GRS80 +no_defs&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token comment">//\u5207\u56FE\u539F\u70B9</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&#39;mapid&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy \u676D\u5DDE\u5E02\u89C4\u5212\u8D44\u6E90\u5C40&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30.25168</span><span class="token punctuation">,</span> <span class="token number">120.16179</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6E\u6BD4\u4F8B\u5C3A\u548C\u4E2D\u5FC3\u70B9\u7EA7\u522B             	</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-1-2\u5F71\u50CF\u7535\u5B50\u5730\u56FE" tabindex="-1"><a class="header-anchor" href="#_3-3-1-2\u5F71\u50CF\u7535\u5B50\u5730\u56FE" aria-hidden="true">#</a> 3.3.1.2\u5F71\u50CF\u7535\u5B50\u5730\u56FE</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u6DFB\u52A0\u5F71\u50CF\u5730\u56FE\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599E-05</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995E-05</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998E-05</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999E-05</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994E-06</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497E-06</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748E-06</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span><span class="token string">&#39;EPSG:4490&#39;</span><span class="token punctuation">,</span>
      <span class="token string">&#39;+proj=longlat +ellps=GRS80 +no_defs&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&#39;mapid&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyraster/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy \u676D\u5DDE\u5E02\u89C4\u5212\u8D44\u6E90\u5C40&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6E\u6BD4\u4F8B\u5C3A\u548C\u4E2D\u5FC3\u70B9\u7EA7\u522B</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-1-3\u624B\u52A8\u52A0\u8F7D-\u79FB\u9664\u5730\u56FE" tabindex="-1"><a class="header-anchor" href="#_3-3-1-3\u624B\u52A8\u52A0\u8F7D-\u79FB\u9664\u5730\u56FE" aria-hidden="true">#</a> 3.3.1.3\u624B\u52A8\u52A0\u8F7D/\u79FB\u9664\u5730\u56FE</h3><h2 id="_3-3-2\u56FE\u5C42" tabindex="-1"><a class="header-anchor" href="#_3-3-2\u56FE\u5C42" aria-hidden="true">#</a> 3.3.2\u56FE\u5C42</h2><h3 id="_3-3-2-1\u5F39\u51FA\u4FE1\u606F\u6846" tabindex="-1"><a class="header-anchor" href="#_3-3-2-1\u5F39\u51FA\u4FE1\u606F\u6846" aria-hidden="true">#</a> 3.3.2.1\u5F39\u51FA\u4FE1\u606F\u6846</h3><p>\u70B9\u51FB\u5730\u56FE\u5F39\u51FA\u4FE1\u606F\uFF0C\u793A\u4F8B\u4EE3\u7801bindPopup</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u6DFB\u52A0\u7535\u5B50\u5730\u56FE\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--\u6DFB\u52A0leaflet\u6837\u5F0F--&gt;</span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token comment">&lt;!--\u6DFB\u52A0leafletjs\u5305--&gt;</span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--\u6DFB\u52A0\u5750\u6807\u5E93--&gt;</span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599E-05</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995E-05</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998E-05</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999E-05</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994E-06</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497E-06</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748E-06</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span><span class="token string">&#39;EPSG:4490&#39;</span><span class="token punctuation">,</span>
      <span class="token string">&#39;+proj=longlat +ellps=GRS80 +no_defs&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token comment">//\u5207\u56FE\u539F\u70B9</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&#39;mapid&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy \u676D\u5DDE\u5E02\u89C4\u5212\u8D44\u6E90\u5C40&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30.25168</span><span class="token punctuation">,</span> <span class="token number">120.16179</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6E\u6BD4\u4F8B\u5C3A\u548C\u4E2D\u5FC3\u70B9\u7EA7\u522B					</span>
    <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">marker</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30.25168</span><span class="token punctuation">,</span> <span class="token number">120.16179</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bindPopup</span><span class="token punctuation">(</span><span class="token string">&quot;\\&lt;b&gt;Hello world!\\&lt;/b&gt;\\&lt;br /&gt;I am a popup.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openPopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-2-2\u77E2\u91CF\u56FE\u5C42-wms" tabindex="-1"><a class="header-anchor" href="#_3-3-2-2\u77E2\u91CF\u56FE\u5C42-wms" aria-hidden="true">#</a> 3.3.2.2\u77E2\u91CF\u56FE\u5C42\uFF08wms\uFF09</h4><p>\u52A0\u8F7DWMS\u5730\u56FE\u670D\u52A1\uFF0C\u652F\u6301filter\u7B5B\u9009</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u8C03\u7528WMS\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet.wms.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599E-05</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995E-05</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998E-05</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999E-05</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994E-06</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497E-06</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748E-06</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span><span class="token string">&#39;EPSG:4490&#39;</span><span class="token punctuation">,</span>
      <span class="token string">&#39;+proj=longlat +ellps=GRS80 +no_defs&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&#39;mapid&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy \u676D\u5DDE\u5E02\u89C4\u5212\u8D44\u6E90\u5C40&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6E\u6BD4\u4F8B\u5C3A\u548C\u4E2D\u5FC3\u70B9\u7EA7\u522B</span>
    <span class="token comment">// L.WMS.source</span>
    <span class="token keyword">var</span> wmsurl <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token constant">WMS</span><span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span><span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wms&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token string-property property">&quot;transparent&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;srs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;layers&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lsyt_dmdz_csbj0619&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;CQL_FILTER&quot;</span><span class="token operator">:</span> <span class="token string">&quot;quxian=&#39;\u4F59\u676D\u533A&#39;&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>wmsurl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;You clicked the map at &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              	
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-2-3\u77E2\u91CF\u56FE\u5C42-wfs" tabindex="-1"><a class="header-anchor" href="#_3-3-2-3\u77E2\u91CF\u56FE\u5C42-wfs" aria-hidden="true">#</a> 3.3.2.3\u77E2\u91CF\u56FE\u5C42\uFF08wfs\uFF09</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u52A0\u8F7DWFS\u7535\u5B50\u5730\u56FE\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span>
      <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;+proj=longlat +ellps=GRS80 +no_defs&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&quot;mapid&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span>
      <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy \u676D\u5DDE\u5E02\u89C4\u5212\u8D44\u6E90\u5C40&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6E\u6BD4\u4F8B\u5C3A\u548C\u4E2D\u5FC3\u70B9\u7EA7\u522B</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;You clicked the map at &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> myStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fillOpacity</span><span class="token operator">:</span> <span class="token number">0.01</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mblayer<span class="token punctuation">;</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> geojson <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mblayer <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">geoJSON</span><span class="token punctuation">(</span>geojson<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">style</span><span class="token operator">:</span> myStyle<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-3-3\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_3-3-3\u67E5\u8BE2" aria-hidden="true">#</a> 3.3.3\u67E5\u8BE2</h2><h3 id="_3-3-3-1\u70B9\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_3-3-3-1\u70B9\u67E5\u8BE2" aria-hidden="true">#</a> 3.3.3.1\u70B9\u67E5\u8BE2</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u70B9\u67E5\u8BE2\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span>
      <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;+proj=longlat +ellps=GRS80 +no_defs&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&quot;mapid&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs<span class="token punctuation">,</span>
      <span class="token comment">/*fullscreenControl: {
        pseudoFullscreen: false
      },*/</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span>
      <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy \u676D\u5DDE\u5E02\u89C4\u5212\u8D44\u6E90\u5C40&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6E\u6BD4\u4F8B\u5C3A\u548C\u4E2D\u5FC3\u70B9\u7EA7\u522B</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// alert(&quot;You clicked the map at &quot; + e.latlng);</span>
      <span class="token keyword">var</span> point <span class="token operator">=</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lng <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lat <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lng <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lat<span class="token punctuation">;</span><span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
      <span class="token keyword">var</span> qurl <span class="token operator">=</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span> point <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
      $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;You clicked the map at &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&#39;quxian&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> myStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fillOpacity</span><span class="token operator">:</span> <span class="token number">0.01</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mblayer<span class="token punctuation">;</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> geojson <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mblayer <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">geoJSON</span><span class="token punctuation">(</span>geojson<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">style</span><span class="token operator">:</span> myStyle<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-3-2\u9762\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_3-3-3-2\u9762\u67E5\u8BE2" aria-hidden="true">#</a> 3.3.3.2\u9762\u67E5\u8BE2</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u9762\u67E5\u8BE2\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-draw/leaflet.draw.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-draw/leaflet.draw.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span>
      <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;+proj=longlat +ellps=GRS80 +no_defs&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&quot;mapid&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs<span class="token punctuation">,</span>
      <span class="token comment">/*fullscreenControl: {
        pseudoFullscreen: false
      },*/</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span>
      <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy \u676D\u5DDE\u5E02\u89C4\u5212\u8D44\u6E90\u5C40&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6E\u6BD4\u4F8B\u5C3A\u548C\u4E2D\u5FC3\u70B9\u7EA7\u522B</span>
    <span class="token comment">//var draw=new L.Control.Draw(map,drawControl.options.rectangle).enable();</span>
    <span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">&quot;topleft&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">draw</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">polyline</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">polygon</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">circle</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">marker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">circlemarker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">rectangle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">shapeOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">clickable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> drawControl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Control<span class="token punctuation">.</span>Draw</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span>drawControl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token constant">L</span><span class="token punctuation">.</span>Draw<span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token constant">CREATED</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> type <span class="token operator">=</span> e<span class="token punctuation">.</span>layerType<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">&quot;rectangle&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> bound <span class="token operator">=</span> e<span class="token punctuation">.</span>layer<span class="token punctuation">.</span><span class="token function">getBounds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> point <span class="token operator">=</span>
          bound<span class="token punctuation">.</span>_southWest<span class="token punctuation">.</span>lng <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          bound<span class="token punctuation">.</span>_southWest<span class="token punctuation">.</span>lat <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          bound<span class="token punctuation">.</span>_northEast<span class="token punctuation">.</span>lng <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          bound<span class="token punctuation">.</span>_northEast<span class="token punctuation">.</span>lat<span class="token punctuation">;</span> <span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
        <span class="token keyword">var</span> qurl <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span>
          point <span class="token operator">+</span>
          <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">alert</span><span class="token punctuation">(</span>
              <span class="token string">&quot;\u4F60\u9009\u62E9\u7684\u662F &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&quot;quxian&quot;</span><span class="token punctuation">]</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> myStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fillOpacity</span><span class="token operator">:</span> <span class="token number">0.01</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mblayer<span class="token punctuation">;</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> geojson <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mblayer <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">geoJSON</span><span class="token punctuation">(</span>geojson<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">style</span><span class="token operator">:</span> myStyle<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-3-3\u5C5E\u6027\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_3-3-3-3\u5C5E\u6027\u67E5\u8BE2" aria-hidden="true">#</a> 3.3.3.3\u5C5E\u6027\u67E5\u8BE2</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u70B9\u67E5\u8BE2\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.h1</span> <span class="token punctuation">{</span>
      <span class="token property">z-index</span><span class="token punctuation">:</span> 1009<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>\u70B9\u51FB\u5730\u56FE\u6839\u636E\u5C5E\u6027\u67E5\u8BE2\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span>
      <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;+proj=longlat +ellps=GRS80 +no_defs&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&quot;mapid&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs<span class="token punctuation">,</span>
      <span class="token comment">/*fullscreenControl: {
        pseudoFullscreen: false
      },*/</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span>
      <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy \u676D\u5DDE\u5E02\u89C4\u5212\u8D44\u6E90\u5C40&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6E\u6BD4\u4F8B\u5C3A\u548C\u4E2D\u5FC3\u70B9\u7EA7\u522B</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> point <span class="token operator">=</span>
        e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lng <span class="token operator">+</span>
        <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
        e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lat <span class="token operator">+</span>
        <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
        e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lng <span class="token operator">+</span>
        <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
        e<span class="token punctuation">.</span>latlng<span class="token punctuation">.</span>lat<span class="token punctuation">;</span> <span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
      <span class="token keyword">var</span> qurl <span class="token operator">=</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=&quot;</span><span class="token punctuation">;</span>
      qurl <span class="token operator">+=</span> <span class="token string">&quot; quxian=&#39;\u4E0A\u57CE\u533A&#39;&quot;</span><span class="token punctuation">;</span>
      $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;\u6839\u636E\u5C5E\u6027\u9009\u62E9\u7684\u662F &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&quot;quxian&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> myStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fillOpacity</span><span class="token operator">:</span> <span class="token number">0.01</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mblayer<span class="token punctuation">;</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> geojson <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mblayer <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">geoJSON</span><span class="token punctuation">(</span>geojson<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">style</span><span class="token operator">:</span> myStyle<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-3-4\u7EC4\u5408\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_3-3-3-4\u7EC4\u5408\u67E5\u8BE2" aria-hidden="true">#</a> 3.3.3.4\u7EC4\u5408\u67E5\u8BE2</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u9762\u67E5\u8BE2\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-draw/leaflet.draw.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-wfs.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4-compressed.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/pro/proj4leaflet.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/leaflet/V1.3/leaflet/Plugins/leaflet-draw/leaflet.draw.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">body</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.map</span> <span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mapid<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> res <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span> <span class="token comment">// Level 0</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span> <span class="token comment">// Level 1</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span> <span class="token comment">// Level 2</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span> <span class="token comment">// Level 3</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span> <span class="token comment">// Level 4</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> crs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Proj<span class="token punctuation">.</span>CRS</span><span class="token punctuation">(</span>
      <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;+proj=longlat +ellps=GRS80 +no_defs&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">resolutions</span><span class="token operator">:</span> res<span class="token punctuation">,</span>
        <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&quot;mapid&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">crs</span><span class="token operator">:</span> crs<span class="token punctuation">,</span>
      <span class="token comment">/*fullscreenControl: {
        pseudoFullscreen: false
      },*/</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> url <span class="token operator">=</span>
      <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> attrib <span class="token operator">=</span> <span class="token string">&quot;&amp;copy \u676D\u5DDE\u5E02\u89C4\u5212\u8D44\u6E90\u5C40&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> basemap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>TileLayer</span><span class="token punctuation">(</span>url <span class="token operator">+</span> <span class="token string">&quot;/tile/{z}/{y}/{x}&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">attribution</span><span class="token operator">:</span> attrib<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>basemap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">setView</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBE\u7F6E\u6BD4\u4F8B\u5C3A\u548C\u4E2D\u5FC3\u70B9\u7EA7\u522B</span>
    <span class="token comment">//var draw=new L.Control.Draw(map,drawControl.options.rectangle).enable();</span>
    <span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">&quot;topleft&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">draw</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">polyline</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">polygon</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">circle</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">marker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">circlemarker</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token literal-property property">rectangle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">shapeOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">clickable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> drawControl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>Control<span class="token punctuation">.</span>Draw</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addControl</span><span class="token punctuation">(</span>drawControl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token constant">L</span><span class="token punctuation">.</span>Draw<span class="token punctuation">.</span>Event<span class="token punctuation">.</span><span class="token constant">CREATED</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> type <span class="token operator">=</span> e<span class="token punctuation">.</span>layerType<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">==</span> <span class="token string">&quot;rectangle&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> bound <span class="token operator">=</span> e<span class="token punctuation">.</span>layer<span class="token punctuation">.</span><span class="token function">getBounds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> point <span class="token operator">=</span>
          bound<span class="token punctuation">.</span>_southWest<span class="token punctuation">.</span>lng <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          bound<span class="token punctuation">.</span>_southWest<span class="token punctuation">.</span>lat <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          bound<span class="token punctuation">.</span>_northEast<span class="token punctuation">.</span>lng <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          bound<span class="token punctuation">.</span>_northEast<span class="token punctuation">.</span>lat<span class="token punctuation">;</span> <span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
        <span class="token keyword">var</span> qurl <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span>
          point <span class="token operator">+</span>
          <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
        qurl <span class="token operator">+=</span> <span class="token string">&quot; and quxian=&#39;\u4E0A\u57CE\u533A&#39;&quot;</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>text<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;\u4F60\u9009\u62E9\u7684\u662F\u975E\u4E0A\u57CE\u533A\uFF0C\u65E0\u67E5\u8BE2\u7ED3\u679C\uFF01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
              <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;\u4F60\u9009\u62E9\u7684\u662F &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&quot;quxian&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> myStyle <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;#ff0000&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fillOpacity</span><span class="token operator">:</span> <span class="token number">0.01</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mblayer<span class="token punctuation">;</span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">url</span><span class="token operator">:</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> geojson <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mblayer <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">geoJSON</span><span class="token punctuation">(</span>geojson<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">style</span><span class="token operator">:</span> myStyle<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="arcgis" tabindex="-1"><a class="header-anchor" href="#arcgis" aria-hidden="true">#</a> ArcGIS</h1><p>ArcGIS API for JavaScript\u5C31\u662FESRI\u516C\u53F8\u7528JavaScipt\u8BED\u8A00\u7F16\u5199\u7684\u4E00\u5957\u7A0B\u5E8F\u63A5\u53E3\u3002\u7528\u6237\u53EF\u4EE5\u901A\u8FC7\u8C03\u7528API\u83B7\u53D6ArcGIS server\u3001geoserver\u7B49\u63D0\u4F9B\u7684\u670D\u52A1\uFF0C\u4F8B\u5982\u6D4F\u89C8\u3001\u7F16\u8F91\u3001\u6E32\u67D3\u5730\u56FE\uFF0C\u4EE5\u53CA\u4E00\u4E9B\u5E38\u7528\u7684\u7A7A\u95F4\u5206\u6790\u529F\u80FD\u3002API\u4E2D\u5305\u542B\u4E86ArcGIS API for JavaScript\u4E2D\u6BCF\u4E2A\u7C7B\u7684\u8BE6\u7EC6\u63CF\u8FF0\u3002\u4F7F\u7528API\u67E5\u627E\u6BCF\u4E2A\u7C7B\u7684\u6784\u9020\u51FD\u6570\u9009\u9879\u4EE5\u53CA\u5C5E\u6027\u3001\u65B9\u6CD5\u548C\u4E8B\u4EF6\u3002</p>`,26),tp=s("\u8BE6\u60C5\u89C1\u5B98\u65B9\u7F51\u7AD9"),pp={href:"https://developers.arcgis.com/javascript/3/jsapi/",target:"_blank",rel:"noopener noreferrer"},ep=s("https://developers.arcgis.com/javascript/3/jsapi/"),op=p(`<h2 id="_3-1-1\u5730\u56FE" tabindex="-1"><a class="header-anchor" href="#_3-1-1\u5730\u56FE" aria-hidden="true">#</a> 3.1.1\u5730\u56FE</h2><h3 id="_3-1-1-1\u77E2\u91CF\u7535\u5B50\u5730\u56FE" tabindex="-1"><a class="header-anchor" href="#_3-1-1-1\u77E2\u91CF\u7535\u5B50\u5730\u56FE" aria-hidden="true">#</a> 3.1.1.1\u77E2\u91CF\u7535\u5B50\u5730\u56FE</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Map with Vertor\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \\#map</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      \u200B <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.esriControlsBR .logo-med</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;vector&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-1-2\u5F71\u50CF\u7535\u5B50\u5730\u56FE" tabindex="-1"><a class="header-anchor" href="#_3-1-1-2\u5F71\u50CF\u7535\u5B50\u5730\u56FE" aria-hidden="true">#</a> 3.1.1.2\u5F71\u50CF\u7535\u5B50\u5730\u56FE</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Map with Raster\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \\#map</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      \u200B <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.esriControlsBR .logo-med</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyraster/Mapserver&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;raster&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-1-3\u624B\u52A8\u52A0\u8F7D-\u79FB\u9664\u5730\u56FE" tabindex="-1"><a class="header-anchor" href="#_3-1-1-3\u624B\u52A8\u52A0\u8F7D-\u79FB\u9664\u5730\u56FE" aria-hidden="true">#</a> 3.1.1.3\u624B\u52A8\u52A0\u8F7D/\u79FB\u9664\u5730\u56FE</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Map with Control\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \\#map</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      \u200B <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.esriControlsBR .logo-med</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.details span</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> vector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;vector&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// map.addLayer(vector);</span>
      <span class="token keyword">var</span> raster <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyraster/Mapserver&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;raster&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// map.addLayer(raster);</span>
      <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#details span&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">case</span> <span class="token string">&quot;vector&quot;</span><span class="token operator">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>map<span class="token punctuation">.</span><span class="token function">getLayer</span><span class="token punctuation">(</span><span class="token string">&quot;vector&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>vector<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
          <span class="token keyword">case</span> <span class="token string">&quot;raster&quot;</span><span class="token operator">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>map<span class="token punctuation">.</span><span class="token function">getLayer</span><span class="token punctuation">(</span><span class="token string">&quot;raster&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>raster<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
          <span class="token keyword">case</span> <span class="token string">&quot;rvector&quot;</span><span class="token operator">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">getLayer</span><span class="token punctuation">(</span><span class="token string">&quot;vector&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> map<span class="token punctuation">.</span><span class="token function">removeLayer</span><span class="token punctuation">(</span>vector<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
          <span class="token keyword">case</span> <span class="token string">&quot;rraster&quot;</span><span class="token operator">:</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">getLayer</span><span class="token punctuation">(</span><span class="token string">&quot;raster&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> map<span class="token punctuation">.</span><span class="token function">removeLayer</span><span class="token punctuation">(</span>raster<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.BorderContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>design:<span class="token punctuation">&#39;</span>headline<span class="token punctuation">&#39;</span>, gutters:true<span class="token punctuation">&quot;</span></span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>details<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>left<span class="token punctuation">&#39;</span>, splitter:true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>
      \u200B \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vector<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6DFB\u52A0\u77E2\u91CF\u56FE\u5C42\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      \u200B \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>raster<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6DFB\u52A0\u5F71\u50CF\u56FE\u5C42\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      \u200B \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rvector<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u79FB\u9664\u77E2\u91CF\u56FE\u5C42\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      \u200B \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rraster<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u79FB\u9664\u5F71\u50CF\u56FE\u5C42\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-1-2\u56FE\u5C42" tabindex="-1"><a class="header-anchor" href="#_3-1-2\u56FE\u5C42" aria-hidden="true">#</a> 3.1.2\u56FE\u5C42</h2><h3 id="_3-1-2-1\u5F39\u51FA\u4FE1\u606F\u6846" tabindex="-1"><a class="header-anchor" href="#_3-1-2-1\u5F39\u51FA\u4FE1\u606F\u6846" aria-hidden="true">#</a> 3.1.2.1\u5F39\u51FA\u4FE1\u606F\u6846</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Map with infoWindow\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \\#map</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      \u200B <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.esriControlsBR .logo-med</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WFSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WFSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;vector&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        map<span class="token punctuation">.</span>infoWindow<span class="token punctuation">.</span><span class="token function">setTitle</span><span class="token punctuation">(</span><span class="token string">&quot;\u8BE6\u7EC6\u4FE1\u606F&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span>infoWindow<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F53\u524D\u5750\u6807\uFF1A&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>mapPoint<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>mapPoint<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span>infoWindow<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>mapPoint<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-1-2-2\u77E2\u91CF\u56FE\u5C42-wms" tabindex="-1"><a class="header-anchor" href="#_3-1-2-2\u77E2\u91CF\u56FE\u5C42-wms" aria-hidden="true">#</a> 3.1.2.2\u77E2\u91CF\u56FE\u5C42\uFF08wms\uFF09</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Map with wmslayer\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \\#map</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      \u200B <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.esriControlsBR .logo-med</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;vector&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> extent <span class="token operator">=</span> map<span class="token punctuation">.</span>extent<span class="token punctuation">;</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> resourceInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">extent</span><span class="token operator">:</span> extent<span class="token punctuation">,</span>
          <span class="token literal-property property">layerInfos</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.1.1&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">visibleLayers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> wmslayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>WMSLayer</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">resourceInfo</span><span class="token operator">:</span> resourceInfo<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setImageFormat</span><span class="token punctuation">(</span><span class="token string">&quot;png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setVisibleLayers</span><span class="token punctuation">(</span><span class="token string">&quot;gpserver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>wmslayer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-1-2-3\u77E2\u91CF\u56FE\u5C42-wfs" tabindex="-1"><a class="header-anchor" href="#_3-1-2-3\u77E2\u91CF\u56FE\u5C42-wfs" aria-hidden="true">#</a> 3.1.2.3\u77E2\u91CF\u56FE\u5C42\uFF08wfs\uFF09</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Map with wfslayer\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \\#map</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      \u200B <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.esriControlsBR .logo-med</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">,</span> symbol<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WFSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/symbols/SimpleLineSymbol&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/symbols/SimpleFillSymbol&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/graphic&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Polygon&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WFSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      SimpleLineSymbol<span class="token punctuation">,</span>
      SimpleFillSymbol<span class="token punctuation">,</span>
      Graphic<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      Polygon<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;vector&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> extent <span class="token operator">=</span> map<span class="token punctuation">.</span>extent<span class="token punctuation">;</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> url<span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i \\<span class="token operator">&lt;</span> text<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              symbol <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleFillSymbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">&quot;Polygon&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> polygonjson <span class="token operator">=</span> <span class="token punctuation">{</span>
                  <span class="token string-property property">&quot;rings&quot;</span><span class="token operator">:</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>coordinates<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token string-property property">&quot;spatialReference&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;wkid&quot;</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">var</span> poly <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Polygon</span><span class="token punctuation">(</span>polygonjson<span class="token punctuation">)</span>
                <span class="token keyword">var</span> graphic <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graphic</span><span class="token punctuation">(</span>poly<span class="token punctuation">,</span> symbol<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//var gra = new Graphic(text.features[i].geometry, symbol);</span>
                map<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>graphic<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>type <span class="token operator">==</span> <span class="token string">&quot;MultiPolygon&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> len <span class="token operator">=</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>coordinates<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k \\<span class="token operator">&lt;</span> len<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">var</span> polygonjson <span class="token operator">=</span> <span class="token punctuation">{</span>
                    <span class="token string-property property">&quot;rings&quot;</span><span class="token operator">:</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>coordinates<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token string-property property">&quot;spatialReference&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&quot;wkid&quot;</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span>
                  <span class="token keyword">var</span> poly <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Polygon</span><span class="token punctuation">(</span>polygonjson<span class="token punctuation">)</span>
                  <span class="token keyword">var</span> graphic <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graphic</span><span class="token punctuation">(</span>poly<span class="token punctuation">,</span> symbol<span class="token punctuation">)</span><span class="token punctuation">;</span>
                  map<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>graphic<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-1-3\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_3-1-3\u67E5\u8BE2" aria-hidden="true">#</a> 3.1.3\u67E5\u8BE2</h2><h3 id="_3-1-3-1\u70B9\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_3-1-3-1\u70B9\u67E5\u8BE2" aria-hidden="true">#</a> 3.1.3.1\u70B9\u67E5\u8BE2</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Query By Point\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \\#map</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      \u200B <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token comment">// basemap: &quot;streets&quot;,</span>
        <span class="token comment">// center: [120.1594, 30.2571],</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://21.15.116.31/e8b4611714092ac7bc35cb5e8d476e4824f85f3a/Tile/ArcGISREST/hzsyvector.gis&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token comment">// id: layerInfo.LayerName,</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;\u5E95\u56FE&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer2<span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> extent <span class="token operator">=</span> map<span class="token punctuation">.</span>extent<span class="token punctuation">;</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> resourceInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">extent</span><span class="token operator">:</span> extent<span class="token punctuation">,</span>
          <span class="token literal-property property">layerInfos</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.1.1&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">visibleLayers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> wmslayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>WMSLayer</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">resourceInfo</span><span class="token operator">:</span> resourceInfo<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setImageFormat</span><span class="token punctuation">(</span><span class="token string">&quot;png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setVisibleLayers</span><span class="token punctuation">(</span><span class="token string">&quot;gpserver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>wmslayer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u83B7\u53D6\u5230\u7684\u70B9&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> point <span class="token operator">=</span> e<span class="token punctuation">.</span>mapPoint<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>mapPoint<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>mapPoint<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>mapPoint<span class="token punctuation">.</span>y<span class="token punctuation">;</span><span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
        <span class="token keyword">var</span> qurl <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span> point <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&#39;#details&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&#39;quxian&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.BorderContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>design:<span class="token punctuation">&#39;</span>headline<span class="token punctuation">&#39;</span>, gutters:true<span class="token punctuation">&quot;</span></span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>details<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>left<span class="token punctuation">&#39;</span>, splitter:true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-1-3-2\u9762\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_3-1-3-2\u9762\u67E5\u8BE2" aria-hidden="true">#</a> 3.1.3.2\u9762\u67E5\u8BE2</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Query By Rectangle\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \\#map</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      \u200B <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">,</span> toolbar<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/toolbars/draw&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/symbols/SimpleLineSymbol&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/symbols/SimpleFillSymbol&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/graphic&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      Draw<span class="token punctuation">,</span>
      SimpleLineSymbol<span class="token punctuation">,</span>
      SimpleFillSymbol<span class="token punctuation">,</span>
      Graphic<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token comment">// basemap: &quot;streets&quot;,</span>
        <span class="token comment">// center: [120.1594, 30.2571],</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://21.15.116.31/e8b4611714092ac7bc35cb5e8d476e4824f85f3a/Tile/ArcGISREST/hzsyvector.gis&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token comment">// id: layerInfo.LayerName,</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;\u5E95\u56FE&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer2<span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> extent <span class="token operator">=</span> map<span class="token punctuation">.</span>extent<span class="token punctuation">;</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> resourceInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">extent</span><span class="token operator">:</span> extent<span class="token punctuation">,</span>
          <span class="token literal-property property">layerInfos</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.1.1&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">visibleLayers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> wmslayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>WMSLayer</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">resourceInfo</span><span class="token operator">:</span> resourceInfo<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setImageFormat</span><span class="token punctuation">(</span><span class="token string">&quot;png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setVisibleLayers</span><span class="token punctuation">(</span><span class="token string">&quot;gpserver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>wmslayer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Draw</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;draw-end&quot;</span><span class="token punctuation">,</span> showinfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span>Draw<span class="token punctuation">[</span><span class="token string">&quot;RECTANGLE&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token function">showinfo</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> symbol<span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        symbol <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleFillSymbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> graphic <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graphic</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>geometry<span class="token punctuation">,</span> symbol<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>graphic<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">getAttr</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>geometry<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">function</span> <span class="token function">getAttr</span><span class="token punctuation">(</span><span class="token parameter">geo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> point <span class="token operator">=</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>xmin <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>ymin <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>xmax <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>ymax<span class="token punctuation">;</span> <span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
        <span class="token keyword">var</span> qurl <span class="token operator">=</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span> point <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> attr <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i \\<span class="token operator">&lt;</span> text<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              attr <span class="token operator">+=</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&quot;quxian&quot;</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;\\&lt;/br&gt;&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#details&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            toolbar<span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span>Draw<span class="token punctuation">[</span><span class="token string">&quot;RECTANGLE&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.BorderContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>design:<span class="token punctuation">&#39;</span>headline<span class="token punctuation">&#39;</span>, gutters:true<span class="token punctuation">&quot;</span></span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>details<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>left<span class="token punctuation">&#39;</span>, splitter:true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-1-3-3\u5C5E\u6027\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_3-1-3-3\u5C5E\u6027\u67E5\u8BE2" aria-hidden="true">#</a> 3.1.3.3\u5C5E\u6027\u67E5\u8BE2</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Query by Attr\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \\#map</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      \u200B <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://21.15.116.31/e8b4611714092ac7bc35cb5e8d476e4824f85f3a/Tile/ArcGISREST/hzsyvector.gis&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;\u5E95\u56FE&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer2<span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> extent <span class="token operator">=</span> map<span class="token punctuation">.</span>extent<span class="token punctuation">;</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> resourceInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">extent</span><span class="token operator">:</span> extent<span class="token punctuation">,</span>
          <span class="token literal-property property">layerInfos</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.1.1&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">visibleLayers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> wmslayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>WMSLayer</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">resourceInfo</span><span class="token operator">:</span> resourceInfo<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setImageFormat</span><span class="token punctuation">(</span><span class="token string">&quot;png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setVisibleLayers</span><span class="token punctuation">(</span><span class="token string">&quot;gpserver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>wmslayer<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u83B7\u53D6\u5230\u7684\u70B9&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> point <span class="token operator">=</span>
          <span class="token string">&quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;</span><span class="token punctuation">;</span> <span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
        <span class="token keyword">var</span> qurl <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span>
          point <span class="token operator">+</span>
          <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
        qurl <span class="token operator">+=</span> <span class="token string">&quot; and quxian=&#39;\u4E0A\u57CE\u533A&#39;&quot;</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> attr <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i \\<span class="token operator">&lt;</span> text<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              attr <span class="token operator">+=</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&quot;quxian&quot;</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;\\&lt;/br&gt;&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#details&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.BorderContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>design:<span class="token punctuation">&#39;</span>headline<span class="token punctuation">&#39;</span>, gutters:true<span class="token punctuation">&quot;</span></span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>details<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>left<span class="token punctuation">&#39;</span>, splitter:true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>\u70B9\u51FB\u5730\u56FE\u5B9E\u73B0\u6309\u5C5E\u6027\u67E5\u8BE2\uFF08\u533A\u53BF=\u4E0A\u57CE\u533A\uFF09\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-1-3-4\u7EC4\u5408\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#_3-1-3-4\u7EC4\u5408\u67E5\u8BE2" aria-hidden="true">#</a> 3.1.3.4\u7EC4\u5408\u67E5\u8BE2</h3><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=1, maximum-scale=1,user-scalable=no<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Query\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/dijit/themes/claro/claro.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/esri/css/esri.css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
    <span class="token selector">html,
    body,
    \\#map</span> <span class="token punctuation">{</span>
      \u200B <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
      \u200B <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      \u200B <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/arcgis_js_api/3.24/init.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> map<span class="token punctuation">,</span> toolbar<span class="token punctuation">;</span>
    <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
      <span class="token string">&quot;esri/map&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/WMSLayerInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/toolbars/draw&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/symbols/SimpleLineSymbol&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/symbols/SimpleFillSymbol&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/graphic&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/layers/ArcGISTiledMapServiceLayer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esri/geometry/Extent&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/_base/array&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/dom-construct&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/parser&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/BorderContainer&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dijit/layout/ContentPane&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dojo/domReady!&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">Map<span class="token punctuation">,</span>
      WMSLayer<span class="token punctuation">,</span>
      WMSLayerInfo<span class="token punctuation">,</span>
      Draw<span class="token punctuation">,</span>
      SimpleLineSymbol<span class="token punctuation">,</span>
      SimpleFillSymbol<span class="token punctuation">,</span>
      Graphic<span class="token punctuation">,</span>
      ArcGISTiledMapServiceLayer<span class="token punctuation">,</span>
      Extent<span class="token punctuation">,</span>
      array<span class="token punctuation">,</span>
      dom<span class="token punctuation">,</span>
      domConst<span class="token punctuation">,</span>
      parser</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span>
          <span class="token number">120.1594</span><span class="token punctuation">,</span>
          <span class="token number">30.2571</span><span class="token punctuation">,</span>
          <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>SpatialReference</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">wkid</span><span class="token operator">:</span> <span class="token number">4490</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> layer2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcGISTiledMapServiceLayer</span><span class="token punctuation">(</span>
        <span class="token string">&quot;http://21.15.116.31/e8b4611714092ac7bc35cb5e8d476e4824f85f3a/Tile/ArcGISREST/hzsyvector.gis&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&quot;\u5E95\u56FE&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>layer2<span class="token punctuation">)</span><span class="token punctuation">;</span>
      map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> extent <span class="token operator">=</span> map<span class="token punctuation">.</span>extent<span class="token punctuation">;</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> resourceInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">extent</span><span class="token operator">:</span> extent<span class="token punctuation">,</span>
          <span class="token literal-property property">layerInfos</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token string">&quot;1.1.1&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">visibleLayers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> wmslayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">esri<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>WMSLayer</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">resourceInfo</span><span class="token operator">:</span> resourceInfo<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setImageFormat</span><span class="token punctuation">(</span><span class="token string">&quot;png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wmslayer<span class="token punctuation">.</span><span class="token function">setVisibleLayers</span><span class="token punctuation">(</span><span class="token string">&quot;gpserver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">addLayer</span><span class="token punctuation">(</span>wmslayer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Draw</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;draw-end&quot;</span><span class="token punctuation">,</span> showinfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span>Draw<span class="token punctuation">[</span><span class="token string">&quot;RECTANGLE&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token function">showinfo</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> symbol<span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        symbol <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleFillSymbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> graphic <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graphic</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>geometry<span class="token punctuation">,</span> symbol<span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span>graphics<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>graphic<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">getAttr</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>geometry<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">function</span> <span class="token function">getAttr</span><span class="token punctuation">(</span><span class="token parameter">geo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> point <span class="token operator">=</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>xmin <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>ymin <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>xmax <span class="token operator">+</span>
          <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span>
          geo<span class="token punctuation">.</span>cache<span class="token punctuation">.</span>_extent<span class="token punctuation">.</span>ymax<span class="token punctuation">;</span> <span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
        <span class="token keyword">var</span> qurl <span class="token operator">=</span>
          <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span>
          point <span class="token operator">+</span>
          <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
        qurl <span class="token operator">+=</span> <span class="token string">&quot; and quxian=&#39;\u4E0A\u57CE\u533A&#39;&quot;</span><span class="token punctuation">;</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">var</span> attr <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i \\<span class="token operator">&lt;</span> text<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              attr <span class="token operator">+=</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&quot;quxian&quot;</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;\\&lt;/br&gt;&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#details&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>attr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            toolbar<span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span>Draw<span class="token punctuation">[</span><span class="token string">&quot;RECTANGLE&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>claro<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.BorderContainer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>design:<span class="token punctuation">&#39;</span>headline<span class="token punctuation">&#39;</span>, gutters:true<span class="token punctuation">&quot;</span></span>
    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>details<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>left<span class="token punctuation">&#39;</span>, splitter:true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>\u5728\u6846\u9009\u8303\u56F4\u5185\u67E5\u8BE2\u5C5E\u6027\uFF08\u533A\u53BF=\u4E0A\u57CE\u533A\uFF09\u7684\u6570\u636E\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">\u200B</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dijit.layout.ContentPane<span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span> <span class="token attr-name">data-dojo-props</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>region:<span class="token punctuation">&#39;</span>center<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">\u200B</span>
      <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">\\</span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&lt;!DOCTYPE html&gt;</p><h1 id="openlayers" tabindex="-1"><a class="header-anchor" href="#openlayers" aria-hidden="true">#</a> Openlayers</h1>`,25),cp=s("OpenLayers \u662F\u4E00\u4E2A\u4E13\u4E3AWeb GIS \u5BA2\u6237\u7AEF\u5F00\u53D1\u63D0\u4F9B\u7684JavaScript \u7C7B\u5E93\u5305\uFF0C\u7528\u4E8E\u5B9E\u73B0\u6807\u51C6\u683C\u5F0F\u53D1\u5E03\u7684\u5730\u56FE\u6570\u636E\u8BBF\u95EE\u3002OpenLayers\u5B9E\u73B0\u8BBF\u95EE\u5730\u7406\u7A7A\u95F4\u6570\u636E\u7684\u65B9\u6CD5\u90FD\u7B26\u5408\u884C\u4E1A\u6807\u51C6\u3002OpenLayers \u652F\u6301Open GIS \u534F\u4F1A\u5236\u5B9A\u7684WMS\uFF08Web Mapping Service\uFF09\u548CWFS\uFF08Web Feature Service\uFF09\u7B49\u7F51\u7EDC\u670D\u52A1\u89C4\u8303\uFF0C\u53EF\u4EE5\u901A\u8FC7\u8FDC\u7A0B\u670D\u52A1\u7684\u65B9\u5F0F\uFF0C\u5C06\u4EE5OGC \u670D\u52A1\u5F62\u5F0F\u53D1\u5E03\u7684\u5730\u56FE\u6570\u636E\u52A0\u8F7D\u5230\u57FA\u4E8E\u6D4F\u89C8\u5668\u7684OpenLayers \u5BA2\u6237\u7AEF\u4E2D\u8FDB\u884C\u663E\u793A\u3002\u8BE6\u7EC6\u89C1\u5B98\u65B9\u7F51\u7AD9"),lp={href:"https://openlayers.org/",target:"_blank",rel:"noopener noreferrer"},ip=s("https://openlayers.org/"),up=p(`<h3 id="\u5730\u56FE" tabindex="-1"><a class="header-anchor" href="#\u5730\u56FE" aria-hidden="true">#</a> \u5730\u56FE</h3><h4 id="\u77E2\u91CF\u7535\u5B50\u5730\u56FE" tabindex="-1"><a class="header-anchor" href="#\u77E2\u91CF\u7535\u5B50\u5730\u56FE" aria-hidden="true">#</a> \u77E2\u91CF\u7535\u5B50\u5730\u56FE</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u6DFB\u52A0\u7535\u5B50\u5730\u56FE\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&#39;image/png&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">119.347618103027</span><span class="token punctuation">,</span> <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span> <span class="token number">30.5366992950439</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&#39;EPSG:4490&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&#39;degrees&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&#39;neu&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">118.33968849655</span><span class="token punctuation">,</span> <span class="token number">29.188589472</span><span class="token punctuation">,</span> <span class="token number">120.71408849655</span><span class="token punctuation">,</span> <span class="token number">30.5651894750343</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599E-05</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995E-05</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998E-05</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999E-05</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994E-06</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497E-06</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748E-06</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ\u6DFB\u52A0\u74E6\u7247\u5730\u56FE\u7684\u5C42</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&#39;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&#39;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">+</span> x<span class="token punctuation">;</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&#39;EPSG:4490&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;map&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        tileLayer
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u975E\u5E38\u91CD\u8981</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5F71\u50CF\u7535\u5B50\u5730\u56FE" tabindex="-1"><a class="header-anchor" href="#\u5F71\u50CF\u7535\u5B50\u5730\u56FE" aria-hidden="true">#</a> \u5F71\u50CF\u7535\u5B50\u5730\u56FE</h4>`,4),rp=s('<!DOCTYPE html> <html> <head> <meta charset="UTF-8"> <title>\u6DFB\u52A0\u7535\u5B50\u5730\u56FE</title> <link rel="stylesheet" href="'),kp={href:"http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css",target:"_blank",rel:"noopener noreferrer"},dp=s("http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css"),vp=s('" type="text/css"> <script src="'),mp={href:"http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js",target:"_blank",rel:"noopener noreferrer"},bp=s("http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js"),gp=s(`"><\/script> </head> <body> <div id="map" class="map"></div> <script> var format = 'image/png'; var bounds = [119.347618103027, 29.7052669525146, 120.698570251465, 30.5366992950439 ]; var projection = new ol.proj.Projection({ code: 'EPSG:4490', units: 'degrees', axisOrientation: 'neu', global: true }); var fullExtent = [118.33968849655, 29.188589472, 120.71408849655, 30.5651894750343]; var resolutions = [ 0.00549933137239034, 0.00274966568619517, 0.00137483284309758, 0.000687416421548792, 0.000343708210774396, 0.000171854105387198, 8.5927052693599E-05, 4.29635263467995E-05, 2.14817631733998E-05, 1.07408815866999E-05, 5.37044079334994E-06, 2.68522039667497E-06, 1.34261019833748E-06, ]; var tileGrid = new ol.tilegrid.TileGrid({ tileSize: 256, origin: [118.122911693886, 31.2869311022836], extent: fullExtent, resolutions: resolutions }); // ol.source.XYZ\u6DFB\u52A0\u74E6\u7247\u5730\u56FE\u7684\u5C42 var tileLayer = new ol.layer.Tile({ source: new ol.source.XYZ({ tileGrid: tileGrid, tileUrlFunction: function (tileCoord) { var z = tileCoord[0]; var x = tileCoord[1]; var y = (-tileCoord[2] - 1); var url = '`),yp={href:"http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyraster/Mapserver/tile/",target:"_blank",rel:"noopener noreferrer"},hp=s("http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyraster/Mapserver/tile/"),qp=s("' + z + '/' + y + '/' + x; console.log(url); return url; }, projection: 'EPSG:4490' }) }); var map = new ol.Map({ target: 'map', layers: [ tileLayer ], view: new ol.View({ projection: projection }) }); map.getView().fit(bounds, map.getSize()); //\u975E\u5E38\u91CD\u8981 <\/script> </body> </html>"),fp=p(`<h3 id="\u56FE\u5C42" tabindex="-1"><a class="header-anchor" href="#\u56FE\u5C42" aria-hidden="true">#</a> \u56FE\u5C42</h3><h4 id="\u5F39\u51FA\u6846\u4FE1\u606F\u6846" tabindex="-1"><a class="header-anchor" href="#\u5F39\u51FA\u6846\u4FE1\u606F\u6846" aria-hidden="true">#</a> \u5F39\u51FA\u6846\u4FE1\u606F\u6846</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u5F39\u51FA\u4FE1\u606F\u6846\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">#map</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">#mypopup</span> <span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mypopup<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mypopup-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5185\u5BB9\u81EA\u5B9A\u4E49\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>closeOverlay<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5173\u95ED\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">119.347618103027</span><span class="token punctuation">,</span>
      <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span>
      <span class="token number">30.5366992950439</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&quot;degrees&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&quot;neu&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">118.33968849655</span><span class="token punctuation">,</span>
      <span class="token number">29.188589472</span><span class="token punctuation">,</span>
      <span class="token number">120.71408849655</span><span class="token punctuation">,</span>
      <span class="token number">30.5651894750343</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ\u6DFB\u52A0\u74E6\u7247\u5730\u56FE\u7684\u5C42</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span>
            <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            y <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            x<span class="token punctuation">;</span>
          <span class="token comment">// console.log(url);</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> info <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#mypopup&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> content <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#mypopup-content&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> overlay <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Overlay</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">element</span><span class="token operator">:</span> info<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">autopan</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">autoPanMargin</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
      <span class="token literal-property property">positioning</span><span class="token operator">:</span> <span class="token string">&quot;center-center&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//map.addOverlay(overlay);</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>tileLayer<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">overlays</span><span class="token operator">:</span> <span class="token punctuation">[</span>overlay<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u975E\u5E38\u91CD\u8981</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;#closeOverlay&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      info<span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> location <span class="token operator">=</span> e<span class="token punctuation">.</span>coordinate<span class="token punctuation">;</span>
      content<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">&quot;\u8FD9\u662F\u4FE1\u606F\u6846&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      info<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      overlay<span class="token punctuation">.</span><span class="token function">setPosition</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u77E2\u91CF\u56FE\u5C42-wms" tabindex="-1"><a class="header-anchor" href="#\u77E2\u91CF\u56FE\u5C42-wms" aria-hidden="true">#</a> \u77E2\u91CF\u56FE\u5C42\uFF08wms\uFF09</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u6DFB\u52A0\u7535\u5B50\u5730\u56FE\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&#39;image/png&#39;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">119.347618103027</span><span class="token punctuation">,</span> <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span> <span class="token number">30.5366992950439</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&#39;EPSG:4490&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&#39;degrees&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&#39;neu&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">118.33968849655</span><span class="token punctuation">,</span> <span class="token number">29.188589472</span><span class="token punctuation">,</span> <span class="token number">120.71408849655</span><span class="token punctuation">,</span> <span class="token number">30.5651894750343</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599E-05</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995E-05</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998E-05</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999E-05</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994E-06</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497E-06</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748E-06</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ\u6DFB\u52A0\u74E6\u7247\u5730\u56FE\u7684\u5C42</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&#39;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&#39;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">&#39;/&#39;</span> <span class="token operator">+</span> x<span class="token punctuation">;</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&#39;EPSG:4490&#39;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> untiled <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Image</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>ImageWMS</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">ratio</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token comment">//url: &#39;http://126.10.2.27:8080/geoserver/gpserver/wms&#39;,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">&#39;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wms?&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string-property property">&#39;FORMAT&#39;</span><span class="token operator">:</span> format<span class="token punctuation">,</span>
          <span class="token string-property property">&#39;VERSION&#39;</span><span class="token operator">:</span> <span class="token string">&#39;1.1.1&#39;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&quot;LAYERS&quot;</span><span class="token operator">:</span> <span class="token string">&#39;lsyt_dmdz_qxbj0619&#39;</span><span class="token punctuation">,</span>
          <span class="token string-property property">&quot;exceptions&quot;</span><span class="token operator">:</span> <span class="token string">&#39;application/vnd.ogc.se_inimage&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;map&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        tileLayer<span class="token punctuation">,</span>
        untiled
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u975E\u5E38\u91CD\u8981</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u77E2\u91CF\u56FE\u5C42-wfs" tabindex="-1"><a class="header-anchor" href="#\u77E2\u91CF\u56FE\u5C42-wfs" aria-hidden="true">#</a> \u77E2\u91CF\u56FE\u5C42\uFF08wfs\uFF09</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u6DFB\u52A0WFS\u7535\u5B50\u5730\u56FE\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">119.347618103027</span><span class="token punctuation">,</span>
      <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span>
      <span class="token number">30.5366992950439</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&quot;degrees&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&quot;neu&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">118.33968849655</span><span class="token punctuation">,</span>
      <span class="token number">29.188589472</span><span class="token punctuation">,</span>
      <span class="token number">120.71408849655</span><span class="token punctuation">,</span>
      <span class="token number">30.5651894750343</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ\u6DFB\u52A0\u74E6\u7247\u5730\u56FE\u7684\u5C42</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span>
            <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            y <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            x<span class="token punctuation">;</span>
          <span class="token comment">//console.log(url);</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vectorSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>format<span class="token punctuation">.</span>GeoJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">url</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">extent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//strategy: bboxStrategy,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> vectorSource<span class="token punctuation">,</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Style</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Stroke</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 255, 1.0)&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>tileLayer<span class="token punctuation">,</span> vector<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u975E\u5E38\u91CD\u8981</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u67E5\u8BE2" aria-hidden="true">#</a> \u67E5\u8BE2</h3><h4 id="\u70B9\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u70B9\u67E5\u8BE2" aria-hidden="true">#</a> \u70B9\u67E5\u8BE2</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u70B9\u67E5\u8BE2\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">119.347618103027</span><span class="token punctuation">,</span>
      <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span>
      <span class="token number">30.5366992950439</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&quot;degrees&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&quot;neu&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">118.33968849655</span><span class="token punctuation">,</span>
      <span class="token number">29.188589472</span><span class="token punctuation">,</span>
      <span class="token number">120.71408849655</span><span class="token punctuation">,</span>
      <span class="token number">30.5651894750343</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ\u6DFB\u52A0\u74E6\u7247\u5730\u56FE\u7684\u5C42</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span>
            <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            y <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            x<span class="token punctuation">;</span>
          <span class="token comment">//console.log(url);</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vectorSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>format<span class="token punctuation">.</span>GeoJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">url</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">extent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//strategy: bboxStrategy,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> vectorSource<span class="token punctuation">,</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Style</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Stroke</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 255, 1.0)&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>tileLayer<span class="token punctuation">,</span> vector<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u975E\u5E38\u91CD\u8981</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> location <span class="token operator">=</span> e<span class="token punctuation">.</span>coordinate<span class="token punctuation">;</span>
      <span class="token keyword">var</span> point <span class="token operator">=</span> location<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
      <span class="token keyword">var</span> qurl <span class="token operator">=</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span> point <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
      $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;You clicked the map at &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&#39;quxian&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u9762\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u9762\u67E5\u8BE2" aria-hidden="true">#</a> \u9762\u67E5\u8BE2</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u6846\u9009\u67E5\u8BE2\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">119.347618103027</span><span class="token punctuation">,</span>
      <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span>
      <span class="token number">30.5366992950439</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&quot;degrees&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&quot;neu&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">118.33968849655</span><span class="token punctuation">,</span>
      <span class="token number">29.188589472</span><span class="token punctuation">,</span>
      <span class="token number">120.71408849655</span><span class="token punctuation">,</span>
      <span class="token number">30.5651894750343</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ\u6DFB\u52A0\u74E6\u7247\u5730\u56FE\u7684\u5C42</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span>
            <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            y <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            x<span class="token punctuation">;</span>
          <span class="token comment">//console.log(url);</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vectorSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>format<span class="token punctuation">.</span>GeoJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">url</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">extent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//strategy: bboxStrategy,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> vectorSource<span class="token punctuation">,</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Style</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Stroke</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 255, 1.0)&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>tileLayer<span class="token punctuation">,</span> vector<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u975E\u5E38\u91CD\u8981</span>
    <span class="token keyword">var</span> dragbox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>interaction<span class="token punctuation">.</span>DragBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">addInteraction</span><span class="token punctuation">(</span>dragbox<span class="token punctuation">)</span><span class="token punctuation">;</span>
    dragbox<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;boxend&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> extent <span class="token operator">=</span> dragbox<span class="token punctuation">.</span><span class="token function">getGeometry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getExtent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> point <span class="token operator">=</span> extent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> extent<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> extent<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> extent<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
      <span class="token keyword">var</span> qurl <span class="token operator">=</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span> point <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
      $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;You clicked the map at &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&#39;quxian&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u5C5E\u6027\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u5C5E\u6027\u67E5\u8BE2" aria-hidden="true">#</a> \u5C5E\u6027\u67E5\u8BE2</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u5C5E\u6027\u67E5\u8BE2\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">119.347618103027</span><span class="token punctuation">,</span>
      <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span>
      <span class="token number">30.5366992950439</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&quot;degrees&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&quot;neu&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">118.33968849655</span><span class="token punctuation">,</span>
      <span class="token number">29.188589472</span><span class="token punctuation">,</span>
      <span class="token number">120.71408849655</span><span class="token punctuation">,</span>
      <span class="token number">30.5651894750343</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ\u6DFB\u52A0\u74E6\u7247\u5730\u56FE\u7684\u5C42</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span>
            <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            y <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            x<span class="token punctuation">;</span>
          <span class="token comment">//console.log(url);</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vectorSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>format<span class="token punctuation">.</span>GeoJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">url</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">extent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//strategy: bboxStrategy,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> vectorSource<span class="token punctuation">,</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Style</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Stroke</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 255, 1.0)&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>tileLayer<span class="token punctuation">,</span> vector<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u975E\u5E38\u91CD\u8981</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> location <span class="token operator">=</span> e<span class="token punctuation">.</span>coordinate<span class="token punctuation">;</span>
      <span class="token keyword">var</span> point <span class="token operator">=</span> location<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
      <span class="token keyword">var</span> qurl <span class="token operator">=</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=&quot;</span><span class="token punctuation">;</span>
      qurl <span class="token operator">+=</span> <span class="token string">&quot; quxian=&#39;\u4E0A\u57CE\u533A&#39;&quot;</span><span class="token punctuation">;</span>
      $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;\u6839\u636E\u5C5E\u6027\u9009\u62E9\u7684\u662F&quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&#39;quxian&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u7EC4\u5408\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u7EC4\u5408\u67E5\u8BE2" aria-hidden="true">#</a> \u7EC4\u5408\u67E5\u8BE2</h4><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>\\<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>\u7EC4\u5408\u67E5\u8BE2\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/css/ol.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/openlayer/v3.20.1/build/ol.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.18.109.232:8082/jquery/jquery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">\\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  \\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> format <span class="token operator">=</span> <span class="token string">&quot;image/png&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> bounds <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">119.347618103027</span><span class="token punctuation">,</span>
      <span class="token number">29.7052669525146</span><span class="token punctuation">,</span>
      <span class="token number">120.698570251465</span><span class="token punctuation">,</span>
      <span class="token number">30.5366992950439</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> projection <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>proj<span class="token punctuation">.</span>Projection</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">units</span><span class="token operator">:</span> <span class="token string">&quot;degrees&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">axisOrientation</span><span class="token operator">:</span> <span class="token string">&quot;neu&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> fullExtent <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">118.33968849655</span><span class="token punctuation">,</span>
      <span class="token number">29.188589472</span><span class="token punctuation">,</span>
      <span class="token number">120.71408849655</span><span class="token punctuation">,</span>
      <span class="token number">30.5651894750343</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> resolutions <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">0.00549933137239034</span><span class="token punctuation">,</span>
      <span class="token number">0.00274966568619517</span><span class="token punctuation">,</span>
      <span class="token number">0.00137483284309758</span><span class="token punctuation">,</span>
      <span class="token number">0.000687416421548792</span><span class="token punctuation">,</span>
      <span class="token number">0.000343708210774396</span><span class="token punctuation">,</span>
      <span class="token number">0.000171854105387198</span><span class="token punctuation">,</span>
      <span class="token number">8.5927052693599e-5</span><span class="token punctuation">,</span>
      <span class="token number">4.29635263467995e-5</span><span class="token punctuation">,</span>
      <span class="token number">2.14817631733998e-5</span><span class="token punctuation">,</span>
      <span class="token number">1.07408815866999e-5</span><span class="token punctuation">,</span>
      <span class="token number">5.37044079334994e-6</span><span class="token punctuation">,</span>
      <span class="token number">2.68522039667497e-6</span><span class="token punctuation">,</span>
      <span class="token number">1.34261019833748e-6</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> tileGrid <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>tilegrid<span class="token punctuation">.</span>TileGrid</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">tileSize</span><span class="token operator">:</span> <span class="token number">256</span><span class="token punctuation">,</span>
      <span class="token literal-property property">origin</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">118.122911693886</span><span class="token punctuation">,</span> <span class="token number">31.2869311022836</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">extent</span><span class="token operator">:</span> fullExtent<span class="token punctuation">,</span>
      <span class="token literal-property property">resolutions</span><span class="token operator">:</span> resolutions<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ol.source.XYZ\u6DFB\u52A0\u74E6\u7247\u5730\u56FE\u7684\u5C42</span>
    <span class="token keyword">var</span> tileLayer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Tile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>XYZ</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tileGrid</span><span class="token operator">:</span> tileGrid<span class="token punctuation">,</span>
        <span class="token function-variable function">tileUrlFunction</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tileCoord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">var</span> z <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> x <span class="token operator">=</span> tileCoord<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token operator">-</span>tileCoord<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> url <span class="token operator">=</span>
            <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/tile/&quot;</span> <span class="token operator">+</span>
            z <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            y <span class="token operator">+</span>
            <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span>
            x<span class="token punctuation">;</span>
          <span class="token comment">//console.log(url);</span>
          <span class="token keyword">return</span> url<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> <span class="token string">&quot;EPSG:4490&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vectorSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>source<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>format<span class="token punctuation">.</span>GeoJSON</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token function-variable function">url</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">extent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">//strategy: bboxStrategy,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> vector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>Vector</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> vectorSource<span class="token punctuation">,</span>
      <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Style</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>style<span class="token punctuation">.</span>Stroke</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;rgba(0, 0, 255, 1.0)&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;map&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>tileLayer<span class="token punctuation">,</span> vector<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">view</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">ol<span class="token punctuation">.</span>View</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">projection</span><span class="token operator">:</span> projection<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">getView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fit</span><span class="token punctuation">(</span>bounds<span class="token punctuation">,</span> map<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u975E\u5E38\u91CD\u8981</span>
    map<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> location <span class="token operator">=</span> e<span class="token punctuation">.</span>coordinate<span class="token punctuation">;</span>
      <span class="token keyword">var</span> point <span class="token operator">=</span> location<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> location<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// &quot;120.16271670916996,30.251675868508478,120.1713094144393,30.25591314629446&quot;;</span>
      <span class="token keyword">var</span> qurl <span class="token operator">=</span>
        <span class="token string">&quot;http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&amp;version=1.0.0&amp;request=getfeature&amp;typename=lsyt_dmdz_qxbj0619&amp;outputFormat=application/json&amp;CQL_FILTER=BBOX(geom,&quot;</span> <span class="token operator">+</span> point <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
      qurl <span class="token operator">+=</span> <span class="token string">&quot; and quxian=&#39;\u4E0A\u57CE\u533A&#39;&quot;</span><span class="token punctuation">;</span>
      $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> qurl<span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>text<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;\u4F60\u9009\u62E9\u7684\u662F\u975E\u4E0A\u57CE\u533A\uFF0C\u65E0\u67E5\u8BE2\u7ED3\u679C\uFF01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;\u4F60\u9009\u62E9\u7684\u662F &quot;</span> <span class="token operator">+</span> text<span class="token punctuation">.</span>features<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">[</span><span class="token string">&quot;quxian&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  \\</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
\\<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="cygwin" tabindex="-1"><a class="header-anchor" href="#cygwin" aria-hidden="true">#</a> Cygwin</h1><p>windows\u4F7F\u7528linux\u73AF\u5883\uFF08\u90E8\u5206\u673A\u578B\u5931\u8D25\uFF09</p>`,18),wp={id:"tippecanoe",tabindex:"-1"},_p=n("a",{class:"header-anchor",href:"#tippecanoe","aria-hidden":"true"},"#",-1),Ep=s(),Dp={href:"https://github.com/mapbox/tippecanoe",target:"_blank",rel:"noopener noreferrer"},xp=s("Tippecanoe"),jp=s("Tippecanoe\u662FMapbox\u7684\u4E00\u4E2A\u5F00\u6E90\u5207\u7247\u5DE5\u5177\uFF0C\u9879\u76EE\u5730\u5740\uFF1A"),Sp={href:"https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fmapbox%2Ftippecanoe",target:"_blank",rel:"noopener noreferrer"},Fp=s("https://github.com/mapbox/tippecanoe"),Cp=s("\uFF0CMapbox\u5E38\u89C4\u7684\u5207\u7247\u65B9\u6CD5tilelive-copy\u53C2\u89C1"),Bp={href:"https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fblog.csdn.net%2Fwan_yanyan528%2Farticle%2Fdetails%2F69266362",target:"_blank",rel:"noopener noreferrer"},Ap=s("\u53E6\u4E00\u7BC7\u535A\u5BA2"),Pp=s("\u3002Tippecanoe\u4E3B\u8981\u5728\u5904\u7406\u5927\u6570\u636E\u91CF\u65F6\u6709\u5F88\u5927\u7684\u4F18\u52BF\uFF0C\u5177\u6709\u5F88\u9AD8\u7684\u6548\u7387\uFF0C\u5E76\u4E14\u6709\u5F88\u591A\u53C2\u6570\u53EF\u4EE5\u63A7\u5236\u3002Tippecanoe\u53EA\u80FD\u5904\u7406GeoJSON\uFF0C\u56E0\u6B64\u5728\u5207\u7247\u524D\u9700\u8981\u5C06\u77E2\u91CF\u6570\u636E\u8F6C\u6362\u4E3AGeoJSON\uFF0C\u63A8\u8350\u4F7F\u7528ogr2ogr\u5DE5\u5177\u8F6C\u6362\u3002\u5207\u7247\u4EE5\u540E\u7684\u683C\u5F0F\u4E3Ambtiles\uFF0C\u53EF\u81EA\u884C\u5BFC\u5165mongodb\u7B49\u6570\u636E\u5E93\u3002"),Mp=n("p",null,"\u76EE\u7684\uFF1A\u6839\u636E\u4F60\u7684\u6570\u636E\u521B\u9020\u4E00\u4E2A\u53EF\u81EA\u7531\u7F29\u653E\u7684\u89C6\u56FE",-1),Lp=s("\u5F15\u7528\u5730\u5740\uFF1A"),Tp={href:"https://my.oschina.net/u/1464512/blog/1631972",target:"_blank",rel:"noopener noreferrer"},Gp=s("https://my.oschina.net/u/1464512/blog/1631972"),Ip={id:"\u5E38\u7528tippecanoe\u53C2\u6570\u8BBE\u7F6E",tabindex:"-1"},zp=n("a",{class:"header-anchor",href:"#\u5E38\u7528tippecanoe\u53C2\u6570\u8BBE\u7F6E","aria-hidden":"true"},"#",-1),Wp=s(),Op={href:"https://blog.csdn.net/u012539364/article/details/107068474/",target:"_blank",rel:"noopener noreferrer"},Rp=s("\u5E38\u7528tippecanoe\u53C2\u6570\u8BBE\u7F6E"),Vp=n("h1",{id:"geojson",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#geojson","aria-hidden":"true"},"#"),s(" GEOJSON")],-1),Np={id:"geosever",tabindex:"-1"},Jp=n("a",{class:"header-anchor",href:"#geosever","aria-hidden":"true"},"#",-1),Yp=s(),Up={href:"http://geoserver.org/",target:"_blank",rel:"noopener noreferrer"},$p=s("GeoSever"),Xp=p("<p>GeoServer\u662FOGC Web\u670D\u52A1\u5668\u89C4\u8303\u7684J2EE\u5B9E\u73B0\uFF0C\u5229\u7528GeoServer\u53EF\u4EE5\u65B9\u4FBF\u5730\u53D1\u5E03\u5730\u56FE\u6570\u636E\uFF0C\u5141\u8BB8\u7528\u6237\u5BF9\u7279\u5F81\u6570\u636E\u8FDB\u884C\u66F4\u65B0\u3001\u5220\u9664\u3001\u63D2\u5165\u64CD\u4F5C\uFF0C\u901A\u8FC7GeoServer\u53EF\u4EE5\u6BD4\u8F83\u5BB9\u6613\u5730\u5728\u7528\u6237\u4E4B\u95F4\u8FC5\u901F\u5171\u4EAB\u7A7A\u95F4\u5730\u7406\u4FE1\u606F\u3002GeoServer\u662F\u5F00\u6E90\u8F6F\u4EF6\u3002</p><p>GeoServer\u4E3B\u8981\u5305\u542B\u5982\u4E0B\u4E00\u4E9B\u7279\u70B9\uFF1A</p><ul><li><p>\u517C\u5BB9WMS\u548CWFS\u7279\u6027</p></li><li><p>\u652F\u6301PostGIS\u3001Shapefile\u3001ArcSDE\u3001Oracle\u3001VPF\u3001MySQL\u3001MapInfo</p></li><li><p>\u652F\u6301\u4E0A\u767E\u79CD\u6295\u5F71</p></li><li><p>\u80FD\u591F\u5C06\u7F51\u7EDC\u5730\u56FE\u8F93\u51FA\u4E3AJPEG\u3001GIF\u3001PNG\u3001SVG\u3001KML\u7B49\u683C\u5F0F</p></li><li><p>\u80FD\u591F\u8FD0\u884C\u5728\u4EFB\u4F55\u57FA\u4E8EJ2EE/Servlet\u5BB9\u5668\u4E4B\u4E0A</p></li><li><p>\u5D4C\u5165MapBuilder\u652F\u6301AJAX\u7684\u5730\u56FE\u5BA2\u6237\u7AEFOpenLayers</p></li></ul>",3),Hp={href:"https://blog.csdn.net/qq_35732147/article/details/81869864",target:"_blank",rel:"noopener noreferrer"},Qp=s("\u5F15\u7528\u5730\u5740"),Zp=p('<h1 id="wms-wfs" tabindex="-1"><a class="header-anchor" href="#wms-wfs" aria-hidden="true">#</a> WMS &amp;&amp; WFS</h1><p>WMS\u662F\u7531\u670D\u52A1\u5668\u5C06\u4E00\u5730\u56FE\u56FE\u50CF\u53D1\u9001\u7ED9\u5BA2\u6237\u7AEF\uFF0C\u800CWFS\u662F\u670D\u52A1\u5668\u5C06\u77E2\u91CF\u6570\u636E\u53D1\u9001\u7ED9\u5BA2\u6237\u7AEF\uFF0C\u4E5F\u5C31\u662F\u5728\u4F7F\u7528WMS\u65F6\u5730\u56FE\u7531\u670D\u52A1\u5668\u7ED8\u5236\uFF0C\u5728\u4F7F\u7528WFS\u65F6\u5730\u56FE\u7531\u5BA2\u6237\u7AEF\u7ED8\u5236\u3002</p><h2 id="wms" tabindex="-1"><a class="header-anchor" href="#wms" aria-hidden="true">#</a> WMS</h2><h3 id="_1-2-1-wms\u670D\u52A1\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#_1-2-1-wms\u670D\u52A1\u7B80\u4ECB" aria-hidden="true">#</a> 1.2.1 WMS\u670D\u52A1\u7B80\u4ECB</h3><p>Web Map Service\uFF08\u7F51\u7EDC\u5730\u56FE\u670D\u52A1\uFF09\uFF0C\u7B80\u79F0WMS\uFF0C\u7531\u5F00\u653E\u5730\u7406\u4FE1\u606F\u8054\u76DF\uFF08Open GeoSpatial Consortium\uFF0COGC\uFF09\u5236\u5B9A\u3002\u8BE5\u89C4\u8303\u5B9A\u4E49\u4E86Web\u5BA2\u6237\u7AEF\u4ECE\u7F51\u7EDC\u5730\u56FE\u670D\u52A1\u5668\u83B7\u53D6\u5730\u56FE\u7684\u63A5\u53E3\u6807\u51C6\u3002\u4E00\u4E2AWMS\u53EF\u4EE5\u52A8\u6001\u5730\u751F\u6210\u5177\u6709\u5730\u7406\u53C2\u8003\u6570\u636E\u7684\u5730\u56FE\uFF0C\u8FD9\u4E9B\u5730\u56FE\u901A\u5E38\u7528GIF\u3001JPEG\u6216PNG\u7B49\u56FE\u50CF\u683C\u5F0F\u7B49\uFF0C\u4F7F\u7528\u8005\u901A\u8FC7\u6307\u5B9A\u7684\u53C2\u6570\u83B7\u53D6\u76F8\u5E94\u7684\u5730\u56FE\u56FE\u7247\u3002</p><h3 id="_1-2-2-\u670D\u52A1\u64CD\u4F5C\u5217\u8868" tabindex="-1"><a class="header-anchor" href="#_1-2-2-\u670D\u52A1\u64CD\u4F5C\u5217\u8868" aria-hidden="true">#</a> 1.2.2 \u670D\u52A1\u64CD\u4F5C\u5217\u8868</h3><p>WMS\u5B9E\u73B0\u89C4\u8303\u7531\u4E09\u4E2A\u57FA\u7840\u6027\u64CD\u4F5C\u534F\u8BAE(GetCapabilities\uFF0CGetMap\u548CGetFeatureInfo)\u7EC4\u6210\uFF0C\u8FD9\u4E9B\u534F\u8BAE\u5171\u540C\u6784\u6210\u4E86\u5229\u7528WMS\u521B\u5EFA\u548C\u53E0\u52A0\u663E\u793A\u4E0D\u540C\u6765\u6E90\u7684\u8FDC\u7A0B\u5F02\u6784\u5730\u56FE\u670D\u52A1\u7684\u57FA\u7840\u3002WMS\u670D\u52A1\u64CD\u4F5C\u5217\u8868\u89C1\u4E0B\u8868\u6240\u793A\u3002</p><table><thead><tr><th>\u64CD\u4F5C</th><th>\u5B9E\u73B0\u8981\u6C42</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>GetCapabilities</td><td>\u5F3A\u5236\u5B9E\u73B0</td><td>\u6682\u5173\u95ED</td></tr><tr><td>GetMap</td><td>\u5F3A\u5236\u5B9E\u73B0</td><td>\u83B7\u53D6\u5730\u56FE\u56FE\u7247\u3002\u8BE5\u64CD\u4F5C\u6839\u636E\u5BA2\u6237\u7AEF\u53D1\u51FA\u7684\u8BF7\u6C42\u53C2\u6570\u5728\u670D\u52A1\u7AEF\u8FDB\u884C\u68C0\u7D22\uFF0C\u670D\u52A1\u5668\u7AEF\u8FD4\u56DE\u4E00\u4E2A\u5730\u56FE\u56FE\u50CF\uFF0C\u5176\u5730\u7406\u7A7A\u95F4\u53C2\u6570\u548C\u5927\u5C0F\u53C2\u6570\u662F\u5DF2\u7ECF\u660E\u786E\u5B9A\u4E49\u7684\uFF0C\u8FD4\u56DE\u7684\u5730\u56FE\u56FE\u50CF\u53EF\u4EE5\u662FGIF\u3001JPEG\u3001PNG\u6216SVG\u683C\u5F0F\u3002</td></tr><tr><td>GetFeatureInfo</td><td>\u9009\u62E9\u5B9E\u73B0</td><td></td></tr></tbody></table><h3 id="_1-2-3\u670D\u52A1\u64CD\u4F5C\u7684\u53C2\u6570\u5217\u8868" tabindex="-1"><a class="header-anchor" href="#_1-2-3\u670D\u52A1\u64CD\u4F5C\u7684\u53C2\u6570\u5217\u8868" aria-hidden="true">#</a> 1.2.3\u670D\u52A1\u64CD\u4F5C\u7684\u53C2\u6570\u5217\u8868</h3><table><thead><tr><th>\u53C2\u6570\u540D\u79F0</th><th>\u53C2\u6570\u4E2A\u6570</th><th>\u53C2\u6570\u7C7B\u578B\u548C\u503C</th></tr></thead><tbody><tr><td>service</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u670D\u52A1\u7C7B\u578B\u503C\u4E3A\u201CWMS\u201D</td></tr><tr><td>request</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u8BF7\u6C42\u7684\u64CD\u4F5C\u540D\u79F0\uFF0C\u503C\u4E3A\u201CGetCapabilities\u201D</td></tr><tr><td>version</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u8BF7\u6C42\u7684WMS\u7684\u7248\u672C\u53F7</td></tr><tr><td>format</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>MIME\u7C7B\u578B\uFF0C\u503C\u4E3A\u670D\u52A1\u5143\u6570\u636E\u7684\u8F93\u51FA\u683C\u5F0F</td></tr></tbody></table><p>GetMap\u64CD\u4F5C\u8BF7\u6C42\u65B9\u6CD5\u5B9E\u73B0\u53C2\u6570</p><table><thead><tr><th>\u53C2\u6570\u540D\u79F0</th><th>\u53C2\u6570\u4E2A\u6570</th><th>\u53C2\u6570\u7C7B\u578B\u548C\u503C</th></tr></thead><tbody><tr><td>service</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u670D\u52A1\u7C7B\u578B\u6807\u8BC6\u503C\u4E3A\u201CWMS\u201D</td></tr><tr><td>request</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u201CGetMap\u201D</td></tr><tr><td>version</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u8BF7\u6C42\u7684WMS\u7684\u7248\u672C\u53F7</td></tr><tr><td>layers</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u4E00\u4E2A\u6216\u591A\u4E2A\u5730\u56FE\u56FE\u5C42\u5217\u8868\uFF0C\u591A\u4E2A\u56FE\u5C42\u4E4B\u95F4\u7528\u201D,\u201D\u9694\u5F00</td></tr><tr><td>styles</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u8BF7\u6C42\u56FE\u5C42\u7684\u5730\u56FE\u6E32\u67D3\u6837\u5F0F</td></tr><tr><td>CRS</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u5750\u6807\u53C2\u7167\u7CFB\u7EDF</td></tr><tr><td>BBOX</td><td>1\u4E2A(\u5FC5\u9009)</td><td>Wkt\u683C\u5F0F\uFF0C\u503C\u4E3A\u67D0\u4E2ACRS\u4E0B\u7684\u5730\u56FE\u8FB9\u754C\u8303\u56F4\u7684\u5750\u6807\u5E8F\u5217</td></tr><tr><td>width</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u6574\u578B\u7C7B\u578B\uFF0C\u503C\u4E3A\u5730\u56FE\u56FE\u7247\u7684\u50CF\u7D20\u5BBD\u5EA6</td></tr><tr><td>height</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u6574\u578B\u7C7B\u578B\uFF0C\u503C\u4E3A\u5730\u56FE\u56FE\u7247\u7684\u50CF\u7D20\u9AD8\u5EA6</td></tr><tr><td>format</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u5730\u56FE\u7684\u8F93\u51FA\u683C\u5F0F</td></tr><tr><td>transparent</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3Atrue\u6216\u8005false\uFF0C\u7528\u6765\u8868\u793A\u5730\u56FE\u56FE\u5C42\u662F\u5426\u900F\u660E(\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u662F\u4E0D\u900F\u660E\u7684)</td></tr><tr><td>filter</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>\u8BF7\u6C42\u8981\u7D20\u7684\u8FC7\u6EE4\u6761\u4EF6</td></tr></tbody></table><h3 id="_1-2-4-\u63A5\u53E3\u8C03\u7528\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#_1-2-4-\u63A5\u53E3\u8C03\u7528\u793A\u4F8B" aria-hidden="true">#</a> 1.2.4 \u63A5\u53E3\u8C03\u7528\u793A\u4F8B</h3>',13),Kp=n("thead",null,[n("tr",null,[n("th",null,"\u5B9E\u4F8B\u540D\u79F0"),n("th",null,"\u8C03\u7528\u5B9E\u4F8B")])],-1),ne=n("tr",null,[n("td",null,"GetCapabilities"),n("td",null,"\u6682\u5173\u95ED")],-1),se=n("td",null,"GetMap",-1),ae={href:"http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wms?SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&FORMAT=image%2Fpng&TRANSPARENT=true&LAYERS=gpserver%3Alsyt_dmdz_csbj0619&CQL_FILTER=quxian%3D%27%E6%BB%A8%E6%B1%9F%E5%8C%BA%27&SRS=EPSG%3A4490&STYLES=&WIDTH=768&HEIGHT=546&BBOX=120.05413055419922%2C30.084686279296875%2C120.31780242919922%2C30.272140502929688",target:"_blank",rel:"noopener noreferrer"},te=s("http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wms?SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&FORMAT=image%2Fpng&TRANSPARENT=true&LAYERS=gpserver%3Alsyt_dmdz_csbj0619&CQL_FILTER=quxian%3D'\u6EE8\u6C5F\u533A'&SRS=EPSG%3A4490&STYLES=&WIDTH=768&HEIGHT=546&BBOX=120.05413055419922%2C30.084686279296875%2C120.31780242919922%2C30.272140502929688"),pe=p('<h2 id="wfs" tabindex="-1"><a class="header-anchor" href="#wfs" aria-hidden="true">#</a> WFS</h2><h3 id="_1-3-1-wfs\u670D\u52A1\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#_1-3-1-wfs\u670D\u52A1\u7B80\u4ECB" aria-hidden="true">#</a> 1.3.1 WFS\u670D\u52A1\u7B80\u4ECB</h3><p>Web Feature Service\uFF08\u7F51\u7EDC\u8981\u7D20\u670D\u52A1\uFF09\uFF0C\u7B80\u79F0WFS\uFF0C\u7531\u5F00\u653E\u5730\u7406\u4FE1\u606F\u8054\u76DF\uFF08Open GeoSpatial Consortium\uFF0COGC\uFF09\u5236\u5B9A\u3002\u8BE5\u89C4\u8303\u4E3B\u8981\u5BF9OpenGIS\u7B80\u5355\u8981\u7D20\u7684\u6570\u636E\u7F16\u8F91\u64CD\u4F5C\u8FDB\u884C\u89C4\u8303\uFF0C\u4ECE\u800C\u4F7F\u670D\u52A1\u5668\u7AEF\u548C\u5BA2\u6237\u7AEF\u80FD\u591F\u5728\u8981\u7D20\u5C42\u9762\u8FDB\u884C\u201C\u901A\u8BAF\u201D\u3002\u5176\u8FD4\u56DE\u7ED3\u679C\u7684\u662FXML\u683C\u5F0F\u7684WFS\u670D\u52A1\u5143\u6570\u636E\u6587\u6863\uFF0C\u901A\u8FC7\u8BE5\u6587\u6863\u7528\u6237\u80FD\u591F\u4E86\u89E3\uFF1AWFS\u670D\u52A1\u5668\u652F\u6301\u7684\u6240\u6709\u64CD\u4F5C\u64CD\u4F5C\u5217\u8868\uFF0CGetFeature\u64CD\u4F5C\u8FD4\u56DE\u7684\u6570\u636E\u683C\u5F0F\uFF0C\u53EF\u7528\u7684\u5750\u6807\u53C2\u7167\u7CFB\u7EDF\u5217\u8868\uFF0C\u64CD\u4F5C\u5F02\u5E38\u4FE1\u606F\u7684\u5217\u8868\uFF0CWFS\u670D\u52A1\u63D0\u4F9B\u5546\u7684\u76F8\u5173\u4FE1\u606F\uFF0CWFS\u670D\u52A1\u5668\u7684\u53EF\u7528\u8981\u7D20\u7C7B\u5217\u8868\u7B49\u3002</p><h3 id="_1-3-2-\u670D\u52A1\u64CD\u4F5C\u5217\u8868" tabindex="-1"><a class="header-anchor" href="#_1-3-2-\u670D\u52A1\u64CD\u4F5C\u5217\u8868" aria-hidden="true">#</a> 1.3.2 \u670D\u52A1\u64CD\u4F5C\u5217\u8868</h3><p>WFS\u670D\u52A1\u63A5\u53E3\u89C4\u8303\u5B9A\u4E49\u4E86GetCapabilities\uFF0CDescribeFeatureType\u3001GetFeature\u3001Transaction\u7B49\u64CD\u4F5C\u3002\u5176\u4E2DGetCapabilities\uFF0CDescribeFeatureType\u548CGetFeature\u4E3A\u5FC5\u987B\u5B9E\u73B0\u7684\u64CD\u4F5C\uFF0C\u4E5F\u5373\u53EA\u8981\u5B9E\u73B0\u4E86\u8FD9\u4E09\u4E2A\u64CD\u4F5C\u7684\u670D\u52A1\u5747\u53EF\u79F0\u4E3AWFS\u670D\u52A1\u3002WFS\u7684\u64CD\u4F5C\u89C1\u4E0B\u8868\u6240\u793A\u3002</p><table><thead><tr><th>\u64CD\u4F5C</th><th>\u5B9E\u73B0\u8981\u6C42</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>GetCapabilities</td><td>\u5F3A\u5236\u5B9E\u73B0</td><td>GetCapabilities\u8BF7\u6C42\u7528\u4E8E\u67E5\u8BE2WFS\u670D\u52A1\u7684\u80FD\u529B\u4FE1\u606F\uFF0C\u5305\u62EC\u652F\u6301\u7684\u64CD\u4F5C\u3001\u652F\u6301\u7684\u683C\u5F0F\u3001\u7A7A\u95F4\u5750\u6807\u3001\u5305\u542B\u7684\u8D44\u6E90\u7B49\u3002\u5B83\u4E3B\u8981\u7684\u76EE\u7684\u662F\u4F7F\u5BA2\u6237\u7AEF\u5728\u4F7F\u7528GetFeature\u8BF7\u6C42\u524D\u53EF\u4EE5\u5BF9WFS\u670D\u52A1\u6709\u4E00\u4E2A\u57FA\u672C\u7684\u4E86\u89E3\uFF0C\u4ECE\u800C\u53EF\u4EE5\u8BBE\u7F6E\u6B63\u786E\u7684\u53C2\u6570\u3002</td></tr><tr><td>DescribeFeatureType</td><td>\u5F3A\u5236\u5B9E\u73B0</td><td>\u7528\u4E8E\u751F\u6210\u4E00\u4E2A Schema \u63CF\u8FF0\uFF0C\u8BE5 Schema \u63CF\u8FF0\u4E86 WFS \u670D\u52A1\u63D0\u4F9B\u7684\u8981\u7D20\u7C7B\u578B\uFF08Feature Type\uFF09\uFF0C\u4EE5\u53CA\u8981\u7D20\u7C7B\u578B\u7684\u7ED3\u6784\u4FE1\u606F\u3002\u8BE5 Schema \u8FD8\u5B9A\u4E49\u4E86 WFS \u670D\u52A1\u6240\u671F\u671B\u7684\u8981\u7D20\u5B9E\u4F8B\u5728\u8F93\u5165\u65F6\u5982\u4F55\u7F16\u7801\u4EE5\u53CA\u8F93\u51FA\u65F6\u5982\u4F55\u751F\u6210\u8981\u7D20\u5B9E\u4F8B\u3002</td></tr><tr><td>GetFeature</td><td>\u5F3A\u5236\u5B9E\u73B0</td><td>GetFeature\u7528\u4E8E\u5411WFS\u7684\u5BA2\u6237\u7AEF\u7A0B\u5E8F\u63D0\u4F9B\u67E5\u8BE2\u7279\u5B9A\u5730\u7406\u4FE1\u606F\u7684\u80FD\u529B\uFF0C\u901A\u8FC7GetFeature\u64CD\u4F5C\u53EF\u4EE5\u7531\u6307\u5B9A\u7684\u5C5E\u6027\u6761\u4EF6\u3001\u7A7A\u95F4\u6761\u4EF6\u6216\u8005\u4E24\u8005\u53E0\u52A0\u7684\u6761\u4EF6\u8FDB\u884C\u7A7A\u95F4\u67E5\u8BE2\u3002</td></tr><tr><td>Transaction</td><td>\u9009\u62E9\u5B9E\u73B0</td><td>\u5141\u8BB8Transaction\u64CD\u4F5C\uFF0C\u4F7F\u5BA2\u6237\u7AEF\u53EF\u5BF9\u670D\u52A1\u5668\u7AEF\u6240\u63D0\u4F9B\u7684\u5730\u56FE\u8981\u7D20\u7C7B\u6267\u63D2\u5165\uFF0C\u66F4\u65B0\uFF0C\u5220\u9664\u7B49\u547D\u4EE4</td></tr></tbody></table><h3 id="_1-3-3\u670D\u52A1\u64CD\u4F5C\u7684\u53C2\u6570\u5217\u8868" tabindex="-1"><a class="header-anchor" href="#_1-3-3\u670D\u52A1\u64CD\u4F5C\u7684\u53C2\u6570\u5217\u8868" aria-hidden="true">#</a> 1.3.3\u670D\u52A1\u64CD\u4F5C\u7684\u53C2\u6570\u5217\u8868</h3><p>GetCapabilities\u64CD\u4F5C\u8BF7\u6C42\u65B9\u6CD5\u5B9E\u73B0\u53C2\u6570</p><table><thead><tr><th>\u53C2\u6570\u540D\u79F0</th><th>\u53C2\u6570\u4E2A\u6570</th><th>\u53C2\u6570\u7C7B\u578B\u548C\u503C</th></tr></thead><tbody><tr><td>service</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u670D\u52A1\u7C7B\u578B\u503C\u4E3A\u201CWFS\u201D</td></tr><tr><td>request</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u8BF7\u6C42\u7684\u64CD\u4F5C\u540D\u79F0\uFF0C\u503C\u4E3A\u201CGetCapabilities\u201D</td></tr><tr><td>versions</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u8BF7\u6C42\u7684WFS\u7684\u7248\u672C\u53F7</td></tr></tbody></table><p>DescribeFeatureType\u64CD\u4F5C\u8BF7\u6C42\u65B9\u6CD5\u5B9E\u73B0\u53C2\u6570</p><table><thead><tr><th>\u53C2\u6570\u540D\u79F0</th><th>\u53C2\u6570\u4E2A\u6570</th><th>\u53C2\u6570\u7C7B\u578B\u548C\u503C</th></tr></thead><tbody><tr><td>service</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u670D\u52A1\u7C7B\u578B\u503C\u4E3A\u201CWFS\u201D</td></tr><tr><td>request</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u8BF7\u6C42\u7684\u64CD\u4F5C\u540D\u79F0\uFF0C\u503C\u4E3A\u201CDescribeFeatureType\u201D</td></tr><tr><td>typeName</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u8981\u7D20\u7C7B\u578B\u7684\u5217\u8868\uFF0C\u591A\u4E2A\u503C\u4E4B\u95F4\u7528\u201C\uFF0C\u201D\u9694\u5F00\uFF0C\u9ED8\u8BA4\u89E3\u6790\u5305\u62EC\u7684\u5168\u90E8\u8981\u7D20\u7C7B\u578B</td></tr><tr><td>outputFormat</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>MIME\u7C7B\u578B\uFF0C\u503C\u4E3A\u8F93\u51FA\u683C\u5F0F</td></tr></tbody></table><p>GetFeature\u64CD\u4F5C\u8BF7\u6C42\u65B9\u6CD5\u5B9E\u73B0\u53C2\u6570</p><table><thead><tr><th>\u53C2\u6570\u540D\u79F0</th><th>\u53C2\u6570\u4E2A\u6570</th><th>\u53C2\u6570\u7C7B\u578B\u548C\u503C</th></tr></thead><tbody><tr><td>service</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u670D\u52A1\u7C7B\u578B\u6807\u8BC6\u503C\u4E3A\u201CWFS\u201D</td></tr><tr><td>request</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u8BF7\u6C42\u7684\u64CD\u4F5C\u503C\u4E3A\u201CGetFeature\u201D</td></tr><tr><td>typeName</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u8BF7\u6C42\u7684\u8981\u7D20\u7C7B\u578B\u7684\u540D\u79F0\uFF0C\u591A\u4E2A\u540D\u79F0\u4E4B\u95F4\u7528\u201C\uFF0C\u201D\u9694\u5F00</td></tr><tr><td>version</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u8BF7\u6C42\u7684WFS\u7684\u7248\u672C\u53F7</td></tr><tr><td>outputFormat</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>MIME\u7C7B\u578B\uFF0C\u503C\u4E3A\u8F93\u51FA\u683C\u5F0F</td></tr><tr><td>resultType</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u8BF7\u6C42\u7684\u7ED3\u679C\u7C7B\u578B</td></tr><tr><td>propertyName</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u8BF7\u6C42\u8981\u7D20\u7684\u5C5E\u6027\u540D\uFF0C\u591A\u4E2A\u503C\u4E4B\u95F4\u7528\u201C\uFF0C\u201D\u9694\u5F00</td></tr><tr><td>featureVersion</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u8981\u7D20\u7684\u7248\u672C\uFF0C\u503C\u4E3AALL\u8FD4\u56DE\u8BF7\u6C42\u7684\u8981\u7D20\u7684\u6240\u6709\u7248\u672C\uFF0C\u6CA1\u6709\u503C\u9ED8\u8BA4\u4E3A\u8FD4\u56DE\u8BF7\u6C42\u8981\u7D20\u7684\u6700\u65B0\u7248\u672C</td></tr><tr><td>maxFeature</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>\u6574\u578B\u7C7B\u578B\uFF0C\u503C\u4E3A\u8BF7\u6C42\u8981\u7D20\u7684\u6700\u5927\u6570\uFF0C\u9ED8\u8BA4\u503C\u4E3A\u6EE1\u8DB3\u67E5\u8BE2\u7684\u6240\u6709\u7ED3\u679C\u96C6</td></tr><tr><td>expiry</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>\u6570\u5B57\u7C7B\u578B\uFF0C\u8981\u7D20\u88AB\u9501\u5B9A\u7684\u65F6\u95F4</td></tr><tr><td>SRSName</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u5750\u6807\u7CFB\u7EDF\u540D</td></tr><tr><td>featureID</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u8981\u7D20\u7684ID\uFF0C\u591A\u4E2AID\u4E4B\u95F4\u7528\u201C\uFF0C\u201D\u9694\u5F00</td></tr><tr><td>filter</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>\u8BF7\u6C42\u8981\u7D20\u7684\u8FC7\u6EE4\u6761\u4EF6</td></tr><tr><td>bBox</td><td>0\u62161\u4E2A(\u53EF\u9009)</td><td>Wkt\u683C\u5F0F\uFF0C\u8BF7\u6C42\u6307\u5B9A\u8981\u7D20\u67E5\u8BE2\u8303\u56F4\uFF0C\u53EF\u4EE5\u66FF\u4EE3featureId\u548Cfilter\u53C2\u6570</td></tr></tbody></table><h3 id="_1-3-4-\u63A5\u53E3\u8C03\u7528\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#_1-3-4-\u63A5\u53E3\u8C03\u7528\u793A\u4F8B" aria-hidden="true">#</a> 1.3.4 \u63A5\u53E3\u8C03\u7528\u793A\u4F8B</h3>',14),ee=n("thead",null,[n("tr",null,[n("th",null,"\u5B9E\u4F8B\u540D\u79F0"),n("th",null,"\u8C03\u7528\u5B9E\u4F8B")])],-1),oe=n("td",null,"GetCapabilities",-1),ce={href:"http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wfs?service=wfs&version=1.1.0&request=getcapabilities",target:"_blank",rel:"noopener noreferrer"},le=s("http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wfs?service=wfs&version=1.1.0&request=getcapabilities"),ie=n("td",null,"DescribeFeatureType",-1),ue={href:"http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&version=1.1.0&request=describefeaturetype&typename=lsyt_dmdz_csbj0619",target:"_blank",rel:"noopener noreferrer"},re=s("http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_qxbj0619/MapServer/wfs?service=wfs&version=1.1.0&request=describefeaturetype&typename=lsyt_dmdz_csbj0619"),ke=n("td",null,"GetFeature",-1),de={href:"http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wfs?service=wfs&version=1.1.0&request=getfeature&typename=lsyt_dmdz_csbj0619&outputFormat=json&CQL_FILTER=zhenjie=%27%E9%97%B2%E6%9E%97%E8%A1%97%E9%81%93%27",target:"_blank",rel:"noopener noreferrer"},ve=s("http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/lsyt_dmdz_csbj0619/MapServer/wfs?service=wfs&version=1.1.0&request=getfeature&typename=lsyt_dmdz_csbj0619&outputFormat=json&CQL_FILTER=zhenjie='\u95F2\u6797\u8857\u9053'"),me=p('<h1 id="wmts" tabindex="-1"><a class="header-anchor" href="#wmts" aria-hidden="true">#</a> WMTS</h1><h2 id="wmts-1" tabindex="-1"><a class="header-anchor" href="#wmts-1" aria-hidden="true">#</a> WMTS</h2><h3 id="_1-1-wmts\u670D\u52A1\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#_1-1-wmts\u670D\u52A1\u7B80\u4ECB" aria-hidden="true">#</a> 1.1 WMTS\u670D\u52A1\u7B80\u4ECB</h3><p>\u200B Web Map Tile Service\uFF08\u7F51\u7EDC\u5730\u56FE\u74E6\u7247\u670D\u52A1\uFF09\uFF0C\u7B80\u79F0WMTS\uFF0C\u7531\u5F00\u653E\u5730\u7406\u4FE1\u606F\u8054\u76DF\uFF08Open GeoSpatial Consortium\uFF0COGC\uFF09\u5236\u5B9A\uFF0C\u662F\u548CWMS\u5E76\u5217\u7684\u91CD\u8981OGC\u89C4\u8303\u4E4B\u4E00\u3002WMTS\u6807\u51C6\u5B9A\u4E49\u4E86\u4E00\u4E9B\u64CD\u4F5C\uFF0C\u8FD9\u4E9B\u64CD\u4F5C\u5141\u8BB8\u7528\u6237\u8BBF\u95EE\u5207\u7247\u5730\u56FE\uFF0C\u662FOGC\u9996\u4E2A\u652F\u6301RESTful\u8BBF\u95EE\u7684\u670D\u52A1\u6807\u51C6\u3002WMTS\u4E0D\u540C\u4E8EWMS,\u5B83\u6700\u91CD\u8981\u7684\u7279\u5F81\u662F\u91C7\u7528\u7F13\u5B58\u6280\u672F\u80FD\u591F\u7F13\u89E3WebGIS\u670D\u52A1\u5668\u7AEF\u6570\u636E\u5904\u7406\u7684\u538B\u529B\uFF0C\u63D0\u9AD8\u4EA4\u4E92\u54CD\u5E94\u901F\u5EA6\uFF0C\u5927\u5E45\u6539\u5584\u5728\u7EBF\u5730\u56FE\u5E94\u7528\u5BA2\u6237\u7AEF\u7684\u7528\u6237\u4F53\u9A8C\u3002WMTS\u662FOGC\u4E3B\u63A8\u7684\u7F13\u5B58\u6280\u672F\u89C4\u8303\uFF0C\u662F\u76EE\u524D\u5404\u79CD\u7F13\u5B58\u6280\u672F\u76F8\u4E92\u517C\u5BB9\u7684\u4E00\u79CD\u65B9\u6CD5\u3002</p><p>WMTS\u7684\u5207\u7247\u5750\u6807\u7CFB\u7EDF\u548C\u5176\u7EC4\u7EC7\u65B9\u5F0F\u53EF\u53C2\u8003\u4E0B\u56FE\uFF1A</p><p><img src="http://qnimg.gisfsde.com/work/clip_image001.png" alt="\u8FD9\u91CC\u5199\u56FE\u7247\u63CF\u8FF0" loading="lazy"></p><h3 id="_1-2-\u670D\u52A1\u64CD\u4F5C\u5217\u8868" tabindex="-1"><a class="header-anchor" href="#_1-2-\u670D\u52A1\u64CD\u4F5C\u5217\u8868" aria-hidden="true">#</a> 1.2 \u670D\u52A1\u64CD\u4F5C\u5217\u8868</h3><p>WMTS\u670D\u52A1\u652F\u6301RESTful\u8BBF\u95EE\uFF0C\u5176\u63A5\u53E3\u5305\u62ECGetCapabilities\u3001GetTile\u548CGetFeatureInfo3\u4E2A\u64CD\u4F5C\uFF0C\u8FD9\u4E9B\u64CD\u4F5C\u5141\u8BB8\u7528\u6237\u8BBF\u95EE\u5207\u7247\u5730\u56FE\u3002</p><table><thead><tr><th>\u64CD\u4F5C</th><th>\u64CD\u4F5C</th><th>\u63CF\u8FF0</th></tr></thead><tbody><tr><td>GetCapabilities</td><td>\u5F3A\u5236\u5B9E\u73B0</td><td>\u83B7\u53D6WMTS\u7684\u80FD\u529B\u6587\u6863\uFF08\u5373\u5143\u6570\u636E\u6587\u6863\uFF09\uFF0C\u91CC\u9762\u5305\u542B\u670D\u52A1\u7684\u4FE1\u606F</td></tr><tr><td>GetTile</td><td>\u5F3A\u5236\u5B9E\u73B0</td><td>\u8BE5\u64CD\u4F5C\u6839\u636E\u5BA2\u6237\u7AEF\u53D1\u51FA\u7684\u8BF7\u6C42\u53C2\u6570\u5728\u670D\u52A1\u7AEF\u8FDB\u884C\u68C0\u7D22\uFF0C\u670D\u52A1\u5668\u7AEF\u8FD4\u56DE\u5730\u56FE\u74E6\u7247\u56FE\u50CF</td></tr><tr><td>GetFeatureInfo</td><td>\u9009\u62E9\u5B9E\u73B0</td><td></td></tr></tbody></table><h3 id="_1-3-\u670D\u52A1\u64CD\u4F5C\u7684\u53C2\u6570\u5217\u8868" tabindex="-1"><a class="header-anchor" href="#_1-3-\u670D\u52A1\u64CD\u4F5C\u7684\u53C2\u6570\u5217\u8868" aria-hidden="true">#</a> 1.3 \u670D\u52A1\u64CD\u4F5C\u7684\u53C2\u6570\u5217\u8868</h3><p>GetCapabilities\u64CD\u4F5C\u8BF7\u6C42\u65B9\u6CD5\u5B9E\u73B0\u53C2\u6570</p><table><thead><tr><th>\u53C2\u6570\u540D\u79F0</th><th>\u53C2\u6570\u4E2A\u6570</th><th>\u53C2\u6570\u7C7B\u578B\u548C\u503C</th></tr></thead><tbody><tr><td>service</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u670D\u52A1\u7C7B\u578B\u503C\u4E3A\u201CWMTS\u201D</td></tr><tr><td>request</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u8BF7\u6C42\u7684\u64CD\u4F5C\u540D\u79F0\uFF0C\u503C\u4E3A\u201CGetCapabilities\u201D</td></tr></tbody></table><p>GetTile\u64CD\u4F5C\u8BF7\u6C42\u65B9\u6CD5\u5B9E\u73B0\u53C2\u6570</p><table><thead><tr><th>\u53C2\u6570\u540D\u79F0</th><th>\u53C2\u6570\u4E2A\u6570</th><th>\u53C2\u6570\u7C7B\u578B\u548C\u503C</th></tr></thead><tbody><tr><td>service</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u670D\u52A1\u7C7B\u578B\u6807\u8BC6\u503C\u4E3A\u201CWMTS\u201D</td></tr><tr><td>request</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u8BF7\u6C42\u7684\u64CD\u4F5C\u503C\u4E3A\u201CGetTile\u201D</td></tr><tr><td>version</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u8BF7\u6C42\u7684WMTS\u7684\u7248\u672C\u53F7</td></tr><tr><td>layer</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u8BF7\u6C42\u7684\u56FE\u5C42\u540D\u79F0</td></tr><tr><td>style</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u8BF7\u6C42\u56FE\u5C42\u7684\u6E32\u67D3\u6837\u5F0F</td></tr><tr><td>format</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u503C\u4E3A\u74E6\u7247\u5730\u56FE\u7684\u8F93\u51FA\u683C\u5F0F</td></tr><tr><td>tileMatrixSet</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u74E6\u7247\u77E9\u9635\u6570\u636E\u96C6\uFF0C\u5176\u503C\u5728\u670D\u52A1\u7684\u5143\u6570\u636E\u6587\u6863\u4E2D\u6307\u5B9A</td></tr><tr><td>tileMatrix</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u5B57\u7B26\u7C7B\u578B\uFF0C\u74E6\u7247\u77E9\u9635\uFF0C\u5176\u503C\u5728\u670D\u52A1\u7684\u5143\u6570\u636E\u6587\u6863\u4E2D\u6307\u5B9A</td></tr><tr><td>tileRow</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u6574\u578B\u7C7B\u578B\uFF0C\u503C\u4E3A\u5927\u4E8E0\u7684\u6574\u6570\uFF0C\u8868\u793A\u74E6\u7247\u77E9\u9635\u7684\u884C\u53F7</td></tr><tr><td>tileCol</td><td>1\u4E2A(\u5FC5\u9009)</td><td>\u6574\u578B\u7C7B\u578B\uFF0C\u503C\u4E3A\u5927\u4E8E0\u7684\u6574\u6570\uFF0C\u8868\u793A\u74E6\u7247\u77E9\u9635\u7684\u5217\u53F7</td></tr></tbody></table><h3 id="_1-4\u63A5\u53E3\u8C03\u7528\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#_1-4\u63A5\u53E3\u8C03\u7528\u793A\u4F8B" aria-hidden="true">#</a> 1.4\u63A5\u53E3\u8C03\u7528\u793A\u4F8B</h3>',15),be=n("thead",null,[n("tr",null,[n("th",null,"\u5B9E\u4F8B\u540D\u79F0"),n("th",null,"\u8C03\u7528\u5B9E\u4F8B")])],-1),ge=n("td",null,"GetCapabilities\u64CD\u4F5C",-1),ye={href:"http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/WMTS?service=wmts&request=GetCapabilities",target:"_blank",rel:"noopener noreferrer"},he=s("http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/WMTS?service=wmts&request=GetCapabilities"),qe=n("td",null,"GetTile\u64CD\u4F5C",-1),fe={href:"http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/WMTS?service=wmts&request=getTile&version=1.0.0&layer=hzsyvector&Style=&tilematrixset=hzsyvector&tilematrix=3&tilerow=5&tilecol=7&format=png",target:"_blank",rel:"noopener noreferrer"},we=s("http://172.18.109.232:8080/68DE38F71E38CD8C508FAB3035752EA8ED8F9221EDE18FDBE593B01FCDD12BD296F09FE27CD7D2733AD075EAF994851B/PBS/rest/services/hzsyvector/Mapserver/WMTS?service=wmts&request=getTile&version=1.0.0&layer=hzsyvector&Style=&tilematrixset=hzsyvector&tilematrix=3&tilerow=5&tilecol=7&format=png"),_e=s(" ****");function Ee(De,xe){const a=o("ExternalLinkIcon");return c(),l("div",null,[u,n("h3",r,[k,d,n("a",v,[m,t(a)])]),b,n("ol",null,[n("li",null,[n("h4",g,[y,h,n("a",q,[f,t(a)])]),w,n("p",null,[n("a",_,[E,t(a)])]),D]),x,n("li",null,[j,n("p",null,[n("a",S,[F,t(a)])])]),C,n("li",null,[B,n("p",null,[n("a",A,[P,t(a)]),n("a",M,[L,t(a)]),n("a",T,[G,t(a)])]),I,n("p",null,[n("a",z,[W,t(a)]),O,n("a",R,[V,t(a)]),N,n("a",J,[Y,t(a)]),U]),$,X]),H,n("li",null,[Q,n("p",null,[n("a",Z,[K,t(a)])]),nn,sn]),an,n("li",null,[tn,pn,n("p",null,[n("a",en,[on,t(a)])])]),cn,n("li",null,[ln,un,n("p",null,[n("a",rn,[kn,t(a)])])]),dn]),vn,n("p",null,[mn,bn,n("a",gn,[yn,t(a)]),hn,qn,n("a",fn,[wn,t(a)]),_n,En,n("a",Dn,[xn,t(a)])]),jn,n("p",null,[Sn,Fn,n("a",Cn,[Bn,t(a)]),An,Pn,n("a",Mn,[Ln,t(a)])]),Tn,n("p",null,[Gn,n("a",In,[zn,t(a)])]),Wn,n("h1",On,[Rn,Vn,n("a",Nn,[Jn,t(a)])]),Yn,Un,$n,Xn,n("p",null,[n("a",Hn,[Qn,t(a)])]),n("p",null,[n("a",Zn,[Kn,t(a)])]),n("p",null,[n("a",ns,[ss,t(a)])]),n("p",null,[as,n("a",ts,[ps,t(a)])]),es,n("p",null,[n("a",os,[cs,t(a)]),ls]),is,n("table",null,[n("thead",null,[n("tr",null,[n("th",null,[n("a",us,[rs,t(a)])]),ks])]),n("tbody",null,[n("tr",null,[n("td",null,[n("a",ds,[vs,t(a)])]),ms]),n("tr",null,[n("td",null,[n("a",bs,[gs,t(a)])]),ys]),n("tr",null,[n("td",null,[n("a",hs,[qs,t(a)])]),fs]),n("tr",null,[n("td",null,[n("a",ws,[_s,t(a)])]),Es])])]),Ds,n("table",null,[n("thead",null,[n("tr",null,[n("th",null,[n("a",xs,[js,t(a)])]),Ss])]),n("tbody",null,[n("tr",null,[n("td",null,[n("a",Fs,[Cs,t(a)])]),Bs]),n("tr",null,[n("td",null,[n("a",As,[Ps,t(a)])]),Ms]),n("tr",null,[n("td",null,[n("a",Ls,[Ts,t(a)])]),Gs]),n("tr",null,[n("td",null,[n("a",Is,[zs,t(a)])]),Ws]),n("tr",null,[n("td",null,[n("a",Os,[Rs,t(a)])]),Vs]),n("tr",null,[n("td",null,[n("a",Ns,[Js,t(a)])]),Ys])])]),Us,n("p",null,[n("a",$s,[Xs,t(a)])]),Hs,Qs,Zs,n("p",null,[n("a",Ks,[na,t(a)]),sa]),aa,n("p",null,[n("a",ta,[pa,t(a)])]),ea,n("p",null,[n("a",oa,[ca,t(a)])]),n("blockquote",null,[n("p",null,[n("a",la,[ia,t(a)]),ua,n("a",ra,[ka,t(a)]),da]),n("p",null,[n("a",va,[ma,t(a)]),ba,n("a",ga,[ya,t(a)]),ha,n("a",qa,[fa,t(a)]),wa,n("a",_a,[Ea,t(a)]),Da,n("a",xa,[ja,t(a)]),Sa]),n("p",null,[n("a",Fa,[Ca,t(a)]),Ba,n("a",Aa,[Pa,t(a)]),Ma]),n("p",null,[n("a",La,[Ta,t(a)]),Ga,n("a",Ia,[za,t(a)]),Wa,n("a",Oa,[Ra,t(a)]),Va,n("a",Na,[Ja,t(a)]),Ya]),n("p",null,[n("a",Ua,[$a,t(a)]),Xa,n("a",Ha,[Qa,t(a)]),Za,n("a",Ka,[nt,t(a)]),st,n("a",at,[tt,t(a)]),pt]),n("p",null,[et,n("a",ot,[ct,t(a)]),lt,n("a",it,[ut,t(a)]),rt]),n("p",null,[n("a",kt,[dt,t(a)]),vt,n("a",mt,[bt,t(a)]),gt]),n("p",null,[n("a",yt,[ht,t(a)]),qt,n("a",ft,[wt,t(a)]),_t,n("a",Et,[Dt,t(a)]),xt,n("a",jt,[St,t(a)]),Ft]),n("p",null,[Ct,n("a",Bt,[At,t(a)]),Pt]),n("p",null,[Mt,n("a",Lt,[Tt,t(a)]),Gt,It,zt]),n("p",null,[n("a",Wt,[Ot,t(a)]),Rt]),n("p",null,[n("a",Vt,[Nt,t(a)]),Jt])]),Yt,n("h1",Ut,[$t,Xt,n("a",Ht,[Qt,t(a)])]),Zt,n("p",null,[Kt,n("a",np,[sp,t(a)])]),ap,n("p",null,[tp,n("a",pp,[ep,t(a)])]),op,n("p",null,[cp,n("a",lp,[ip,t(a)])]),up,n("p",null,[rp,n("a",kp,[dp,t(a)]),vp,n("a",mp,[bp,t(a)]),gp,n("a",yp,[hp,t(a)]),qp]),fp,n("h1",wp,[_p,Ep,n("a",Dp,[xp,t(a)])]),n("blockquote",null,[n("p",null,[jp,n("a",Sp,[Fp,t(a)]),Cp,n("a",Bp,[Ap,t(a)]),Pp]),Mp]),n("p",null,[Lp,n("a",Tp,[Gp,t(a)])]),n("h4",Ip,[zp,Wp,n("a",Op,[Rp,t(a)])]),Vp,n("h1",Np,[Jp,Yp,n("a",Up,[$p,t(a)])]),Xp,n("blockquote",null,[n("p",null,[n("a",Hp,[Qp,t(a)])])]),Zp,n("table",null,[Kp,n("tbody",null,[ne,n("tr",null,[se,n("td",null,[n("a",ae,[te,t(a)])])])])]),pe,n("table",null,[ee,n("tbody",null,[n("tr",null,[oe,n("td",null,[n("a",ce,[le,t(a)])])]),n("tr",null,[ie,n("td",null,[n("a",ue,[re,t(a)])])]),n("tr",null,[ke,n("td",null,[n("a",de,[ve,t(a)])])])])]),me,n("table",null,[be,n("tbody",null,[n("tr",null,[ge,n("td",null,[n("a",ye,[he,t(a)])])]),n("tr",null,[qe,n("td",null,[n("a",fe,[we,t(a)]),_e])])])])])}var Fe=e(i,[["render",Ee],["__file","GIS.html.vue"]]);export{Fe as default};
