import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";import{r,o as d,c as l,a as e,b as t,d as n,e as i}from"./app.95807bc9.js";const o={},c=e("blockquote",null,[e("p",null,"MySql\u77E5\u8BC6\u53CA\u4F18\u5316")],-1),h=n("\u76F8\u5173\u8D44\u6E90\uFF1A"),u={href:"https://www.bilibili.com/video/BV1KW411u7vy?spm_id_from=333.337.search-card.all.click",target:"_blank",rel:"noopener noreferrer"},p=n("\u4F18\u5316\u89C6\u9891"),m=n("\u3001"),b={href:"https://dev.mysql.com/doc/refman/5.7/en/",target:"_blank",rel:"noopener noreferrer"},g=n("\u5B98\u65B9\u6587\u6863"),v=n("\u3001"),y={href:"https://www.bilibili.com/video/BV1iq4y1u7vj?spm_id_from=333.999.0.0",target:"_blank",rel:"noopener noreferrer"},_=n("\u57FA\u7840\u89C6\u9891"),f=i('<h1 id="mysql\u57FA\u7840" tabindex="-1"><a class="header-anchor" href="#mysql\u57FA\u7840" aria-hidden="true">#</a> MySQL\u57FA\u7840</h1><h2 id="\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u6570\u636E\u5E93" aria-hidden="true">#</a> \u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u6570\u636E\u5E93</h2><p><strong>\u5185\u5B58</strong><br> \u4F18\uFF1A \u5B58\u53D6\u901F\u5EA6\u5FEB\uFF1B\u7F3A\uFF1A \u6570\u636E\u4E0D\u80FD\u6C38\u4E45\u4FDD\u5B58</p><p><strong>\u6587\u4EF6</strong><br> \u4F18\uFF1A \u6570\u636E\u6C38\u4E45\u4FDD\u5B58\uFF1B\u7F3A\uFF1A1\uFF09\u901F\u5EA6\u6BD4\u5185\u5B58\u64CD\u4F5C\u6162\uFF0C\u9891\u7E41\u7684IO\u64CD\u4F5C 2\uFF09\u67E5\u8BE2\u4E0D\u65B9\u4FBF</p><p><strong>\u6570\u636E\u5E93</strong> 1\uFF09\u6570\u636E\u6C38\u4E45\u4FDD\u5B58 2\uFF09\u4F7F\u7528SQL\u8BED\u53E5\uFF0C\u67E5\u8BE2\u65B9\u4FBF\u6548\u7387\u9AD8\u30023\uFF09\u7BA1\u7406\u6570\u636E\u65B9\u4FBF</p><h2 id="\u4EC0\u4E48\u662Fsql" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662Fsql" aria-hidden="true">#</a> \u4EC0\u4E48\u662FSQL\uFF1F</h2><p>\u7ED3\u6784\u5316\u67E5\u8BE2\u8BED\u8A00(Structured Query Language)\uFF0C\u7528\u4E8E\u5B58\u53D6\u6570\u636E\u3001\u67E5\u8BE2\u3001\u66F4\u65B0\u548C\u7BA1\u7406\u5173\u7CFB\u6570\u636E\u5E93\u7CFB\u7EDF\u7684\u6570\u636E\u5E93\u67E5\u8BE2\u8BED\u8A00</p><h2 id="\u4EC0\u4E48\u662Fmysql" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662Fmysql" aria-hidden="true">#</a> \u4EC0\u4E48\u662FMySQL?</h2><p>\u5173\u7CFB\u578B\u6570\u636E\u5E93\u7BA1\u7406\u7CFB\u7EDF</p><h2 id="\u6570\u636E\u5E93\u4E09\u5927\u8303\u5F0F\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5E93\u4E09\u5927\u8303\u5F0F\u662F\u4EC0\u4E48" aria-hidden="true">#</a> \u6570\u636E\u5E93\u4E09\u5927\u8303\u5F0F\u662F\u4EC0\u4E48</h2><p><strong>\u7B2C\u4E00\u8303\u5F0F</strong>\uFF1A\u6BCF\u4E2A\u5217\u90FD\u4E0D\u53EF\u4EE5\u518D\u62C6\u5206\u3002<br><strong>\u7B2C\u4E8C\u8303\u5F0F</strong>\uFF1A\u5728\u7B2C\u4E00\u8303\u5F0F\u7684\u57FA\u7840\u4E0A\uFF0C\u975E\u4E3B\u952E\u5217\u5B8C\u5168\u4F9D\u8D56\u4E8E\u4E3B\u952E\uFF0C\u800C\u4E0D\u80FD\u662F\u4F9D\u8D56\u4E8E\u4E3B\u952E\u7684\u4E00\u90E8\u5206\u3002 <strong>\u7B2C\u4E09\u8303\u5F0F</strong>\uFF1A\u5728\u7B2C\u4E8C\u8303\u5F0F\u7684\u57FA\u7840\u4E0A\uFF0C\u975E\u4E3B\u952E\u5217\u53EA\u4F9D\u8D56\u4E8E\u4E3B\u952E\uFF0C\u4E0D\u4F9D\u8D56\u4E8E\u5176\u4ED6\u975E\u4E3B\u952E\u3002</p><p>\u5728\u8BBE\u8BA1\u6570\u636E\u5E93\u7ED3\u6784\u7684\u65F6\u5019\uFF0C\u8981\u5C3D\u91CF\u9075\u5B88\u4E09\u8303\u5F0F\uFF0C\u5982\u679C\u4E0D\u9075\u5B88\uFF0C\u5FC5\u987B\u6709\u8DB3\u591F\u7684\u7406\u7531\u3002\u6BD4\u5982\u6027\u80FD\u3002\u4E8B\u5B9E\u4E0A\u6211\u4EEC\u7ECF\u5E38\u4F1A\u4E3A\u4E86\u6027\u80FD\u800C\u59A5\u534F\u6570\u636E\u5E93\u7684\u8BBE\u8BA1\u3002</p><h2 id="mysql\u6709\u5173\u6743\u9650\u7684\u8868\u90FD\u6709\u54EA\u51E0\u4E2A" tabindex="-1"><a class="header-anchor" href="#mysql\u6709\u5173\u6743\u9650\u7684\u8868\u90FD\u6709\u54EA\u51E0\u4E2A" aria-hidden="true">#</a> mysql\u6709\u5173\u6743\u9650\u7684\u8868\u90FD\u6709\u54EA\u51E0\u4E2A</h2><p>MySQL\u670D\u52A1\u5668\u901A\u8FC7\u6743\u9650\u8868\u6765\u63A7\u5236\u7528\u6237\u5BF9\u6570\u636E\u5E93\u7684\u8BBF\u95EE\uFF0C\u6743\u9650\u8868\u5B58\u653E\u5728mysql\u6570\u636E\u5E93\u91CC\uFF0C\u7531mysql_install_db\u811A\u672C\u521D\u59CB\u5316\u3002\u8FD9\u4E9B\u6743\u9650\u8868\u5206\u522Buser\uFF0Cdb\uFF0Ctable_priv\uFF0Ccolumns_priv\u548Chost\u3002\u4E0B\u9762\u5206\u522B\u4ECB\u7ECD\u4E00\u4E0B\u8FD9\u4E9B\u8868\u7684\u7ED3\u6784\u548C\u5185\u5BB9\uFF1A</p><p>user\u6743\u9650\u8868\uFF1A\u8BB0\u5F55\u5141\u8BB8\u8FDE\u63A5\u5230\u670D\u52A1\u5668\u7684\u7528\u6237\u5E10\u53F7\u4FE1\u606F\uFF0C\u91CC\u9762\u7684\u6743\u9650\u662F\u5168\u5C40\u7EA7\u7684\u3002<br> db\u6743\u9650\u8868\uFF1A\u8BB0\u5F55\u5404\u4E2A\u5E10\u53F7\u5728\u5404\u4E2A\u6570\u636E\u5E93\u4E0A\u7684\u64CD\u4F5C\u6743\u9650\u3002 table_priv\u6743\u9650\u8868\uFF1A\u8BB0\u5F55\u6570\u636E\u8868\u7EA7\u7684\u64CD\u4F5C\u6743\u9650\u3002<br> columns_priv\u6743\u9650\u8868\uFF1A\u8BB0\u5F55\u6570\u636E\u5217\u7EA7\u7684\u64CD\u4F5C\u6743\u9650\u3002<br> host\u6743\u9650\u8868\uFF1A\u914D\u5408db\u6743\u9650\u8868\u5BF9\u7ED9\u5B9A\u4E3B\u673A\u4E0A\u6570\u636E\u5E93\u7EA7\u64CD\u4F5C\u6743\u9650\u4F5C\u66F4\u7EC6\u81F4\u7684\u63A7\u5236\u3002\u8FD9\u4E2A\u6743\u9650\u8868\u4E0D\u53D7GRANT\u548CREVOKE\u8BED\u53E5\u7684\u5F71\u54CD\u3002</p><h2 id="mysql\u7684binlog\u6709\u6709\u51E0\u79CD\u5F55\u5165\u683C\u5F0F-\u5206\u522B\u6709\u4EC0\u4E48\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#mysql\u7684binlog\u6709\u6709\u51E0\u79CD\u5F55\u5165\u683C\u5F0F-\u5206\u522B\u6709\u4EC0\u4E48\u533A\u522B" aria-hidden="true">#</a> MySQL\u7684binlog\u6709\u6709\u51E0\u79CD\u5F55\u5165\u683C\u5F0F\uFF1F\u5206\u522B\u6709\u4EC0\u4E48\u533A\u522B\uFF1F</h2><p>\u6709\u4E09\u79CD\u683C\u5F0F\uFF0Cstatement\uFF0Crow\u548Cmixed\u3002</p><p>statement\u6A21\u5F0F\u4E0B\uFF0C\u6BCF\u4E00\u6761\u4F1A\u4FEE\u6539\u6570\u636E\u7684sql\u90FD\u4F1A\u8BB0\u5F55\u5728binlog\u4E2D\u3002\u4E0D\u9700\u8981\u8BB0\u5F55\u6BCF\u4E00\u884C\u7684\u53D8\u5316\uFF0C\u51CF\u5C11\u4E86binlog\u65E5\u5FD7\u91CF\uFF0C\u8282\u7EA6\u4E86IO\uFF0C\u63D0\u9AD8\u6027\u80FD\u3002\u7531\u4E8Esql\u7684\u6267\u884C\u662F\u6709\u4E0A\u4E0B\u6587\u7684\uFF0C\u56E0\u6B64\u5728\u4FDD\u5B58\u7684\u65F6\u5019\u9700\u8981\u4FDD\u5B58\u76F8\u5173\u7684\u4FE1\u606F\uFF0C\u540C\u65F6\u8FD8\u6709\u4E00\u4E9B\u4F7F\u7528\u4E86\u51FD\u6570\u4E4B\u7C7B\u7684\u8BED\u53E5\u65E0\u6CD5\u88AB\u8BB0\u5F55\u590D\u5236\u3002 row\u7EA7\u522B\u4E0B\uFF0C\u4E0D\u8BB0\u5F55sql\u8BED\u53E5\u4E0A\u4E0B\u6587\u76F8\u5173\u4FE1\u606F\uFF0C\u4EC5\u4FDD\u5B58\u54EA\u6761\u8BB0\u5F55\u88AB\u4FEE\u6539\u3002\u8BB0\u5F55\u5355\u5143\u4E3A\u6BCF\u4E00\u884C\u7684\u6539\u52A8\uFF0C\u57FA\u672C\u662F\u53EF\u4EE5\u5168\u90E8\u8BB0\u4E0B\u6765\u4F46\u662F\u7531\u4E8E\u5F88\u591A\u64CD\u4F5C\uFF0C\u4F1A\u5BFC\u81F4\u5927\u91CF\u884C\u7684\u6539\u52A8(\u6BD4\u5982alter table)\uFF0C\u56E0\u6B64\u8FD9\u79CD\u6A21\u5F0F\u7684\u6587\u4EF6\u4FDD\u5B58\u7684\u4FE1\u606F\u592A\u591A\uFF0C\u65E5\u5FD7\u91CF\u592A\u5927\u3002<br> mixed\uFF0C\u4E00\u79CD\u6298\u4E2D\u7684\u65B9\u6848\uFF0C\u666E\u901A\u64CD\u4F5C\u4F7F\u7528statement\u8BB0\u5F55\uFF0C\u5F53\u65E0\u6CD5\u4F7F\u7528statement\u7684\u65F6\u5019\u4F7F\u7528row\u3002 \u6B64\u5916\uFF0C\u65B0\u7248\u7684MySQL\u4E2D\u5BF9row\u7EA7\u522B\u4E5F\u505A\u4E86\u4E00\u4E9B\u4F18\u5316\uFF0C\u5F53\u8868\u7ED3\u6784\u53D1\u751F\u53D8\u5316\u7684\u65F6\u5019\uFF0C\u4F1A\u8BB0\u5F55\u8BED\u53E5\u800C\u4E0D\u662F\u9010\u884C\u8BB0\u5F55\u3002</p><h2 id="\u6267\u884C\u987A\u5E8F" tabindex="-1"><a class="header-anchor" href="#\u6267\u884C\u987A\u5E8F" aria-hidden="true">#</a> \u6267\u884C\u987A\u5E8F</h2><h2 id="create-drop-use-database-\u6570\u636E\u5E93\u540D" tabindex="-1"><a class="header-anchor" href="#create-drop-use-database-\u6570\u636E\u5E93\u540D" aria-hidden="true">#</a> CREATE\uFF08drop\uFF0Cuse\uFF09 DATABASE \u6570\u636E\u5E93\u540D;</h2><p>CREATE TABLE IF NOT EXISTS <code>runoob_tbl</code>( <code>runoob_id</code> INT UNSIGNED AUTO_INCREMENT, <code>runoob_title</code> VARCHAR(100) NOT NULL, <code>runoob_author</code> VARCHAR(40) NOT NULL, <code>submission_date</code> DATE, PRIMARY KEY ( <code>runoob_id</code> ) )ENGINE=InnoDB DEFAULT CHARSET=utf8;</p><h2 id="\u589E\u5220\u6539\u67E5" tabindex="-1"><a class="header-anchor" href="#\u589E\u5220\u6539\u67E5" aria-hidden="true">#</a> \u589E\u5220\u6539\u67E5</h2><p>\u2022 INSERT INTO table_name ( field1, field2,...fieldN ) VALUES ( value1, value2,...valueN )\uFF0C ( value11, value22,...valueNN );</p><p>\u2022 SELECT column_name,column_name FROM table_name [WHERE condition1 [AND [OR]] condition2 field1 LIKE condition1 [AND [OR]] filed2 = &#39;somevalue&#39;][LIMIT N][ OFFSET M] \u67E5\u8BE2\u8BED\u53E5\u4E2D\u4F60\u53EF\u4EE5\u4F7F\u7528\u4E00\u4E2A\u6216\u8005\u591A\u4E2A\u8868\uFF0C\u8868\u4E4B\u95F4\u4F7F\u7528\u9017\u53F7(,)\u5206\u5272\uFF0C\u5E76\u4F7F\u7528WHERE\u8BED\u53E5\u6765\u8BBE\u5B9A\u67E5\u8BE2\u6761\u4EF6\u3002 SELECT \u547D\u4EE4\u53EF\u4EE5\u8BFB\u53D6\u4E00\u6761\u6216\u8005\u591A\u6761\u8BB0\u5F55\u3002 \u4F60\u53EF\u4EE5\u4F7F\u7528\u661F\u53F7\uFF08*\uFF09\u6765\u4EE3\u66FF\u5176\u4ED6\u5B57\u6BB5\uFF0CSELECT\u8BED\u53E5\u4F1A\u8FD4\u56DE\u8868\u7684\u6240\u6709\u5B57\u6BB5\u6570\u636E \u4F60\u53EF\u4EE5\u4F7F\u7528 WHERE \u8BED\u53E5\u6765\u5305\u542B\u4EFB\u4F55\u6761\u4EF6\uFF0C\u4F7F\u7528 AND \u6216\u8005 OR \u6307\u5B9A\u4E00\u4E2A\u6216\u591A\u4E2A\u6761\u4EF6\u3002 \u4F60\u53EF\u4EE5\u4F7F\u7528LIKE\u5B50\u53E5\u4EE3\u66FF\u7B49\u53F7 =\u3002- \u4EE3\u8868\u5355\u4E2A\uFF0C% \u8868\u793A\u4EFB\u610F 0 \u4E2A\u6216\u591A\u4E2A\u5B57\u7B26\u3002\u53EF\u5339\u914D\u4EFB\u610F\u7C7B\u578B\u548C\u957F\u5EA6\u7684\u5B57\u7B26\uFF0C\u6709\u4E9B\u60C5\u51B5\u4E0B\u82E5\u662F\u4E2D\u6587\uFF0C\u8BF7\u4F7F\u7528\u4E24\u4E2A\u767E\u5206\u53F7\uFF08%%\uFF09\u8868\u793A\u3002[]\uFF1A\u8868\u793A\u62EC\u53F7\u5185\u6240\u5217\u5B57\u7B26\u4E2D\u7684\u4E00\u4E2A\uFF08\u7C7B\u4F3C\u6B63\u5219\u8868\u8FBE\u5F0F\uFF09\u3002\u6307\u5B9A\u4E00\u4E2A\u5B57\u7B26\u3001\u5B57\u7B26\u4E32\u6216\u8303\u56F4\uFF0C\u8981\u6C42\u6240\u5339\u914D\u5BF9\u8C61\u4E3A\u5B83\u4EEC\u4E2D\u7684\u4EFB\u4E00\u4E2A\u3002[^] \uFF1A\u8868\u793A\u4E0D\u5728\u62EC\u53F7\u6240\u5217\u4E4B\u5185\u7684\u5355\u4E2A\u5B57\u7B26\u3002\u5176\u53D6\u503C\u548C [] \u76F8\u540C\uFF0C\u4F46\u5B83\u8981\u6C42\u6240\u5339\u914D\u5BF9\u8C61\u4E3A\u6307\u5B9A\u5B57\u7B26\u4EE5\u5916\u7684\u4EFB\u4E00\u4E2A\u5B57\u7B26\u3002 \u67E5\u8BE2\u5185\u5BB9\u5305\u542B\u901A\u914D\u7B26\u65F6,\u7531\u4E8E\u901A\u914D\u7B26\u7684\u7F18\u6545\uFF0C\u5BFC\u81F4\u6211\u4EEC\u67E5\u8BE2\u7279\u6B8A\u5B57\u7B26 \u201C%\u201D\u3001\u201C_\u201D\u3001\u201C[\u201D \u7684\u8BED\u53E5\u65E0\u6CD5\u6B63\u5E38\u5B9E\u73B0\uFF0C\u800C\u628A\u7279\u6B8A\u5B57\u7B26\u7528 \u201C[ ]\u201D \u62EC\u8D77\u4FBF\u53EF\u6B63\u5E38\u67E5\u8BE2\u3002 \u4F60\u53EF\u4EE5\u4F7F\u7528 LIMIT \u5C5E\u6027\u6765\u8BBE\u5B9A\u8FD4\u56DE\u7684\u8BB0\u5F55\u6570\u3002 \u4F60\u53EF\u4EE5\u901A\u8FC7OFFSET\u6307\u5B9ASELECT\u8BED\u53E5\u5F00\u59CB\u67E5\u8BE2\u7684\u6570\u636E\u504F\u79FB\u91CF\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u504F\u79FB\u91CF\u4E3A0\u3002</p><p>\u2022 SELECT expression1, expression2, ... expression_n FROM tables [WHERE conditions] UNION [ALL | DISTINCT] SELECT expression1, expression2, ... expression_n FROM tables [WHERE conditions]; UNION \u64CD\u4F5C\u7B26\u7528\u4E8E\u8FDE\u63A5\u4E24\u4E2A\u4EE5\u4E0A\u7684 SELECT \u8BED\u53E5\u7684\u7ED3\u679C\u7EC4\u5408\u5230\u4E00\u4E2A\u7ED3\u679C\u96C6\u5408\u4E2D\u3002\u591A\u4E2A SELECT \u8BED\u53E5\u4F1A\u5220\u9664\u91CD\u590D\u7684\u6570\u636E\u3002 expression1, expression2, ... expression_n: \u8981\u68C0\u7D22\u7684\u5217\u3002 tables: \u8981\u68C0\u7D22\u7684\u6570\u636E\u8868\u3002 WHERE conditions: \u53EF\u9009\uFF0C \u68C0\u7D22\u6761\u4EF6\u3002 DISTINCT: \u53EF\u9009\uFF0C\u5220\u9664\u7ED3\u679C\u96C6\u4E2D\u91CD\u590D\u7684\u6570\u636E\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B UNION \u64CD\u4F5C\u7B26\u5DF2\u7ECF\u5220\u9664\u4E86\u91CD\u590D\u6570\u636E\uFF0C\u6240\u4EE5 DISTINCT \u4FEE\u9970\u7B26\u5BF9\u7ED3\u679C\u6CA1\u5565\u5F71\u54CD\u3002 ALL: \u53EF\u9009\uFF0C\u8FD4\u56DE\u6240\u6709\u7ED3\u679C\u96C6\uFF0C\u5305\u542B\u91CD\u590D\u6570\u636E\u3002</p><p>\u2022 SELECT field1, field2,...fieldN FROM table_name1, table_name2...ORDER BY field1 [ASC [DESC][\u9ED8\u8BA4 ASC]], [field2...] [ASC [DESC][\u9ED8\u8BA4 ASC]]</p><p>\u2022 SELECT column_name, function(column_name) FROM table_name WHERE column_name operator value GROUP BY column_name;</p><p>\u2022 \u6839\u636E\u4E00\u4E2A\u6216\u591A\u4E2A\u5217\u5BF9\u7ED3\u679C\u96C6\u8FDB\u884C\u5206\u7EC4\u3002 \u5728\u5206\u7EC4\u7684\u5217\u4E0A\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 COUNT, SUM, AVG,\u7B49\u51FD\u6570\u3002 WITH ROLLUP \u53EF\u4EE5\u5B9E\u73B0\u5728\u5206\u7EC4\u7EDF\u8BA1\u6570\u636E\u57FA\u7840\u4E0A\u518D\u8FDB\u884C\u76F8\u540C\u7684\u7EDF\u8BA1\uFF08SUM,AVG,COUNT\u2026\uFF09</p><p>\u2022 \u4F7F\u7528\u805A\u5408\u51FD\u6570\u540E\u9700\u8981group by\u5206\u7EC4\uFF0Chaving\u53EA\u80FD\u7528\u4E8Egroup by \u540E\u9762</p><p>\u2022 INNER JOIN\uFF08\u5185\u8FDE\u63A5,\u6216\u7B49\u503C\u8FDE\u63A5\uFF09\u3010\u4EA4\u96C6\u3011\uFF1A\u83B7\u53D6\u4E24\u4E2A\u8868\u4E2D\u5B57\u6BB5\u5339\u914D\u5173\u7CFB\u7684\u8BB0\u5F55\u3002 LEFT JOIN\uFF08\u5DE6\u8FDE\u63A5\uFF09\u3010\u5DE6\u4EA4\u3011\uFF1A\u83B7\u53D6\u5DE6\u8868\u6240\u6709\u8BB0\u5F55\uFF0C\u5373\u4F7F\u53F3\u8868\u6CA1\u6709\u5BF9\u5E94\u5339\u914D\u7684\u8BB0\u5F55\u3002 RIGHT JOIN\uFF08\u53F3\u8FDE\u63A5\uFF09\u3010\u5DE6\u4EA4\u3011\uFF1A \u4E0E LEFT JOIN \u76F8\u53CD\uFF0C\u7528\u4E8E\u83B7\u53D6\u53F3\u8868\u6240\u6709\u8BB0\u5F55\uFF0C\u5373\u4F7F\u5DE6\u8868\u6CA1\u6709\u5BF9\u5E94\u5339\u914D\u7684\u8BB0\u5F55\u3002</p>',30),x=n("\u2022 select "),E={href:"http://p.id",target:"_blank",rel:"noopener noreferrer"},T=n("p.id"),L=n(","),S={href:"http://p.name",target:"_blank",rel:"noopener noreferrer"},k=n("p.name"),q=n(",t.content from person p left join task t on p.id=t.person_id order by "),N={href:"http://p.id",target:"_blank",rel:"noopener noreferrer"},I=n("p.id"),A=i('<p>\u2022 UPDATE table_name SET field1=new-value1, field2=new-value2 [WHERE Clause] \u4F60\u53EF\u4EE5\u540C\u65F6\u66F4\u65B0\u4E00\u4E2A\u6216\u591A\u4E2A\u5B57\u6BB5\u3002 \u4F60\u53EF\u4EE5\u5728 WHERE \u5B50\u53E5\u4E2D\u6307\u5B9A\u4EFB\u4F55\u6761\u4EF6\u3002 \u4F60\u53EF\u4EE5\u5728\u4E00\u4E2A\u5355\u72EC\u8868\u4E2D\u540C\u65F6\u66F4\u65B0\u6570\u636E\u3002</p><p>\u2022 update titles_test set emp_no=replace(emp_no,&#39;10001&#39;,&#39;10005&#39;) where id=5</p><p>\u2022 DELETE FROM table_name [WHERE Clause] \u5982\u679C\u6CA1\u6709\u6307\u5B9A WHERE \u5B50\u53E5\uFF0CMySQL \u8868\u4E2D\u7684\u6240\u6709\u8BB0\u5F55\u5C06\u88AB\u5220\u9664\u3002 \u4F60\u53EF\u4EE5\u5728 WHERE \u5B50\u53E5\u4E2D\u6307\u5B9A\u4EFB\u4F55\u6761\u4EF6 \u60A8\u53EF\u4EE5\u5728\u5355\u4E2A\u8868\u4E2D\u4E00\u6B21\u6027\u5220\u9664\u8BB0\u5F55\u3002</p><p>DROP TABLE table_name ;</p><p>ALTER TABLE table_name DROP i; ADD i INT ; \u5220\u9664\uFF0C\u6DFB\u52A0\u6216\u4FEE\u6539\u8868\u5B57\u6BB5</p><p>MODIFY c CHAR(10) ; CHANGE i j BIGINT; \u4FEE\u6539\u5B57\u6BB5\u7C7B\u578B\u53CA\u540D\u79F0</p><p>ALTER i SET DEFAULT 1000; ALTER i DROP DEFAULT; \u4FEE\u6539,\u5220\u9664\u5B57\u6BB5\u7684\u9ED8\u8BA4\u503C</p><p>ALTER TABLE testalter_tbl RENAME TO alter_tbl;\u6539\u8868\u540D</p><p>\xB7 \u8868\u4E2D\u53EA\u5269\u4F59\u4E00\u4E2A\u5B57\u6BB5\u5219\u65E0\u6CD5\u4F7F\u7528DROP\u6765\u5220\u9664\u5B57\u6BB5</p><h2 id="sql\u8BED\u53E5\u4E3B\u8981\u5206\u4E3A\u54EA\u51E0\u7C7B" tabindex="-1"><a class="header-anchor" href="#sql\u8BED\u53E5\u4E3B\u8981\u5206\u4E3A\u54EA\u51E0\u7C7B" aria-hidden="true">#</a> SQL\u8BED\u53E5\u4E3B\u8981\u5206\u4E3A\u54EA\u51E0\u7C7B</h2><p>**\u6570\u636E\u5B9A\u4E49\u8BED\u8A00 DDL\uFF08Data Ddefinition Language\uFF09**CREATE\uFF0CDROP\uFF0CALTER \u5BF9\u903B\u8F91\u7ED3\u6784\u7B49\u6709\u64CD\u4F5C\u7684\uFF0C\u5176\u4E2D\u5305\u62EC\u8868\u7ED3\u6784\uFF0C\u89C6\u56FE\u548C\u7D22\u5F15\u3002 \u6570\u636E\u67E5\u8BE2\u8BED\u8A00 DQL\uFF08Data Query Language\uFF09SELECT \u67E5\u8BE2\u64CD\u4F5C\uFF0C\u4EE5 select \u5173\u952E\u5B57\u3002\u7B80\u5355\u67E5\u8BE2\uFF0C\u8FDE\u63A5\u67E5\u8BE2\u7B49 \u90FD\u5C5E\u4E8E DQL\u3002</p><p>**\u6570\u636E\u64CD\u7EB5\u8BED\u8A00 DML\uFF08Data Manipulation Language\uFF09**INSERT\uFF0CUPDATE\uFF0CDELETE \u6570\u636E\u64CD\u4F5C\uFF0C\u5BF9\u5E94\u4E0A\u9762\u6240\u8BF4\u7684\u67E5\u8BE2\u64CD\u4F5C DQL \u4E0E DML \u5171\u540C\u6784\u5EFA\u4E86\u591A\u6570\u521D\u7EA7\u7A0B\u5E8F\u5458\u5E38\u7528\u7684\u589E\u5220\u6539\u67E5\u64CD\u4F5C\u3002\u67E5\u8BE2\u8F83\u4E3A\u7279\u6B8A\u5212\u5206\u5230 DQL \u4E2D\u3002</p><p>**\u6570\u636E\u63A7\u5236\u529F\u80FD DCL\uFF08Data Control Language\uFF09**GRANT\uFF0CREVOKE\uFF0CCOMMIT\uFF0CROLLBACK \u5BF9\u6570\u636E\u5E93\u5B89\u5168\u6027\u5B8C\u6574\u6027\u7B49\u6709\u64CD\u4F5C\u7684\uFF0C\u6743\u9650\u63A7\u5236\u7B49</p><h3 id="dqmc" tabindex="-1"><a class="header-anchor" href="#dqmc" aria-hidden="true">#</a> DQMC</h3><h2 id="\u8D85\u952E\u3001\u5019\u9009\u952E\u3001\u4E3B\u952E\u3001\u5916\u952E\u5206\u522B\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#\u8D85\u952E\u3001\u5019\u9009\u952E\u3001\u4E3B\u952E\u3001\u5916\u952E\u5206\u522B\u662F\u4EC0\u4E48" aria-hidden="true">#</a> \u8D85\u952E\u3001\u5019\u9009\u952E\u3001\u4E3B\u952E\u3001\u5916\u952E\u5206\u522B\u662F\u4EC0\u4E48\uFF1F</h2><p><strong>\u8D85\u952E</strong>\uFF1A\u5728\u5173\u7CFB\u4E2D\u80FD\u552F\u4E00\u6807\u8BC6\u5143\u7EC4\u7684\u5C5E\u6027\u96C6\u79F0\u4E3A\u5173\u7CFB\u6A21\u5F0F\u7684\u8D85\u952E\u3002\u4E00\u4E2A\u5C5E\u6027\u53EF\u4EE5\u4E3A\u4F5C\u4E3A\u4E00\u4E2A\u8D85\u952E\uFF0C\u591A\u4E2A\u5C5E\u6027\u7EC4\u5408\u5728\u4E00\u8D77\u4E5F\u53EF\u4EE5\u4F5C\u4E3A\u4E00\u4E2A\u8D85\u952E\u3002\u8D85\u952E\u5305\u542B\u5019\u9009\u952E\u548C\u4E3B\u952E\u3002</p><p><strong>\u5019\u9009\u952E</strong>\uFF1A\u662F\u6700\u5C0F\u8D85\u952E\uFF0C\u5373\u6CA1\u6709\u5197\u4F59\u5143\u7D20\u7684\u8D85\u952E\u3002</p><p><strong>\u4E3B\u952E</strong>\uFF1A\u6570\u636E\u5E93\u8868\u4E2D\u5BF9\u50A8\u5B58\u6570\u636E\u5BF9\u8C61\u4E88\u4EE5\u552F\u4E00\u548C\u5B8C\u6574\u6807\u8BC6\u7684\u6570\u636E\u5217\u6216\u5C5E\u6027\u7684\u7EC4\u5408\u3002\u4E00\u4E2A\u6570\u636E\u5217\u53EA\u80FD\u6709\u4E00\u4E2A\u4E3B\u952E\uFF0C\u4E14\u4E3B\u952E\u7684\u53D6\u503C\u4E0D\u80FD\u7F3A\u5931\uFF0C\u5373\u4E0D\u80FD\u4E3A\u7A7A\u503C\uFF08Null\uFF09\u3002 \u5916\u952E\uFF1A\u5728\u4E00\u4E2A\u8868\u4E2D\u5B58\u5728\u7684\u53E6\u4E00\u4E2A\u8868\u7684\u4E3B\u952E\u79F0\u6B64\u8868\u7684\u5916\u952E\u3002</p><h2 id="sql-\u7EA6\u675F\u6709\u54EA\u51E0\u79CD" tabindex="-1"><a class="header-anchor" href="#sql-\u7EA6\u675F\u6709\u54EA\u51E0\u79CD" aria-hidden="true">#</a> SQL \u7EA6\u675F\u6709\u54EA\u51E0\u79CD\uFF1F</h2><p>NOT NULL: \u7528\u4E8E\u63A7\u5236\u5B57\u6BB5\u7684\u5185\u5BB9\u4E00\u5B9A\u4E0D\u80FD\u4E3A\u7A7A\uFF08NULL\uFF09\u3002</p><p>UNIQUE: \u63A7\u4EF6\u5B57\u6BB5\u5185\u5BB9\u4E0D\u80FD\u91CD\u590D\uFF0C\u4E00\u4E2A\u8868\u5141\u8BB8\u6709\u591A\u4E2A Unique \u7EA6\u675F\u3002</p><p>PRIMARY KEY: \u4E5F\u662F\u7528\u4E8E\u63A7\u4EF6\u5B57\u6BB5\u5185\u5BB9\u4E0D\u80FD\u91CD\u590D\uFF0C\u4F46\u5B83\u5728\u4E00\u4E2A\u8868\u53EA\u5141\u8BB8\u51FA\u73B0\u4E00\u4E2A\u3002</p><p>FOREIGN KEY: \u7528\u4E8E\u9884\u9632\u7834\u574F\u8868\u4E4B\u95F4\u8FDE\u63A5\u7684\u52A8\u4F5C\uFF0C\u4E5F\u80FD\u9632\u6B62\u975E\u6CD5\u6570\u636E\u63D2\u5165\u5916\u952E\u5217\uFF0C\u56E0\u4E3A\u5B83\u5FC5\u987B\u662F\u5B83\u6307\u5411\u7684\u90A3\u4E2A\u8868\u4E2D\u7684\u503C\u4E4B\u4E00\u3002</p><p>CHECK: \u7528\u4E8E\u63A7\u5236\u5B57\u6BB5\u7684\u503C\u8303\u56F4\u3002</p><h2 id="\u516D\u79CD\u5173\u8054\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u516D\u79CD\u5173\u8054\u67E5\u8BE2" aria-hidden="true">#</a> \u516D\u79CD\u5173\u8054\u67E5\u8BE2</h2><p>\u4EA4\u53C9\u8FDE\u63A5\uFF08CROSS JOIN\uFF09 \u5185\u8FDE\u63A5\uFF08INNER JOIN\uFF09 \u5916\u8FDE\u63A5\uFF08LEFT JOIN/RIGHT JOIN\uFF09 \u8054\u5408\u67E5\u8BE2\uFF08UNION \u4E0E UNION ALL\uFF09 \u5168\u8FDE\u63A5\uFF08FULL JOIN\uFF09</p><h3 id="\xB7-\u4EA4\u53C9\u8FDE\u63A5-cross-join" tabindex="-1"><a class="header-anchor" href="#\xB7-\u4EA4\u53C9\u8FDE\u63A5-cross-join" aria-hidden="true">#</a> \xB7 \u4EA4\u53C9\u8FDE\u63A5\uFF08CROSS JOIN\uFF09</h3><p>SELECT * FROM A,B(,C) \u6216\u8005 SELECT * FROM A CROSS JOIN B (CROSS JOIN C) #\u6CA1\u6709\u4EFB\u4F55\u5173\u8054\u6761\u4EF6\uFF0C\u7ED3\u679C\u662F\u7B1B\u5361\u5C14\u79EF\uFF0C\u7ED3\u679C\u96C6\u4F1A\u5F88\u5927\uFF0C\u6CA1\u6709\u610F\u4E49\uFF0C\u5F88\u5C11\u4F7F\u7528\u5185\u8FDE\u63A5\uFF08INNER JOIN\uFF09SELECT * FROM A,B WHERE A.id=B.id\u6216\u8005SELECT * FROM A INNER JOIN B ON A.id=B.id\u591A\u8868\u4E2D\u540C\u65F6\u7B26\u5408\u67D0\u79CD\u6761\u4EF6\u7684\u6570\u636E\u8BB0\u5F55\u7684\u96C6\u5408\uFF0CINNER JOIN\u53EF\u4EE5\u7F29\u5199\u4E3AJOIN</p><p>\xB7 \u5185\u8FDE\u63A5\u5206\u4E3A\u4E09\u7C7B</p>',29),w=n("\u7B49\u503C\u8FDE\u63A5\uFF1AON "),R={href:"http://A.id=B.id",target:"_blank",rel:"noopener noreferrer"},O=n("A.id=B.id"),M=n(" \u4E0D\u7B49\u503C\u8FDE\u63A5\uFF1AON "),D={href:"http://A.id",target:"_blank",rel:"noopener noreferrer"},B=n("A.id"),C=n(" > "),U={href:"http://B.id",target:"_blank",rel:"noopener noreferrer"},Q=n("B.id"),G=n(" \u81EA\u8FDE\u63A5\uFF1ASELECT * FROM A T1 INNER JOIN A T2 ON T1.id=T2.pid"),F=i('<h3 id="\xB7-\u5916\u8FDE\u63A5-left-join-right-join" tabindex="-1"><a class="header-anchor" href="#\xB7-\u5916\u8FDE\u63A5-left-join-right-join" aria-hidden="true">#</a> \xB7 \u5916\u8FDE\u63A5\uFF08LEFT JOIN/RIGHT JOIN\uFF09</h3><p>\u5DE6\u5916\u8FDE\u63A5\uFF1ALEFT OUTER JOIN, \u4EE5\u5DE6\u8868\u4E3A\u4E3B\uFF0C\u5148\u67E5\u8BE2\u51FA\u5DE6\u8868\uFF0C\u6309\u7167 ON \u540E\u7684\u5173\u8054\u6761\u4EF6\u5339\u914D\u53F3\u8868\uFF0C\u6CA1\u6709\u5339\u914D\u5230\u7684\u7528 NULL \u586B\u5145\uFF0C\u53EF\u4EE5\u7B80\u5199\u6210 LEFT JOIN \u53F3\u5916\u8FDE\u63A5\uFF1ARIGHT OUTER JOIN, \u4EE5\u53F3\u8868\u4E3A\u4E3B\uFF0C\u5148\u67E5\u8BE2\u51FA\u53F3\u8868\uFF0C\u6309\u7167 ON \u540E\u7684\u5173\u8054\u6761\u4EF6\u5339\u914D\u5DE6\u8868\uFF0C\u6CA1\u6709\u5339\u914D\u5230\u7684\u7528 NULL \u586B\u5145\uFF0C\u53EF\u4EE5\u7B80\u5199\u6210 RIGHT JOIN</p><h3 id="\xB7-\u8054\u5408\u67E5\u8BE2-union-\u4E0E-union-all" tabindex="-1"><a class="header-anchor" href="#\xB7-\u8054\u5408\u67E5\u8BE2-union-\u4E0E-union-all" aria-hidden="true">#</a> \xB7 \u8054\u5408\u67E5\u8BE2\uFF08UNION \u4E0E UNION ALL\uFF09</h3><p>SELECT * FROM A UNION SELECT * FROM B UNION ... \u5C31\u662F\u628A\u591A\u4E2A\u7ED3\u679C\u96C6\u96C6\u4E2D\u5728\u4E00\u8D77\uFF0CUNION \u524D\u7684\u7ED3\u679C\u4E3A\u57FA\u51C6\uFF0C\u9700\u8981\u6CE8\u610F\u7684\u662F\u8054\u5408\u67E5\u8BE2\u7684\u5217\u6570\u8981\u76F8\u7B49\uFF0C\u76F8\u540C\u7684\u8BB0\u5F55\u884C\u4F1A\u5408\u5E76 \u5982\u679C\u4F7F\u7528 UNION ALL\uFF0C\u4E0D\u4F1A\u5408\u5E76\u91CD\u590D\u7684\u8BB0\u5F55\u884C \u6548\u7387 UNION \u9AD8\u4E8E UNION ALL</p><h3 id="\xB7-\u5168\u8FDE\u63A5-full-join" tabindex="-1"><a class="header-anchor" href="#\xB7-\u5168\u8FDE\u63A5-full-join" aria-hidden="true">#</a> \xB7 \u5168\u8FDE\u63A5\uFF08FULL JOIN\uFF09</h3>',5),H=n("MySQL \u4E0D\u652F\u6301\u5168\u8FDE\u63A5 \u53EF\u4EE5\u4F7F\u7528 LEFT JOIN \u548C UNION \u548C RIGHT JOIN \u8054\u5408\u4F7F\u7528 SELECT * FROM A LEFT JOIN B ON "),Y={href:"http://A.id=B.id",target:"_blank",rel:"noopener noreferrer"},P=n("A.id=B.id"),j=n(" UNIONSELECT * FROM A RIGHT JOIN B ON "),W={href:"http://A.id=B.id",target:"_blank",rel:"noopener noreferrer"},K=n("A.id=B.id"),V=i('<h2 id="\u4EC0\u4E48\u662F\u5B50\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662F\u5B50\u67E5\u8BE2" aria-hidden="true">#</a> \u4EC0\u4E48\u662F\u5B50\u67E5\u8BE2</h2><h3 id="\u6761\u4EF6-\u4E00\u6761-sql-\u8BED\u53E5\u7684\u67E5\u8BE2\u7ED3\u679C\u505A\u4E3A\u53E6\u4E00\u6761\u67E5\u8BE2\u8BED\u53E5\u7684\u6761\u4EF6\u6216\u67E5\u8BE2\u7ED3\u679C-\u5D4C\u5957-\u591A\u6761-sql-\u8BED\u53E5\u5D4C\u5957\u4F7F\u7528-\u5185\u90E8\u7684-sql-\u67E5\u8BE2\u8BED\u53E5\u79F0\u4E3A\u5B50\u67E5\u8BE2\u3002" tabindex="-1"><a class="header-anchor" href="#\u6761\u4EF6-\u4E00\u6761-sql-\u8BED\u53E5\u7684\u67E5\u8BE2\u7ED3\u679C\u505A\u4E3A\u53E6\u4E00\u6761\u67E5\u8BE2\u8BED\u53E5\u7684\u6761\u4EF6\u6216\u67E5\u8BE2\u7ED3\u679C-\u5D4C\u5957-\u591A\u6761-sql-\u8BED\u53E5\u5D4C\u5957\u4F7F\u7528-\u5185\u90E8\u7684-sql-\u67E5\u8BE2\u8BED\u53E5\u79F0\u4E3A\u5B50\u67E5\u8BE2\u3002" aria-hidden="true">#</a> \u6761\u4EF6\uFF1A\u4E00\u6761 SQL \u8BED\u53E5\u7684\u67E5\u8BE2\u7ED3\u679C\u505A\u4E3A\u53E6\u4E00\u6761\u67E5\u8BE2\u8BED\u53E5\u7684\u6761\u4EF6\u6216\u67E5\u8BE2\u7ED3\u679C \u5D4C\u5957\uFF1A\u591A\u6761 SQL \u8BED\u53E5\u5D4C\u5957\u4F7F\u7528\uFF0C\u5185\u90E8\u7684 SQL \u67E5\u8BE2\u8BED\u53E5\u79F0\u4E3A\u5B50\u67E5\u8BE2\u3002</h3><h2 id="\u5B50\u67E5\u8BE2\u7684\u4E09\u79CD\u60C5\u51B5" tabindex="-1"><a class="header-anchor" href="#\u5B50\u67E5\u8BE2\u7684\u4E09\u79CD\u60C5\u51B5" aria-hidden="true">#</a> \u5B50\u67E5\u8BE2\u7684\u4E09\u79CD\u60C5\u51B5</h2>',3),X=n("\u5B50\u67E5\u8BE2\u662F\u5355\u884C\u5355\u5217\u7684\u60C5\u51B5\uFF1A\u7ED3\u679C\u96C6\u662F\u4E00\u4E2A\u503C\uFF0C\u7236\u67E5\u8BE2\u4F7F\u7528\uFF1A=\u3001 <\u3001> \u7B49\u8FD0\u7B97\u7B26 -- \u67E5\u8BE2\u5DE5\u8D44\u6700\u9AD8\u7684\u5458\u5DE5\u662F\u8C01\uFF1F select * from employee where salary=(select max(salary) from employee); \u5B50\u67E5\u8BE2\u662F\u591A\u884C\u5355\u5217\u7684\u60C5\u51B5\uFF1A\u7ED3\u679C\u96C6\u7C7B\u4F3C\u4E8E\u4E00\u4E2A\u6570\u7EC4\uFF0C\u7236\u67E5\u8BE2\u4F7F\u7528\uFF1Ain \u8FD0\u7B97\u7B26 -- \u67E5\u8BE2\u5DE5\u8D44\u6700\u9AD8\u7684\u5458\u5DE5\u662F\u8C01\uFF1F select * from employee where salary=(select max(salary) from employee); \u5B50\u67E5\u8BE2\u662F\u591A\u884C\u591A\u5217\u7684\u60C5\u51B5\uFF1A\u7ED3\u679C\u96C6\u7C7B\u4F3C\u4E8E\u4E00\u5F20\u865A\u62DF\u8868\uFF0C\u4E0D\u80FD\u7528\u4E8E where \u6761\u4EF6\uFF0C\u7528\u4E8E select \u5B50\u53E5\u4E2D\u505A\u4E3A\u5B50\u8868 -- 1) \u67E5\u8BE2\u51FA2011\u5E74\u4EE5\u540E\u5165\u804C\u7684\u5458\u5DE5\u4FE1\u606F -- 2) \u67E5\u8BE2\u6240\u6709\u7684\u90E8\u95E8\u4FE1\u606F\uFF0C\u4E0E\u4E0A\u9762\u7684\u865A\u62DF\u8868\u4E2D\u7684\u4FE1\u606F\u6BD4\u5BF9\uFF0C\u627E\u51FA\u6240\u6709\u90E8\u95E8ID\u76F8\u7B49\u7684\u5458\u5DE5\u3002 select * from dept d, (select * from employee where join_date > '2011-1-1') e where e.dept_id = "),J={href:"http://d.id",target:"_blank",rel:"noopener noreferrer"},z=n("d.id"),$=n("; -- \u4F7F\u7528\u8868\u8FDE\u63A5\uFF1A select d."),Z=e("em",null,", e.",-1),ee=n(" from dept d inner join employee e on "),ne={href:"http://d.id",target:"_blank",rel:"noopener noreferrer"},ae=n("d.id"),te=n(" = e.dept_id where e.join_date > '2011-1-1'"),ie=i('<h2 id="mysql\u4E2D-in-\u548C-exists-\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#mysql\u4E2D-in-\u548C-exists-\u533A\u522B" aria-hidden="true">#</a> mysql\u4E2D in \u548C exists \u533A\u522B</h2><p>mysql \u4E2D\u7684 in \u8BED\u53E5\u662F\u628A\u5916\u8868\u548C\u5185\u8868\u4F5C hash \u8FDE\u63A5\uFF0C\u800C exists \u8BED\u53E5\u662F\u5BF9\u5916\u8868\u4F5C loop \u5FAA\u73AF\uFF0C\u6BCF\u6B21 loop \u5FAA\u73AF\u518D\u5BF9\u5185\u8868\u8FDB\u884C\u67E5\u8BE2\u3002\u4E00\u76F4\u5927\u5BB6\u90FD\u8BA4\u4E3A exists \u6BD4 in \u8BED\u53E5\u7684\u6548\u7387\u8981\u9AD8\uFF0C\u8FD9\u79CD\u8BF4\u6CD5\u5176\u5B9E\u662F\u4E0D\u51C6\u786E\u7684\u3002\u8FD9\u4E2A\u662F\u8981\u533A\u5206\u73AF\u5883\u7684\u3002 \u5982\u679C\u67E5\u8BE2\u7684\u4E24\u4E2A\u8868\u5927\u5C0F\u76F8\u5F53\uFF0C\u90A3\u4E48\u7528 in \u548C exists \u5DEE\u522B\u4E0D\u5927\u3002 \u5982\u679C\u4E24\u4E2A\u8868\u4E2D\u4E00\u4E2A\u8F83\u5C0F\uFF0C\u4E00\u4E2A\u662F\u5927\u8868\uFF0C\u5219\u5B50\u67E5\u8BE2\u8868\u5927\u7684\u7528 exists\uFF0C\u5B50\u67E5\u8BE2\u8868\u5C0F\u7684\u7528 in\u3002 not in \u548C not exists\uFF1A\u5982\u679C\u67E5\u8BE2\u8BED\u53E5\u4F7F\u7528\u4E86 not in\uFF0C\u90A3\u4E48\u5185\u5916\u8868\u90FD\u8FDB\u884C\u5168\u8868\u626B\u63CF\uFF0C\u6CA1\u6709\u7528\u5230\u7D22\u5F15\uFF1B\u800C not extsts \u7684\u5B50\u67E5\u8BE2\u4F9D\u7136\u80FD\u7528\u5230\u8868\u4E0A\u7684\u7D22\u5F15\u3002\u6240\u4EE5\u65E0\u8BBA\u90A3\u4E2A\u8868\u5927\uFF0C\u7528 not exists \u90FD\u6BD4 not in \u8981\u5FEB\u3002</p><h2 id="varchar\u4E0Echar\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#varchar\u4E0Echar\u7684\u533A\u522B" aria-hidden="true">#</a> varchar\u4E0Echar\u7684\u533A\u522B</h2><p>char \u7684\u7279\u70B9 char \u8868\u793A\u5B9A\u957F\u5B57\u7B26\u4E32\uFF0C\u957F\u5EA6\u662F\u56FA\u5B9A\u7684\uFF1B \u5982\u679C\u63D2\u5165\u6570\u636E\u7684\u957F\u5EA6\u5C0F\u4E8E char \u7684\u56FA\u5B9A\u957F\u5EA6\u65F6\uFF0C\u5219\u7528\u7A7A\u683C\u586B\u5145\uFF1B \u56E0\u4E3A\u957F\u5EA6\u56FA\u5B9A\uFF0C\u6240\u4EE5\u5B58\u53D6\u901F\u5EA6\u8981\u6BD4 varchar \u5FEB\u5F88\u591A\uFF0C\u751A\u81F3\u80FD\u5FEB 50%\uFF0C\u4F46\u6B63\u56E0\u4E3A\u5176\u957F\u5EA6\u56FA\u5B9A\uFF0C\u6240\u4EE5\u4F1A\u5360\u636E\u591A\u4F59\u7684\u7A7A\u95F4\uFF0C\u662F\u7A7A\u95F4\u6362\u65F6\u95F4\u7684\u505A\u6CD5\uFF1B \u5BF9\u4E8E char \u6765\u8BF4\uFF0C\u6700\u591A\u80FD\u5B58\u653E\u7684\u5B57\u7B26\u4E2A\u6570\u4E3A 255\uFF0C\u548C\u7F16\u7801\u65E0\u5173 varchar \u7684\u7279\u70B9 varchar \u8868\u793A\u53EF\u53D8\u957F\u5B57\u7B26\u4E32\uFF0C\u957F\u5EA6\u662F\u53EF\u53D8\u7684\uFF1B \u63D2\u5165\u7684\u6570\u636E\u662F\u591A\u957F\uFF0C\u5C31\u6309\u7167\u591A\u957F\u6765\u5B58\u50A8\uFF1B varchar \u5728\u5B58\u53D6\u65B9\u9762\u4E0E char \u76F8\u53CD\uFF0C\u5B83\u5B58\u53D6\u6162\uFF0C\u56E0\u4E3A\u957F\u5EA6\u4E0D\u56FA\u5B9A\uFF0C\u4F46\u6B63\u56E0\u5982\u6B64\uFF0C\u4E0D\u5360\u636E\u591A\u4F59\u7684\u7A7A\u95F4\uFF0C\u662F\u65F6\u95F4\u6362\u7A7A\u95F4\u7684\u505A\u6CD5\uFF1B \u5BF9\u4E8E varchar \u6765\u8BF4\uFF0C\u6700\u591A\u80FD\u5B58\u653E\u7684\u5B57\u7B26\u4E2A\u6570\u4E3A 65532 \u603B\u4E4B\uFF0C\u7ED3\u5408\u6027\u80FD\u89D2\u5EA6\uFF08char \u66F4\u5FEB\uFF09\u548C\u8282\u7701\u78C1\u76D8\u7A7A\u95F4\u89D2\u5EA6\uFF08varchar \u66F4\u5C0F\uFF09\uFF0C\u5177\u4F53\u60C5\u51B5\u8FD8\u9700\u5177\u4F53\u6765\u8BBE\u8BA1\u6570\u636E\u5E93\u624D\u662F\u59A5\u5F53\u7684\u505A\u6CD5\u3002</p><h2 id="varchar-50-\u4E2D50\u7684\u6DB5\u4E49" tabindex="-1"><a class="header-anchor" href="#varchar-50-\u4E2D50\u7684\u6DB5\u4E49" aria-hidden="true">#</a> varchar(50)\u4E2D50\u7684\u6DB5\u4E49</h2><p>\u6700\u591A\u5B58\u653E 50 \u4E2A\u5B57\u7B26\uFF0Cvarchar(50)\u548C (200) \u5B58\u50A8 hello \u6240\u5360\u7A7A\u95F4\u4E00\u6837\uFF0C\u4F46\u540E\u8005\u5728\u6392\u5E8F\u65F6\u4F1A\u6D88\u8017\u66F4\u591A\u5185\u5B58\uFF0C\u56E0\u4E3A order by col \u91C7\u7528 fixed_length \u8BA1\u7B97 col \u957F\u5EA6(memory \u5F15\u64CE\u4E5F\u4E00\u6837)\u3002\u5728\u65E9\u671F MySQL \u7248\u672C\u4E2D\uFF0C 50 \u4EE3\u8868\u5B57\u8282\u6570\uFF0C\u73B0\u5728\u4EE3\u8868\u5B57\u7B26\u6570\u3002</p><h2 id="int-20-\u4E2D20\u7684\u6DB5\u4E49" tabindex="-1"><a class="header-anchor" href="#int-20-\u4E2D20\u7684\u6DB5\u4E49" aria-hidden="true">#</a> int(20)\u4E2D20\u7684\u6DB5\u4E49</h2><p>\u662F\u6307\u663E\u793A\u5B57\u7B26\u7684\u957F\u5EA6\u300220 \u8868\u793A\u6700\u5927\u663E\u793A\u5BBD\u5EA6\u4E3A 20\uFF0C\u4F46\u4ECD\u5360 4 \u5B57\u8282\u5B58\u50A8\uFF0C\u5B58\u50A8\u8303\u56F4\u4E0D\u53D8\uFF1B \u4E0D\u5F71\u54CD\u5185\u90E8\u5B58\u50A8\uFF0C\u53EA\u662F\u5F71\u54CD\u5E26 zerofill \u5B9A\u4E49\u7684 int \u65F6\uFF0C\u524D\u9762\u8865\u591A\u5C11\u4E2A 0\uFF0C\u6613\u4E8E\u62A5\u8868\u5C55\u793A</p><h2 id="mysql\u4E3A\u4EC0\u4E48\u8FD9\u4E48\u8BBE\u8BA1" tabindex="-1"><a class="header-anchor" href="#mysql\u4E3A\u4EC0\u4E48\u8FD9\u4E48\u8BBE\u8BA1" aria-hidden="true">#</a> mysql\u4E3A\u4EC0\u4E48\u8FD9\u4E48\u8BBE\u8BA1</h2><p>\u5BF9\u5927\u591A\u6570\u5E94\u7528\u6CA1\u6709\u610F\u4E49\uFF0C\u53EA\u662F\u89C4\u5B9A\u4E00\u4E9B\u5DE5\u5177\u7528\u6765\u663E\u793A\u5B57\u7B26\u7684\u4E2A\u6570\uFF1Bint(1) \u548C int(20) \u5B58\u50A8\u548C\u8BA1\u7B97\u5747\u4E00\u6837\uFF1B</p><h2 id="mysql\u4E2Dint-10-\u548Cchar-10-\u4EE5\u53CAvarchar-10-\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#mysql\u4E2Dint-10-\u548Cchar-10-\u4EE5\u53CAvarchar-10-\u7684\u533A\u522B" aria-hidden="true">#</a> mysql\u4E2Dint(10)\u548Cchar(10)\u4EE5\u53CAvarchar(10)\u7684\u533A\u522B</h2><p>int(10) \u7684 10 \u8868\u793A\u663E\u793A\u7684\u6570\u636E\u7684\u957F\u5EA6\uFF0C\u4E0D\u662F\u5B58\u50A8\u6570\u636E\u7684\u5927\u5C0F\uFF1Bchart(10) \u548C varchar(10) \u7684 10 \u8868\u793A\u5B58\u50A8\u6570\u636E\u7684\u5927\u5C0F\uFF0C\u5373\u8868\u793A\u5B58\u50A8\u591A\u5C11\u4E2A\u5B57\u7B26\u3002 int(10) 10 \u4F4D\u7684\u6570\u636E\u957F\u5EA6 9999999999\uFF0C\u5360 32 \u4E2A\u5B57\u8282\uFF0Cint \u578B 4 \u4F4D char(10) 10 \u4F4D\u56FA\u5B9A\u5B57\u7B26\u4E32\uFF0C\u4E0D\u8DB3\u8865\u7A7A\u683C \u6700\u591A 10 \u4E2A\u5B57\u7B26 varchar(10) 10 \u4F4D\u53EF\u53D8\u5B57\u7B26\u4E32\uFF0C\u4E0D\u8DB3\u8865\u7A7A\u683C \u6700\u591A 10 \u4E2A\u5B57\u7B26 char(10) \u8868\u793A\u5B58\u50A8\u5B9A\u957F\u7684 10 \u4E2A\u5B57\u7B26\uFF0C\u4E0D\u8DB3 10 \u4E2A\u5C31\u7528\u7A7A\u683C\u8865\u9F50\uFF0C\u5360\u7528\u66F4\u591A\u7684\u5B58\u50A8\u7A7A\u95F4 varchar(10) \u8868\u793A\u5B58\u50A8 10 \u4E2A\u53D8\u957F\u7684\u5B57\u7B26\uFF0C\u5B58\u50A8\u591A\u5C11\u4E2A\u5C31\u662F\u591A\u5C11\u4E2A\uFF0C\u7A7A\u683C\u4E5F\u6309\u4E00\u4E2A\u5B57\u7B26\u5B58\u50A8\uFF0C\u8FD9\u4E00\u70B9\u662F\u548C char(10) \u7684\u7A7A\u683C\u4E0D\u540C\u7684\uFF0Cchar(10) \u7684\u7A7A\u683C\u8868\u793A\u5360\u4F4D\u4E0D\u7B97\u4E00\u4E2A\u5B57\u7B26</p><h2 id="float\u548Cdouble\u7684\u533A\u522B\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#float\u548Cdouble\u7684\u533A\u522B\u662F\u4EC0\u4E48" aria-hidden="true">#</a> FLOAT\u548CDOUBLE\u7684\u533A\u522B\u662F\u4EC0\u4E48\uFF1F</h2><p>FLOAT \u7C7B\u578B\u6570\u636E\u53EF\u4EE5\u5B58\u50A8\u81F3\u591A 8 \u4F4D\u5341\u8FDB\u5236\u6570\uFF0C\u5E76\u5728\u5185\u5B58\u4E2D\u5360 4 \u5B57\u8282\u3002 DOUBLE \u7C7B\u578B\u6570\u636E\u53EF\u4EE5\u5B58\u50A8\u81F3\u591A 18 \u4F4D\u5341\u8FDB\u5236\u6570\uFF0C\u5E76\u5728\u5185\u5B58\u4E2D\u5360 8 \u5B57\u8282\u3002</p><h2 id="drop\u3001delete\u4E0Etruncate\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#drop\u3001delete\u4E0Etruncate\u7684\u533A\u522B" aria-hidden="true">#</a> drop\u3001delete\u4E0Etruncate\u7684\u533A\u522B</h2><p>\u200B Delete Truncate Drop \u7C7B\u578B \u5C5E\u4E8E DML \u5C5E\u4E8E DDL \u5C5E\u4E8E DDL \u56DE\u6EDA \u53EF\u56DE\u6EDA \u4E0D\u53EF\u56DE\u6EDA \u4E0D\u53EF\u56DE\u6EDA \u5220\u9664\u5185\u5BB9 \u8868\u7ED3\u6784\u8FD8\u5728\uFF0C\u5220\u9664\u8868\u7684\u5168\u90E8\u6216\u8005\u4E00\u90E8\u5206\u6570\u636E\u884C \u8868\u7ED3\u6784\u8FD8\u5728\uFF0C\u5220\u9664\u8868\u4E2D\u7684\u6240\u6709\u6570\u636E \u4ECE\u6570\u636E\u5E93\u4E2D\u5220\u9664\u8868\uFF0C\u6240\u6709\u7684\u6570\u636E\u884C\uFF0C\u7D22\u5F15\u548C\u6743\u9650\u4E5F\u4F1A\u88AB\u5220\u9664 \u5220\u9664\u901F\u5EA6 \u5220\u9664\u901F\u5EA6\u6162\uFF0C\u9700\u8981\u9010\u884C\u5220\u9664 \u5220\u9664\u901F\u5EA6\u5FEB \u5220\u9664\u901F\u5EA6\u6700\u5FEB \u56E0\u6B64\uFF0C\u5728\u4E0D\u518D\u9700\u8981\u4E00\u5F20\u8868\u7684\u65F6\u5019\uFF0C\u7528 drop\uFF1B\u5728\u60F3\u5220\u9664\u90E8\u5206\u6570\u636E\u884C\u65F6\u5019\uFF0C\u7528 delete\uFF1B\u5728\u4FDD\u7559\u8868\u800C\u5220\u9664\u6240\u6709\u6570\u636E\u7684\u65F6\u5019\u7528 truncate\u3002</p><h2 id="union\u4E0Eunion-all\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#union\u4E0Eunion-all\u7684\u533A\u522B" aria-hidden="true">#</a> UNION\u4E0EUNION ALL\u7684\u533A\u522B\uFF1F</h2><p>\u5982\u679C\u4F7F\u7528 UNION ALL\uFF0C\u4E0D\u4F1A\u5408\u5E76\u91CD\u590D\u7684\u8BB0\u5F55\u884C \u6548\u7387 UNION \u9AD8\u4E8E UNION ALL</p><h1 id="\u6570\u636E\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u7C7B\u578B" aria-hidden="true">#</a> \u6570\u636E\u7C7B\u578B</h1><blockquote><p><strong>1bit \u4F4D 1\u5B57\u8282=8bit 1k=1024\u5B57\u8282 1\u5146=1024k 1G=1023M 1T=1024G</strong></p></blockquote><p><img src="http://qnimg.gisfsde.com/work/image-20210706135508764.png" alt="image-20210706135508764" loading="lazy"></p><h1 id="\u5F15\u64CE" tabindex="-1"><a class="header-anchor" href="#\u5F15\u64CE" aria-hidden="true">#</a> \u5F15\u64CE</h1><h2 id="mysql\u5B58\u50A8\u5F15\u64CEmyisam\u4E0Einnodb\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#mysql\u5B58\u50A8\u5F15\u64CEmyisam\u4E0Einnodb\u533A\u522B" aria-hidden="true">#</a> MySQL\u5B58\u50A8\u5F15\u64CEMyISAM\u4E0EInnoDB\u533A\u522B</h2><p>\u5B58\u50A8\u5F15\u64CE Storage engine\uFF1AMySQL \u4E2D\u7684\u6570\u636E\u3001\u7D22\u5F15\u4EE5\u53CA\u5176\u4ED6\u5BF9\u8C61\u662F\u5982\u4F55\u5B58\u50A8\u7684\uFF0C\u662F\u4E00\u5957\u6587\u4EF6\u7CFB\u7EDF\u7684\u5B9E\u73B0\u3002</p><h2 id="myisam\u7D22\u5F15\u4E0Einnodb\u7D22\u5F15\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#myisam\u7D22\u5F15\u4E0Einnodb\u7D22\u5F15\u7684\u533A\u522B" aria-hidden="true">#</a> MyISAM\u7D22\u5F15\u4E0EInnoDB\u7D22\u5F15\u7684\u533A\u522B\uFF1F</h2><p>Innodb \u5F15\u64CE\uFF1AInnodb \u5F15\u64CE\u63D0\u4F9B\u4E86\u5BF9\u6570\u636E\u5E93 ACID \u4E8B\u52A1\u7684\u652F\u6301\u3002\u5E76\u4E14\u8FD8\u63D0\u4F9B\u4E86\u884C\u7EA7\u9501\u548C\u5916\u952E\u7684\u7EA6\u675F\u3002\u5B83\u7684\u8BBE\u8BA1\u7684\u76EE\u6807\u5C31\u662F\u5904\u7406\u5927\u6570\u636E\u5BB9\u91CF\u7684\u6570\u636E\u5E93\u7CFB\u7EDF\u3002 MyIASM \u5F15\u64CE (\u539F\u672C Mysql \u7684\u9ED8\u8BA4\u5F15\u64CE)\uFF1A\u4E0D\u63D0\u4F9B\u4E8B\u52A1\u7684\u652F\u6301\uFF0C\u4E5F\u4E0D\u652F\u6301\u884C\u7EA7\u9501\u548C\u5916\u952E\u3002 MEMORY \u5F15\u64CE\uFF1A\u6240\u6709\u7684\u6570\u636E\u90FD\u5728\u5185\u5B58\u4E2D\uFF0C\u6570\u636E\u7684\u5904\u7406\u901F\u5EA6\u5FEB\uFF0C\u4F46\u662F\u5B89\u5168\u6027\u4E0D\u9AD8\u3002</p><p>InnoDB \u7D22\u5F15\u662F\u805A\u7C07\u7D22\u5F15\uFF0CMyISAM \u7D22\u5F15\u662F\u975E\u805A\u7C07\u7D22\u5F15\u3002 InnoDB \u7684\u4E3B\u952E\u7D22\u5F15\u7684\u53F6\u5B50\u8282\u70B9\u5B58\u50A8\u7740\u884C\u6570\u636E\uFF0C\u56E0\u6B64\u4E3B\u952E\u7D22\u5F15\u975E\u5E38\u9AD8\u6548\u3002 MyISAM \u7D22\u5F15\u7684\u53F6\u5B50\u8282\u70B9\u5B58\u50A8\u7684\u662F\u884C\u6570\u636E\u5730\u5740\uFF0C\u9700\u8981\u518D\u5BFB\u5740\u4E00\u6B21\u624D\u80FD\u5F97\u5230\u6570\u636E\u3002 InnoDB \u975E\u4E3B\u952E\u7D22\u5F15\u7684\u53F6\u5B50\u8282\u70B9\u5B58\u50A8\u7684\u662F\u4E3B\u952E\u548C\u5176\u4ED6\u5E26\u7D22\u5F15\u7684\u5217\u6570\u636E\uFF0C\u56E0\u6B64\u67E5\u8BE2\u65F6\u505A\u5230\u8986\u76D6\u7D22\u5F15\u4F1A\u975E\u5E38\u9AD8\u6548\u3002</p><h2 id="innodb\u5F15\u64CE\u76844\u5927\u7279\u6027" tabindex="-1"><a class="header-anchor" href="#innodb\u5F15\u64CE\u76844\u5927\u7279\u6027" aria-hidden="true">#</a> InnoDB\u5F15\u64CE\u76844\u5927\u7279\u6027</h2><p>\u63D2\u5165\u7F13\u51B2\uFF08insert buffer) \u4E8C\u6B21\u5199 (double write) \u81EA\u9002\u5E94\u54C8\u5E0C\u7D22\u5F15 (ahi) \u9884\u8BFB (read ahead)</p><h2 id="\u5B58\u50A8\u5F15\u64CE\u9009\u62E9" tabindex="-1"><a class="header-anchor" href="#\u5B58\u50A8\u5F15\u64CE\u9009\u62E9" aria-hidden="true">#</a> \u5B58\u50A8\u5F15\u64CE\u9009\u62E9</h2><p>\u5982\u679C\u6CA1\u6709\u7279\u522B\u7684\u9700\u6C42\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u7684Innodb\u5373\u53EF\u3002 MyISAM\uFF1A\u4EE5\u8BFB\u5199\u63D2\u5165\u4E3A\u4E3B\u7684\u5E94\u7528\u7A0B\u5E8F\uFF0C\u6BD4\u5982\u535A\u5BA2\u7CFB\u7EDF\u3001\u65B0\u95FB\u95E8\u6237\u7F51\u7AD9\u3002 Innodb\uFF1A\u66F4\u65B0\uFF08\u5220\u9664\uFF09\u64CD\u4F5C\u9891\u7387\u4E5F\u9AD8\uFF0C\u6216\u8005\u8981\u4FDD\u8BC1\u6570\u636E\u7684\u5B8C\u6574\u6027\uFF1B\u5E76\u53D1\u91CF\u9AD8\uFF0C\u652F\u6301\u4E8B\u52A1\u548C\u5916\u952E\u3002\u6BD4\u5982 OA \u81EA\u52A8\u5316\u529E\u516C\u7CFB\u7EDF\u3002</p><h1 id="\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15" aria-hidden="true">#</a> \u7D22\u5F15</h1><h2 id="\u4EC0\u4E48\u662F\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662F\u7D22\u5F15" aria-hidden="true">#</a> \u4EC0\u4E48\u662F\u7D22\u5F15\uFF1F</h2><p>\u7D22\u5F15\u662F\u4E00\u79CD\u7279\u6B8A\u7684\u6587\u4EF6 (InnoDB \u6570\u636E\u8868\u4E0A\u7684\u7D22\u5F15\u662F\u8868\u7A7A\u95F4\u7684\u4E00\u4E2A\u7EC4\u6210\u90E8\u5206)\uFF0C\u5B83\u4EEC\u5305\u542B\u7740\u5BF9\u6570\u636E\u8868\u91CC\u6240\u6709\u8BB0\u5F55\u7684\u5F15\u7528\u6307\u9488\u3002 \u7D22\u5F15\u662F\u4E00\u79CD\u6570\u636E\u7ED3\u6784\u3002\u6570\u636E\u5E93\u7D22\u5F15\uFF0C\u662F\u6570\u636E\u5E93\u7BA1\u7406\u7CFB\u7EDF\u4E2D\u4E00\u4E2A\u6392\u5E8F\u7684\u6570\u636E\u7ED3\u6784\uFF0C\u4EE5\u534F\u52A9\u5FEB\u901F\u67E5\u8BE2\u3001\u66F4\u65B0\u6570\u636E\u5E93\u8868\u4E2D\u6570\u636E\u3002\u7D22\u5F15\u7684\u5B9E\u73B0\u901A\u5E38\u4F7F\u7528 B \u6811\u53CA\u5176\u53D8\u79CD B + \u6811\u3002 \u66F4\u901A\u4FD7\u7684\u8BF4\uFF0C\u7D22\u5F15\u5C31\u76F8\u5F53\u4E8E\u76EE\u5F55\u3002\u4E3A\u4E86\u65B9\u4FBF\u67E5\u627E\u4E66\u4E2D\u7684\u5185\u5BB9\uFF0C\u901A\u8FC7\u5BF9\u5185\u5BB9\u5EFA\u7ACB\u7D22\u5F15\u5F62\u6210\u76EE\u5F55\u3002\u7D22\u5F15\u662F\u4E00\u4E2A\u6587\u4EF6\uFF0C\u5B83\u662F\u8981\u5360\u636E\u7269\u7406\u7A7A\u95F4\u7684\u3002</p><h2 id="\u7D22\u5F15\u6709\u54EA\u4E9B\u4F18\u7F3A\u70B9" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15\u6709\u54EA\u4E9B\u4F18\u7F3A\u70B9" aria-hidden="true">#</a> \u7D22\u5F15\u6709\u54EA\u4E9B\u4F18\u7F3A\u70B9\uFF1F</h2><p><strong>\u4F18</strong> \u53EF\u4EE5\u5927\u5927\u52A0\u5FEB\u6570\u636E\u7684\u68C0\u7D22\u901F\u5EA6\uFF0C\u8FD9\u4E5F\u662F\u521B\u5EFA\u7D22\u5F15\u7684\u6700\u4E3B\u8981\u7684\u539F\u56E0\u3002 \u901A\u8FC7\u4F7F\u7528\u7D22\u5F15\uFF0C\u53EF\u4EE5\u5728\u67E5\u8BE2\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u4F7F\u7528\u4F18\u5316\u9690\u85CF\u5668\uFF0C\u63D0\u9AD8\u7CFB\u7EDF\u7684\u6027\u80FD\u3002</p><p><strong>\u7F3A</strong> \u65F6\u95F4\u65B9\u9762\uFF1A\u521B\u5EFA\u7D22\u5F15\u548C\u7EF4\u62A4\u7D22\u5F15\u8981\u8017\u8D39\u65F6\u95F4\uFF0C\u5177\u4F53\u5730\uFF0C\u5F53\u5BF9\u8868\u4E2D\u7684\u6570\u636E\u8FDB\u884C\u589E\u52A0\u3001\u5220\u9664\u548C\u4FEE\u6539\u7684\u65F6\u5019\uFF0C\u7D22\u5F15\u4E5F\u8981\u52A8\u6001\u7684\u7EF4\u62A4\uFF0C\u4F1A\u964D\u4F4E\u589E / \u6539 / \u5220\u7684\u6267\u884C\u6548\u7387\uFF1B \u7A7A\u95F4\u65B9\u9762\uFF1A\u7D22\u5F15\u9700\u8981\u5360\u7269\u7406\u7A7A\u95F4</p><h2 id="\u7D22\u5F15\u4F7F\u7528\u573A\u666F-\u91CD\u70B9" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15\u4F7F\u7528\u573A\u666F-\u91CD\u70B9" aria-hidden="true">#</a> \u7D22\u5F15\u4F7F\u7528\u573A\u666F\uFF08\u91CD\u70B9\uFF09</h2><h3 id="where" tabindex="-1"><a class="header-anchor" href="#where" aria-hidden="true">#</a> where</h3><p>\u53EF\u4EE5\u5C1D\u8BD5\u5728\u4E00\u4E2A\u5B57\u6BB5\u672A\u5EFA\u7ACB\u7D22\u5F15\u65F6\uFF0C\u6839\u636E\u8BE5\u5B57\u6BB5\u67E5\u8BE2\u7684\u6548\u7387\uFF0C\u7136\u540E\u5BF9\u8BE5\u5B57\u6BB5\u5EFA\u7ACB\u7D22\u5F15\uFF08alter table \u8868\u540D add index(\u5B57\u6BB5\u540D)\uFF09\uFF0C\u540C\u6837\u7684 SQL \u6267\u884C\u7684\u6548\u7387\uFF0C\u4F60\u4F1A\u53D1\u73B0\u67E5\u8BE2\u6548\u7387\u4F1A\u6709\u660E\u663E\u7684\u63D0\u5347\uFF08\u6570\u636E\u91CF\u8D8A\u5927\u8D8A\u660E\u663E\uFF09\u3002</p><h3 id="order-by" tabindex="-1"><a class="header-anchor" href="#order-by" aria-hidden="true">#</a> order by</h3><p>\u4F7F\u7528order by\u5C06\u67E5\u8BE2\u7ED3\u679C\u6309\u7167\u67D0\u4E2A\u5B57\u6BB5\u6392\u5E8F\u65F6\uFF0C\u5982\u679C\u8BE5\u5B57\u6BB5\u6CA1\u6709\u5EFA\u7ACB\u7D22\u5F15\uFF0C\u90A3\u4E48\u6267\u884C\u8BA1\u5212\u4F1A\u5C06\u67E5\u8BE2\u51FA\u7684\u6240\u6709\u6570\u636E\u4F7F\u7528\u5916\u90E8\u6392\u5E8F\uFF08\u5C06\u6570\u636E\u4ECE\u786C\u76D8\u5206\u6279\u8BFB\u53D6\u5230\u5185\u5B58\u4F7F\u7528\u5185\u90E8\u6392\u5E8F\uFF0C\u6700\u540E\u5408\u5E76\u6392\u5E8F\u7ED3\u679C\uFF09\uFF0C\u8FD9\u64CD\u4F5C\u5F88\u5F71\u54CD\u6027\u80FD\u7684\uFF0C\u56E0\u4E3A\u9700\u8981\u5C06\u67E5\u8BE2\u6D89\u53CA\u5230\u7684\u6240\u6709\u6570\u636E\u4ECE\u78C1\u76D8\u4E2D\u8BFB\u5230\u5185\u5B58\uFF08\u5982\u679C\u5355\u6761\u6570\u636E\u8FC7\u5927\u6216\u8005\u6570\u636E\u91CF\u8FC7\u591A\u90FD\u4F1A\u964D\u4F4E\u6548\u7387\uFF09\uFF0C\u66F4\u65E0\u8BBA\u8BFB\u5230\u5185\u5B58\u4E4B\u540E\u7684\u6392\u5E8F\u4E86\u3002 \u4F46\u662F\u5982\u679C\u6211\u4EEC\u5BF9\u8BE5\u5B57\u6BB5\u5EFA\u7ACB\u7D22\u5F15alter table \u8868\u540D add index(\u5B57\u6BB5\u540D)\uFF0C\u90A3\u4E48\u7531\u4E8E\u7D22\u5F15\u672C\u8EAB\u662F\u6709\u5E8F\u7684\uFF0C\u56E0\u6B64\u76F4\u63A5\u6309\u7167\u7D22\u5F15\u7684\u987A\u5E8F\u548C\u6620\u5C04\u5173\u7CFB\u9010\u6761\u53D6\u51FA\u6570\u636E\u5373\u53EF\u3002\u800C\u4E14\u5982\u679C\u5206\u9875\u7684\uFF0C\u90A3\u4E48\u53EA\u7528\u53D6\u51FA\u7D22\u5F15\u8868\u67D0\u4E2A\u8303\u56F4\u5185\u7684\u7D22\u5F15\u5BF9\u5E94\u7684\u6570\u636E\uFF0C\u800C\u4E0D\u7528\u50CF\u4E0A\u8FF0\u90A3\u53D6\u51FA\u6240\u6709\u6570\u636E\u8FDB\u884C\u6392\u5E8F\u518D\u8FD4\u56DE\u67D0\u4E2A\u8303\u56F4\u5185\u7684\u6570\u636E\u3002\uFF08\u4ECE\u78C1\u76D8\u53D6\u6570\u636E\u662F\u6700\u5F71\u54CD\u6027\u80FD\u7684\uFF09</p><h3 id="join" tabindex="-1"><a class="header-anchor" href="#join" aria-hidden="true">#</a> join</h3><p>\u5BF9join\u8BED\u53E5\u5339\u914D\u5173\u7CFB\uFF08on\uFF09\u6D89\u53CA\u7684\u5B57\u6BB5\u5EFA\u7ACB\u7D22\u5F15\u80FD\u591F\u63D0\u9AD8\u6548\u7387</p><h3 id="\u7D22\u5F15\u8986\u76D6" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15\u8986\u76D6" aria-hidden="true">#</a> \u7D22\u5F15\u8986\u76D6</h3><p>\u5982\u679C\u8981\u67E5\u8BE2\u7684\u5B57\u6BB5\u90FD\u5EFA\u7ACB\u8FC7\u7D22\u5F15\uFF0C\u90A3\u4E48\u5F15\u64CE\u4F1A\u76F4\u63A5\u5728\u7D22\u5F15\u8868\u4E2D\u67E5\u8BE2\u800C\u4E0D\u4F1A\u8BBF\u95EE\u539F\u59CB\u6570\u636E\uFF08\u5426\u5219\u53EA\u8981\u6709\u4E00\u4E2A\u5B57\u6BB5\u6CA1\u6709\u5EFA\u7ACB\u7D22\u5F15\u5C31\u4F1A\u505A\u5168\u8868\u626B\u63CF\uFF09\uFF0C\u8FD9\u53EB\u7D22\u5F15\u8986\u76D6\u3002\u56E0\u6B64\u6211\u4EEC\u9700\u8981\u5C3D\u53EF\u80FD\u7684\u5728select\u540E\u53EA\u5199\u5FC5\u8981\u7684\u67E5\u8BE2\u5B57\u6BB5\uFF0C\u4EE5\u589E\u52A0\u7D22\u5F15\u8986\u76D6\u7684\u51E0\u7387\u3002 \u8FD9\u91CC\u503C\u5F97\u6CE8\u610F\u7684\u662F\u4E0D\u8981\u60F3\u7740\u4E3A\u6BCF\u4E2A\u5B57\u6BB5\u5EFA\u7ACB\u7D22\u5F15\uFF0C\u56E0\u4E3A\u4F18\u5148\u4F7F\u7528\u7D22\u5F15\u7684\u4F18\u52BF\u5C31\u5728\u4E8E\u5176\u4F53\u79EF\u5C0F\u3002</p><h2 id="\u7D22\u5F15\u6709\u54EA\u51E0\u79CD\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15\u6709\u54EA\u51E0\u79CD\u7C7B\u578B" aria-hidden="true">#</a> \u7D22\u5F15\u6709\u54EA\u51E0\u79CD\u7C7B\u578B\uFF1F</h2><h3 id="_1-\u4ECE\u5B58\u50A8\u7ED3\u6784\u4E0A\u6765\u5212\u5206" tabindex="-1"><a class="header-anchor" href="#_1-\u4ECE\u5B58\u50A8\u7ED3\u6784\u4E0A\u6765\u5212\u5206" aria-hidden="true">#</a> 1\uFF09\u4ECE\u5B58\u50A8\u7ED3\u6784\u4E0A\u6765\u5212\u5206</h3><p>\xB7 Btree \u7D22\u5F15\uFF08B+tree\uFF0CB-tree)</p><p>\xB7 \u54C8\u5E0C\u7D22\u5F15</p><p>\xB7 full-index \u5168\u6587\u7D22\u5F15</p><p>\xB7 RTree</p><h3 id="_2-\u4ECE\u5E94\u7528\u5C42\u6B21\u4E0A\u6765\u5212\u5206" tabindex="-1"><a class="header-anchor" href="#_2-\u4ECE\u5E94\u7528\u5C42\u6B21\u4E0A\u6765\u5212\u5206" aria-hidden="true">#</a> 2\uFF09\u4ECE\u5E94\u7528\u5C42\u6B21\u4E0A\u6765\u5212\u5206</h3><p>\xB7 <strong>\u666E\u901A\u7D22\u5F15:</strong> \u57FA\u672C\u7684\u7D22\u5F15\u7C7B\u578B\uFF0C\u6CA1\u6709\u552F\u4E00\u6027\u7684\u9650\u5236\uFF0C\u5141\u8BB8\u4E3A NULL \u503C\u3002 CREATE INDEX indexName ON table_name (column_name)\u6216 ALTER TABLE table_name ADD INDEX index_name (column);\u521B\u5EFA\u666E\u901A\u7D22\u5F15 ALTER TABLE table_name ADD INDEX index_name(column1, column2, column3);\u521B\u5EFA\u7EC4\u5408\u7D22\u5F15</p><p>\u2022 ALTER TABLE testalter_tbl ADD/DROP INDEX (c);</p><p>\xB7 <strong>\u552F\u4E00\u7D22\u5F15:</strong> \u6570\u636E\u5217\u4E0D\u5141\u8BB8\u91CD\u590D\uFF0C\u5141\u8BB8\u4E3A NULL \u503C\uFF0C\u4E00\u4E2A\u8868\u5141\u8BB8\u591A\u4E2A\u5217\u521B\u5EFA\u552F\u4E00\u7D22\u5F15\u3002 \u53EF\u4EE5\u901A\u8FC7 ALTER TABLE table_name ADD UNIQUE (column); \u521B\u5EFA\u552F\u4E00\u7D22\u5F15 \u53EF\u4EE5\u901A\u8FC7 ALTER TABLE table_name ADD UNIQUE (column1,column2); \u521B\u5EFA\u552F\u4E00\u7EC4\u5408\u7D22\u5F15</p><p>\xB7 <strong>\u4E3B\u952E\u7D22\u5F15:</strong> \u6570\u636E\u5217\u4E0D\u5141\u8BB8\u91CD\u590D\uFF0C\u4E0D\u5141\u8BB8\u4E3A NULL\uFF0C\u4E00\u4E2A\u8868\u53EA\u80FD\u6709\u4E00\u4E2A\u4E3B\u952E\u3002 ALTER TABLE <code>table_name</code> ADD PRIMARY KEY ( <code>column</code> )</p><h3 id="_3-\u4ECE\u8868\u8BB0\u5F55\u7684\u6392\u5217\u987A\u5E8F\u548C\u7D22\u5F15\u7684\u6392\u5217\u987A\u5E8F\u662F\u5426\u4E00\u81F4\u6765\u5212\u5206" tabindex="-1"><a class="header-anchor" href="#_3-\u4ECE\u8868\u8BB0\u5F55\u7684\u6392\u5217\u987A\u5E8F\u548C\u7D22\u5F15\u7684\u6392\u5217\u987A\u5E8F\u662F\u5426\u4E00\u81F4\u6765\u5212\u5206" aria-hidden="true">#</a> 3\uFF09\u4ECE\u8868\u8BB0\u5F55\u7684\u6392\u5217\u987A\u5E8F\u548C\u7D22\u5F15\u7684\u6392\u5217\u987A\u5E8F\u662F\u5426\u4E00\u81F4\u6765\u5212\u5206</h3><p>\xB7 **\u805A\u96C6\u7D22\u5F15\uFF1A**\u8868\u8BB0\u5F55\u7684\u6392\u5217\u987A\u5E8F\u548C\u7D22\u5F15\u7684\u6392\u5217\u987A\u5E8F\u4E00\u81F4\u3002</p><p>\u2022 \u5C31\u662F\u4EE5\u4E3B\u952E\u521B\u5EFA\u7684\u7D22\u5F15\u3002</p><p>\xB7 **\u975E\u805A\u96C6\u7D22\u5F15\uFF1A**\u8868\u8BB0\u5F55\u7684\u6392\u5217\u987A\u5E8F\u548C\u7D22\u5F15\u7684\u6392\u5217\u987A\u5E8F\u4E0D\u4E00\u81F4\u3002</p><p>\u2022 \u4EE5\u975E\u4E3B\u952E\u521B\u5EFA\u7684\u7D22\u5F15\uFF08\u4E5F\u53EB\u505A\u4E8C\u7EA7\u7D22\u5F15\uFF09\u3002</p><h2 id="\u7D22\u5F15\u7684\u6570\u636E\u7ED3\u6784-b\u6811-hash" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15\u7684\u6570\u636E\u7ED3\u6784-b\u6811-hash" aria-hidden="true">#</a> \u7D22\u5F15\u7684\u6570\u636E\u7ED3\u6784\uFF08b\u6811\uFF0Chash\uFF09</h2><p>\u6211\u4EEC\u7ECF\u5E38\u4F7F\u7528\u7684 InnoDB \u5B58\u50A8\u5F15\u64CE\u7684\u9ED8\u8BA4\u7D22\u5F15\u5B9E\u73B0\u4E3A\uFF1AB + \u6811\u7D22\u5F15\u3002\u5BF9\u4E8E\u54C8\u5E0C\u7D22\u5F15\u6765\u8BF4\uFF0C\u5E95\u5C42\u7684\u6570\u636E\u7ED3\u6784\u5C31\u662F\u54C8\u5E0C\u8868\uFF0C\u56E0\u6B64\u5728\u7EDD\u5927\u591A\u6570\u9700\u6C42\u4E3A\u5355\u6761\u8BB0\u5F55\u67E5\u8BE2\u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u9009\u62E9\u54C8\u5E0C\u7D22\u5F15\uFF0C\u67E5\u8BE2\u6027\u80FD\u6700\u5FEB\uFF1B\u5176\u4F59\u5927\u90E8\u5206\u573A\u666F\uFF0C\u5EFA\u8BAE\u9009\u62E9 BTree \u7D22\u5F15\u3002</p><h3 id="b-\u6811\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#b-\u6811\u7D22\u5F15" aria-hidden="true">#</a> B \u6811\u7D22\u5F15</h3><p><img src="http://qnimg.gisfsde.com/work/image-20210706135612918.png" alt="image-20210706135612918" loading="lazy"></p><p>\xB7 mysql \u901A\u8FC7\u5B58\u50A8\u5F15\u64CE\u53D6\u6570\u636E\uFF0C\u57FA\u672C\u4E0A 90% \u7684\u4EBA\u7528\u7684\u5C31\u662F InnoDB \u4E86\uFF0C\u6309\u7167\u5B9E\u73B0\u65B9\u5F0F\u5206\uFF0CInnoDB \u7684\u7D22\u5F15\u7C7B\u578B\u76EE\u524D\u53EA\u6709\u4E24\u79CD\uFF1ABTREE\uFF08B \u6811\uFF09\u7D22\u5F15\u548C HASH \u7D22\u5F15\u3002B \u6811\u7D22\u5F15\u662F Mysql \u6570\u636E\u5E93\u4E2D\u4F7F\u7528\u6700\u9891\u7E41\u7684\u7D22\u5F15\u7C7B\u578B\uFF0C\u57FA\u672C\u6240\u6709\u5B58\u50A8\u5F15\u64CE\u90FD\u652F\u6301 BTree \u7D22\u5F15\u3002\u901A\u5E38\u6211\u4EEC\u8BF4\u7684\u7D22\u5F15\u4E0D\u51FA\u610F\u5916\u6307\u7684\u5C31\u662F\uFF08B \u6811\uFF09\u7D22\u5F15\uFF08\u5B9E\u9645\u662F\u7528 B + \u6811\u5B9E\u73B0\u7684\uFF0C\u56E0\u4E3A\u5728\u67E5\u770B\u8868\u7D22\u5F15\u65F6\uFF0Cmysql \u4E00\u5F8B\u6253\u5370 BTREE\uFF0C\u6240\u4EE5\u7B80\u79F0\u4E3A B \u6811\u7D22\u5F15\uFF09</p><p>\u2022 \u67E5\u8BE2\u65B9\u5F0F\uFF1A</p><p>\u4E3B\u952E\u7D22\u5F15\u533A: PI(\u5173\u8054\u4FDD\u5B58\u7684\u65F6\u6570\u636E\u7684\u5730\u5740) \u6309\u4E3B\u952E\u67E5\u8BE2,</p><p>\u666E\u901A\u7D22\u5F15\u533A: si(\u5173\u8054\u7684 id \u7684\u5730\u5740, \u7136\u540E\u518D\u5230\u8FBE\u4E0A\u9762\u7684\u5730\u5740)\u3002\u6240\u4EE5\u6309\u4E3B\u952E\u67E5\u8BE2, \u901F\u5EA6\u6700\u5FEB</p><p>B+tree \u6027\u8D28\uFF1A</p><p>1.\uFF09n \u68F5\u5B50 tree \u7684\u8282\u70B9\u5305\u542B n \u4E2A\u5173\u952E\u5B57\uFF0C\u4E0D\u7528\u6765\u4FDD\u5B58\u6570\u636E\u800C\u662F\u4FDD\u5B58\u6570\u636E\u7684\u7D22\u5F15\u3002</p><p>2.\uFF09\u6240\u6709\u7684\u53F6\u5B50\u7ED3\u70B9\u4E2D\u5305\u542B\u4E86\u5168\u90E8\u5173\u952E\u5B57\u7684\u4FE1\u606F\uFF0C\u53CA\u6307\u5411\u542B\u8FD9\u4E9B\u5173\u952E\u5B57\u8BB0\u5F55\u7684\u6307\u9488\uFF0C\u4E14\u53F6\u5B50\u7ED3\u70B9\u672C\u8EAB\u4F9D\u5173\u952E\u5B57\u7684\u5927\u5C0F\u81EA\u5C0F\u800C\u5927\u987A\u5E8F\u94FE\u63A5\u3002</p><p>3.\uFF09\u6240\u6709\u7684\u975E\u7EC8\u7AEF\u7ED3\u70B9\u53EF\u4EE5\u770B\u6210\u662F\u7D22\u5F15\u90E8\u5206\uFF0C\u7ED3\u70B9\u4E2D\u4EC5\u542B\u5176\u5B50\u6811\u4E2D\u7684\u6700\u5927\uFF08\u6216\u6700\u5C0F\uFF09\u5173\u952E\u5B57\u3002</p><p>4.\uFF09B+ \u6811\u4E2D\uFF0C\u6570\u636E\u5BF9\u8C61\u7684\u63D2\u5165\u548C\u5220\u9664\u4EC5\u5728\u53F6\u8282\u70B9\u4E0A\u8FDB\u884C\u3002</p><p>5.\uFF09B + \u6811\u6709 2 \u4E2A\u5934\u6307\u9488\uFF0C\u4E00\u4E2A\u662F\u6811\u7684\u6839\u8282\u70B9\uFF0C\u4E00\u4E2A\u662F\u6700\u5C0F\u5173\u952E\u7801\u7684\u53F6\u8282\u70B9\u3002</p><h3 id="\u54C8\u5E0C\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u54C8\u5E0C\u7D22\u5F15" aria-hidden="true">#</a> \u54C8\u5E0C\u7D22\u5F15</h3><p>\u7B80\u8981\u8BF4\u4E0B\uFF0C\u7C7B\u4F3C\u4E8E\u6570\u636E\u7ED3\u6784\u4E2D\u7B80\u5355\u5B9E\u73B0\u7684 HASH \u8868\uFF08\u6563\u5217\u8868\uFF09\u4E00\u6837\uFF0C\u5F53\u6211\u4EEC\u5728 mysql \u4E2D\u7528\u54C8\u5E0C\u7D22\u5F15\u65F6\uFF0C\u4E3B\u8981\u5C31\u662F\u901A\u8FC7 Hash \u7B97\u6CD5\uFF08\u5E38\u89C1\u7684 Hash \u7B97\u6CD5\u6709\u76F4\u63A5\u5B9A\u5740\u6CD5\u3001\u5E73\u65B9\u53D6\u4E2D\u6CD5\u3001\u6298\u53E0\u6CD5\u3001\u9664\u6570\u53D6\u4F59\u6CD5\u3001\u968F\u673A\u6570\u6CD5\uFF09\uFF0C\u5C06\u6570\u636E\u5E93\u5B57\u6BB5\u6570\u636E\u8F6C\u6362\u6210\u5B9A\u957F\u7684 Hash \u503C\uFF0C\u4E0E\u8FD9\u6761\u6570\u636E\u7684\u884C\u6307\u9488\u4E00\u5E76\u5B58\u5165 Hash \u8868\u7684\u5BF9\u5E94\u4F4D\u7F6E\uFF1B\u5982\u679C\u53D1\u751F Hash \u78B0\u649E\uFF08\u4E24\u4E2A\u4E0D\u540C\u5173\u952E\u5B57\u7684 Hash \u503C\u76F8\u540C\uFF09\uFF0C\u5219\u5728\u5BF9\u5E94 Hash \u952E\u4E0B\u4EE5\u94FE\u8868\u5F62\u5F0F\u5B58\u50A8\u3002\u5F53\u7136\u8FD9\u53EA\u662F\u7B80\u7565\u6A21\u62DF\u56FE\u3002</p><h2 id="\u7D22\u5F15\u7684\u57FA\u672C\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15\u7684\u57FA\u672C\u539F\u7406" aria-hidden="true">#</a> \u7D22\u5F15\u7684\u57FA\u672C\u539F\u7406</h2><p>\u7D22\u5F15\u7528\u6765\u5FEB\u901F\u5730\u5BFB\u627E\u90A3\u4E9B\u5177\u6709\u7279\u5B9A\u503C\u7684\u8BB0\u5F55\u3002\u5982\u679C\u6CA1\u6709\u7D22\u5F15\uFF0C\u4E00\u822C\u6765\u8BF4\u6267\u884C\u67E5\u8BE2\u65F6\u904D\u5386\u6574\u5F20\u8868\u3002 \u7D22\u5F15\u7684\u539F\u7406\u5F88\u7B80\u5355\uFF0C\u5C31\u662F\u628A\u65E0\u5E8F\u7684\u6570\u636E\u53D8\u6210\u6709\u5E8F\u7684\u67E5\u8BE2 \u628A\u521B\u5EFA\u4E86\u7D22\u5F15\u7684\u5217\u7684\u5185\u5BB9\u8FDB\u884C\u6392\u5E8F \u5BF9\u6392\u5E8F\u7ED3\u679C\u751F\u6210\u5012\u6392\u8868 \u5728\u5012\u6392\u8868\u5185\u5BB9\u4E0A\u62FC\u4E0A\u6570\u636E\u5730\u5740\u94FE \u5728\u67E5\u8BE2\u7684\u65F6\u5019\uFF0C\u5148\u62FF\u5230\u5012\u6392\u8868\u5185\u5BB9\uFF0C\u518D\u53D6\u51FA\u6570\u636E\u5730\u5740\u94FE\uFF0C\u4ECE\u800C\u62FF\u5230\u5177\u4F53\u6570\u636E</p><h2 id="\u7D22\u5F15\u7B97\u6CD5\u6709\u54EA\u4E9B" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15\u7B97\u6CD5\u6709\u54EA\u4E9B" aria-hidden="true">#</a> \u7D22\u5F15\u7B97\u6CD5\u6709\u54EA\u4E9B\uFF1F</h2><p>BTree \u7B97\u6CD5 BTree \u662F\u6700\u5E38\u7528\u7684 mysql \u6570\u636E\u5E93\u7D22\u5F15\u7B97\u6CD5\uFF0C\u4E5F\u662F mysql \u9ED8\u8BA4\u7684\u7B97\u6CD5\u3002\u56E0\u4E3A\u5B83\u4E0D\u4EC5\u53EF\u4EE5\u88AB\u7528\u5728 =,&gt;,&gt;=,&lt;,&lt;= \u548C between \u8FD9\u4E9B\u6BD4\u8F83\u64CD\u4F5C\u7B26\u4E0A\uFF0C\u800C\u4E14\u8FD8\u53EF\u4EE5\u7528\u4E8E like \u64CD\u4F5C\u7B26\uFF0C\u53EA\u8981\u5B83\u7684\u67E5\u8BE2\u6761\u4EF6\u662F\u4E00\u4E2A\u4E0D\u4EE5\u901A\u914D\u7B26\u5F00\u5934\u7684\u5E38\u91CF\uFF0C \u4F8B\u5982\uFF1A -- \u53EA\u8981\u5B83\u7684\u67E5\u8BE2\u6761\u4EF6\u662F\u4E00\u4E2A\u4E0D\u4EE5\u901A\u914D\u7B26\u5F00\u5934\u7684\u5E38\u91CF select * from user where name like &#39;jack%&#39;; -- \u5982\u679C\u4E00\u901A\u914D\u7B26\u5F00\u5934\uFF0C\u6216\u8005\u6CA1\u6709\u4F7F\u7528\u5E38\u91CF\uFF0C\u5219\u4E0D\u4F1A\u4F7F\u7528\u7D22\u5F15\uFF0C\u4F8B\u5982\uFF1A select * from user where name like &#39;%jack&#39;; Hash \u7B97\u6CD5 Hash Hash \u7D22\u5F15\u53EA\u80FD\u7528\u4E8E\u5BF9\u7B49\u6BD4\u8F83\uFF0C\u4F8B\u5982 =,&lt;=&gt;\uFF08\u76F8\u5F53\u4E8E =\uFF09\u64CD\u4F5C\u7B26\u3002\u7531\u4E8E\u662F\u4E00\u6B21\u5B9A\u4F4D\u6570\u636E\uFF0C\u4E0D\u50CF BTree \u7D22\u5F15\u9700\u8981\u4ECE\u6839\u8282\u70B9\u5230\u679D\u8282\u70B9\uFF0C\u6700\u540E\u624D\u80FD\u8BBF\u95EE\u5230\u9875\u8282\u70B9\u8FD9\u6837\u591A\u6B21 IO \u8BBF\u95EE\uFF0C\u6240\u4EE5\u68C0\u7D22\u6548\u7387\u8FDC\u9AD8\u4E8E BTree \u7D22\u5F15\u3002</p><h2 id="\u7D22\u5F15\u8BBE\u8BA1\u7684\u539F\u5219" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15\u8BBE\u8BA1\u7684\u539F\u5219" aria-hidden="true">#</a> \u7D22\u5F15\u8BBE\u8BA1\u7684\u539F\u5219\uFF1F</h2><p>\u9002\u5408\u7D22\u5F15\u7684\u5217\u662F\u51FA\u73B0\u5728 where \u5B50\u53E5\u4E2D\u7684\u5217\uFF0C\u6216\u8005\u8FDE\u63A5\u5B50\u53E5\u4E2D\u6307\u5B9A\u7684\u5217 \u57FA\u6570\u8F83\u5C0F\u7684\u7C7B\uFF0C\u7D22\u5F15\u6548\u679C\u8F83\u5DEE\uFF0C\u6CA1\u6709\u5FC5\u8981\u5728\u6B64\u5217\u5EFA\u7ACB\u7D22\u5F15 \u4F7F\u7528\u77ED\u7D22\u5F15\uFF0C\u5982\u679C\u5BF9\u957F\u5B57\u7B26\u4E32\u5217\u8FDB\u884C\u7D22\u5F15\uFF0C\u5E94\u8BE5\u6307\u5B9A\u4E00\u4E2A\u524D\u7F00\u957F\u5EA6\uFF0C\u8FD9\u6837\u80FD\u591F\u8282\u7701\u5927\u91CF\u7D22\u5F15\u7A7A\u95F4 \u4E0D\u8981\u8FC7\u5EA6\u7D22\u5F15\u3002\u7D22\u5F15\u9700\u8981\u989D\u5916\u7684\u78C1\u76D8\u7A7A\u95F4\uFF0C\u5E76\u964D\u4F4E\u5199\u64CD\u4F5C\u7684\u6027\u80FD\u3002\u5728\u4FEE\u6539\u8868\u5185\u5BB9\u7684\u65F6\u5019\uFF0C\u7D22\u5F15\u4F1A\u8FDB\u884C\u66F4\u65B0\u751A\u81F3\u91CD\u6784\uFF0C\u7D22\u5F15\u5217\u8D8A\u591A\uFF0C\u8FD9\u4E2A\u65F6\u95F4\u5C31\u4F1A\u8D8A\u957F\u3002\u6240\u4EE5\u53EA\u4FDD\u6301\u9700\u8981\u7684\u7D22\u5F15\u6709\u5229\u4E8E\u67E5\u8BE2\u5373\u53EF\u3002</p><h2 id="\u521B\u5EFA\u7D22\u5F15\u7684\u539F\u5219-\u91CD\u4E2D\u4E4B\u91CD" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u7D22\u5F15\u7684\u539F\u5219-\u91CD\u4E2D\u4E4B\u91CD" aria-hidden="true">#</a> \u521B\u5EFA\u7D22\u5F15\u7684\u539F\u5219\uFF08\u91CD\u4E2D\u4E4B\u91CD\uFF09</h2><p>\u7D22\u5F15\u867D\u597D\uFF0C\u4F46\u4E5F\u4E0D\u662F\u65E0\u9650\u5236\u7684\u4F7F\u7528\uFF0C\u6700\u597D\u7B26\u5408\u4E00\u4E0B\u51E0\u4E2A\u539F\u5219</p><p>1\uFF09 \u6700\u5DE6\u524D\u7F00\u5339\u914D\u539F\u5219\uFF0C\u7EC4\u5408\u7D22\u5F15\u975E\u5E38\u91CD\u8981\u7684\u539F\u5219\uFF0Cmysql \u4F1A\u4E00\u76F4\u5411\u53F3\u5339\u914D\u76F4\u5230\u9047\u5230\u8303\u56F4\u67E5\u8BE2 (&gt;\u3001&lt;\u3001between\u3001like) \u5C31\u505C\u6B62\u5339\u914D\uFF0C\u6BD4\u5982 a = 1 and b = 2 and c &gt; 3 and d = 4 \u5982\u679C\u5EFA\u7ACB (a,b,c,d) \u987A\u5E8F\u7684\u7D22\u5F15\uFF0Cd \u662F\u7528\u4E0D\u5230\u7D22\u5F15\u7684\uFF0C\u5982\u679C\u5EFA\u7ACB (a,b,d,c) \u7684\u7D22\u5F15\u5219\u90FD\u53EF\u4EE5\u7528\u5230\uFF0Ca,b,d \u7684\u987A\u5E8F\u53EF\u4EE5\u4EFB\u610F\u8C03\u6574\u3002<br> 2\uFF09\u8F83\u9891\u7E41\u4F5C\u4E3A\u67E5\u8BE2\u6761\u4EF6\u7684\u5B57\u6BB5\u624D\u53BB\u521B\u5EFA\u7D22\u5F15<br> 3\uFF09\u66F4\u65B0\u9891\u7E41\u5B57\u6BB5\u4E0D\u9002\u5408\u521B\u5EFA\u7D22\u5F15<br> 4\uFF09\u82E5\u662F\u4E0D\u80FD\u6709\u6548\u533A\u5206\u6570\u636E\u7684\u5217\u4E0D\u9002\u5408\u505A\u7D22\u5F15\u5217 (\u5982\u6027\u522B\uFF0C\u7537\u5973\u672A\u77E5\uFF0C\u6700\u591A\u4E5F\u5C31\u4E09\u79CD\uFF0C\u533A\u5206\u5EA6\u5B9E\u5728\u592A\u4F4E)<br> 5\uFF09\u5C3D\u91CF\u7684\u6269\u5C55\u7D22\u5F15\uFF0C\u4E0D\u8981\u65B0\u5EFA\u7D22\u5F15\u3002\u6BD4\u5982\u8868\u4E2D\u5DF2\u7ECF\u6709 a \u7684\u7D22\u5F15\uFF0C\u73B0\u5728\u8981\u52A0 (a,b) \u7684\u7D22\u5F15\uFF0C\u90A3\u4E48\u53EA\u9700\u8981\u4FEE\u6539\u539F\u6765\u7684\u7D22\u5F15\u5373\u53EF\u3002<br> 6\uFF09\u5B9A\u4E49\u6709\u5916\u952E\u7684\u6570\u636E\u5217\u4E00\u5B9A\u8981\u5EFA\u7ACB\u7D22\u5F15\u3002<br> 7\uFF09\u5BF9\u4E8E\u90A3\u4E9B\u67E5\u8BE2\u4E2D\u5F88\u5C11\u6D89\u53CA\u7684\u5217\uFF0C\u91CD\u590D\u503C\u6BD4\u8F83\u591A\u7684\u5217\u4E0D\u8981\u5EFA\u7ACB\u7D22\u5F15\u3002 8\uFF09\u5BF9\u4E8E\u5B9A\u4E49\u4E3A text\u3001image \u548C bit \u7684\u6570\u636E\u7C7B\u578B\u7684\u5217\u4E0D\u8981\u5EFA\u7ACB\u7D22\u5F15\u3002</p><h2 id="\u521B\u5EFA\u7D22\u5F15\u7684\u4E09\u79CD\u65B9\u5F0F-\u5220\u9664\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u7D22\u5F15\u7684\u4E09\u79CD\u65B9\u5F0F-\u5220\u9664\u7D22\u5F15" aria-hidden="true">#</a> \u521B\u5EFA\u7D22\u5F15\u7684\u4E09\u79CD\u65B9\u5F0F\uFF0C\u5220\u9664\u7D22\u5F15</h2><p>\u7B2C\u4E00\u79CD\u65B9\u5F0F\uFF1A\u5728\u6267\u884C CREATE TABLE \u65F6\u521B\u5EFA\u7D22\u5F15 CREATE TABLE user_index2 ( id INT auto_increment PRIMARY KEY, first_name VARCHAR (16), last_name VARCHAR (16), id_card VARCHAR (18), information text, KEY name (first_name, last_name), FULLTEXT KEY (information), UNIQUE KEY (id_card) );</p><p>\u7B2C\u4E8C\u79CD\u65B9\u5F0F\uFF1A\u4F7F\u7528 ALTER TABLE \u547D\u4EE4\u53BB\u589E\u52A0\u7D22\u5F15 ALTER TABLE table_name ADD INDEX index_name (column_list); ALTER TABLE \u7528\u6765\u521B\u5EFA\u666E\u901A\u7D22\u5F15\u3001UNIQUE \u7D22\u5F15\u6216 PRIMARY KEY \u7D22\u5F15\u3002 \u5176\u4E2D table_name \u662F\u8981\u589E\u52A0\u7D22\u5F15\u7684\u8868\u540D\uFF0Ccolumn_list \u6307\u51FA\u5BF9\u54EA\u4E9B\u5217\u8FDB\u884C\u7D22\u5F15\uFF0C\u591A\u5217\u65F6\u5404\u5217\u4E4B\u95F4\u7528\u9017\u53F7\u5206\u9694\u3002 \u7D22\u5F15\u540D index_name \u53EF\u81EA\u5DF1\u547D\u540D\uFF0C\u7F3A\u7701\u65F6\uFF0CMySQL \u5C06\u6839\u636E\u7B2C\u4E00\u4E2A\u7D22\u5F15\u5217\u8D4B\u4E00\u4E2A\u540D\u79F0\u3002\u53E6\u5916\uFF0CALTER TABLE \u5141\u8BB8\u5728\u5355\u4E2A\u8BED\u53E5\u4E2D\u66F4\u6539\u591A\u4E2A\u8868\uFF0C\u56E0\u6B64\u53EF\u4EE5\u5728\u540C\u65F6\u521B\u5EFA\u591A\u4E2A\u7D22\u5F15\u3002</p><p>\u7B2C\u4E09\u79CD\u65B9\u5F0F\uFF1A\u4F7F\u7528 CREATE INDEX \u547D\u4EE4\u521B\u5EFA CREATE INDEX index_name ON table_name (column_list); CREATE INDEX \u53EF\u5BF9\u8868\u589E\u52A0\u666E\u901A\u7D22\u5F15\u6216 UNIQUE \u7D22\u5F15\u3002\uFF08\u4F46\u662F\uFF0C\u4E0D\u80FD\u521B\u5EFA PRIMARY KEY \u7D22\u5F15\uFF09</p><p>\u5220\u9664\u7D22\u5F15 \u6839\u636E\u7D22\u5F15\u540D\u5220\u9664\u666E\u901A\u7D22\u5F15\u3001\u552F\u4E00\u7D22\u5F15\u3001\u5168\u6587\u7D22\u5F15\uFF1Aalter table \u8868\u540D drop KEY \u7D22\u5F15\u540D alter table user_index drop KEY name; alter table user_index drop KEY id_card; alter table user_index drop KEY information; \u5220\u9664\u4E3B\u952E\u7D22\u5F15\uFF1Aalter table \u8868\u540D drop primary key\uFF08\u56E0\u4E3A\u4E3B\u952E\u53EA\u6709\u4E00\u4E2A\uFF09\u3002\u8FD9\u91CC\u503C\u5F97\u6CE8\u610F\u7684\u662F\uFF0C\u5982\u679C\u4E3B\u952E\u81EA\u589E\u957F\uFF0C\u90A3\u4E48\u4E0D\u80FD\u76F4\u63A5\u6267\u884C\u6B64\u64CD\u4F5C\uFF08\u81EA\u589E\u957F\u4F9D\u8D56\u4E8E\u4E3B\u952E\u7D22\u5F15\uFF09\uFF1A \u9700\u8981\u53D6\u6D88\u81EA\u589E\u957F\u518D\u884C\u5220\u9664\uFF1A alter table user_index -- \u91CD\u65B0\u5B9A\u4E49\u5B57\u6BB5 MODIFY id int, drop PRIMARY KEY \u4F46\u901A\u5E38\u4E0D\u4F1A\u5220\u9664\u4E3B\u952E\uFF0C\u56E0\u4E3A\u8BBE\u8BA1\u4E3B\u952E\u4E00\u5B9A\u4E0E\u4E1A\u52A1\u903B\u8F91\u65E0\u5173\u3002</p><h2 id="\u521B\u5EFA\u7D22\u5F15\u65F6\u9700\u8981\u6CE8\u610F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u7D22\u5F15\u65F6\u9700\u8981\u6CE8\u610F\u4EC0\u4E48" aria-hidden="true">#</a> \u521B\u5EFA\u7D22\u5F15\u65F6\u9700\u8981\u6CE8\u610F\u4EC0\u4E48\uFF1F</h2><p>\u975E\u7A7A\u5B57\u6BB5\uFF1A\u5E94\u8BE5\u6307\u5B9A\u5217\u4E3A NOT NULL\uFF0C\u9664\u975E\u4F60\u60F3\u5B58\u50A8 NULL\u3002\u5728 mysql \u4E2D\uFF0C\u542B\u6709\u7A7A\u503C\u7684\u5217\u5F88\u96BE\u8FDB\u884C\u67E5\u8BE2\u4F18\u5316\uFF0C\u56E0\u4E3A\u5B83\u4EEC\u4F7F\u5F97\u7D22\u5F15\u3001\u7D22\u5F15\u7684\u7EDF\u8BA1\u4FE1\u606F\u4EE5\u53CA\u6BD4\u8F83\u8FD0\u7B97\u66F4\u52A0\u590D\u6742\u3002\u4F60\u5E94\u8BE5\u7528 0\u3001\u4E00\u4E2A\u7279\u6B8A\u7684\u503C\u6216\u8005\u4E00\u4E2A\u7A7A\u4E32\u4EE3\u66FF\u7A7A\u503C\uFF1B \u53D6\u503C\u79BB\u6563\u5927\u7684\u5B57\u6BB5\uFF1A\uFF08\u53D8\u91CF\u5404\u4E2A\u53D6\u503C\u4E4B\u95F4\u7684\u5DEE\u5F02\u7A0B\u5EA6\uFF09\u7684\u5217\u653E\u5230\u8054\u5408\u7D22\u5F15\u7684\u524D\u9762\uFF0C\u53EF\u4EE5\u901A\u8FC7 count() \u51FD\u6570\u67E5\u770B\u5B57\u6BB5\u7684\u5DEE\u5F02\u503C\uFF0C\u8FD4\u56DE\u503C\u8D8A\u5927\u8BF4\u660E\u5B57\u6BB5\u7684\u552F\u4E00\u503C\u8D8A\u591A\u5B57\u6BB5\u7684\u79BB\u6563\u7A0B\u5EA6\u9AD8\uFF1B \u7D22\u5F15\u5B57\u6BB5\u8D8A\u5C0F\u8D8A\u597D\uFF1A\u6570\u636E\u5E93\u7684\u6570\u636E\u5B58\u50A8\u4EE5\u9875\u4E3A\u5355\u4F4D\u4E00\u9875\u5B58\u50A8\u7684\u6570\u636E\u8D8A\u591A\u4E00\u6B21 IO \u64CD\u4F5C\u83B7\u53D6\u7684\u6570\u636E\u8D8A\u5927\u6548\u7387\u8D8A\u9AD8\u3002</p><h2 id="\u4F7F\u7528\u7D22\u5F15\u67E5\u8BE2\u4E00\u5B9A\u80FD\u63D0\u9AD8\u67E5\u8BE2\u7684\u6027\u80FD\u5417-\u4E3A\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u7D22\u5F15\u67E5\u8BE2\u4E00\u5B9A\u80FD\u63D0\u9AD8\u67E5\u8BE2\u7684\u6027\u80FD\u5417-\u4E3A\u4EC0\u4E48" aria-hidden="true">#</a> \u4F7F\u7528\u7D22\u5F15\u67E5\u8BE2\u4E00\u5B9A\u80FD\u63D0\u9AD8\u67E5\u8BE2\u7684\u6027\u80FD\u5417\uFF1F\u4E3A\u4EC0\u4E48</h2><p>\u901A\u5E38\uFF0C\u901A\u8FC7\u7D22\u5F15\u67E5\u8BE2\u6570\u636E\u6BD4\u5168\u8868\u626B\u63CF\u8981\u5FEB\u3002\u4F46\u662F\u6211\u4EEC\u4E5F\u5FC5\u987B\u6CE8\u610F\u5230\u5B83\u7684\u4EE3\u4EF7\u3002 \u7D22\u5F15\u9700\u8981\u7A7A\u95F4\u6765\u5B58\u50A8\uFF0C\u4E5F\u9700\u8981\u5B9A\u671F\u7EF4\u62A4\uFF0C \u6BCF\u5F53\u6709\u8BB0\u5F55\u5728\u8868\u4E2D\u589E\u51CF\u6216\u7D22\u5F15\u5217\u88AB\u4FEE\u6539\u65F6\uFF0C\u7D22\u5F15\u672C\u8EAB\u4E5F\u4F1A\u88AB\u4FEE\u6539\u3002 \u8FD9\u610F\u5473\u7740\u6BCF\u6761\u8BB0\u5F55\u7684 INSERT\uFF0CDELETE\uFF0CUPDATE \u5C06\u4E3A\u6B64\u591A\u4ED8\u51FA 4\uFF0C5 \u6B21\u7684\u78C1\u76D8 I/O\u3002 \u56E0\u4E3A\u7D22\u5F15\u9700\u8981\u989D\u5916\u7684\u5B58\u50A8\u7A7A\u95F4\u548C\u5904\u7406\uFF0C\u90A3\u4E9B\u4E0D\u5FC5\u8981\u7684\u7D22\u5F15\u53CD\u800C\u4F1A\u4F7F\u67E5\u8BE2\u53CD\u5E94\u65F6\u95F4\u53D8\u6162\u3002\u4F7F\u7528\u7D22\u5F15\u67E5\u8BE2\u4E0D\u4E00\u5B9A\u80FD\u63D0\u9AD8\u67E5\u8BE2\u6027\u80FD\uFF0C\u7D22\u5F15\u8303\u56F4\u67E5\u8BE2 (INDEX RANGE SCAN) \u9002\u7528\u4E8E\u4E24\u79CD\u60C5\u51B5: \u57FA\u4E8E\u4E00\u4E2A\u8303\u56F4\u7684\u68C0\u7D22\uFF0C\u4E00\u822C\u67E5\u8BE2\u8FD4\u56DE\u7ED3\u679C\u96C6\u5C0F\u4E8E\u8868\u4E2D\u8BB0\u5F55\u6570\u7684 30% \u57FA\u4E8E\u975E\u552F\u4E00\u6027\u7D22\u5F15\u7684\u68C0\u7D22</p>',96),se={id:"\u7D22\u5F15\u5931\u6548\u7684\u51E0\u79CD\u60C5\u51B5",tabindex:"-1"},re=e("a",{class:"header-anchor",href:"#\u7D22\u5F15\u5931\u6548\u7684\u51E0\u79CD\u60C5\u51B5","aria-hidden":"true"},"#",-1),de=n(),le={href:"https://www.cnblogs.com/liehen2046/p/11052666.html",target:"_blank",rel:"noopener noreferrer"},oe=n("\u7D22\u5F15\u5931\u6548\u7684\u51E0\u79CD\u60C5\u51B5"),ce=i(`<h3 id="\u4EC0\u4E48\u65F6\u5019\u6CA1\u7528" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u65F6\u5019\u6CA1\u7528" aria-hidden="true">#</a> \u4EC0\u4E48\u65F6\u5019\u6CA1\u7528</h3><p>or\uFF0C%\uFF0C\u7B97\uFF0C\u51FD\u6570\uFF0C\u8F6C\u6362\uFF0C\u590D\u5408\u7D22\u5F15</p><p>1.\u6709or\u5FC5\u5168\u6709\u7D22\u5F15; 2.\u590D\u5408\u7D22\u5F15\u672A\u7528\u5DE6\u5217\u5B57\u6BB5; 3.like\u4EE5%\u5F00\u5934; 4.\u9700\u8981\u7C7B\u578B\u8F6C\u6362; 5.where\u4E2D\u7D22\u5F15\u5217\u6709\u8FD0\u7B97; 6.where\u4E2D\u7D22\u5F15\u5217\u4F7F\u7528\u4E86\u51FD\u6570; 7.\u5982\u679Cmysql\u89C9\u5F97\u5168\u8868\u626B\u63CF\u66F4\u5FEB\u65F6\uFF08\u6570\u636E\u5C11\uFF09;</p><h3 id="\u4EC0\u4E48\u65F6\u6CA1\u5FC5\u8981\u7528" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u65F6\u6CA1\u5FC5\u8981\u7528" aria-hidden="true">#</a> \u4EC0\u4E48\u65F6\u6CA1\u5FC5\u8981\u7528</h3><p>1.\u552F\u4E00\u6027\u5DEE; 2.\u9891\u7E41\u66F4\u65B0\u7684\u5B57\u6BB5\u4E0D\u7528\uFF08\u66F4\u65B0\u7D22\u5F15\u6D88\u8017\uFF09; 3.where\u4E2D\u4E0D\u7528\u7684\u5B57\u6BB5; 4.\u7D22\u5F15\u4F7F\u7528&lt;&gt;\u65F6\uFF0C\u6548\u679C\u4E00\u822C;</p><h2 id="\u8BE6\u8FF0-\u8F6C" tabindex="-1"><a class="header-anchor" href="#\u8BE6\u8FF0-\u8F6C" aria-hidden="true">#</a> \u8BE6\u8FF0\uFF08\u8F6C\uFF09</h2><p>\u7D22\u5F15\u5E76\u4E0D\u662F\u65F6\u65F6\u90FD\u4F1A\u751F\u6548\u7684\uFF0C\u6BD4\u5982\u4EE5\u4E0B\u51E0\u79CD\u60C5\u51B5\uFF0C\u5C06\u5BFC\u81F4\u7D22\u5F15\u5931\u6548\uFF1A</p><ul><li>\u5982\u679C\u6761\u4EF6\u4E2D\u6709or\uFF0C\u5373\u4F7F\u5176\u4E2D\u6709\u90E8\u5206\u6761\u4EF6\u5E26\u7D22\u5F15\u4E5F\u4E0D\u4F1A\u4F7F\u7528(\u8FD9\u4E5F\u662F\u4E3A\u4EC0\u4E48\u5C3D\u91CF\u5C11\u7528or\u7684\u539F\u56E0)\uFF0C\u4F8B\u5B50\u4E2Duser_id\u65E0\u7D22\u5F15</li></ul><p>\u6CE8\u610F\uFF1A\u8981\u60F3\u4F7F\u7528or\uFF0C\u53C8\u60F3\u8BA9\u7D22\u5F15\u751F\u6548\uFF0C\u53EA\u80FD\u5C06or\u6761\u4EF6\u4E2D\u7684\u6BCF\u4E2A\u5217\u90FD\u52A0\u4E0A\u7D22\u5F15</p><p><img src="http://qnimg.gisfsde.com/1623038-20190619181118118-1784753048.png" alt="img" loading="lazy"></p><ul><li>\u5BF9\u4E8E\u590D\u5408\u7D22\u5F15\uFF0C\u5982\u679C\u4E0D\u4F7F\u7528\u524D\u5217\uFF0C\u540E\u7EED\u5217\u4E5F\u5C06\u65E0\u6CD5\u4F7F\u7528\uFF0C\u7C7B\u7535\u8BDD\u7C3F\u3002</li><li>like\u67E5\u8BE2\u662F\u4EE5%\u5F00\u5934</li></ul><p><img src="http://qnimg.gisfsde.com/1623038-20190619181236139-968114236.png" alt="img" loading="lazy"></p><ul><li>\u5B58\u5728\u7D22\u5F15\u5217\u7684\u6570\u636E\u7C7B\u578B\u9690\u5F62\u8F6C\u6362\uFF0C\u5219\u7528\u4E0D\u4E0A\u7D22\u5F15\uFF0C\u6BD4\u5982\u5217\u7C7B\u578B\u662F\u5B57\u7B26\u4E32\uFF0C\u90A3\u4E00\u5B9A\u8981\u5728\u6761\u4EF6\u4E2D\u5C06\u6570\u636E\u4F7F\u7528\u5F15\u53F7\u5F15\u7528\u8D77\u6765,\u5426\u5219\u4E0D\u4F7F\u7528\u7D22\u5F15</li></ul><p><img src="http://qnimg.gisfsde.com/1623038-20190619181326223-1654473887.png" alt="img" loading="lazy"></p><ul><li>where \u5B50\u53E5\u91CC\u5BF9\u7D22\u5F15\u5217\u4E0A\u6709\u6570\u5B66\u8FD0\u7B97\uFF0C\u7528\u4E0D\u4E0A\u7D22\u5F15</li></ul><p><img src="http://qnimg.gisfsde.com/1623038-20190619181436583-1773123023.png" alt="img" loading="lazy"></p><ul><li>where \u5B50\u53E5\u91CC\u5BF9\u6709\u7D22\u5F15\u5217\u4F7F\u7528\u51FD\u6570\uFF0C\u7528\u4E0D\u4E0A\u7D22\u5F15</li></ul><p><img src="http://qnimg.gisfsde.com/1623038-20190619181457265-1885631328.png" alt="img" loading="lazy"></p><ul><li>\u5982\u679Cmysql\u4F30\u8BA1\u4F7F\u7528\u5168\u8868\u626B\u63CF\u8981\u6BD4\u4F7F\u7528\u7D22\u5F15\u5FEB,\u5219\u4E0D\u4F7F\u7528\u7D22\u5F15</li></ul><blockquote><p>\u6BD4\u5982\u6570\u636E\u91CF\u6781\u5C11\u7684\u8868</p></blockquote><h2 id="\u4EC0\u4E48\u60C5\u51B5\u4E0B\u4E0D\u63A8\u8350\u4F7F\u7528\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u60C5\u51B5\u4E0B\u4E0D\u63A8\u8350\u4F7F\u7528\u7D22\u5F15" aria-hidden="true">#</a> \u4EC0\u4E48\u60C5\u51B5\u4E0B\u4E0D\u63A8\u8350\u4F7F\u7528\u7D22\u5F15\uFF1F</h2><p>\\1) \u6570\u636E\u552F\u4E00\u6027\u5DEE\uFF08\u4E00\u4E2A\u5B57\u6BB5\u7684\u53D6\u503C\u53EA\u6709\u51E0\u79CD\u65F6\uFF09\u7684\u5B57\u6BB5\u4E0D\u8981\u4F7F\u7528\u7D22\u5F15</p><blockquote><p>\u6BD4\u5982\u6027\u522B\uFF0C\u53EA\u6709\u4E24\u79CD\u53EF\u80FD\u6570\u636E\u3002\u610F\u5473\u7740\u7D22\u5F15\u7684\u4E8C\u53C9\u6811\u7EA7\u522B\u5C11\uFF0C\u591A\u662F\u5E73\u7EA7\u3002\u8FD9\u6837\u7684\u4E8C\u53C9\u6811\u67E5\u627E\u65E0\u5F02\u4E8E\u5168\u8868\u626B\u63CF\u3002</p></blockquote><p>\\2) \u9891\u7E41\u66F4\u65B0\u7684\u5B57\u6BB5\u4E0D\u8981\u4F7F\u7528\u7D22\u5F15</p><blockquote><p>\u6BD4\u5982logincount\u767B\u5F55\u6B21\u6570\uFF0C\u9891\u7E41\u53D8\u5316\u5BFC\u81F4\u7D22\u5F15\u4E5F\u9891\u7E41\u53D8\u5316\uFF0C\u589E\u5927\u6570\u636E\u5E93\u5DE5\u4F5C\u91CF\uFF0C\u964D\u4F4E\u6548\u7387\u3002</p></blockquote><p>\\3) \u5B57\u6BB5\u4E0D\u5728where\u8BED\u53E5\u51FA\u73B0\u65F6\u4E0D\u8981\u6DFB\u52A0\u7D22\u5F15,\u5982\u679Cwhere\u540E\u542BIS NULL /IS NOT NULL/ like \u2018%\u8F93\u5165\u7B26%\u2019\u7B49\u6761\u4EF6\uFF0C\u4E0D\u5EFA\u8BAE\u4F7F\u7528\u7D22\u5F15</p><blockquote><p>\u53EA\u6709\u5728where\u8BED\u53E5\u51FA\u73B0\uFF0Cmysql\u624D\u4F1A\u53BB\u4F7F\u7528\u7D22\u5F15</p></blockquote><p>4\uFF09 where \u5B50\u53E5\u91CC\u5BF9\u7D22\u5F15\u5217\u4F7F\u7528\u4E0D\u7B49\u4E8E\uFF08&lt;&gt;\uFF09\uFF0C\u4F7F\u7528\u7D22\u5F15\u6548\u679C\u4E00\u822C</p><h2 id="\u767E\u4E07\u7EA7\u522B\u6216\u4EE5\u4E0A\u7684\u6570\u636E\u5982\u4F55\u5220\u9664" tabindex="-1"><a class="header-anchor" href="#\u767E\u4E07\u7EA7\u522B\u6216\u4EE5\u4E0A\u7684\u6570\u636E\u5982\u4F55\u5220\u9664" aria-hidden="true">#</a> \u767E\u4E07\u7EA7\u522B\u6216\u4EE5\u4E0A\u7684\u6570\u636E\u5982\u4F55\u5220\u9664</h2><p>\u5173\u4E8E\u7D22\u5F15\uFF1A\u7531\u4E8E\u7D22\u5F15\u9700\u8981\u989D\u5916\u7684\u7EF4\u62A4\u6210\u672C\uFF0C\u56E0\u4E3A\u7D22\u5F15\u6587\u4EF6\u662F\u5355\u72EC\u5B58\u5728\u7684\u6587\u4EF6, \u6240\u4EE5\u5F53\u6211\u4EEC\u5BF9\u6570\u636E\u7684\u589E\u52A0, \u4FEE\u6539, \u5220\u9664, \u90FD\u4F1A\u4EA7\u751F\u989D\u5916\u7684\u5BF9\u7D22\u5F15\u6587\u4EF6\u7684\u64CD\u4F5C, \u8FD9\u4E9B\u64CD\u4F5C\u9700\u8981\u6D88\u8017\u989D\u5916\u7684 IO, \u4F1A\u964D\u4F4E\u589E / \u6539 / \u5220\u7684\u6267\u884C\u6548\u7387\u3002\u6240\u4EE5\uFF0C\u5728\u6211\u4EEC\u5220\u9664\u6570\u636E\u5E93\u767E\u4E07\u7EA7\u522B\u6570\u636E\u7684\u65F6\u5019\uFF0C\u67E5\u8BE2 MySQL \u5B98\u65B9\u624B\u518C\u5F97\u77E5\u5220\u9664\u6570\u636E\u7684\u901F\u5EA6\u548C\u521B\u5EFA\u7684\u7D22\u5F15\u6570\u91CF\u662F\u6210\u6B63\u6BD4\u7684\u3002 \u6240\u4EE5\u6211\u4EEC\u60F3\u8981\u5220\u9664\u767E\u4E07\u6570\u636E\u7684\u65F6\u5019\u53EF\u4EE5\u5148\u5220\u9664\u7D22\u5F15\uFF08\u6B64\u65F6\u5927\u6982\u8017\u65F6\u4E09\u5206\u591A\u949F\uFF09 \u7136\u540E\u5220\u9664\u5176\u4E2D\u65E0\u7528\u6570\u636E\uFF08\u6B64\u8FC7\u7A0B\u9700\u8981\u4E0D\u5230\u4E24\u5206\u949F\uFF09 \u5220\u9664\u5B8C\u6210\u540E\u91CD\u65B0\u521B\u5EFA\u7D22\u5F15 (\u6B64\u65F6\u6570\u636E\u8F83\u5C11\u4E86) \u521B\u5EFA\u7D22\u5F15\u4E5F\u975E\u5E38\u5FEB\uFF0C\u7EA6\u5341\u5206\u949F\u5DE6\u53F3\u3002 \u4E0E\u4E4B\u524D\u7684\u76F4\u63A5\u5220\u9664\u7EDD\u5BF9\u662F\u8981\u5FEB\u901F\u5F88\u591A\uFF0C\u66F4\u522B\u8BF4\u4E07\u4E00\u5220\u9664\u4E2D\u65AD, \u4E00\u5207\u5220\u9664\u4F1A\u56DE\u6EDA\u3002\u90A3\u66F4\u662F\u5751\u4E86\u3002</p><h2 id="\u524D\u7F00\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u524D\u7F00\u7D22\u5F15" aria-hidden="true">#</a> \u524D\u7F00\u7D22\u5F15</h2><p>\u8BED\u6CD5\uFF1Aindex(field(10))\uFF0C\u4F7F\u7528\u5B57\u6BB5\u503C\u7684\u524D 10 \u4E2A\u5B57\u7B26\u5EFA\u7ACB\u7D22\u5F15\uFF0C\u9ED8\u8BA4\u662F\u4F7F\u7528\u5B57\u6BB5\u7684\u5168\u90E8\u5185\u5BB9\u5EFA\u7ACB\u7D22\u5F15\u3002 \u524D\u63D0\uFF1A\u524D\u7F00\u7684\u6807\u8BC6\u5EA6\u9AD8\u3002\u6BD4\u5982\u5BC6\u7801\u5C31\u9002\u5408\u5EFA\u7ACB\u524D\u7F00\u7D22\u5F15\uFF0C\u56E0\u4E3A\u5BC6\u7801\u51E0\u4E4E\u5404\u4E0D\u76F8\u540C\u3002 \u5B9E\u64CD\u7684\u96BE\u5EA6\uFF1A\u5728\u4E8E\u524D\u7F00\u622A\u53D6\u7684\u957F\u5EA6\u3002 \u6211\u4EEC\u53EF\u4EE5\u5229\u7528select count(*)/count(distinct left(password,prefixLen));\uFF0C\u901A\u8FC7\u4ECE\u8C03\u6574prefixLen\u7684\u503C\uFF08\u4ECE 1 \u81EA\u589E\uFF09\u67E5\u770B\u4E0D\u540C\u524D\u7F00\u957F\u5EA6\u7684\u4E00\u4E2A\u5E73\u5747\u5339\u914D\u5EA6\uFF0C\u63A5\u8FD1 1 \u65F6\u5C31\u53EF\u4EE5\u4E86\uFF08\u8868\u793A\u4E00\u4E2A\u5BC6\u7801\u7684\u524DprefixLen\u4E2A\u5B57\u7B26\u51E0\u4E4E\u80FD\u786E\u5B9A\u552F\u4E00\u4E00\u6761\u8BB0\u5F55\uFF09</p><h2 id="\u4EC0\u4E48\u662F\u6700\u5DE6\u524D\u7F00\u539F\u5219-\u4EC0\u4E48\u662F\u6700\u5DE6\u5339\u914D\u539F\u5219" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662F\u6700\u5DE6\u524D\u7F00\u539F\u5219-\u4EC0\u4E48\u662F\u6700\u5DE6\u5339\u914D\u539F\u5219" aria-hidden="true">#</a> \u4EC0\u4E48\u662F\u6700\u5DE6\u524D\u7F00\u539F\u5219\uFF1F\u4EC0\u4E48\u662F\u6700\u5DE6\u5339\u914D\u539F\u5219</h2><p>\u987E\u540D\u601D\u4E49\uFF0C\u5C31\u662F\u6700\u5DE6\u4F18\u5148\uFF0C\u5728\u521B\u5EFA\u591A\u5217\u7D22\u5F15\u65F6\uFF0C\u8981\u6839\u636E\u4E1A\u52A1\u9700\u6C42\uFF0Cwhere \u5B50\u53E5\u4E2D\u4F7F\u7528\u6700\u9891\u7E41\u7684\u4E00\u5217\u653E\u5728\u6700\u5DE6\u8FB9\u3002 \u6700\u5DE6\u524D\u7F00\u5339\u914D\u539F\u5219\uFF0C\u975E\u5E38\u91CD\u8981\u7684\u539F\u5219\uFF0Cmysql \u4F1A\u4E00\u76F4\u5411\u53F3\u5339\u914D\u76F4\u5230\u9047\u5230\u8303\u56F4\u67E5\u8BE2 (&gt;\u3001&lt;\u3001between\u3001like) \u5C31\u505C\u6B62\u5339\u914D\uFF0C\u6BD4\u5982 a = 1 and b = 2 and c &gt; 3 and d = 4 \u5982\u679C\u5EFA\u7ACB (a,b,c,d) \u987A\u5E8F\u7684\u7D22\u5F15\uFF0Cd \u662F\u7528\u4E0D\u5230\u7D22\u5F15\u7684\uFF0C\u5982\u679C\u5EFA\u7ACB (a,b,d,c) \u7684\u7D22\u5F15\u5219\u90FD\u53EF\u4EE5\u7528\u5230\uFF0Ca,b,d \u7684\u987A\u5E8F\u53EF\u4EE5\u4EFB\u610F\u8C03\u6574\u3002 = \u548C in \u53EF\u4EE5\u4E71\u5E8F\uFF0C\u6BD4\u5982 a = 1 and b = 2 and c = 3 \u5EFA\u7ACB (a,b,c) \u7D22\u5F15\u53EF\u4EE5\u4EFB\u610F\u987A\u5E8F\uFF0Cmysql \u7684\u67E5\u8BE2\u4F18\u5316\u5668\u4F1A\u5E2E\u4F60\u4F18\u5316\u6210\u7D22\u5F15\u53EF\u4EE5\u8BC6\u522B\u7684\u5F62\u5F0F</p><h2 id="b\u6811\u548Cb-\u6811\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#b\u6811\u548Cb-\u6811\u7684\u533A\u522B" aria-hidden="true">#</a> B\u6811\u548CB+\u6811\u7684\u533A\u522B</h2><p>\u5728 B \u6811\u4E2D\uFF0C\u4F60\u53EF\u4EE5\u5C06\u952E\u548C\u503C\u5B58\u653E\u5728\u5185\u90E8\u8282\u70B9\u548C\u53F6\u5B50\u8282\u70B9\uFF1B\u4F46\u5728 B + \u6811\u4E2D\uFF0C\u5185\u90E8\u8282\u70B9\u90FD\u662F\u952E\uFF0C\u6CA1\u6709\u503C\uFF0C\u53F6\u5B50\u8282\u70B9\u540C\u65F6\u5B58\u653E\u952E\u548C\u503C\u3002 B + \u6811\u7684\u53F6\u5B50\u8282\u70B9\u6709\u4E00\u6761\u94FE\u76F8\u8FDE\uFF0C\u800C B \u6811\u7684\u53F6\u5B50\u8282\u70B9\u5404\u81EA\u72EC\u7ACB\u3002</p><p>\xB7</p><h2 id="\u4F7F\u7528b\u6811\u7684\u597D\u5904" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528b\u6811\u7684\u597D\u5904" aria-hidden="true">#</a> \u4F7F\u7528B\u6811\u7684\u597D\u5904</h2><p>B \u6811\u53EF\u4EE5\u5728\u5185\u90E8\u8282\u70B9\u540C\u65F6\u5B58\u50A8\u952E\u548C\u503C\uFF0C\u56E0\u6B64\uFF0C\u628A\u9891\u7E41\u8BBF\u95EE\u7684\u6570\u636E\u653E\u5728\u9760\u8FD1\u6839\u8282\u70B9\u7684\u5730\u65B9\u5C06\u4F1A\u5927\u5927\u63D0\u9AD8\u70ED\u70B9\u6570\u636E\u7684\u67E5\u8BE2\u6548\u7387\u3002\u8FD9\u79CD\u7279\u6027\u4F7F\u5F97 B \u6811\u5728\u7279\u5B9A\u6570\u636E\u91CD\u590D\u591A\u6B21\u67E5\u8BE2\u7684\u573A\u666F\u4E2D\u66F4\u52A0\u9AD8\u6548\u3002</p><h2 id="\u4F7F\u7528b-\u6811\u7684\u597D\u5904" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528b-\u6811\u7684\u597D\u5904" aria-hidden="true">#</a> \u4F7F\u7528B+\u6811\u7684\u597D\u5904</h2><p>\u7531\u4E8E B + \u6811\u7684\u5185\u90E8\u8282\u70B9\u53EA\u5B58\u653E\u952E\uFF0C\u4E0D\u5B58\u653E\u503C\uFF0C\u56E0\u6B64\uFF0C\u4E00\u6B21\u8BFB\u53D6\uFF0C\u53EF\u4EE5\u5728\u5185\u5B58\u9875\u4E2D\u83B7\u53D6\u66F4\u591A\u7684\u952E\uFF0C\u6709\u5229\u4E8E\u66F4\u5FEB\u5730\u7F29\u5C0F\u67E5\u627E\u8303\u56F4\u3002 B + \u6811\u7684\u53F6\u8282\u70B9\u7531\u4E00\u6761\u94FE\u76F8\u8FDE\uFF0C\u56E0\u6B64\uFF0C\u5F53\u9700\u8981\u8FDB\u884C\u4E00\u6B21\u5168\u6570\u636E\u904D\u5386\u7684\u65F6\u5019\uFF0CB + \u6811\u53EA\u9700\u8981\u4F7F\u7528 O(logN) \u65F6\u95F4\u627E\u5230\u6700\u5C0F\u7684\u4E00\u4E2A\u8282\u70B9\uFF0C\u7136\u540E\u901A\u8FC7\u94FE\u8FDB\u884C O(N) \u7684\u987A\u5E8F\u904D\u5386\u5373\u53EF\u3002\u800C B \u6811\u5219\u9700\u8981\u5BF9\u6811\u7684\u6BCF\u4E00\u5C42\u8FDB\u884C\u904D\u5386\uFF0C\u8FD9\u4F1A\u9700\u8981\u66F4\u591A\u7684\u5185\u5B58\u7F6E\u6362\u6B21\u6570\uFF0C\u56E0\u6B64\u4E5F\u5C31\u9700\u8981\u82B1\u8D39\u66F4\u591A\u7684\u65F6\u95F4</p><h2 id="hash\u7D22\u5F15\u548Cb-\u6811\u6240\u6709\u6709\u4EC0\u4E48\u533A\u522B\u6216\u8005\u8BF4\u4F18\u52A3\u5462" tabindex="-1"><a class="header-anchor" href="#hash\u7D22\u5F15\u548Cb-\u6811\u6240\u6709\u6709\u4EC0\u4E48\u533A\u522B\u6216\u8005\u8BF4\u4F18\u52A3\u5462" aria-hidden="true">#</a> Hash\u7D22\u5F15\u548CB+\u6811\u6240\u6709\u6709\u4EC0\u4E48\u533A\u522B\u6216\u8005\u8BF4\u4F18\u52A3\u5462?</h2><p>\u9996\u5148\u8981\u77E5\u9053 Hash \u7D22\u5F15\u548C B + \u6811\u7D22\u5F15\u7684\u5E95\u5C42\u5B9E\u73B0\u539F\u7406\uFF1A hash \u7D22\u5F15\u5E95\u5C42\u5C31\u662F hash \u8868\uFF0C\u8FDB\u884C\u67E5\u627E\u65F6\uFF0C\u8C03\u7528\u4E00\u6B21 hash \u51FD\u6570\u5C31\u53EF\u4EE5\u83B7\u53D6\u5230\u76F8\u5E94\u7684\u952E\u503C\uFF0C\u4E4B\u540E\u8FDB\u884C\u56DE\u8868\u67E5\u8BE2\u83B7\u5F97\u5B9E\u9645\u6570\u636E\u3002B + \u6811\u5E95\u5C42\u5B9E\u73B0\u662F\u591A\u8DEF\u5E73\u8861\u67E5\u627E\u6811\u3002\u5BF9\u4E8E\u6BCF\u4E00\u6B21\u7684\u67E5\u8BE2\u90FD\u662F\u4ECE\u6839\u8282\u70B9\u51FA\u53D1\uFF0C\u67E5\u627E\u5230\u53F6\u5B50\u8282\u70B9\u65B9\u53EF\u4EE5\u83B7\u5F97\u6240\u67E5\u952E\u503C\uFF0C\u7136\u540E\u6839\u636E\u67E5\u8BE2\u5224\u65AD\u662F\u5426\u9700\u8981\u56DE\u8868\u67E5\u8BE2\u6570\u636E\u3002 \u90A3\u4E48\u53EF\u4EE5\u770B\u51FA\u4ED6\u4EEC\u6709\u4EE5\u4E0B\u7684\u4E0D\u540C\uFF1A hash \u7D22\u5F15\u8FDB\u884C\u7B49\u503C\u67E5\u8BE2\u66F4\u5FEB (\u4E00\u822C\u60C5\u51B5\u4E0B)\uFF0C\u4F46\u662F\u5374\u65E0\u6CD5\u8FDB\u884C\u8303\u56F4\u67E5\u8BE2\u3002 \u56E0\u4E3A\u5728 hash \u7D22\u5F15\u4E2D\u7ECF\u8FC7 hash \u51FD\u6570\u5EFA\u7ACB\u7D22\u5F15\u4E4B\u540E\uFF0C\u7D22\u5F15\u7684\u987A\u5E8F\u4E0E\u539F\u987A\u5E8F\u65E0\u6CD5\u4FDD\u6301\u4E00\u81F4\uFF0C\u4E0D\u80FD\u652F\u6301\u8303\u56F4\u67E5\u8BE2\u3002\u800C B + \u6811\u7684\u7684\u6240\u6709\u8282\u70B9\u7686\u9075\u5FAA (\u5DE6\u8282\u70B9\u5C0F\u4E8E\u7236\u8282\u70B9\uFF0C\u53F3\u8282\u70B9\u5927\u4E8E\u7236\u8282\u70B9\uFF0C\u591A\u53C9\u6811\u4E5F\u7C7B\u4F3C)\uFF0C\u5929\u7136\u652F\u6301\u8303\u56F4\u3002 hash \u7D22\u5F15\u4E0D\u652F\u6301\u4F7F\u7528\u7D22\u5F15\u8FDB\u884C\u6392\u5E8F\uFF0C\u539F\u7406\u540C\u4E0A\u3002 hash \u7D22\u5F15\u4E0D\u652F\u6301\u6A21\u7CCA\u67E5\u8BE2\u4EE5\u53CA\u591A\u5217\u7D22\u5F15\u7684\u6700\u5DE6\u524D\u7F00\u5339\u914D\u3002\u539F\u7406\u4E5F\u662F\u56E0\u4E3A hash \u51FD\u6570\u7684\u4E0D\u53EF\u9884\u6D4B\u3002AAAA \u548C AAAAB \u7684\u7D22\u5F15\u6CA1\u6709\u76F8\u5173\u6027\u3002 hash \u7D22\u5F15\u4EFB\u4F55\u65F6\u5019\u90FD\u907F\u514D\u4E0D\u4E86\u56DE\u8868\u67E5\u8BE2\u6570\u636E\uFF0C\u800C B + \u6811\u5728\u7B26\u5408\u67D0\u4E9B\u6761\u4EF6 (\u805A\u7C07\u7D22\u5F15\uFF0C\u8986\u76D6\u7D22\u5F15\u7B49) \u7684\u65F6\u5019\u53EF\u4EE5\u53EA\u901A\u8FC7\u7D22\u5F15\u5B8C\u6210\u67E5\u8BE2\u3002 hash \u7D22\u5F15\u867D\u7136\u5728\u7B49\u503C\u67E5\u8BE2\u4E0A\u8F83\u5FEB\uFF0C\u4F46\u662F\u4E0D\u7A33\u5B9A\u3002\u6027\u80FD\u4E0D\u53EF\u9884\u6D4B\uFF0C\u5F53\u67D0\u4E2A\u952E\u503C\u5B58\u5728\u5927\u91CF\u91CD\u590D\u7684\u65F6\u5019\uFF0C\u53D1\u751F hash \u78B0\u649E\uFF0C\u6B64\u65F6\u6548\u7387\u53EF\u80FD\u6781\u5DEE\u3002\u800C B + \u6811\u7684\u67E5\u8BE2\u6548\u7387\u6BD4\u8F83\u7A33\u5B9A\uFF0C\u5BF9\u4E8E\u6240\u6709\u7684\u67E5\u8BE2\u90FD\u662F\u4ECE\u6839\u8282\u70B9\u5230\u53F6\u5B50\u8282\u70B9\uFF0C\u4E14\u6811\u7684\u9AD8\u5EA6\u8F83\u4F4E\u3002 \u56E0\u6B64\uFF0C\u5728\u5927\u591A\u6570\u60C5\u51B5\u4E0B\uFF0C\u76F4\u63A5\u9009\u62E9 B + \u6811\u7D22\u5F15\u53EF\u4EE5\u83B7\u5F97\u7A33\u5B9A\u4E14\u8F83\u597D\u7684\u67E5\u8BE2\u901F\u5EA6\u3002\u800C\u4E0D\u9700\u8981\u4F7F\u7528 hash \u7D22\u5F15\u3002</p><h2 id="\u6570\u636E\u5E93\u4E3A\u4EC0\u4E48\u4F7F\u7528b-\u6811\u800C\u4E0D\u662Fb\u6811" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5E93\u4E3A\u4EC0\u4E48\u4F7F\u7528b-\u6811\u800C\u4E0D\u662Fb\u6811" aria-hidden="true">#</a> \u6570\u636E\u5E93\u4E3A\u4EC0\u4E48\u4F7F\u7528B+\u6811\u800C\u4E0D\u662FB\u6811</h2><p>B \u6811\u53EA\u9002\u5408\u968F\u673A\u68C0\u7D22\uFF0C\u800C B + \u6811\u540C\u65F6\u652F\u6301\u968F\u673A\u68C0\u7D22\u548C\u987A\u5E8F\u68C0\u7D22\uFF1B</p><p>B + \u6811\u7A7A\u95F4\u5229\u7528\u7387\u66F4\u9AD8\uFF0C\u53EF\u51CF\u5C11 I/O \u6B21\u6570\uFF0C\u78C1\u76D8\u8BFB\u5199\u4EE3\u4EF7\u66F4\u4F4E\u3002\u4E00\u822C\u6765\u8BF4\uFF0C\u7D22\u5F15\u672C\u8EAB\u4E5F\u5F88\u5927\uFF0C\u4E0D\u53EF\u80FD\u5168\u90E8\u5B58\u50A8\u5728\u5185\u5B58\u4E2D\uFF0C\u56E0\u6B64\u7D22\u5F15\u5F80\u5F80\u4EE5\u7D22\u5F15\u6587\u4EF6\u7684\u5F62\u5F0F\u5B58\u50A8\u7684\u78C1\u76D8\u4E0A\u3002\u8FD9\u6837\u7684\u8BDD\uFF0C\u7D22\u5F15\u67E5\u627E\u8FC7\u7A0B\u4E2D\u5C31\u8981\u4EA7\u751F\u78C1\u76D8 I/O \u6D88\u8017\u3002B + \u6811\u7684\u5185\u90E8\u7ED3\u70B9\u5E76\u6CA1\u6709\u6307\u5411\u5173\u952E\u5B57\u5177\u4F53\u4FE1\u606F\u7684\u6307\u9488\uFF0C\u53EA\u662F\u4F5C\u4E3A\u7D22\u5F15\u4F7F\u7528\uFF0C\u5176\u5185\u90E8\u7ED3\u70B9\u6BD4 B \u6811\u5C0F\uFF0C\u76D8\u5757\u80FD\u5BB9\u7EB3\u7684\u7ED3\u70B9\u4E2D\u5173\u952E\u5B57\u6570\u91CF\u66F4\u591A\uFF0C\u4E00\u6B21\u6027\u8BFB\u5165\u5185\u5B58\u4E2D\u53EF\u4EE5\u67E5\u627E\u7684\u5173\u952E\u5B57\u4E5F\u5C31\u8D8A\u591A\uFF0C\u76F8\u5BF9\u7684\uFF0CIO \u8BFB\u5199\u6B21\u6570\u4E5F\u5C31\u964D\u4F4E\u4E86\u3002\u800C IO \u8BFB\u5199\u6B21\u6570\u662F\u5F71\u54CD\u7D22\u5F15\u68C0\u7D22\u6548\u7387\u7684\u6700\u5927\u56E0\u7D20\uFF1B</p><p>B + \u6811\u7684\u67E5\u8BE2\u6548\u7387\u66F4\u52A0\u7A33\u5B9A\u3002B \u6811\u641C\u7D22\u6709\u53EF\u80FD\u4F1A\u5728\u975E\u53F6\u5B50\u7ED3\u70B9\u7ED3\u675F\uFF0C\u8D8A\u9760\u8FD1\u6839\u8282\u70B9\u7684\u8BB0\u5F55\u67E5\u627E\u65F6\u95F4\u8D8A\u77ED\uFF0C\u53EA\u8981\u627E\u5230\u5173\u952E\u5B57\u5373\u53EF\u786E\u5B9A\u8BB0\u5F55\u7684\u5B58\u5728\uFF0C\u5176\u6027\u80FD\u7B49\u4EF7\u4E8E\u5728\u5173\u952E\u5B57\u5168\u96C6\u5185\u505A\u4E00\u6B21\u4E8C\u5206\u67E5\u627E\u3002\u800C\u5728 B + \u6811\u4E2D\uFF0C\u987A\u5E8F\u68C0\u7D22\u6BD4\u8F83\u660E\u663E\uFF0C\u968F\u673A\u68C0\u7D22\u65F6\uFF0C\u4EFB\u4F55\u5173\u952E\u5B57\u7684\u67E5\u627E\u90FD\u5FC5\u987B\u8D70\u4E00\u6761\u4ECE\u6839\u8282\u70B9\u5230\u53F6\u8282\u70B9\u7684\u8DEF\uFF0C\u6240\u6709\u5173\u952E\u5B57\u7684\u67E5\u627E\u8DEF\u5F84\u957F\u5EA6\u76F8\u540C\uFF0C\u5BFC\u81F4\u6BCF\u4E00\u4E2A\u5173\u952E\u5B57\u7684\u67E5\u8BE2\u6548\u7387\u76F8\u5F53\u3002 B - \u6811\u5728\u63D0\u9AD8\u4E86\u78C1\u76D8 IO \u6027\u80FD\u7684\u540C\u65F6\u5E76\u6CA1\u6709\u89E3\u51B3\u5143\u7D20\u904D\u5386\u7684\u6548\u7387\u4F4E\u4E0B\u7684\u95EE\u9898\u3002B + \u6811\u7684\u53F6\u5B50\u8282\u70B9\u4F7F\u7528\u6307\u9488\u987A\u5E8F\u8FDE\u63A5\u5728\u4E00\u8D77\uFF0C\u53EA\u8981\u904D\u5386\u53F6\u5B50\u8282\u70B9\u5C31\u53EF\u4EE5\u5B9E\u73B0\u6574\u68F5\u6811\u7684\u904D\u5386\u3002\u800C\u4E14\u5728\u6570\u636E\u5E93\u4E2D\u57FA\u4E8E\u8303\u56F4\u7684\u67E5\u8BE2\u662F\u975E\u5E38\u9891\u7E41\u7684\uFF0C\u800C B \u6811\u4E0D\u652F\u6301\u8FD9\u6837\u7684\u64CD\u4F5C\u3002 \u589E\u5220\u6587\u4EF6\uFF08\u8282\u70B9\uFF09\u65F6\uFF0C\u6548\u7387\u66F4\u9AD8\u3002\u56E0\u4E3A B + \u6811\u7684\u53F6\u5B50\u8282\u70B9\u5305\u542B\u6240\u6709\u5173\u952E\u5B57\uFF0C\u5E76\u4EE5\u6709\u5E8F\u7684\u94FE\u8868\u7ED3\u6784\u5B58\u50A8\uFF0C\u8FD9\u6837\u53EF\u5F88\u597D\u63D0\u9AD8\u589E\u5220\u6548\u7387\u3002</p><h2 id="b-\u6811\u5728\u6EE1\u8DB3\u805A\u7C07\u7D22\u5F15\u548C\u8986\u76D6\u7D22\u5F15\u7684\u65F6\u5019\u4E0D\u9700\u8981\u56DE\u8868\u67E5\u8BE2\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#b-\u6811\u5728\u6EE1\u8DB3\u805A\u7C07\u7D22\u5F15\u548C\u8986\u76D6\u7D22\u5F15\u7684\u65F6\u5019\u4E0D\u9700\u8981\u56DE\u8868\u67E5\u8BE2\u6570\u636E" aria-hidden="true">#</a> B+\u6811\u5728\u6EE1\u8DB3\u805A\u7C07\u7D22\u5F15\u548C\u8986\u76D6\u7D22\u5F15\u7684\u65F6\u5019\u4E0D\u9700\u8981\u56DE\u8868\u67E5\u8BE2\u6570\u636E\uFF0C</h2><p>\u5728 B + \u6811\u7684\u7D22\u5F15\u4E2D\uFF0C\u53F6\u5B50\u8282\u70B9\u53EF\u80FD\u5B58\u50A8\u4E86\u5F53\u524D\u7684 key \u503C\uFF0C\u4E5F\u53EF\u80FD\u5B58\u50A8\u4E86\u5F53\u524D\u7684 key \u503C\u4EE5\u53CA\u6574\u884C\u7684\u6570\u636E\uFF0C\u8FD9\u5C31\u662F\u805A\u7C07\u7D22\u5F15\u548C\u975E\u805A\u7C07\u7D22\u5F15\u3002 \u5728 InnoDB \u4E2D\uFF0C\u53EA\u6709\u4E3B\u952E\u7D22\u5F15\u662F\u805A\u7C07\u7D22\u5F15\uFF0C\u5982\u679C\u6CA1\u6709\u4E3B\u952E\uFF0C\u5219\u6311\u9009\u4E00\u4E2A\u552F\u4E00\u952E\u5EFA\u7ACB\u805A\u7C07\u7D22\u5F15\u3002\u5982\u679C\u6CA1\u6709\u552F\u4E00\u952E\uFF0C\u5219\u9690\u5F0F\u7684\u751F\u6210\u4E00\u4E2A\u952E\u6765\u5EFA\u7ACB\u805A\u7C07\u7D22\u5F15\u3002 \u5F53\u67E5\u8BE2\u4F7F\u7528\u805A\u7C07\u7D22\u5F15\u65F6\uFF0C\u5728\u5BF9\u5E94\u7684\u53F6\u5B50\u8282\u70B9\uFF0C\u53EF\u4EE5\u83B7\u53D6\u5230\u6574\u884C\u6570\u636E\uFF0C\u56E0\u6B64\u4E0D\u7528\u518D\u6B21\u8FDB\u884C\u56DE\u8868\u67E5\u8BE2\u3002</p><h2 id="\u4EC0\u4E48\u662F\u805A\u7C07\u7D22\u5F15-\u4F55\u65F6\u4F7F\u7528\u805A\u7C07\u7D22\u5F15\u4E0E\u975E\u805A\u7C07\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662F\u805A\u7C07\u7D22\u5F15-\u4F55\u65F6\u4F7F\u7528\u805A\u7C07\u7D22\u5F15\u4E0E\u975E\u805A\u7C07\u7D22\u5F15" aria-hidden="true">#</a> \u4EC0\u4E48\u662F\u805A\u7C07\u7D22\u5F15\uFF1F\u4F55\u65F6\u4F7F\u7528\u805A\u7C07\u7D22\u5F15\u4E0E\u975E\u805A\u7C07\u7D22\u5F15</h2><p>\u805A\u7C07\u7D22\u5F15\uFF1A\u5C06\u6570\u636E\u5B58\u50A8\u4E0E\u7D22\u5F15\u653E\u5230\u4E86\u4E00\u5757\uFF0C\u627E\u5230\u7D22\u5F15\u4E5F\u5C31\u627E\u5230\u4E86\u6570\u636E</p><p>\u975E\u805A\u7C07\u7D22\u5F15\uFF1A\u5C06\u6570\u636E\u5B58\u50A8\u4E8E\u7D22\u5F15\u5206\u5F00\u7ED3\u6784\uFF0C\u7D22\u5F15\u7ED3\u6784\u7684\u53F6\u5B50\u8282\u70B9\u6307\u5411\u4E86\u6570\u636E\u7684\u5BF9\u5E94\u884C\uFF0Cmyisam \u901A\u8FC7 key_buffer \u628A\u7D22\u5F15\u5148\u7F13\u5B58\u5230\u5185\u5B58\u4E2D\uFF0C\u5F53\u9700\u8981\u8BBF\u95EE\u6570\u636E\u65F6\uFF08\u901A\u8FC7\u7D22\u5F15\u8BBF\u95EE\u6570\u636E\uFF09\uFF0C\u5728\u5185\u5B58\u4E2D\u76F4\u63A5\u641C\u7D22\u7D22\u5F15\uFF0C\u7136\u540E\u901A\u8FC7\u7D22\u5F15\u627E\u5230\u78C1\u76D8\u76F8\u5E94\u6570\u636E\uFF0C\u8FD9\u4E5F\u5C31\u662F\u4E3A\u4EC0\u4E48\u7D22\u5F15\u4E0D\u5728 key buffer \u547D\u4E2D\u65F6\uFF0C\u901F\u5EA6\u6162\u7684\u539F\u56E0 \u6F84\u6E05\u4E00\u4E2A\u6982\u5FF5\uFF1Ainnodb \u4E2D\uFF0C\u5728\u805A\u7C07\u7D22\u5F15\u4E4B\u4E0A\u521B\u5EFA\u7684\u7D22\u5F15\u79F0\u4E4B\u4E3A\u8F85\u52A9\u7D22\u5F15\uFF0C\u8F85\u52A9\u7D22\u5F15\u8BBF\u95EE\u6570\u636E\u603B\u662F\u9700\u8981\u4E8C\u6B21\u67E5\u627E\uFF0C\u975E\u805A\u7C07\u7D22\u5F15\u90FD\u662F\u8F85\u52A9\u7D22\u5F15\uFF0C\u50CF\u590D\u5408\u7D22\u5F15\u3001\u524D\u7F00\u7D22\u5F15\u3001\u552F\u4E00\u7D22\u5F15\uFF0C\u8F85\u52A9\u7D22\u5F15\u53F6\u5B50\u8282\u70B9\u5B58\u50A8\u7684\u4E0D\u518D\u662F\u884C\u7684\u7269\u7406\u4F4D\u7F6E\uFF0C\u800C\u662F\u4E3B\u952E\u503C \u4F55\u65F6\u4F7F\u7528\u805A\u7C07\u7D22\u5F15\u4E0E\u975E\u805A\u7C07\u7D22\u5F15</p><p>\xB7</p><h2 id="\u975E\u805A\u7C07\u7D22\u5F15\u4E00\u5B9A\u4F1A\u56DE\u8868\u67E5\u8BE2\u5417" tabindex="-1"><a class="header-anchor" href="#\u975E\u805A\u7C07\u7D22\u5F15\u4E00\u5B9A\u4F1A\u56DE\u8868\u67E5\u8BE2\u5417" aria-hidden="true">#</a> \u975E\u805A\u7C07\u7D22\u5F15\u4E00\u5B9A\u4F1A\u56DE\u8868\u67E5\u8BE2\u5417\uFF1F</h2><p>\u4E0D\u4E00\u5B9A\uFF0C\u8FD9\u6D89\u53CA\u5230\u67E5\u8BE2\u8BED\u53E5\u6240\u8981\u6C42\u7684\u5B57\u6BB5\u662F\u5426\u5168\u90E8\u547D\u4E2D\u4E86\u7D22\u5F15\uFF0C\u5982\u679C\u5168\u90E8\u547D\u4E2D\u4E86\u7D22\u5F15\uFF0C\u90A3\u4E48\u5C31\u4E0D\u5FC5\u518D\u8FDB\u884C\u56DE\u8868\u67E5\u8BE2\u3002 \u4E3E\u4E2A\u7B80\u5355\u7684\u4F8B\u5B50\uFF0C\u5047\u8BBE\u6211\u4EEC\u5728\u5458\u5DE5\u8868\u7684\u5E74\u9F84\u4E0A\u5EFA\u7ACB\u4E86\u7D22\u5F15\uFF0C\u90A3\u4E48\u5F53\u8FDB\u884Cselect age from employee where age &lt; 20\u7684\u67E5\u8BE2\u65F6\uFF0C\u5728\u7D22\u5F15\u7684\u53F6\u5B50\u8282\u70B9\u4E0A\uFF0C\u5DF2\u7ECF\u5305\u542B\u4E86 age \u4FE1\u606F\uFF0C\u4E0D\u4F1A\u518D\u6B21\u8FDB\u884C\u56DE\u8868\u67E5\u8BE2\u3002</p><h2 id="\u8054\u5408\u7D22\u5F15\u662F\u4EC0\u4E48-\u4E3A\u4EC0\u4E48\u9700\u8981\u6CE8\u610F\u8054\u5408\u7D22\u5F15\u4E2D\u7684\u987A\u5E8F" tabindex="-1"><a class="header-anchor" href="#\u8054\u5408\u7D22\u5F15\u662F\u4EC0\u4E48-\u4E3A\u4EC0\u4E48\u9700\u8981\u6CE8\u610F\u8054\u5408\u7D22\u5F15\u4E2D\u7684\u987A\u5E8F" aria-hidden="true">#</a> \u8054\u5408\u7D22\u5F15\u662F\u4EC0\u4E48\uFF1F\u4E3A\u4EC0\u4E48\u9700\u8981\u6CE8\u610F\u8054\u5408\u7D22\u5F15\u4E2D\u7684\u987A\u5E8F\uFF1F</h2><p>MySQL \u53EF\u4EE5\u4F7F\u7528\u591A\u4E2A\u5B57\u6BB5\u540C\u65F6\u5EFA\u7ACB\u4E00\u4E2A\u7D22\u5F15\uFF0C\u53EB\u505A\u8054\u5408\u7D22\u5F15\u3002\u5728\u8054\u5408\u7D22\u5F15\u4E2D\uFF0C\u5982\u679C\u60F3\u8981\u547D\u4E2D\u7D22\u5F15\uFF0C\u9700\u8981\u6309\u7167\u5EFA\u7ACB\u7D22\u5F15\u65F6\u7684\u5B57\u6BB5\u987A\u5E8F\u6328\u4E2A\u4F7F\u7528\uFF0C\u5426\u5219\u65E0\u6CD5\u547D\u4E2D\u7D22\u5F15\u3002 \u5177\u4F53\u539F\u56E0\u4E3A: MySQL \u4F7F\u7528\u7D22\u5F15\u65F6\u9700\u8981\u7D22\u5F15\u6709\u5E8F\uFF0C\u5047\u8BBE\u73B0\u5728\u5EFA\u7ACB\u4E86 &quot;name\uFF0Cage\uFF0Cschool&quot; \u7684\u8054\u5408\u7D22\u5F15\uFF0C\u90A3\u4E48\u7D22\u5F15\u7684\u6392\u5E8F\u4E3A: \u5148\u6309\u7167 name \u6392\u5E8F\uFF0C\u5982\u679C name \u76F8\u540C\uFF0C\u5219\u6309\u7167 age \u6392\u5E8F\uFF0C\u5982\u679C age \u7684\u503C\u4E5F\u76F8\u7B49\uFF0C\u5219\u6309\u7167 school \u8FDB\u884C\u6392\u5E8F\u3002 \u5F53\u8FDB\u884C\u67E5\u8BE2\u65F6\uFF0C\u6B64\u65F6\u7D22\u5F15\u4EC5\u4EC5\u6309\u7167 name \u4E25\u683C\u6709\u5E8F\uFF0C\u56E0\u6B64\u5FC5\u987B\u9996\u5148\u4F7F\u7528 name \u5B57\u6BB5\u8FDB\u884C\u7B49\u503C\u67E5\u8BE2\uFF0C\u4E4B\u540E\u5BF9\u4E8E\u5339\u914D\u5230\u7684\u5217\u800C\u8A00\uFF0C\u5176\u6309\u7167 age \u5B57\u6BB5\u4E25\u683C\u6709\u5E8F\uFF0C\u6B64\u65F6\u53EF\u4EE5\u4F7F\u7528 age \u5B57\u6BB5\u7528\u505A\u7D22\u5F15\u67E5\u627E\uFF0C\u4EE5\u6B64\u7C7B\u63A8\u3002\u56E0\u6B64\u5728\u5EFA\u7ACB\u8054\u5408\u7D22\u5F15\u7684\u65F6\u5019\u5E94\u8BE5\u6CE8\u610F\u7D22\u5F15\u5217\u7684\u987A\u5E8F\uFF0C\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u5C06\u67E5\u8BE2\u9700\u6C42\u9891\u7E41\u6216\u8005\u5B57\u6BB5\u9009\u62E9\u6027\u9AD8\u7684\u5217\u653E\u5728\u524D\u9762\u3002\u6B64\u5916\u53EF\u4EE5\u6839\u636E\u7279\u4F8B\u7684\u67E5\u8BE2\u6216\u8005\u8868\u7ED3\u6784\u8FDB\u884C\u5355\u72EC\u7684\u8C03\u6574\u3002</p><h1 id="\u4E8B\u52A1" tabindex="-1"><a class="header-anchor" href="#\u4E8B\u52A1" aria-hidden="true">#</a> \u4E8B\u52A1</h1><h2 id="\u4EC0\u4E48\u662F\u6570\u636E\u5E93\u4E8B\u52A1" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662F\u6570\u636E\u5E93\u4E8B\u52A1" aria-hidden="true">#</a> \u4EC0\u4E48\u662F\u6570\u636E\u5E93\u4E8B\u52A1\uFF1F</h2><p>1\u3001\u7528 BEGIN, ROLLBACK, COMMIT\u6765\u5B9E\u73B0 BEGIN \u5F00\u59CB\u4E00\u4E2A\u4E8B\u52A1 ROLLBACK \u4E8B\u52A1\u56DE\u6EDA COMMIT \u4E8B\u52A1\u786E\u8BA4</p><p>2\u3001\u76F4\u63A5\u7528 SET \u6765\u6539\u53D8 MySQL \u7684\u81EA\u52A8\u63D0\u4EA4\u6A21\u5F0F: SET AUTOCOMMIT=0 \u7981\u6B62\u81EA\u52A8\u63D0\u4EA4 SET AUTOCOMMIT=1 \u5F00\u542F\u81EA\u52A8\u63D0\u4EA4</p><p>\u5728 MySQL \u4E2D\u53EA\u6709\u4F7F\u7528\u4E86 Innodb \u6570\u636E\u5E93\u5F15\u64CE\u7684\u6570\u636E\u5E93\u6216\u8868\u624D\u652F\u6301\u4E8B\u52A1\u3002 \u4E8B\u52A1\u5904\u7406\u53EF\u4EE5\u7528\u6765\u7EF4\u62A4\u6570\u636E\u5E93\u7684\u5B8C\u6574\u6027\uFF0C\u4FDD\u8BC1\u6210\u6279\u7684 SQL \u8BED\u53E5\u8981\u4E48\u5168\u90E8\u6267\u884C\uFF0C\u8981\u4E48\u5168\u90E8\u4E0D\u6267\u884C\u3002 \u4E8B\u52A1\u7528\u6765\u7BA1\u7406 insert,update,delete \u8BED\u53E5</p><h2 id="\u4E8B\u7269\u7684\u56DB\u5927\u7279\u6027-acid-\u4ECB\u7ECD\u4E00\u4E0B" tabindex="-1"><a class="header-anchor" href="#\u4E8B\u7269\u7684\u56DB\u5927\u7279\u6027-acid-\u4ECB\u7ECD\u4E00\u4E0B" aria-hidden="true">#</a> \u4E8B\u7269\u7684\u56DB\u5927\u7279\u6027(ACID)\u4ECB\u7ECD\u4E00\u4E0B?</h2><p>**\u539F\u5B50\u6027 (Atomicity)\uFF1A**\u4E00\u4E2A\u4E8B\u52A1\uFF08transaction\uFF09\u4E2D\u7684\u6240\u6709\u64CD\u4F5C\uFF0C\u8981\u4E48\u5168\u90E8\u5B8C\u6210\uFF0C\u8981\u4E48\u5168\u90E8\u4E0D\u5B8C\u6210\uFF0C\u4E0D\u4F1A\u7ED3\u675F\u5728\u4E2D\u95F4\u67D0\u4E2A\u73AF\u8282\u3002\u4E8B\u52A1\u5728\u6267\u884C\u8FC7\u7A0B\u4E2D\u53D1\u751F\u9519\u8BEF\uFF0C\u4F1A\u88AB\u56DE\u6EDA\uFF08Rollback\uFF09\u5230\u4E8B\u52A1\u5F00\u59CB\u524D\u7684\u72B6\u6001\uFF0C\u5C31\u50CF\u8FD9\u4E2A\u4E8B\u52A1\u4ECE\u6765\u6CA1\u6709\u6267\u884C\u8FC7\u4E00\u6837\u3002</p><p>**\u4E00\u81F4\u6027\uFF08Consistency\uFF09\uFF1A**\u5728\u4E8B\u52A1\u5F00\u59CB\u4E4B\u524D\u548C\u4E8B\u52A1\u7ED3\u675F\u4EE5\u540E\uFF0C\u6570\u636E\u5E93\u7684\u5B8C\u6574\u6027\u6CA1\u6709\u88AB\u7834\u574F\u3002\u8FD9\u8868\u793A\u5199\u5165\u7684\u8D44\u6599\u5FC5\u987B\u5B8C\u5168\u7B26\u5408\u6240\u6709\u7684\u9884\u8BBE\u89C4\u5219\uFF0C\u8FD9\u5305\u542B\u8D44\u6599\u7684\u7CBE\u786E\u5EA6\u3001\u4E32\u8054\u6027\u4EE5\u53CA\u540E\u7EED\u6570\u636E\u5E93\u53EF\u4EE5\u81EA\u53D1\u6027\u5730\u5B8C\u6210\u9884\u5B9A\u7684\u5DE5\u4F5C\u3002</p><p>**\u9694\u79BB\u6027\uFF08Isolation\uFF09\uFF1A**\u6570\u636E\u5E93\u5141\u8BB8\u591A\u4E2A\u5E76\u53D1\u4E8B\u52A1\u540C\u65F6\u5BF9\u5176\u6570\u636E\u8FDB\u884C\u8BFB\u5199\u548C\u4FEE\u6539\u7684\u80FD\u529B\uFF0C\u9694\u79BB\u6027\u53EF\u4EE5\u9632\u6B62\u591A\u4E2A\u4E8B\u52A1\u5E76\u53D1\u6267\u884C\u65F6\u7531\u4E8E\u4EA4\u53C9\u6267\u884C\u800C\u5BFC\u81F4\u6570\u636E\u7684\u4E0D\u4E00\u81F4\u3002\u4E8B\u52A1\u9694\u79BB\u5206\u4E3A\u4E0D\u540C\u7EA7\u522B\uFF0C\u5305\u62EC\u8BFB\u672A\u63D0\u4EA4\uFF08Read uncommitted\uFF09\u3001\u8BFB\u63D0\u4EA4\uFF08read committed\uFF09\u3001\u53EF\u91CD\u590D\u8BFB\uFF08repeatable read\uFF09\u548C\u4E32\u884C\u5316\uFF08Serializable\uFF09\u3002</p><p>**\u6301\u4E45\u6027\uFF08Durability\uFF09\uFF1A**\u4E8B\u52A1\u5904\u7406\u7ED3\u675F\u540E\uFF0C\u5BF9\u6570\u636E\u7684\u4FEE\u6539\u5C31\u662F\u6C38\u4E45\u7684\uFF0C\u5373\u4FBF\u7CFB\u7EDF\u6545\u969C\u4E5F\u4E0D\u4F1A\u4E22\u5931\u3002</p><h2 id="\u4EC0\u4E48\u662F\u810F\u8BFB-\u5E7B\u8BFB-\u4E0D\u53EF\u91CD\u590D\u8BFB" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662F\u810F\u8BFB-\u5E7B\u8BFB-\u4E0D\u53EF\u91CD\u590D\u8BFB" aria-hidden="true">#</a> \u4EC0\u4E48\u662F\u810F\u8BFB\uFF1F\u5E7B\u8BFB\uFF1F\u4E0D\u53EF\u91CD\u590D\u8BFB\uFF1F</h2><h2 id="\u4EC0\u4E48\u662F\u4E8B\u52A1\u7684\u9694\u79BB\u7EA7\u522B-mysql\u7684\u9ED8\u8BA4\u9694\u79BB\u7EA7\u522B\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662F\u4E8B\u52A1\u7684\u9694\u79BB\u7EA7\u522B-mysql\u7684\u9ED8\u8BA4\u9694\u79BB\u7EA7\u522B\u662F\u4EC0\u4E48" aria-hidden="true">#</a> \u4EC0\u4E48\u662F\u4E8B\u52A1\u7684\u9694\u79BB\u7EA7\u522B\uFF1FMySQL\u7684\u9ED8\u8BA4\u9694\u79BB\u7EA7\u522B\u662F\u4EC0\u4E48\uFF1F</h2><h1 id="\u9501" tabindex="-1"><a class="header-anchor" href="#\u9501" aria-hidden="true">#</a> \u9501</h1><h2 id="\u5BF9mysql\u7684\u9501\u4E86\u89E3\u5417" tabindex="-1"><a class="header-anchor" href="#\u5BF9mysql\u7684\u9501\u4E86\u89E3\u5417" aria-hidden="true">#</a> \u5BF9MySQL\u7684\u9501\u4E86\u89E3\u5417</h2><h2 id="\u9694\u79BB\u7EA7\u522B\u4E0E\u9501\u7684\u5173\u7CFB" tabindex="-1"><a class="header-anchor" href="#\u9694\u79BB\u7EA7\u522B\u4E0E\u9501\u7684\u5173\u7CFB" aria-hidden="true">#</a> \u9694\u79BB\u7EA7\u522B\u4E0E\u9501\u7684\u5173\u7CFB</h2><h2 id="\u6309\u7167\u9501\u7684\u7C92\u5EA6\u5206\u6570\u636E\u5E93\u9501\u6709\u54EA\u4E9B-\u9501\u673A\u5236\u4E0Einnodb\u9501\u7B97\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u6309\u7167\u9501\u7684\u7C92\u5EA6\u5206\u6570\u636E\u5E93\u9501\u6709\u54EA\u4E9B-\u9501\u673A\u5236\u4E0Einnodb\u9501\u7B97\u6CD5" aria-hidden="true">#</a> \u6309\u7167\u9501\u7684\u7C92\u5EA6\u5206\u6570\u636E\u5E93\u9501\u6709\u54EA\u4E9B\uFF1F\u9501\u673A\u5236\u4E0EInnoDB\u9501\u7B97\u6CD5</h2><h2 id="\u4ECE\u9501\u7684\u7C7B\u522B\u4E0A\u5206mysql\u90FD\u6709\u54EA\u4E9B\u9501\u5462-\u50CF\u4E0A\u9762\u90A3\u6837\u5B50\u8FDB\u884C\u9501\u5B9A\u5C82\u4E0D\u662F\u6709\u70B9\u963B\u788D\u5E76\u53D1\u6548\u7387\u4E86" tabindex="-1"><a class="header-anchor" href="#\u4ECE\u9501\u7684\u7C7B\u522B\u4E0A\u5206mysql\u90FD\u6709\u54EA\u4E9B\u9501\u5462-\u50CF\u4E0A\u9762\u90A3\u6837\u5B50\u8FDB\u884C\u9501\u5B9A\u5C82\u4E0D\u662F\u6709\u70B9\u963B\u788D\u5E76\u53D1\u6548\u7387\u4E86" aria-hidden="true">#</a> \u4ECE\u9501\u7684\u7C7B\u522B\u4E0A\u5206MySQL\u90FD\u6709\u54EA\u4E9B\u9501\u5462\uFF1F\u50CF\u4E0A\u9762\u90A3\u6837\u5B50\u8FDB\u884C\u9501\u5B9A\u5C82\u4E0D\u662F\u6709\u70B9\u963B\u788D\u5E76\u53D1\u6548\u7387\u4E86</h2><h2 id="mysql\u4E2Dinnodb\u5F15\u64CE\u7684\u884C\u9501\u662F\u600E\u4E48\u5B9E\u73B0\u7684" tabindex="-1"><a class="header-anchor" href="#mysql\u4E2Dinnodb\u5F15\u64CE\u7684\u884C\u9501\u662F\u600E\u4E48\u5B9E\u73B0\u7684" aria-hidden="true">#</a> MySQL\u4E2DInnoDB\u5F15\u64CE\u7684\u884C\u9501\u662F\u600E\u4E48\u5B9E\u73B0\u7684\uFF1F</h2><h2 id="innodb\u5B58\u50A8\u5F15\u64CE\u7684\u9501\u7684\u7B97\u6CD5\u6709\u4E09\u79CD" tabindex="-1"><a class="header-anchor" href="#innodb\u5B58\u50A8\u5F15\u64CE\u7684\u9501\u7684\u7B97\u6CD5\u6709\u4E09\u79CD" aria-hidden="true">#</a> InnoDB\u5B58\u50A8\u5F15\u64CE\u7684\u9501\u7684\u7B97\u6CD5\u6709\u4E09\u79CD</h2><h2 id="\u4EC0\u4E48\u662F\u6B7B\u9501-\u600E\u4E48\u89E3\u51B3" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662F\u6B7B\u9501-\u600E\u4E48\u89E3\u51B3" aria-hidden="true">#</a> \u4EC0\u4E48\u662F\u6B7B\u9501\uFF1F\u600E\u4E48\u89E3\u51B3\uFF1F</h2><h2 id="\u6570\u636E\u5E93\u7684\u4E50\u89C2\u9501\u548C\u60B2\u89C2\u9501\u662F\u4EC0\u4E48-\u600E\u4E48\u5B9E\u73B0\u7684" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5E93\u7684\u4E50\u89C2\u9501\u548C\u60B2\u89C2\u9501\u662F\u4EC0\u4E48-\u600E\u4E48\u5B9E\u73B0\u7684" aria-hidden="true">#</a> \u6570\u636E\u5E93\u7684\u4E50\u89C2\u9501\u548C\u60B2\u89C2\u9501\u662F\u4EC0\u4E48\uFF1F\u600E\u4E48\u5B9E\u73B0\u7684\uFF1F</h2><h1 id="\u89C6\u56FE" tabindex="-1"><a class="header-anchor" href="#\u89C6\u56FE" aria-hidden="true">#</a> \u89C6\u56FE</h1><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>#\u521B\u5EFA\u89C6\u56FE
create view \u89C6\u56FE\u540D\u79F0 as select\u8BED\u53E5;
#--\u67E5\u770B\u89C6\u56FE\u7ED3\u6784\uFF1A
desc user_view; 
show create view user_view;
#--\u67E5\u770B\u89C6\u56FE\u5185\u5BB9\uFF1A
select * from user_view;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u89C6\u56FE-\u4EC0\u4E48\u662F\u89C6\u56FE" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u89C6\u56FE-\u4EC0\u4E48\u662F\u89C6\u56FE" aria-hidden="true">#</a> \u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u89C6\u56FE\uFF1F\u4EC0\u4E48\u662F\u89C6\u56FE\uFF1F</h2><p>\u7531\u57FA\u8868\u901A\u8FC7SQL\u52A8\u6001\u751F\u6210\u7684<strong>\u865A\u62DF\u8868</strong>\uFF0C\u672C\u8EAB\u4E0D\u5305\u542B\u6570\u636E\uFF0C\u57FA\u8868\u548C\u89C6\u56FE\u6570\u636E\u4F1A\u4E92\u76F8\u5F71\u54CD\u3002\u53EA\u6709\u57FA\u8868\u548C\u89C6\u56FE\u5B57\u6BB5\u4E00\u4E00\u5BF9\u5E94\u624D\u53EF\u4EE5\u589E\u5220\u6539\u67E5\u3002</p><p>\u5728Mysql\u4E2D\u89C6\u56FE\u7684\u7C7B\u578B\u5206\u4E3A\uFF1A</p><p>1\u3001MERGE \u5C06\u89C6\u56FE\u7684sql\u8BED\u53E5\u548C\u5F15\u7528\u89C6\u56FE\u7684sql\u8BED\u53E5\u5408\u5E76\u5728\u4E00\u8D77\uFF0C\u6700\u540E\u4E00\u8D77\u6267\u884C\u3002 2\u3001TEMPTABLE \u5C06\u89C6\u56FE\u7684\u7ED3\u679C\u96C6\u5B58\u653E\u5728\u4E34\u65F6\u8868\u4E2D\uFF0C\u6BCF\u6B21\u6267\u884C\u65F6\u4ECE\u4E34\u65F6\u8868\u4E2D\u64CD\u4F5C\u3002 3\u3001UNDEFINED \u9ED8\u8BA4\u7684\u89C6\u56FE\u7C7B\u578B\uFF0CDBMS\u503E\u5411\u4E8E\u9009\u62E9\u800C\u4E0D\u662F\u5FC5\u5B9A\u9009\u62E9MERGE\uFF0C\u56E0\u4E3AMERGE\u7684\u6548\u7387\u66F4\u9AD8\uFF0C\u66F4\u91CD\u8981\u7684\u662F\u4E34\u65F6\u8868\u89C6\u56FE\u4E0D\u80FD\u66F4\u65B0\u3002 \u6240\u4EE5\uFF0C\u8FD9\u91CC\u63A8\u8350\u4F7F\u7528MERGE\u7B97\u6CD5\u7C7B\u578B\u89C6\u56FE\u3002</p>`,84),he={id:"\u89C6\u56FE\u6709\u54EA\u4E9B\u7279\u70B9",tabindex:"-1"},ue=e("a",{class:"header-anchor",href:"#\u89C6\u56FE\u6709\u54EA\u4E9B\u7279\u70B9","aria-hidden":"true"},"#",-1),pe=n(),me={href:"https://www.cnblogs.com/ljxt/p/11613167.html",target:"_blank",rel:"noopener noreferrer"},be=n("\u89C6\u56FE\u6709\u54EA\u4E9B\u7279\u70B9\uFF1F"),ge=i(`<p>1\uFF09\u7B80\u5355\uFF1A\u4F7F\u7528\u89C6\u56FE\u7684\u7528\u6237\u5B8C\u5168\u4E0D\u9700\u8981\u5173\u5FC3\u540E\u9762\u5BF9\u5E94\u7684\u8868\u7684\u7ED3\u6784\u3001\u5173\u8054\u6761\u4EF6\u548C\u7B5B\u9009\u6761\u4EF6\uFF0C\u5BF9\u7528\u6237\u6765\u8BF4\u5DF2\u7ECF\u662F\u8FC7\u6EE4\u597D\u7684\u590D\u5408\u6761\u4EF6\u7684\u7ED3\u679C\u96C6\u3002 2\uFF09\u5B89\u5168\uFF1A\u4F7F\u7528\u89C6\u56FE\u7684\u7528\u6237\u53EA\u80FD\u8BBF\u95EE\u4ED6\u4EEC\u88AB\u5141\u8BB8\u67E5\u8BE2\u7684\u7ED3\u679C\u96C6\uFF0C\u5BF9\u8868\u7684\u6743\u9650\u7BA1\u7406\u5E76\u4E0D\u80FD\u9650\u5236\u5230\u67D0\u4E2A\u884C\u67D0\u4E2A\u5217\uFF0C\u4F46\u662F\u901A\u8FC7\u89C6\u56FE\u5C31\u53EF\u4EE5\u7B80\u5355\u7684\u5B9E\u73B0\u3002 3\uFF09\u6570\u636E\u72EC\u7ACB\uFF1A\u4E00\u65E6\u89C6\u56FE\u7684\u7ED3\u6784\u786E\u5B9A\u4E86\uFF0C\u53EF\u4EE5\u5C4F\u853D\u8868\u7ED3\u6784\u53D8\u5316\u5BF9\u7528\u6237\u7684\u5F71\u54CD\uFF0C\u6E90\u8868\u589E\u52A0\u5217\u5BF9\u89C6\u56FE\u6CA1\u6709\u5F71\u54CD\uFF1B\u6E90\u8868\u4FEE\u6539\u5217\u540D\uFF0C\u5219\u53EF\u4EE5\u901A\u8FC7\u4FEE\u6539\u89C6\u56FE\u6765\u89E3\u51B3\uFF0C\u4E0D\u4F1A\u9020\u6210\u5BF9\u8BBF\u95EE\u8005\u7684\u5F71\u54CD\u3002 \u603B\u800C\u8A00\u4E4B\uFF0C\u4F7F\u7528\u89C6\u56FE\u7684\u5927\u90E8\u5206\u60C5\u51B5\u662F\u4E3A\u4E86\u4FDD\u969C\u6570\u636E\u5B89\u5168\u6027\uFF0C\u63D0\u9AD8\u67E5\u8BE2\u6548\u7387\u3002</p><h2 id="\u89C6\u56FE\u7684\u4F7F\u7528\u573A\u666F\u6709\u54EA\u4E9B" tabindex="-1"><a class="header-anchor" href="#\u89C6\u56FE\u7684\u4F7F\u7528\u573A\u666F\u6709\u54EA\u4E9B" aria-hidden="true">#</a> \u89C6\u56FE\u7684\u4F7F\u7528\u573A\u666F\u6709\u54EA\u4E9B\uFF1F</h2><h3 id="\u5206\u8868" tabindex="-1"><a class="header-anchor" href="#\u5206\u8868" aria-hidden="true">#</a> \u5206\u8868</h3><h3 id="\u542F\u7528\u8BA1\u7B97\u5217" tabindex="-1"><a class="header-anchor" href="#\u542F\u7528\u8BA1\u7B97\u5217" aria-hidden="true">#</a> \u542F\u7528\u8BA1\u7B97\u5217</h3><p>\u5982\u6709\u8BA2\u5355\u6570\u91CF\u548C\u5355\u4EF7\uFF0C\u4E00\u822C\u6570\u636E\u5E93\u8BBE\u8BA1\u4E0D\u4F1A\u6709\u603B\u4EF7\u5B57\u6BB5\uFF0C\u89C6\u56FE\u53EF\u6709</p><h3 id="\u5BFC\u5165\u5BFC\u51FA\u8868" tabindex="-1"><a class="header-anchor" href="#\u5BFC\u5165\u5BFC\u51FA\u8868" aria-hidden="true">#</a> \u5BFC\u5165\u5BFC\u51FA\u8868</h3><p>\u4F7F\u7528\u89C6\u56FE\u5BFC\u5165\u5BFC\u51FA\u6570\u636E</p><h3 id="\u6743\u9650\u63A7\u5236-\u63D0\u9AD8\u5B89\u5168\u6027" tabindex="-1"><a class="header-anchor" href="#\u6743\u9650\u63A7\u5236-\u63D0\u9AD8\u5B89\u5168\u6027" aria-hidden="true">#</a> \u6743\u9650\u63A7\u5236\uFF0C\u63D0\u9AD8\u5B89\u5168\u6027</h3><p>\u521B\u5EFA\u89C6\u56FE\u63A7\u5236\u663E\u793A\u5B57\u6BB5\uFF0C\u7528\u6237\u4ECE\u89C6\u56FE\u67E5\u8BE2\u53EA\u4F1A\u663E\u793A\u63A7\u5236\u7684\u5B57\u6BB5\uFF0C\u53EF\u4EE5\u628A\u6743\u9650\u9650\u5B9A\u5230\u884C\u5217\u7EA7\u522B</p><h3 id="\u89E3\u8026\u5408" tabindex="-1"><a class="header-anchor" href="#\u89E3\u8026\u5408" aria-hidden="true">#</a> \u89E3\u8026\u5408</h3><p>\u521B\u5EFA\u89C6\u56FE\u540E\u57FA\u8868\u7ED3\u6784\u6539\u53D8\u4E0D\u5F71\u54CD\u89C6\u56FE\uFF0C\u91CD\u6784\u6570\u636E\u5E93\u4E0D\u5F71\u54CD\u7A0B\u5E8F\uFF0C\u5411\u540E\u517C\u5BB9\u3002</p><h3 id="\u7B80\u5316\u6570\u636E\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u7B80\u5316\u6570\u636E\u64CD\u4F5C" aria-hidden="true">#</a> \u7B80\u5316\u6570\u636E\u64CD\u4F5C</h3><p>\u5C06\u590D\u6742\u7684\u8054\u5408\u7B49\u67E5\u8BE2\u521B\u5EFA\u4E3A\u89C6\u56FE\uFF0C\u53EF\u53EA\u67E5\u8BE2\u89C6\u56FE\u6765\u7B80\u5316\u64CD\u4F5C</p><h2 id="\u89C6\u56FE\u7684\u4F18\u70B9" tabindex="-1"><a class="header-anchor" href="#\u89C6\u56FE\u7684\u4F18\u70B9" aria-hidden="true">#</a> \u89C6\u56FE\u7684\u4F18\u70B9</h2><h2 id="\u89C6\u56FE\u7684\u7F3A\u70B9" tabindex="-1"><a class="header-anchor" href="#\u89C6\u56FE\u7684\u7F3A\u70B9" aria-hidden="true">#</a> \u89C6\u56FE\u7684\u7F3A\u70B9</h2><p>\u67E5\u8BE2\u6027\u80FD\u964D\u4F4E\uFF0C\u4FEE\u6539\u89C6\u56FE\u4F1A\u76F4\u63A5\u4FEE\u6539\u539F\u6570\u636E\uFF0C\u57FA\u8868\u89C6\u56FE\u76F8\u4E92\u4F9D\u8D56\u3002</p><h2 id="\u4EC0\u4E48\u662F\u6E38\u6807" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662F\u6E38\u6807" aria-hidden="true">#</a> \u4EC0\u4E48\u662F\u6E38\u6807\uFF1F</h2><h3 id="\u6E38\u6807\u7684\u7279\u6027" tabindex="-1"><a class="header-anchor" href="#\u6E38\u6807\u7684\u7279\u6027" aria-hidden="true">#</a> \u6E38\u6807\u7684\u7279\u6027</h3><ul><li>\u4E0D\u654F\u611F\uFF1A\u6570\u636E\u5E93\u53EF\u4EE5\u9009\u62E9\u4E0D\u590D\u5236\u7ED3\u679C\u96C6</li><li>\u53EA\u8BFB</li><li>\u4E0D\u6EDA\u52A8\uFF1A\u6E38\u6807\u53EA\u80FD\u5411\u4E00\u65B9\u5411\u524D\u8FDB\uFF0C\u5E76\u4E14\u4E0D\u53EF\u4EE5\u8DF3\u8FC7\u4EFB\u4F55\u4E00\u884C\u6570\u636E</li></ul><h3 id="\u6E38\u6807\u7684\u4F18\u70B9" tabindex="-1"><a class="header-anchor" href="#\u6E38\u6807\u7684\u4F18\u70B9" aria-hidden="true">#</a> \u6E38\u6807\u7684\u4F18\u70B9</h3><ul><li><p>\u6E38\u6807\u662F\u9488\u5BF9\u884C\u64CD\u4F5C\u7684\uFF0C\u5BF9\u4ECE\u6570\u636E\u5E93\u4E2D select \u67E5\u8BE2\u5F97\u5230\u7684\u7ED3\u679C\u96C6\u7684 \u6BCF\u4E00\u884C\u53EF\u4EE5</p><p>\u8FDB\u884C\u5206\u5F00\u7684\u72EC\u7ACB\u7684\u76F8\u540C\u6216\u8005\u4E0D\u76F8\u540C\u7684\u64CD\u4F5C\uFF0C\u662F\u4E00\u79CD\u5206\u79BB\u7684\u601D\u60F3\u3002</p></li></ul><h3 id="\u6E38\u6807\u7684\u7F3A\u70B9" tabindex="-1"><a class="header-anchor" href="#\u6E38\u6807\u7684\u7F3A\u70B9" aria-hidden="true">#</a> \u6E38\u6807\u7684\u7F3A\u70B9</h3><ul><li>\u6027\u80FD\u4E0D\u9AD8</li><li>\u53EA\u80FD\u4E00\u884C\u4E00\u884C\u64CD\u4F5C</li><li>\u4F7F\u7528\u6E38\u6807\u4F1A\u4EA7\u751F\u6B7B\u9501\uFF0C\u9020\u6210\u5185\u5B58\u5F00\u9500\u5927</li></ul><h3 id="\u6E38\u6807\u7684\u9002\u7528\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#\u6E38\u6807\u7684\u9002\u7528\u573A\u666F" aria-hidden="true">#</a> \u6E38\u6807\u7684\u9002\u7528\u573A\u666F</h3><ul><li>\u5B58\u50A8\u8FC7\u7A0B</li><li>\u51FD\u6570</li><li>\u89E6\u53D1\u5668</li><li>\u4E8B\u4EF6</li></ul><h3 id="\u6E38\u6807\u7684\u64CD\u4F5C" tabindex="-1"><a class="header-anchor" href="#\u6E38\u6807\u7684\u64CD\u4F5C" aria-hidden="true">#</a> \u6E38\u6807\u7684\u64CD\u4F5C</h3><h4 id="_1\u3001\u6E38\u6807\u7684\u5B9A\u4E49" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u6E38\u6807\u7684\u5B9A\u4E49" aria-hidden="true">#</a> 1\u3001\u6E38\u6807\u7684\u5B9A\u4E49</h4><p>DECLARE \u5149\u6807\u540D\u79F0 CURSOR FOR \u67E5\u8BE2\u8BED\u6CD5</p><p>declare cursor_name cursor for select_statement</p><h4 id="_2\u3001\u6253\u5F00\u6E38\u6807" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u6253\u5F00\u6E38\u6807" aria-hidden="true">#</a> 2\u3001\u6253\u5F00\u6E38\u6807</h4><p>OPEN \u5149\u6807\u540D\u79F0</p><p>open cursor_name</p><h4 id="_3\u3001\u53D6\u6E38\u6807\u4E2D\u7684\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u53D6\u6E38\u6807\u4E2D\u7684\u6570\u636E" aria-hidden="true">#</a> 3\u3001\u53D6\u6E38\u6807\u4E2D\u7684\u6570\u636E</h4><p>FETCH \u5149\u6807\u540D\u79F0 INFO var_name [\uFF0Cvar_name ].....</p><p>fetch cursor_name info var_name</p><h4 id="_4\u3001\u5173\u95ED\u6E38\u6807" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u5173\u95ED\u6E38\u6807" aria-hidden="true">#</a> 4\u3001\u5173\u95ED\u6E38\u6807</h4><p>CLOSE curso_name;</p><p>close \u5149\u6807\u540D\u79F0</p><h4 id="_5\u3001\u91CA\u653E\u6E38\u6807" tabindex="-1"><a class="header-anchor" href="#_5\u3001\u91CA\u653E\u6E38\u6807" aria-hidden="true">#</a> 5\u3001\u91CA\u653E\u6E38\u6807</h4><p>DEALLOCATE \u5149\u6807\u540D\u79F0</p><p>deallocate cursor_name;</p><h3 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h3><h1 id="\u5B58\u50A8\u8FC7\u7A0B\u4E0E\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u5B58\u50A8\u8FC7\u7A0B\u4E0E\u51FD\u6570" aria-hidden="true">#</a> \u5B58\u50A8\u8FC7\u7A0B\u4E0E\u51FD\u6570</h1><h2 id="\u4EC0\u4E48\u662F\u5B58\u50A8\u8FC7\u7A0B-\u6709\u54EA\u4E9B\u4F18\u7F3A\u70B9" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662F\u5B58\u50A8\u8FC7\u7A0B-\u6709\u54EA\u4E9B\u4F18\u7F3A\u70B9" aria-hidden="true">#</a> \u4EC0\u4E48\u662F\u5B58\u50A8\u8FC7\u7A0B\uFF1F\u6709\u54EA\u4E9B\u4F18\u7F3A\u70B9\uFF1F</h2><h1 id="\u89E6\u53D1\u5668" tabindex="-1"><a class="header-anchor" href="#\u89E6\u53D1\u5668" aria-hidden="true">#</a> \u89E6\u53D1\u5668</h1><h2 id="\u4EC0\u4E48\u662F\u89E6\u53D1\u5668-\u89E6\u53D1\u5668\u7684\u4F7F\u7528\u573A\u666F\u6709\u54EA\u4E9B" tabindex="-1"><a class="header-anchor" href="#\u4EC0\u4E48\u662F\u89E6\u53D1\u5668-\u89E6\u53D1\u5668\u7684\u4F7F\u7528\u573A\u666F\u6709\u54EA\u4E9B" aria-hidden="true">#</a> \u4EC0\u4E48\u662F\u89E6\u53D1\u5668\uFF1F\u89E6\u53D1\u5668\u7684\u4F7F\u7528\u573A\u666F\u6709\u54EA\u4E9B\uFF1F</h2><p>\u89E6\u53D1\u5668\u662F\u9488\u5BF9\u6BCF\u4E00\u884C\u7684\uFF1B\u5BF9\u589E\u5220\u6539\u975E\u5E38\u9891\u7E41\u7684\u8868\u4E0A\u5207\u8BB0\u4E0D\u8981\u4F7F\u7528\u89E6\u53D1\u5668\uFF0C\u56E0\u4E3A\u5B83\u4F1A\u975E\u5E38\u6D88\u8017\u8D44\u6E90\u3002 \u89E6\u53D1\u5668\u662F\u9488\u5BF9\u6BCF\u4E00\u884C\u7684\uFF1B\u5BF9\u589E\u5220\u6539\u975E\u5E38\u9891\u7E41\u7684\u8868\u4E0A\u5207\u8BB0\u4E0D\u8981\u4F7F\u7528\u89E6\u53D1\u5668\uFF0C\u56E0\u4E3A\u5B83\u4F1A\u975E\u5E38\u6D88\u8017\u8D44\u6E90\u3002</p><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>CREATE
    [DEFINER = { user | CURRENT_USER }]
TRIGGER trigger_name
trigger_time trigger_event
ON tbl_name FOR EACH ROW
\u3000\u3000[trigger_order]
trigger_body

trigger_time: { BEFORE | AFTER }

trigger_event: { INSERT | UPDATE | DELETE }

trigger_order: { FOLLOWS | PRECEDES } other_trigger_name
&gt; BEFORE\u548CAFTER\u53C2\u6570\u6307\u5B9A\u4E86\u89E6\u53D1\u6267\u884C\u7684\u65F6\u95F4\uFF0C\u5728\u4E8B\u4EF6\u4E4B\u524D\u6216\u662F\u4E4B\u540E\u3002

&gt; FOR EACH ROW\u8868\u793A\u4EFB\u4F55\u4E00\u6761\u8BB0\u5F55\u4E0A\u7684\u64CD\u4F5C\u6EE1\u8DB3\u89E6\u53D1\u4E8B\u4EF6\u90FD\u4F1A\u89E6\u53D1\u8BE5\u89E6\u53D1\u5668\uFF0C\u4E5F\u5C31\u662F\u8BF4\u89E6\u53D1\u5668\u7684\u89E6\u53D1\u9891\u7387\u662F\u9488\u5BF9\u6BCF\u4E00\u884C\u6570\u636E\u89E6\u53D1\u4E00\u6B21\u3002

&gt; tigger_event\u8BE6\u89E3\uFF1A

\u3000\u3000\u2460INSERT\u578B\u89E6\u53D1\u5668\uFF1A\u63D2\u5165\u67D0\u4E00\u884C\u65F6\u6FC0\u6D3B\u89E6\u53D1\u5668\uFF0C\u53EF\u80FD\u901A\u8FC7INSERT\u3001LOAD DATA\u3001REPLACE \u8BED\u53E5\u89E6\u53D1(LOAD DAT\u8BED\u53E5\u7528\u4E8E\u5C06\u4E00\u4E2A\u6587\u4EF6\u88C5\u5165\u5230\u4E00\u4E2A\u6570\u636E\u8868\u4E2D\uFF0C\u76F8\u5F53\u4E0E\u4E00\u7CFB\u5217\u7684INSERT\u64CD\u4F5C)\uFF1B

\u3000\u3000\u2461UPDATE\u578B\u89E6\u53D1\u5668\uFF1A\u66F4\u6539\u67D0\u4E00\u884C\u65F6\u6FC0\u6D3B\u89E6\u53D1\u5668\uFF0C\u53EF\u80FD\u901A\u8FC7UPDATE\u8BED\u53E5\u89E6\u53D1\uFF1B

\u3000\u3000\u2462DELETE\u578B\u89E6\u53D1\u5668\uFF1A\u5220\u9664\u67D0\u4E00\u884C\u65F6\u6FC0\u6D3B\u89E6\u53D1\u5668\uFF0C\u53EF\u80FD\u901A\u8FC7DELETE\u3001REPLACE\u8BED\u53E5\u89E6\u53D1\u3002

&gt; trigger_order\u662FMySQL5.7\u4E4B\u540E\u7684\u4E00\u4E2A\u529F\u80FD\uFF0C\u7528\u4E8E\u5B9A\u4E49\u591A\u4E2A\u89E6\u53D1\u5668\uFF0C\u4F7F\u7528follows(\u5C3E\u968F)\u6216precedes(\u5728\u2026\u4E4B\u5148)\u6765\u9009\u62E9\u89E6\u53D1\u5668\u6267\u884C\u7684\u5148\u540E\u987A\u5E8F\u3002 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>NEW\u4E0EOLD\u8BE6\u89E3</p><p>MySQL \u4E2D\u5B9A\u4E49\u4E86 NEW \u548C OLD\uFF0C\u7528\u6765\u8868\u793A\u89E6\u53D1\u5668\u7684\u6240\u5728\u8868\u4E2D\uFF0C\u89E6\u53D1\u4E86\u89E6\u53D1\u5668\u7684\u90A3\u4E00\u884C\u6570\u636E\uFF0C\u6765\u5F15\u7528\u89E6\u53D1\u5668\u4E2D\u53D1\u751F\u53D8\u5316\u7684\u8BB0\u5F55\u5185\u5BB9\uFF0C\u5177\u4F53\u5730\uFF1A</p><p>\u2460\u5728INSERT\u578B\u89E6\u53D1\u5668\u4E2D\uFF0CNEW\u7528\u6765\u8868\u793A\u5C06\u8981\uFF08BEFORE\uFF09\u6216\u5DF2\u7ECF\uFF08AFTER\uFF09\u63D2\u5165\u7684\u65B0\u6570\u636E\uFF1B</p><p>\u2461\u5728UPDATE\u578B\u89E6\u53D1\u5668\u4E2D\uFF0COLD\u7528\u6765\u8868\u793A\u5C06\u8981\u6216\u5DF2\u7ECF\u88AB\u4FEE\u6539\u7684\u539F\u6570\u636E\uFF0CNEW\u7528\u6765\u8868\u793A\u5C06\u8981\u6216\u5DF2\u7ECF\u4FEE\u6539\u4E3A\u7684\u65B0\u6570\u636E\uFF1B</p><p>\u2462\u5728DELETE\u578B\u89E6\u53D1\u5668\u4E2D\uFF0COLD\u7528\u6765\u8868\u793A\u5C06\u8981\u6216\u5DF2\u7ECF\u88AB\u5220\u9664\u7684\u539F\u6570\u636E\uFF1B</p><p>\u67E5\u770B\u89E6\u53D1\u5668</p><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>select * from information_schema.triggers 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="mysql\u4E2D\u90FD\u6709\u54EA\u4E9B\u89E6\u53D1\u5668" tabindex="-1"><a class="header-anchor" href="#mysql\u4E2D\u90FD\u6709\u54EA\u4E9B\u89E6\u53D1\u5668" aria-hidden="true">#</a> MySQL\u4E2D\u90FD\u6709\u54EA\u4E9B\u89E6\u53D1\u5668\uFF1F</h2><h2 id="-1" tabindex="-1"><a class="header-anchor" href="#-1" aria-hidden="true">#</a></h2><h1 id="linux\u4E0Brpm\u7248mysql\u5B89\u88C5\u3001\u542F\u505C" tabindex="-1"><a class="header-anchor" href="#linux\u4E0Brpm\u7248mysql\u5B89\u88C5\u3001\u542F\u505C" aria-hidden="true">#</a> Linux\u4E0BRPM\u7248MYSQL\u5B89\u88C5\u3001\u542F\u505C</h1><h1 id="mysql\u542F\u52A8\u95EE\u9898\u3001\u914D\u7F6E\u6587\u4EF6\u3001\u7F16\u7801\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#mysql\u542F\u52A8\u95EE\u9898\u3001\u914D\u7F6E\u6587\u4EF6\u3001\u7F16\u7801\u95EE\u9898" aria-hidden="true">#</a> MySQL\u542F\u52A8\u95EE\u9898\u3001\u914D\u7F6E\u6587\u4EF6\u3001\u7F16\u7801\u95EE\u9898</h1><h1 id="mysql\u5206\u5C42\u3001\u5B58\u50A8\u5F15\u64CE" tabindex="-1"><a class="header-anchor" href="#mysql\u5206\u5C42\u3001\u5B58\u50A8\u5F15\u64CE" aria-hidden="true">#</a> MYSQL\u5206\u5C42\u3001\u5B58\u50A8\u5F15\u64CE</h1><p><strong>\u8FDE\u63A5\u5C42</strong>\uFF08\u63D0\u4F9B\u4E0E\u5BA2\u6237\u7AEF\u8FDE\u63A5\u7684\u670D\u52A1\uFF09</p><p><strong>\u670D\u52A1\u5C42</strong>\uFF08\u63D0\u4F9B\u5404\u79CD\u7528\u6237\u4F7F\u7528\u7684\u63A5\u53E3\uFF0C\u63D0\u4F9BSQL\u4F18\u5316\u5668\u3010MySQL Query Optimizer\u3011\uFF09\uFF09</p><p><strong>\u5F15\u64CE\u5C42</strong>\uFF08\u63D0\u4F9B\u5404\u79CD\u5B58\u50A8\u6570\u636E\u7684\u65B9\u5F0F\u3010InnoDB\uFF1A\u4E8B\u7269\u4F18\u5148\uFF0C\u9002\u5408\u9AD8\u5E76\u53D1\uFF0C\u884C\u9501\uFF1BMyISAM\uFF1A\u6027\u80FD\u4F18\u5148\uFF0C\u8868\u9501\u3011\uFF09</p><p>show engines; \u663E\u793A\u652F\u6301\u5F15\u64CE</p><p>+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+ | Engine | Support | Comment | Transactions | XA | Savepoints | +--------------------+---------+----------------------------------------------------------------+--------------+------+------------+ | MEMORY | YES | Hash based, stored in memory, useful for temporary tables | NO | NO | NO | | MRG_MYISAM | YES | Collection of identical MyISAM tables | NO | NO | NO | | CSV | YES | CSV storage engine | NO | NO | NO | | FEDERATED | NO | Federated MySQL storage engine | NULL | NULL | NULL | | PERFORMANCE_SCHEMA | YES | Performance Schema | NO | NO | NO | | MyISAM | YES | MyISAM storage engine | NO | NO | NO | | InnoDB | DEFAULT | Supports transactions, row-level locking, and foreign keys | YES | YES | YES | | BLACKHOLE | YES | /dev/null storage engine (anything you write to it disappears) | NO | NO | NO | | ARCHIVE | YES | Archive storage engine | NO | NO | NO | +--------------------+---------+----------------------------------------------------------------+--------------+------+------------+ show variables like \u2018%storage_engine%\u2019; \u67E5\u770B\u5F53\u524D\u4F7F\u7528\u5F15\u64CE</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- \u6307\u5B9A\u6570\u636E\u5E93\u5F15\u64CE</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> tb<span class="token punctuation">(</span>
\u200B	id <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
\u200B	name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
\u200B	dept <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
\u200B	<span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf<span class="token operator">-</span><span class="token number">8</span>		
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5B58\u50A8\u5C42</strong>\uFF08\u5B58\u50A8\u6570\u636E\uFF09</p><h1 id="sql\u89E3\u6790\u8FC7\u7A0B\u3001\u7D22\u5F15\u3001b\u6811" tabindex="-1"><a class="header-anchor" href="#sql\u89E3\u6790\u8FC7\u7A0B\u3001\u7D22\u5F15\u3001b\u6811" aria-hidden="true">#</a> SQL\u89E3\u6790\u8FC7\u7A0B\u3001\u7D22\u5F15\u3001B\u6811</h1><h2 id="sql\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#sql\u4F18\u5316" aria-hidden="true">#</a> sql\u4F18\u5316\uFF1A</h2><p>\u539F\u56E0\uFF1A\u6027\u80FD\u4F4E\uFF0C\u6267\u884C\u6216\u7B49\u5F85\u65F6\u95F4\u592A\u957F\uFF0CSQL\u8BED\u53E5\u6B20\u4F73\uFF08\u8FDE\u63A5\u67E5\u8BE2\uFF09\u3001\u7D22\u5F15\u5931\u6548\u3001\u670D\u52A1\u5668\u53C2\u6570\u8BBE\u7F6E\u4E0D\u5BF9</p><p>SQL\u7F16\u5199\u8FC7\u7A0B\u4E0E\u89E3\u6790\u8FC7\u7A0B\uFF1A</p><ul><li>\u7F16\u5199:select dinstinct ..from \u2026join ..on ..where ..group by ..having ..order by ..limit</li><li>\u89E3\u6790:form ..on ..join ..where ..group by ..having ..select dinstinct ..order by limit..</li><li>\u4ECE\u54EA\u4E9B\u8868\u6784\u6210\u7684\u603B\u8868\u4E2D\uFF0C\u901A\u8FC7\u5B57\u6BB5\u7B5B\u9009\u51FA\u76F8\u5E94\u6570\u636E\u7136\u540E\u5206\u7EC4\u3001\u6392\u5E8F\u3001\u9650\u5236\u6570\u91CF\u3002</li></ul><h2 id="\u7D22\u5F15-1" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15-1" aria-hidden="true">#</a> \u7D22\u5F15</h2><h3 id="\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#\u7B80\u4ECB" aria-hidden="true">#</a> \u7B80\u4ECB</h3><p>sql\u4F18\u5316\u4E3B\u8981\u662F\u4F18\u5316\u7D22\u5F15\uFF0C\u7D22\u5F15\uFF08index\uFF09\u76F8\u5F53\u4E8E\u4E66\u7684\u76EE\u5F55\u3002\u7D22\u5F15\u662F\u6570\u636E\u7ED3\u6784\uFF08\u9ED8\u8BA4B\u6811\u3010\u5C0F\u5DE6\u5927\u53F3\u3011\uFF09</p><p><img src="http://qnimg.gisfsde.com/work/image-20210617202405953.png" alt="image-20210617202405953" loading="lazy"></p><h3 id="\u4F18\u70B9" tabindex="-1"><a class="header-anchor" href="#\u4F18\u70B9" aria-hidden="true">#</a> \u4F18\u70B9</h3><ol><li>\u63D0\u9AD8\u67E5\u8BE2\u6548\u7387\uFF08\u964D\u4F4EIO\u3001CPU\u4F7F\u7528\u7387\uFF09</li></ol><h3 id="\u7F3A\u70B9" tabindex="-1"><a class="header-anchor" href="#\u7F3A\u70B9" aria-hidden="true">#</a> \u7F3A\u70B9</h3><ol><li>\u7D22\u5F15\u672C\u8EAB\u5F88\u5927\uFF08\u53EF\u4EE5\u5B58\u653E\u5728\u5185\u5B58/\u786C\u76D8\uFF09</li><li>\u7D22\u5F15\u4E0D\u662F\u6240\u6709\u60C5\u51B5\u90FD\u9002\u7528\uFF1A\u5C11\u91CF\u6570\u636E\uFF0C\u9891\u7E41\u66F4\u65B0\u5B57\u6BB5\uFF0C\u5F88\u5C11\u4F7F\u7528\u7684\u5B57\u6BB5</li><li>\u7D22\u5F15\u4F1A\u964D\u4F4E\u589E\u5220\u6539\u67E5\u6548\u7387</li></ol><h3 id="\u5206\u7C7B" tabindex="-1"><a class="header-anchor" href="#\u5206\u7C7B" aria-hidden="true">#</a> \u5206\u7C7B</h3><p>\u5355\u503C\u7D22\u5F15\uFF1A\u5355\u5B57\u6BB5</p><p>\u552F\u4E00\u7D22\u5F15\uFF1A\u4E0D\u80FD\u91CD\u590D</p><p>\u4E3B\u952E\u7D22\u5F15\uFF1A\u4E0D\u80FD\u91CD\u590D\uFF0C\u4E0D\u80FD\u4E3Anull\uFF0C\u4E3B\u952E\u9ED8\u8BA4\u662F\u4E3B\u952E\u7D22\u5F15</p><p>\u590D\u5408\u7D22\u5F15\uFF1A\u76F8\u5F53\u4E8E\u4E8C\u7EA7\u76EE\u5F55\uFF08name\uFF0Cage\uFF09</p><h3 id="\u521B\u5EFA\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u521B\u5EFA\u7D22\u5F15" aria-hidden="true">#</a> \u521B\u5EFA\u7D22\u5F15</h3><h4 id="\u65B9\u5F0F\u4E00" tabindex="-1"><a class="header-anchor" href="#\u65B9\u5F0F\u4E00" aria-hidden="true">#</a> \u65B9\u5F0F\u4E00</h4><p>create \u7D22\u5F15\u7C7B\u578B \u7D22\u5F15\u540D on \u8868\uFF08\u5B57\u6BB5\uFF09</p><p>\u5355\u503C\u7D22\u5F15\uFF1Acreate index dept_index on tb(dept);</p><p>\u552F\u4E00\u7D22\u5F15\uFF1Acreate unique index name-index on tb(name)</p><p>\u590D\u5408\u7D22\u5F15\uFF1Acreate index dept_name_index on tb(dept,name);</p><h4 id="\u65B9\u5F0F\u4E8C" tabindex="-1"><a class="header-anchor" href="#\u65B9\u5F0F\u4E8C" aria-hidden="true">#</a> \u65B9\u5F0F\u4E8C</h4><p>alter table \u8868\u540D add \u7D22\u5F15\u7C7B\u578B \u7D22\u5F15\u540D\uFF08\u5B57\u6BB5\uFF09</p><p>\u5355\u503C\u7D22\u5F15\uFF1Aalter table tb add index dept_index(dept);</p><p>\u552F\u4E00\u7D22\u5F15\uFF1Aalter table tb add unique index name-index(name)</p><p>\u590D\u5408\u7D22\u5F15\uFF1Aalter table tb add index dept_name_index(dept,name);</p><h3 id="\u5220\u9664\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u5220\u9664\u7D22\u5F15" aria-hidden="true">#</a> \u5220\u9664\u7D22\u5F15</h3><p>drop index \u7D22\u5F15\u540D on \u8868\u540D</p><h3 id="\u67E5\u8BE2\u7D22\u5F15" tabindex="-1"><a class="header-anchor" href="#\u67E5\u8BE2\u7D22\u5F15" aria-hidden="true">#</a> \u67E5\u8BE2\u7D22\u5F15</h3><p>show index from \u8868\u540D\\G</p><h1 id="sql\u4F18\u5316-1" tabindex="-1"><a class="header-anchor" href="#sql\u4F18\u5316-1" aria-hidden="true">#</a> SQL\u4F18\u5316</h1><h2 id="\u4E3A\u4EC0\u4E48\u8981\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4EC0\u4E48\u8981\u4F18\u5316" aria-hidden="true">#</a> \u4E3A\u4EC0\u4E48\u8981\u4F18\u5316</h2><h2 id="\u6570\u636E\u5E93\u7ED3\u6784\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5E93\u7ED3\u6784\u4F18\u5316" aria-hidden="true">#</a> \u6570\u636E\u5E93\u7ED3\u6784\u4F18\u5316</h2><h2 id="mysql\u6570\u636E\u5E93cpu\u98D9\u5347\u5230500-\u7684\u8BDD\u600E\u4E48\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#mysql\u6570\u636E\u5E93cpu\u98D9\u5347\u5230500-\u7684\u8BDD\u600E\u4E48\u5904\u7406" aria-hidden="true">#</a> MySQL\u6570\u636E\u5E93cpu\u98D9\u5347\u5230500%\u7684\u8BDD\u600E\u4E48\u5904\u7406\uFF1F</h2><h2 id="\u5927\u8868\u600E\u4E48\u4F18\u5316-\u67D0\u4E2A\u8868\u6709\u8FD1\u5343\u4E07\u6570\u636E-crud\u6BD4\u8F83\u6162-\u5982\u4F55\u4F18\u5316-\u5206\u5E93\u5206\u8868\u4E86\u662F\u600E\u4E48\u505A\u7684-\u5206\u8868\u5206\u5E93\u4E86\u6709\u4EC0\u4E48\u95EE\u9898-\u6709\u7528\u5230\u4E2D\u95F4\u4EF6\u4E48-\u4ED6\u4EEC\u7684\u539F\u7406\u77E5\u9053\u4E48" tabindex="-1"><a class="header-anchor" href="#\u5927\u8868\u600E\u4E48\u4F18\u5316-\u67D0\u4E2A\u8868\u6709\u8FD1\u5343\u4E07\u6570\u636E-crud\u6BD4\u8F83\u6162-\u5982\u4F55\u4F18\u5316-\u5206\u5E93\u5206\u8868\u4E86\u662F\u600E\u4E48\u505A\u7684-\u5206\u8868\u5206\u5E93\u4E86\u6709\u4EC0\u4E48\u95EE\u9898-\u6709\u7528\u5230\u4E2D\u95F4\u4EF6\u4E48-\u4ED6\u4EEC\u7684\u539F\u7406\u77E5\u9053\u4E48" aria-hidden="true">#</a> \u5927\u8868\u600E\u4E48\u4F18\u5316\uFF1F\u67D0\u4E2A\u8868\u6709\u8FD1\u5343\u4E07\u6570\u636E\uFF0CCRUD\u6BD4\u8F83\u6162\uFF0C\u5982\u4F55\u4F18\u5316\uFF1F\u5206\u5E93\u5206\u8868\u4E86\u662F\u600E\u4E48\u505A\u7684\uFF1F\u5206\u8868\u5206\u5E93\u4E86\u6709\u4EC0\u4E48\u95EE\u9898\uFF1F\u6709\u7528\u5230\u4E2D\u95F4\u4EF6\u4E48\uFF1F\u4ED6\u4EEC\u7684\u539F\u7406\u77E5\u9053\u4E48\uFF1F</h2><h2 id="\u5782\u76F4\u5206\u8868" tabindex="-1"><a class="header-anchor" href="#\u5782\u76F4\u5206\u8868" aria-hidden="true">#</a> \u5782\u76F4\u5206\u8868</h2><h3 id="\u9002\u7528\u573A\u666F" tabindex="-1"><a class="header-anchor" href="#\u9002\u7528\u573A\u666F" aria-hidden="true">#</a> \u9002\u7528\u573A\u666F</h3><h3 id="\u7F3A\u70B9-1" tabindex="-1"><a class="header-anchor" href="#\u7F3A\u70B9-1" aria-hidden="true">#</a> \u7F3A\u70B9</h3><h2 id="\u6C34\u5E73\u5206\u8868" tabindex="-1"><a class="header-anchor" href="#\u6C34\u5E73\u5206\u8868" aria-hidden="true">#</a> \u6C34\u5E73\u5206\u8868\uFF1A</h2><h3 id="\u9002\u7528\u573A\u666F-1" tabindex="-1"><a class="header-anchor" href="#\u9002\u7528\u573A\u666F-1" aria-hidden="true">#</a> \u9002\u7528\u573A\u666F</h3><h3 id="\u6C34\u5E73\u5207\u5206\u7684\u7F3A\u70B9" tabindex="-1"><a class="header-anchor" href="#\u6C34\u5E73\u5207\u5206\u7684\u7F3A\u70B9" aria-hidden="true">#</a> \u6C34\u5E73\u5207\u5206\u7684\u7F3A\u70B9</h3><h2 id="mysql\u7684\u590D\u5236\u539F\u7406\u4EE5\u53CA\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#mysql\u7684\u590D\u5236\u539F\u7406\u4EE5\u53CA\u6D41\u7A0B" aria-hidden="true">#</a> MySQL\u7684\u590D\u5236\u539F\u7406\u4EE5\u53CA\u6D41\u7A0B</h2><h2 id="\u8BFB\u5199\u5206\u79BB\u6709\u54EA\u4E9B\u89E3\u51B3\u65B9\u6848" tabindex="-1"><a class="header-anchor" href="#\u8BFB\u5199\u5206\u79BB\u6709\u54EA\u4E9B\u89E3\u51B3\u65B9\u6848" aria-hidden="true">#</a> \u8BFB\u5199\u5206\u79BB\u6709\u54EA\u4E9B\u89E3\u51B3\u65B9\u6848\uFF1F</h2><h2 id="\u5907\u4EFD\u8BA1\u5212-mysqldump\u4EE5\u53CAxtranbackup\u7684\u5B9E\u73B0\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#\u5907\u4EFD\u8BA1\u5212-mysqldump\u4EE5\u53CAxtranbackup\u7684\u5B9E\u73B0\u539F\u7406" aria-hidden="true">#</a> \u5907\u4EFD\u8BA1\u5212\uFF0Cmysqldump\u4EE5\u53CAxtranbackup\u7684\u5B9E\u73B0\u539F\u7406</h2><h2 id="\u6570\u636E\u8868\u635F\u574F\u7684\u4FEE\u590D\u65B9\u5F0F\u6709\u54EA\u4E9B" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u8868\u635F\u574F\u7684\u4FEE\u590D\u65B9\u5F0F\u6709\u54EA\u4E9B" aria-hidden="true">#</a> \u6570\u636E\u8868\u635F\u574F\u7684\u4FEE\u590D\u65B9\u5F0F\u6709\u54EA\u4E9B\uFF1F</h2><h2 id="\u5982\u4F55\u5B9A\u4F4D\u53CA\u4F18\u5316sql\u8BED\u53E5\u7684\u6027\u80FD\u95EE\u9898-\u521B\u5EFA\u7684\u7D22\u5F15\u6709\u6CA1\u6709\u88AB\u4F7F\u7528\u5230-\u6216\u8005\u8BF4\u600E\u4E48\u624D\u53EF\u4EE5\u77E5\u9053\u8FD9\u6761\u8BED\u53E5\u8FD0\u884C\u5F88\u6162\u7684\u539F\u56E0" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u5B9A\u4F4D\u53CA\u4F18\u5316sql\u8BED\u53E5\u7684\u6027\u80FD\u95EE\u9898-\u521B\u5EFA\u7684\u7D22\u5F15\u6709\u6CA1\u6709\u88AB\u4F7F\u7528\u5230-\u6216\u8005\u8BF4\u600E\u4E48\u624D\u53EF\u4EE5\u77E5\u9053\u8FD9\u6761\u8BED\u53E5\u8FD0\u884C\u5F88\u6162\u7684\u539F\u56E0" aria-hidden="true">#</a> \u5982\u4F55\u5B9A\u4F4D\u53CA\u4F18\u5316SQL\u8BED\u53E5\u7684\u6027\u80FD\u95EE\u9898\uFF1F\u521B\u5EFA\u7684\u7D22\u5F15\u6709\u6CA1\u6709\u88AB\u4F7F\u7528\u5230?\u6216\u8005\u8BF4\u600E\u4E48\u624D\u53EF\u4EE5\u77E5\u9053\u8FD9\u6761\u8BED\u53E5\u8FD0\u884C\u5F88\u6162\u7684\u539F\u56E0\uFF1F</h2><h2 id="sql\u7684\u751F\u547D\u5468\u671F" tabindex="-1"><a class="header-anchor" href="#sql\u7684\u751F\u547D\u5468\u671F" aria-hidden="true">#</a> SQL\u7684\u751F\u547D\u5468\u671F\uFF1F</h2><h2 id="\u5927\u8868\u6570\u636E\u67E5\u8BE2-\u600E\u4E48\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#\u5927\u8868\u6570\u636E\u67E5\u8BE2-\u600E\u4E48\u4F18\u5316" aria-hidden="true">#</a> \u5927\u8868\u6570\u636E\u67E5\u8BE2\uFF0C\u600E\u4E48\u4F18\u5316</h2><h2 id="\u8D85\u5927\u5206\u9875\u600E\u4E48\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#\u8D85\u5927\u5206\u9875\u600E\u4E48\u5904\u7406" aria-hidden="true">#</a> \u8D85\u5927\u5206\u9875\u600E\u4E48\u5904\u7406\uFF1F</h2><h2 id="mysql-\u5206\u9875" tabindex="-1"><a class="header-anchor" href="#mysql-\u5206\u9875" aria-hidden="true">#</a> mysql \u5206\u9875</h2><h2 id="\u6162\u67E5\u8BE2\u65E5\u5FD7" tabindex="-1"><a class="header-anchor" href="#\u6162\u67E5\u8BE2\u65E5\u5FD7" aria-hidden="true">#</a> \u6162\u67E5\u8BE2\u65E5\u5FD7</h2><h2 id="\u5173\u5FC3\u8FC7\u4E1A\u52A1\u7CFB\u7EDF\u91CC\u9762\u7684sql\u8017\u65F6\u5417-\u7EDF\u8BA1\u8FC7\u6162\u67E5\u8BE2\u5417-\u5BF9\u6162\u67E5\u8BE2\u90FD\u600E\u4E48\u4F18\u5316\u8FC7" tabindex="-1"><a class="header-anchor" href="#\u5173\u5FC3\u8FC7\u4E1A\u52A1\u7CFB\u7EDF\u91CC\u9762\u7684sql\u8017\u65F6\u5417-\u7EDF\u8BA1\u8FC7\u6162\u67E5\u8BE2\u5417-\u5BF9\u6162\u67E5\u8BE2\u90FD\u600E\u4E48\u4F18\u5316\u8FC7" aria-hidden="true">#</a> \u5173\u5FC3\u8FC7\u4E1A\u52A1\u7CFB\u7EDF\u91CC\u9762\u7684sql\u8017\u65F6\u5417\uFF1F\u7EDF\u8BA1\u8FC7\u6162\u67E5\u8BE2\u5417\uFF1F\u5BF9\u6162\u67E5\u8BE2\u90FD\u600E\u4E48\u4F18\u5316\u8FC7\uFF1F</h2><h2 id="\u4E3A\u4EC0\u4E48\u8981\u5C3D\u91CF\u8BBE\u5B9A\u4E00\u4E2A\u4E3B\u952E" tabindex="-1"><a class="header-anchor" href="#\u4E3A\u4EC0\u4E48\u8981\u5C3D\u91CF\u8BBE\u5B9A\u4E00\u4E2A\u4E3B\u952E" aria-hidden="true">#</a> \u4E3A\u4EC0\u4E48\u8981\u5C3D\u91CF\u8BBE\u5B9A\u4E00\u4E2A\u4E3B\u952E\uFF1F</h2><h2 id="\u4E3B\u952E\u4F7F\u7528\u81EA\u589Eid\u8FD8\u662Fuuid-\u5404\u81EA\u4F18\u7F3A\u70B9" tabindex="-1"><a class="header-anchor" href="#\u4E3B\u952E\u4F7F\u7528\u81EA\u589Eid\u8FD8\u662Fuuid-\u5404\u81EA\u4F18\u7F3A\u70B9" aria-hidden="true">#</a> \u4E3B\u952E\u4F7F\u7528\u81EA\u589EID\u8FD8\u662FUUID\uFF1F\u5404\u81EA\u4F18\u7F3A\u70B9\uFF1F</h2><h2 id="\u5B57\u6BB5\u4E3A\u4EC0\u4E48\u8981\u6C42\u5B9A\u4E49\u4E3Anot-null" tabindex="-1"><a class="header-anchor" href="#\u5B57\u6BB5\u4E3A\u4EC0\u4E48\u8981\u6C42\u5B9A\u4E49\u4E3Anot-null" aria-hidden="true">#</a> \u5B57\u6BB5\u4E3A\u4EC0\u4E48\u8981\u6C42\u5B9A\u4E49\u4E3Anot null\uFF1F</h2><h2 id="\u5982\u679C\u8981\u5B58\u50A8\u7528\u6237\u7684\u5BC6\u7801\u6563\u5217-\u5E94\u8BE5\u4F7F\u7528\u4EC0\u4E48\u5B57\u6BB5\u8FDB\u884C\u5B58\u50A8" tabindex="-1"><a class="header-anchor" href="#\u5982\u679C\u8981\u5B58\u50A8\u7528\u6237\u7684\u5BC6\u7801\u6563\u5217-\u5E94\u8BE5\u4F7F\u7528\u4EC0\u4E48\u5B57\u6BB5\u8FDB\u884C\u5B58\u50A8" aria-hidden="true">#</a> \u5982\u679C\u8981\u5B58\u50A8\u7528\u6237\u7684\u5BC6\u7801\u6563\u5217\uFF0C\u5E94\u8BE5\u4F7F\u7528\u4EC0\u4E48\u5B57\u6BB5\u8FDB\u884C\u5B58\u50A8\uFF1F</h2><h2 id="\u4F18\u5316\u67E5\u8BE2\u8FC7\u7A0B\u4E2D\u7684\u6570\u636E\u8BBF\u95EE" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316\u67E5\u8BE2\u8FC7\u7A0B\u4E2D\u7684\u6570\u636E\u8BBF\u95EE" aria-hidden="true">#</a> \u4F18\u5316\u67E5\u8BE2\u8FC7\u7A0B\u4E2D\u7684\u6570\u636E\u8BBF\u95EE</h2><h2 id="\u4F18\u5316\u957F\u96BE\u7684\u67E5\u8BE2\u8BED\u53E5" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316\u957F\u96BE\u7684\u67E5\u8BE2\u8BED\u53E5" aria-hidden="true">#</a> \u4F18\u5316\u957F\u96BE\u7684\u67E5\u8BE2\u8BED\u53E5</h2><h2 id="\u4F18\u5316\u7279\u5B9A\u7C7B\u578B\u7684\u67E5\u8BE2\u8BED\u53E5" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316\u7279\u5B9A\u7C7B\u578B\u7684\u67E5\u8BE2\u8BED\u53E5" aria-hidden="true">#</a> \u4F18\u5316\u7279\u5B9A\u7C7B\u578B\u7684\u67E5\u8BE2\u8BED\u53E5</h2><h2 id="\u4F18\u5316\u5173\u8054\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316\u5173\u8054\u67E5\u8BE2" aria-hidden="true">#</a> \u4F18\u5316\u5173\u8054\u67E5\u8BE2</h2><h2 id="\u4F18\u5316\u5B50\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316\u5B50\u67E5\u8BE2" aria-hidden="true">#</a> \u4F18\u5316\u5B50\u67E5\u8BE2</h2><h2 id="\u4F18\u5316limit\u5206\u9875" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316limit\u5206\u9875" aria-hidden="true">#</a> \u4F18\u5316LIMIT\u5206\u9875</h2><h2 id="\u4F18\u5316union\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316union\u67E5\u8BE2" aria-hidden="true">#</a> \u4F18\u5316UNION\u67E5\u8BE2</h2><h2 id="\u4F18\u5316where\u5B50\u53E5" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316where\u5B50\u53E5" aria-hidden="true">#</a> \u4F18\u5316WHERE\u5B50\u53E5</h2><h1 id="sql\u4F18\u5316\u51C6\u5907" tabindex="-1"><a class="header-anchor" href="#sql\u4F18\u5316\u51C6\u5907" aria-hidden="true">#</a> <strong>SQL\u4F18\u5316\u51C6\u5907</strong></h1><p>\u5206\u6790SQL\u7684<strong>\u6267\u884C\u8BA1\u5212</strong>\uFF1A<strong>explain</strong>+sql\u8BED\u53E5\uFF0C\u6A21\u62DFsql\u4F18\u5316\u5668\u6267\u884Csql\u8BED\u53E5\uFF0C\u4ECE\u800C\u8BA9\u5F00\u53D1\u4EBA\u5458\u77E5\u9053\u81EA\u5DF1SQL\u8BED\u53E5\u60C5\u51B5</p><p>id select_type table partitions type possible_keys key key_len ref rows filtered Extra 1 SIMPLE user const PRIMARY PRIMARY 152 const 1 100.00</p><table><thead><tr><th><strong>id</strong></th><th>\u7F16\u53F7 \u5B50\u67E5\u8BE2id\u4E0D\u540C\uFF0C\u5173\u8054\u67E5\u8BE2\u76F8\u540C</th></tr></thead><tbody><tr><td>**select_type **</td><td>\u67E5\u8BE2\u7C7B\u578B</td></tr><tr><td>**table **</td><td>\u67E5\u8BE2\u8868 id\u76F8\u540C\u6570\u636E\u91CF\u8D8A\u5C11\u8D8A\u4F18\u5148\u67E5\u8BE2\uFF0Cid\u4E0D\u901Aid\u8D8A\u5927\u8D8A\u4F18\u5148</td></tr><tr><td><strong>partitions</strong></td><td></td></tr><tr><td>**type **</td><td>\u7C7B\u578B</td></tr><tr><td>**possible_keys **</td><td>\u9884\u6D4B\u7528\u5230\u7684\u7D22\u5F15</td></tr><tr><td>**key **</td><td>\u5B9E\u9645\u7528\u5230\u7684\u7D22\u5F15</td></tr><tr><td>**key_len **</td><td>\u5B9E\u9645\u4F7F\u7528\u7D22\u5F15\u7684\u957F\u5EA6</td></tr><tr><td>**ref **</td><td>\u8868\u4E4B\u95F4\u7684\u5F15\u7528</td></tr><tr><td>**rows **</td><td>\u901A\u8FC7\u7D22\u5F15\u67E5\u8BE2\u5230\u7684\u6570\u636E\u91CF</td></tr><tr><td><strong>filtered</strong></td><td></td></tr><tr><td>**Extra **</td><td>\u989D\u5916\u7684\u4FE1\u606F</td></tr></tbody></table><h2 id="id\u3001table" tabindex="-1"><a class="header-anchor" href="#id\u3001table" aria-hidden="true">#</a> id\u3001table</h2><p><strong>\u5148\u67E5\u5185\u5C42\uFF0C\u518D\u67E5\u5916\u5C42\u3002\u5B50\u67E5\u8BE2id\u4E0D\u540C\uFF0C\u5173\u8054\u67E5\u8BE2id\u76F8\u540C\u3002 id\u76F8\u540C\u6570\u636E\u91CF\u8D8A\u5C11\u8D8A\u4F18\u5148\u67E5\u8BE2\uFF0Cid\u4E0D\u540Cid\u8D8A\u5927\u8D8A\u4F18\u5148</strong></p><p>explain SELECT * from teacher where tid=(select tid from course where cid=&#39;2&#39;) or tcid=(select tcid from teachercard where tcid=&#39;3&#39;)</p><p><img src="http://qnimg.gisfsde.com/work/image-20210622183715131.png" alt="image-20210622183715131" loading="lazy"></p><p>explain select t.* from teacher t,course c,teacherCard tc where t.tid=c.tid and t.tcid=tc.tcid and (c.cid=&#39;2&#39; or tc.tcid=&#39;3&#39;)</p><p><img src="http://qnimg.gisfsde.com/work/image-20210622183731786.png" alt="image-20210622183731786" loading="lazy"></p><h2 id="select-type-\u67E5\u8BE2\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#select-type-\u67E5\u8BE2\u7C7B\u578B" aria-hidden="true">#</a> select_type\uFF08\u67E5\u8BE2\u7C7B\u578B\uFF09</h2><p><strong>PRIMARY</strong>\uFF1A\u5305\u542B\u5B50\u67E5\u8BE2SQL\u4E2D\u7684 \u4E3B\u67E5\u8BE2\uFF08\u6700\u5916\u5C42\uFF09</p><p><strong>SUBQUERY</strong>\uFF1A\u5305\u542B\u5B50\u67E5\u8BE2SQL\u4E2D\u7684\u5B50\u67E5\u8BE2\uFF08\u975E\u6700\u5916\u5C42\uFF09</p><p><strong>SIMPLE</strong>\uFF1A\u7B80\u5355\u67E5\u8BE2\uFF08\u4E0D\u5305\u542B\u5B50\u67E5\u8BE2\u3001union\uFF09</p><p><strong>union</strong>\uFF1A</p><p><strong>derived</strong>\uFF1A\u884D\u751F\u67E5\u8BE2\uFF08\u4F7F\u7528\u5230\u4E86\u4E34\u65F6\u8868\uFF09</p><ul><li><p><strong>\u5728form\u5B50\u67E5\u8BE2\u4E2D\u53EA\u6709\u4E00\u5F20\u8868</strong></p><p>explain select cr.cname from (select * from course where tid in (1,2)) cr;</p><p><img src="http://qnimg.gisfsde.com/work/image-20210622190113873.png" alt="image-20210622190113873" loading="lazy"></p></li><li><p><strong>form\u5B50\u67E5\u8BE2\u4E2D\uFF0C\u5982\u679C\u6709table1 union table2\uFF0C\u5219table1 \u5C31\u662F\u7684riverd</strong></p><p>explain select cr.cname from (select * from course where tid =1 union select * from course where tid =2) cr;</p></li></ul><p><img src="http://qnimg.gisfsde.com/work/image-20210622190044449.png" alt="image-20210622190044449" loading="lazy"></p><h2 id="type-\u7D22\u5F15\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#type-\u7D22\u5F15\u7C7B\u578B" aria-hidden="true">#</a> type\uFF08\u7D22\u5F15\u7C7B\u578B\uFF09</h2><p><strong>system &gt; const &gt; eq_ref &gt; ref &gt; range &gt; index &gt; all</strong></p><p>\u5BF9TYPE\u4F18\u5316\u524D\u63D0\uFF1A\u6709\u7D22\u5F15</p><p>system\uFF0Cconst\u77E5\u8BC6\u7406\u60F3\u60C5\u51B5\uFF0C\u5B9E\u9645\u80FD\u8FBE\u5230 ref &gt;range</p><ul><li><p>system\uFF08\u5FFD\u7565\uFF09\uFF1A\u53EA\u6709\u4E00\u6761\u6570\u636E\u7684\u7CFB\u7EDF\u8868\uFF1B\u6216\u884D\u751F\u8868\u53EA\u6709\u4E00\u6761\u6570\u636E\u7684\u4E3B\u67E5\u8BE2</p></li><li><p>const\uFF1A\u4EC5\u4EC5\u80FD\u67E5\u5230\u4E00\u6761\u6570\u636E\u7684SQL\uFF0C\u7528\u4E8EPrimayr key \u6216unique\u7D22\u5F15\uFF08\u7C7B\u578B\u4E0E\u7D22\u5F15\u7C7B\u578B\u6709\u5173\uFF09</p></li><li><p>eq_ref\uFF1A\u552F\u4E00\u6027\u7D22\u5F15\uFF1A\u5BF9\u4E8E\u6BCF\u4E2A\u7D22\u5F15\u5EFA\u7684\u67E5\u8BE2\uFF0C\u8FD4\u56DE\u5339\u914D\u552F\u4E00\u884C\u6570\u636E\uFF08\u6709\u4E14\u53EA\u67091\u4E2A\uFF0C\u4E0D\u80FD\u591A\u3001\u4E0D\u80FD0\uFF09</p><p>select \xB7\xB7 from \xB7\xB7where name=\xB7\xB7\xB7\u5E38\u89C1\u552F\u4E00\u7D22\u5F15\u548C\u4E3B\u952E\u7D22\u5F15</p></li><li><p>ref\uFF1A\u975E\u552F\u4E00\u6027\u7D22\u5F15\uFF0C\u5BF9\u4E8E\u6BCF\u4E2A\u7D22\u5F15\u5EFA\u7684\u67E5\u8BE2\uFF0C\u8FD4\u56DE\u5339\u914D\u7684\u6240\u6709\u884C\uFF080\uFF0C\u591A\uFF09</p></li><li><p>range\uFF1A\u68C0\u7D22\u6307\u5B9A\u8303\u56F4\u7684\u884C\uFF0Cwhere\u540E\u9762\u662F\u4E00\u4E2A\u8303\u56F4\u67E5\u8BE2\uFF08between\uFF0Cin\uFF0C&gt; &lt; &gt;=\uFF0Cin\u6709\u65F6\u5019\u4F1A\u5931\u6548\uFF0C\u4ECE\u800C\u8F6C\u4E3Aall\uFF09</p></li><li><p>index\uFF1A\u67E5\u8BE2\u5168\u90E8\u7D22\u5F15\u4E2D\u7684\u6570\u636E\uFF0C\u53EA\u9700\u8981\u626B\u63CF\u7D22\u5F15\u8868\uFF0C\u4E0D\u9700\u8981\u6240\u6709\u8868\u4E2D\u7684\u6240\u6709\u6570\u636E</p></li><li><p>all\uFF1A\u67E5\u8BE2\u5168\u90E8\u8868\u4E2D\u7684\u6570\u636E\uFF0C\u9700\u8981\u5168\u8868\u6240\u6709\uFF0C\u5373\u9700\u8981\u6240\u6709\u8868\u4E2D\u7684\u6240\u6709\u6570\u636E</p></li></ul><h2 id="possible-keys" tabindex="-1"><a class="header-anchor" href="#possible-keys" aria-hidden="true">#</a> possible_keys</h2><p>\u53EF\u80FD\u7528\u5230\u7684\u7D22\u5F15\uFF0C\u662F\u4E00\u79CD\u9884\u6D4B\uFF0C\u4E0D\u51C6</p><h2 id="key" tabindex="-1"><a class="header-anchor" href="#key" aria-hidden="true">#</a> key</h2><p>\u5B9E\u9645\u7528\u5230\u7684\u7D22\u5F15</p><h2 id="key-len" tabindex="-1"><a class="header-anchor" href="#key-len" aria-hidden="true">#</a> key_len\uFF1A</h2><p>\u7D22\u5F15\u957F\u5EA6\uFF0C\u7528\u4E8E\u5224\u65AD\u590D\u5408\u7D22\u5F15\u662F\u5426\u5B8C\u5168\u4F7F\u7528\uFF0C\u5982\u679C\u7D22\u5F15\u5B57\u6BB5\u53EF\u4E3Anull\uFF0C\u5219\u4F1A\u4F7F\u75281\u4E2A\u5B57\u8282\u7528\u4E8E\u6807\u8BC6\uFF0C\u7D22\u5F15\u5B57\u6BB5\u4E3A\u53EF\u53D8\u957F\u5EA6\uFF0C\u5219\u4F1A\u4F7F\u75282\u4E2A\u5B57\u8282</p><h2 id="ref" tabindex="-1"><a class="header-anchor" href="#ref" aria-hidden="true">#</a> ref</h2><p>\u6CE8\u610F\u4E0Etype\u503C\u4E2D\u7684ref\u503C\u533A\u5206</p><p>\u4F5C\u7528\uFF1A\u6307\u660E\u5F53\u524D\u8868\u6240\u53C2\u7167\u7684\u5B57\u6BB5</p><p>select \u3002\u3002\u3002 where a.c=b.x \uFF08\uFF09</p><h2 id="rows" tabindex="-1"><a class="header-anchor" href="#rows" aria-hidden="true">#</a> rows</h2><p>\u88AB\u7D22\u5F15\u4F18\u5316\u67E5\u8BE2\u7684\u6570\u636E\u4E2A\u6570\uFF08\u5B9E\u9645\u901A\u8FC7\u7D22\u5F15\u800C\u67E5\u8BE2\u5230\u7684\u6570\u636E\u4E2A\u6570\uFF09</p><h2 id="extra" tabindex="-1"><a class="header-anchor" href="#extra" aria-hidden="true">#</a> extra</h2><p><strong>using filesort</strong>\uFF1A\u6027\u80FD\u6D88\u8017\u5927,\u9700\u8981\u989D\u5916\u7684\u4E00\u6B21\u6392\u5E8F\uFF08\u67E5\u8BE2\uFF09</p><p>\u5355\u7D22\u5F15\uFF1A\u5982\u679C\u6392\u5E8F\u548C\u67E5\u627E\u662F\u540C\u4E00\u4E2A\u5B57\u6BB5\uFF0C\u5219\u4E0D\u4F1A\u51FA\u73B0using filesort \uFF1B\u5982\u679C\u6392\u5E8F\u548C\u67E5\u627E\u4E0D\u662F\u540C\u4E00\u4E2A\u5B57\u6BB5\uFF0C\u5219\u4F1A\u51FA\u73B0\u3002</p><p>\u907F\u514D\uFF1Awhere\u54EA\u4E9B\u5B57\u6BB5\u5C31order by\u54EA\u4E9B\u5B57\u6BB5</p><p>\u590D\u5408\u7D22\u5F15\uFF1A\u4E0D\u80FD\u8DE8\u5217\uFF08\u6700\u4F73\u5DE6\u524D\u7F00\uFF09</p><p>\u907F\u514D\uFF1Awhere\u548Corder by \u6309\u7167\u590D\u5408\u7D22\u5F15\u7684\u987A\u5E8F\u9002\u5E94\uFF0C\u4E0D\u8981\u8DE8\u5217\u6216\u65E0\u5E8F\u4F7F\u7528</p><p><strong>using temporary</strong>\uFF1A\u6027\u80FD\u635F\u8017\u8F83\u5927\uFF0C\u7528\u5230\u4E86\u4E34\u65F6\u8868\u3002\u4E00\u822C\u51FA\u73B0\u5728 group by \u8BED\u53E5\u4E2D\uFF1B</p><p>explain select a1 from test02 where a1 in(\u20181\u2019,\u20192\u2019,\u20193\u2019) group by a1;</p><p>explain select a1 from test02 where a1 in(\u20181\u2019,\u20192\u2019,\u20193\u2019) group by a2; \u2014\u2013using tempporary</p><p>\u907F\u514D\uFF1A\u67E5\u8BE2\u54EA\u4E9B\u5217\uFF0C\u5C31\u6839\u636E\u54EA\u4E9B\u5217group by</p><p><strong>using temporary</strong>\uFF1A\u6027\u80FD\u63D0\u5347\uFF0C\u7D22\u5F15\u8986\u76D6\uFF0C\u539F\u56E0\uFF1A\u4E0D\u8BFB\u53D6\u6E90\u6587\u4EF6\uFF0C\u53EA\u4ECE\u7D22\u5F15\u4E2D\u83B7\u53D6\u6570\u636E\uFF0C\u4F7F\u7528\u5230\u7684\u5217\u5168\u90E8\u90FD\u5728\u7D22\u5F15\u4E2D</p><p><strong>using where</strong>\uFF1A\u9700\u8981\u56DE\u539F\u8868\u67E5\u8BE2</p><p><strong>impossible where</strong>\uFF1Awhere\u5B50\u53E5\u6C38\u8FDC\u4E3Afalse</p><h1 id="\u4F18\u5316\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u4F18\u5316\u793A\u4F8B" aria-hidden="true">#</a> \u4F18\u5316\u793A\u4F8B</h1><p>create table test03 (a1 int(4) not null, a2 int(4) not null, a3 int(4) not null, a4 int(4) not null )</p><p>alter table test03 add index idx_a1_a2_a3_a4(a1,a2,a3,a4);</p><p>explain select a1,a2,a3,a4 from test03 where a1=1 and a2=2 and a3=3 and a4=4;\u2014-\u63A8\u8350\u5199\u6CD5</p><p>explain select a1,a2,a3,a4 from test03 where a4=1 and a2=2 and a1=3 and a4=4;\u2014-\u867D\u7136\u7F16\u5199\u540E\u7684\u987A\u5E8F\u548C\u7D22\u5F15\u987A\u5E8F\u4E0D\u4E00\u81F4\uFF0C\u4F46\u662Fsql\u6267\u884C\u524D\u7ECF\u8FC7\u4E86sql\u4F18\u5316\u5668\u7684\u8C03\u6574\uFF0C\u7ED3\u679C\u4E0E\u4E0A\u6761sql\u662F\u4E00\u81F4\u7684\u3002</p><p>\u2014\u2013\u4EE5\u4E0A\u4E24\u4E2Asql\u4F7F\u7528\u4E86\u5168\u90E8\u7684\u7D22\u5F15</p><p>explain select a1,a2,a3,a4 from test03 where a4=1 and a2=2 and a4=4 order by and a1;</p><p>\u2014-\u4EE5\u4E0ASQL\u7528\u5230\u4E86a1 a2\u4E24\u4E2A\u7D22\u5F15\uFF0C\u8BE5\u4E24\u4E2A\u5B57\u6BB5 \u4E0D\u9700\u8981\u56DE\u8868\u67E5\u8BE2using index \uFF1Ba4\u8DE8\u5217\u4F7F\u7528\u9020\u6210\u4E86\u8BE5\u7D22\u5F15\u5931\u6548\uFF0C\u6240\u4EE5\u9700\u8981\u56DE\u8868\u67E5\u8BE2\uFF0C\u56E0\u6B64\u662Fusing where \uFF0C\u4EE5\u4E0A\u53EF\u4EE5\u901A\u8FC7key_len\u9A8C\u8BC1</p><p>explain select a1,a2,a3,a4 from test03 where a4=1 and a4=4 order by and a3;</p><p>\u2014-\u4EE5\u4E0ASQL\u51FA\u73B0\u4E86using filesort\uFF08\u6587\u4EF6\u5185\u6392\u5E8F\uFF0C\u201D\u591A\u4E86\u4E00\u6B21\u989D\u5916\u7684\u67E5\u627E/\u6392\u5E8F\u201C\uFF09\u4E0D\u8981\u8DE8\u5217\u4F7F\u7528\uFF08where \u548Corder by\u62FC\u63A5\u8D77\u6765\u4F7F\u7528\uFF09</p><p>explain select a1,a2,a3,a4 from test03 where a4=1 and a4=4 order by and a2,a3; ===\u8FD9\u6837\u4FBF\u4E0D\u4F1A\u51FA\u73B0 using filesort\uFF0C\u5982\u679C\u590D\u5408\u7D22\u5F15\u548C\u4F7F\u7528\u987A\u5E8F\u5168\u90E8\u4E00\u81F4\uFF0C\u5219\u590D\u5408\u7D22\u5F15\u5168\u90E8\u4F7F\u7528\uFF0C\u90E8\u5206\u4E00\u81F4\u5219\u4F7F\u7528\u90E8\u5206\u7D22\u5F15\u3002</p><h1 id="\u5355\u8868\u4F18\u5316\u53CA\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u5355\u8868\u4F18\u5316\u53CA\u603B\u7ED3" aria-hidden="true">#</a> \u5355\u8868\u4F18\u5316\u53CA\u603B\u7ED3</h1><h2 id="_1-\u5355\u8868\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#_1-\u5355\u8868\u4F18\u5316" aria-hidden="true">#</a> \uFF081\uFF09\u5355\u8868\u4F18\u5316</h2><p>create table book ( bid int(4) primary key, name varchar(20) not null, authorid int(4) not null, publicid int(4) not null, typeid int(4) not null );</p><p>insert into book values(1,&#39;tjava&#39;,1,1,2) ; insert into book values(2,&#39;tc&#39;,2,1,2) ; insert into book values(3,&#39;wx&#39;,3,2,1) ; insert into book values(4,&#39;math&#39;,4,2,3) ; commit;</p><pre><code>\u67E5\u8BE2authorid=1\u4E14 typeid\u4E3A2\u62163\u7684	bid
explain select bid from book where typeid in(2,3) and authorid=1  order by typeid desc ;

(a,b,c)
(a,b)

\u4F18\u5316\uFF1A\u52A0\u7D22\u5F15
alter table book add index idx_bta (bid,typeid,authorid);

\u7D22\u5F15\u4E00\u65E6\u8FDB\u884C \u5347\u7EA7\u4F18\u5316\uFF0C\u9700\u8981\u5C06\u4E4B\u524D\u5E9F\u5F03\u7684\u7D22\u5F15\u5220\u6389\uFF0C\u9632\u6B62\u5E72\u6270\u3002
drop index idx_bta on book;

\u6839\u636ESQL\u5B9E\u9645\u89E3\u6790\u7684\u987A\u5E8F\uFF0C\u8C03\u6574\u7D22\u5F15\u7684\u987A\u5E8F\uFF1A
alter table book add index idx_tab (typeid,authorid,bid); --\u867D\u7136\u53EF\u4EE5\u56DE\u8868\u67E5\u8BE2bid\uFF0C\u4F46\u662F\u5C06bid\u653E\u5230\u7D22\u5F15\u4E2D \u53EF\u4EE5\u63D0\u5347\u4F7F\u7528using index ;

\u518D\u6B21\u4F18\u5316\uFF08\u4E4B\u524D\u662Findex\u7EA7\u522B\uFF09\uFF1A\u601D\u8DEF\u3002\u56E0\u4E3A\u8303\u56F4\u67E5\u8BE2in\u6709\u65F6\u4F1A\u5B9E\u73B0\uFF0C\u56E0\u6B64\u4EA4\u6362 \u7D22\u5F15\u7684\u987A\u5E8F\uFF0C\u5C06typeid in(2,3) \u653E\u5230\u6700\u540E\u3002
drop index idx_tab on book;
alter table book add index idx_atb (authorid,typeid,bid);
explain select bid from book where  authorid=1 and  typeid in(2,3) order by typeid desc ;
</code></pre><p>\u200B \u200B --\u5C0F\u7ED3\uFF1A a.\u6700\u4F73\u505A\u524D\u7F00\uFF0C\u4FDD\u6301\u7D22\u5F15\u7684\u5B9A\u4E49\u548C\u4F7F\u7528\u7684\u987A\u5E8F\u4E00\u81F4\u6027 b.\u7D22\u5F15\u9700\u8981\u9010\u6B65\u4F18\u5316 c.\u5C06\u542BIn\u7684\u8303\u56F4\u67E5\u8BE2 \u653E\u5230where\u6761\u4EF6\u7684\u6700\u540E\uFF0C\u9632\u6B62\u5931\u6548\u3002 \u200B \u200B \u672C\u4F8B\u4E2D\u540C\u65F6\u51FA\u73B0\u4E86Using where\uFF08\u9700\u8981\u56DE\u539F\u8868\uFF09; Using index\uFF08\u4E0D\u9700\u8981\u56DE\u539F\u8868\uFF09\uFF1A\u539F\u56E0\uFF0Cwhere authorid=1 and typeid in(2,3)\u4E2Dauthorid\u5728\u7D22\u5F15(authorid,typeid,bid)\u4E2D\uFF0C\u56E0\u6B64\u4E0D\u9700\u8981\u56DE\u539F\u8868\uFF08\u76F4\u63A5\u5728\u7D22\u5F15\u8868\u4E2D\u80FD\u67E5\u5230\uFF09\uFF1B\u800Ctypeid\u867D\u7136\u4E5F\u5728\u7D22\u5F15(authorid,typeid,bid)\u4E2D\uFF0C\u4F46\u662F\u542Bin\u7684\u8303\u56F4\u67E5\u8BE2\u5DF2\u7ECF\u4F7F\u8BE5typeid\u7D22\u5F15\u5931\u6548\uFF0C\u56E0\u6B64\u76F8\u5F53\u4E8E\u6CA1\u6709typeid\u8FD9\u4E2A\u7D22\u5F15\uFF0C\u6240\u4EE5\u9700\u8981\u56DE\u539F\u8868\uFF08using where\uFF09\uFF1B \u200B \u4F8B\u5982\u4EE5\u4E0B\u6CA1\u6709\u4E86In\uFF0C\u5219\u4E0D\u4F1A\u51FA\u73B0using where \u200B explain select bid from book where authorid=1 and typeid =3 order by typeid desc ; \u200B \u200B \u8FD8\u53EF\u4EE5\u901A\u8FC7key_len\u8BC1\u660EIn\u53EF\u4EE5\u4F7F\u7D22\u5F15\u5931\u6548\u3002</p><p>\u200B</p><h2 id="_2-\u4E24\u8868\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#_2-\u4E24\u8868\u4F18\u5316" aria-hidden="true">#</a> \uFF082\uFF09\u4E24\u8868\u4F18\u5316</h2><p>create table teacher2 ( tid int(4) primary key, cid int(4) not null );</p><p>insert into teacher2 values(1,2); insert into teacher2 values(2,1); insert into teacher2 values(3,3);</p><p>create table course2 ( cid int(4) , cname varchar(20) );</p><p>insert into course2 values(1,&#39;java&#39;); insert into course2 values(2,&#39;python&#39;); insert into course2 values(3,&#39;kotlin&#39;); commit;</p><p>\u5DE6\u8FDE\u63A5\uFF1A explain select *from teacher2 t left outer join course2 c on t.cid=c.cid where c.cname=&#39;java&#39;;</p><pre><code>\u7D22\u5F15\u5F80\u54EA\u5F20\u8868\u52A0\uFF1F   -\u5C0F\u8868\u9A71\u52A8\u5927\u8868  
	          -\u7D22\u5F15\u5EFA\u7ACB\u7ECF\u5E38\u4F7F\u7528\u7684\u5B57\u6BB5\u4E0A \uFF08\u672C\u9898 t.cid=c.cid\u53EF\u77E5\uFF0Ct.cid\u5B57\u6BB5\u4F7F\u7528\u9891\u7E41\uFF0C\u56E0\u6B64\u7ED9\u8BE5\u5B57\u6BB5\u52A0\u7D22\u5F15\uFF09 [\u4E00\u822C\u60C5\u51B5\u5BF9\u4E8E\u5DE6\u5916\u8FDE\u63A5\uFF0C\u7ED9\u5DE6\u8868\u52A0\u7D22\u5F15\uFF1B\u53F3\u5916\u8FDE\u63A5\uFF0C\u7ED9\u53F3\u8868\u52A0\u7D22\u5F15]
\u5C0F\u8868\uFF1A10
\u5927\u8868\uFF1A300
where   \u5C0F\u8868.x 10 = \u5927\u8868.y 300;  --\u5FAA\u73AF\u4E86\u51E0\u6B21\uFF1F10
	
	\u5927\u8868.y 300=\u5C0F\u8868.x 10	--\u5FAA\u73AF\u4E86300\u6B21


\u5C0F\u8868:10
\u5927\u8868:300

select ...where \u5C0F\u8868.x10=\u5927\u8868.x300 ;
for(int i=0;i\\&lt;\u5C0F\u8868.length10;i++)
{
	for(int j=0;j\\&lt;\u5927\u8868.length300;j++)
	{
		...
	}
}


select ...where \u5927\u8868.x300=\u5C0F\u8868.x10 ;
for(int i=0;i\\&lt;\u5927\u8868.length300;i++)
{
	for(int j=0;j\\&lt;\u5C0F\u8868.length10;j++)
	{
		...
	}
}
</code></pre><p>--\u4EE5\u4E0A2\u4E2AFOR\u5FAA\u73AF\uFF0C\u6700\u7EC8\u90FD\u4F1A\u5FAA\u73AF3000\u6B21\uFF1B\u4F46\u662F \u5BF9\u4E8E\u53CC\u5C42\u5FAA\u73AF\u6765\u8BF4\uFF1A\u4E00\u822C\u5EFA\u8BAE \u5C06\u6570\u636E\u5C0F\u7684\u5FAA\u73AF \u653E\u5916\u5C42\uFF1B\u6570\u636E\u5927\u7684\u5FAA\u73AF\u653E\u5185\u5B58\u3002</p><pre><code>--\u5F53\u7F16\u5199 ..on t.cid=c.cid \u65F6\uFF0C\u5C06\u6570\u636E\u91CF\u5C0F\u7684\u8868 \u653E\u5DE6\u8FB9\uFF08\u5047\u8BBE\u6B64\u65F6t\u8868\u6570\u636E\u91CF\u5C0F\uFF09

alter table teacher2 add index index_teacher2_cid(cid) ;
alter table course2 add index index_course2_cname(cname);


Using join buffer:extra\u4E2D\u7684\u4E00\u4E2A\u9009\u9879\uFF0C\u4F5C\u7528\uFF1AMysql\u5F15\u64CE\u4F7F\u7528\u4E86 \u8FDE\u63A5\u7F13\u5B58\u3002
</code></pre><h2 id="_3-\u4E09\u5F20\u8868\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#_3-\u4E09\u5F20\u8868\u4F18\u5316" aria-hidden="true">#</a> \uFF083\uFF09\u4E09\u5F20\u8868\u4F18\u5316</h2><p>\u200B a.\u5C0F\u8868\u9A71\u52A8\u5927\u8868 b.\u7D22\u5F15\u5EFA\u7ACB\u5728\u7ECF\u5E38\u67E5\u8BE2\u7684\u5B57\u6BB5\u4E0A</p><p>\u793A\u4F8B\uFF1A create table test03 ( a1 int(4) not null, a2 int(4) not null, a3 int(4) not null, a4 int(4) not null ); alter table test03 add index idx_a1_a2_a3_4(a1,a2,a3,a4) ;</p><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>explain select a1,a2,a3,a4 from test03 where a1=1 and a2=2 and a3=3 and a4 =4 ; --\u63A8\u8350\u5199\u6CD5\uFF0C\u56E0\u4E3A \u7D22\u5F15\u7684\u4F7F\u7528\u987A\u5E8F\uFF08where\u540E\u9762\u7684\u987A\u5E8F\uFF09 \u548C \u590D\u5408\u7D22\u5F15\u7684\u987A\u5E8F\u4E00\u81F4

explain select a1,a2,a3,a4 from test03 where a4=1 and a3=2 and a2=3 and a1 =4 ; --\u867D\u7136\u7F16\u5199\u7684\u987A\u5E8F \u548C\u7D22\u5F15\u987A\u5E8F\u4E0D\u4E00\u81F4\uFF0C\u4F46\u662F sql\u5728\u771F\u6B63\u6267\u884C\u524D \u7ECF\u8FC7\u4E86SQL\u4F18\u5316\u5668\u7684\u8C03\u6574\uFF0C\u7ED3\u679C\u4E0E\u4E0A\u6761SQL\u662F\u4E00\u81F4\u7684\u3002
--\u4EE5\u4E0A 2\u4E2ASQL\uFF0C\u4F7F\u7528\u4E86 \u5168\u90E8\u7684\u590D\u5408\u7D22\u5F15

explain select a1,a2,a3,a4 from test03 where a1=1 and a2=2 and a4=4 order by a3; 
--\u4EE5\u4E0ASQL\u7528\u5230\u4E86a1 a2\u4E24\u4E2A\u7D22\u5F15\uFF0C\u8BE5\u4E24\u4E2A\u5B57\u6BB5 \u4E0D\u9700\u8981\u56DE\u8868\u67E5\u8BE2using index ;\u800Ca4\u56E0\u4E3A\u8DE8\u5217\u4F7F\u7528\uFF0C\u9020\u6210\u4E86\u8BE5\u7D22\u5F15\u5931\u6548\uFF0C\u9700\u8981\u56DE\u8868\u67E5\u8BE2 \u56E0\u6B64\u662Fusing where\uFF1B\u4EE5\u4E0A\u53EF\u4EE5\u901A\u8FC7 key_len\u8FDB\u884C\u9A8C\u8BC1

explain select a1,a2,a3,a4 from test03 where a1=1 and a4=4 order by a3; 
--\u4EE5\u4E0ASQL\u51FA\u73B0\u4E86 using filesort(\u6587\u4EF6\u5185\u6392\u5E8F\uFF0C\u201C\u591A\u4E86\u4E00\u6B21\u989D\u5916\u7684\u67E5\u627E/\u6392\u5E8F\u201D) \uFF1A\u4E0D\u8981\u8DE8\u5217\u4F7F\u7528( where\u548Corder by \u62FC\u8D77\u6765\uFF0C\u4E0D\u8981\u8DE8\u5217\u4F7F\u7528)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>explain select a1,a2,a3,a4 from test03 where a1=1 and a4=4 order by a2 , a3; --\u4E0D\u4F1Ausing filesort
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>--\u603B\u7ED3\uFF1Ai.\u5982\u679C (a,b,c,d)\u590D\u5408\u7D22\u5F15  \u548C\u4F7F\u7528\u7684\u987A\u5E8F\u5168\u90E8\u4E00\u81F4(\u4E14\u4E0D\u8DE8\u5217\u4F7F\u7528)\uFF0C\u5219\u590D\u5408\u7D22\u5F15\u5168\u90E8\u4F7F\u7528\u3002\u5982\u679C\u90E8\u5206\u4E00\u81F4(\u4E14\u4E0D\u8DE8\u5217\u4F7F\u7528)\uFF0C\u5219\u4F7F\u7528\u90E8\u5206\u7D22\u5F15\u3002
select a,c where  a = and b= and d= 
	ii.where\u548Corder by \u62FC\u8D77\u6765\uFF0C\u4E0D\u8981\u8DE8\u5217\u4F7F\u7528 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>using temporary:\u9700\u8981\u989D\u5916\u518D\u591A\u4F7F\u7528\u4E00\u5F20\u8868. \u4E00\u822C\u51FA\u73B0\u5728group by\u8BED\u53E5\u4E2D\uFF1B\u5DF2\u7ECF\u6709\u8868\u4E86\uFF0C\u4F46\u4E0D\u9002\u7528\uFF0C\u5FC5\u987B\u518D\u6765\u4E00\u5F20\u8868\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u89E3\u6790\u8FC7\u7A0B\uFF1A from .. on.. join ..where ..group by ....having ...select dinstinct ..order by limit ... a. explain select * from test03 where a2=2 and a4=4 group by a2,a4 ;--\u6CA1\u6709using temporary b. explain select * from test03 where a2=2 and a4=4 group by a3 ;</p><h1 id="\u7D22\u5F15\u5931\u6548\u4E03\u79CD\u60C5\u51B5" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15\u5931\u6548\u4E03\u79CD\u60C5\u51B5" aria-hidden="true">#</a> <strong>\u7D22\u5F15\u5931\u6548\u4E03\u79CD\u60C5\u51B5</strong></h1><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>#\uFF081\uFF09\u590D\u5408\u7D22\u5F15
#	a.\u590D\u5408\u7D22\u5F15\uFF0C\u4E0D\u8981\u8DE8\u5217\u6216\u65E0\u5E8F\u4F7F\u7528\uFF08\u6700\u4F73\u5DE6\u524D\u7F00\uFF09
#	(a,b,c)  
#	b.\u590D\u5408\u7D22\u5F15\uFF0C\u5C3D\u91CF\u4F7F\u7528\u5168\u7D22\u5F15\u5339\u914D
#	(a,b,c)  
#\uFF082\uFF09\u4E0D\u8981\u5728\u7D22\u5F15\u4E0A\u8FDB\u884C\u4EFB\u4F55\u64CD\u4F5C\uFF08\u8BA1\u7B97\u3001\u51FD\u6570\u3001\u7C7B\u578B\u8F6C\u6362\uFF09\uFF0C\u5426\u5219\u7D22\u5F15\u5931\u6548
#		select ..where A.x = .. ;  --\u5047\u8BBEA.x\u662F\u7D22\u5F15
#		\u4E0D\u8981\uFF1Aselect ..where A.x*3 = .. ;
		explain select * from book where authorid = 1 and typeid = 2 ;--\u7528\u5230\u4E86at2\u4E2A\u7D22\u5F15
		explain select * from book where authorid = 1 and typeid*2 = 2 ;--\u7528\u5230\u4E86a1\u4E2A\u7D22\u5F15
		explain select * from book where authorid*2 = 1 and typeid*2 = 2 ;----\u7528\u5230\u4E860\u4E2A\u7D22\u5F15
		explain select * from book where authorid*2 = 1 and typeid = 2 ;----\u7528\u5230\u4E860\u4E2A\u7D22\u5F15,\u539F\u56E0\uFF1A\u5BF9\u4E8E\u590D\u5408\u7D22\u5F15\uFF0C\u5982\u679C\u5DE6\u8FB9\u5931\u6548\uFF0C#\u53F3\u4FA7\u5168\u90E8\u5931\u6548\u3002(a,b,c)\uFF0C\u4F8B\u5982\u5982\u679C b\u5931\u6548\uFF0C\u5219b c\u540C\u65F6\u5931\u6548\u3002
	drop index idx_atb on book ; 
	alter table book add index idx_authroid (authorid) ;
	alter table book add index idx_typeid (typeid) ;
	explain select * from book where authorid*2 = 1 and typeid = 2 ;
#\uFF083\uFF09\u590D\u5408\u7D22\u5F15\u4E0D\u80FD\u4F7F\u7528\u4E0D\u7B49\u4E8E\uFF08!=  \\&lt;&gt;\uFF09\u6216is null (is not null)\uFF0C\u5426\u5219\u81EA\u8EAB\u4EE5\u53CA\u53F3\u4FA7\u6240\u6709\u5168\u90E8\u5931\u6548\u3002
#	\u590D\u5408\u7D22\u5F15\u4E2D\u5982\u679C\u6709&gt;\uFF0C\u5219\u81EA\u8EAB\u548C\u53F3\u4FA7\u7D22\u5F15\u5168\u90E8\u5931\u6548\u3002

explain select * from book where authorid = 1 and typeid =2 ;

# SQL\u4F18\u5316\uFF0C\u662F\u4E00\u79CD\u6982\u7387\u5C42\u9762\u7684\u4F18\u5316\u3002\u81F3\u4E8E\u662F\u5426\u5B9E\u9645\u4F7F\u7528\u4E86\u6211\u4EEC\u7684\u4F18\u5316\uFF0C\u9700\u8981\u901A\u8FC7explain\u8FDB\u884C\u63A8\u6D4B\u3002

explain select * from book where authorid != 1 and typeid =2 ;
explain select * from book where authorid != 1 and typeid !=2 ;

#\u4F53\u9A8C\u6982\u7387\u60C5\u51B5(\\&lt; &gt; =)\uFF1A\u539F\u56E0\u662F\u670D\u52A1\u5C42\u4E2D\u6709SQL\u4F18\u5316\u5668\uFF0C\u53EF\u80FD\u4F1A\u5F71\u54CD\u6211\u4EEC\u7684\u4F18\u5316\u3002
drop index idx_typeid on book;
drop index idx_authroid on book;
alter table book add index idx_book_at (authorid,typeid);
explain select * from book where authorid = 1 and typeid =2 ;--\u590D\u5408\u7D22\u5F15at\u5168\u90E8\u4F7F\u7528
explain select * from book where authorid &gt; 1 and typeid =2 ; --\u590D\u5408\u7D22\u5F15\u4E2D\u5982\u679C\u6709&gt;\uFF0C\u5219\u81EA\u8EAB\u548C\u53F3\u4FA7\u7D22\u5F15\u5168\u90E8\u5931\u6548\u3002
explain select * from book where authorid = 1 and typeid &gt;2 ;--\u590D\u5408\u7D22\u5F15at\u5168\u90E8\u4F7F\u7528
#----\u660E\u663E\u7684\u6982\u7387\u95EE\u9898---
explain select * from book where authorid \\&lt; 1 and typeid =2 ;--\u590D\u5408\u7D22\u5F15at\u53EA\u7528\u5230\u4E861\u4E2A\u7D22\u5F15
explain select * from book where authorid \\&lt; 4 and typeid =2 ;--\u590D\u5408\u7D22\u5F15\u5168\u90E8\u5931\u6548

-- \u6211\u4EEC\u5B66\u4E60\u7D22\u5F15\u4F18\u5316 \uFF0C\u662F\u4E00\u4E2A\u5927\u90E8\u5206\u60C5\u51B5\u9002\u7528\u7684\u7ED3\u8BBA\uFF0C\u4F46\u7531\u4E8ESQL\u4F18\u5316\u5668\u7B49\u539F\u56E0  \u8BE5\u7ED3\u8BBA\u4E0D\u662F100%\u6B63\u786E\u3002
-- \u4E00\u822C\u800C\u8A00\uFF0C \u8303\u56F4\u67E5\u8BE2\uFF08&gt; \\&lt;  in\uFF09\uFF0C\u4E4B\u540E\u7684\u7D22\u5F15\u5931\u6548\u3002

#\uFF084\uFF09\u8865\u6551\u3002\u5C3D\u91CF\u4F7F\u7528\u7D22\u5F15\u8986\u76D6\uFF08using index\uFF09
#		\uFF08a,b,c\uFF09
select a,b,c from xx..where a=  .. and b =.. ;

#(5) like\u5C3D\u91CF\u4EE5\u201C\u5E38\u91CF\u201D\u5F00\u5934\uFF0C\u4E0D\u8981\u4EE5&#39;%&#39;\u5F00\u5934\uFF0C\u5426\u5219\u7D22\u5F15\u5931\u6548
select * from xx where name like &#39;%x%&#39; ; --name\u7D22\u5F15\u5931\u6548

explain select * from teacher  where tname like &#39;%x%&#39;; --tname\u7D22\u5F15\u5931\u6548

explain select * from teacher  where tname like &#39;x%&#39;;
 
explain select tname from teacher  where tname like &#39;%x%&#39;; --\u5982\u679C\u5FC5\u987B\u4F7F\u7528like &#39;%x%&#39;\u8FDB\u884C\u6A21\u7CCA\u67E5\u8BE2\uFF0C\u53EF\u4EE5\u4F7F\u7528\u7D22\u5F15\u8986\u76D6 \u633D\u6551\u4E00\u90E8\u5206\u3002

#\uFF086\uFF09\u5C3D\u91CF\u4E0D\u8981\u4F7F\u7528\u7C7B\u578B\u8F6C\u6362\uFF08\u663E\u793A\u3001\u9690\u5F0F\uFF09\uFF0C\u5426\u5219\u7D22\u5F15\u5931\u6548
explain select * from teacher where tname = &#39;abc&#39; ;
explain select * from teacher where tname = 123 ;//\u7A0B\u5E8F\u5E95\u5C42\u5C06 123 -&gt; &#39;123&#39;\uFF0C\u5373\u8FDB\u884C\u4E86\u7C7B\u578B\u8F6C\u6362\uFF0C\u56E0\u6B64\u7D22\u5F15\u5931\u6548

#\uFF087\uFF09\u5C3D\u91CF\u4E0D\u8981\u4F7F\u7528or\uFF0C\u5426\u5219\u7D22\u5F15\u5931\u6548
explain select * from teacher where tname =&#39;&#39; or tcid &gt;1 ; --\u5C06or\u5DE6\u4FA7\u7684tname \u5931\u6548\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u5E38\u89C1\u4F18\u5316\u65B9\u6CD5\u53CA\u6162\u67E5\u8BE2sql\u6392\u67E5" tabindex="-1"><a class="header-anchor" href="#\u5E38\u89C1\u4F18\u5316\u65B9\u6CD5\u53CA\u6162\u67E5\u8BE2sql\u6392\u67E5" aria-hidden="true">#</a> <strong>\u5E38\u89C1\u4F18\u5316\u65B9\u6CD5\u53CA\u6162\u67E5\u8BE2SQL\u6392\u67E5</strong></h1><h2 id="exist\u548C-in" tabindex="-1"><a class="header-anchor" href="#exist\u548C-in" aria-hidden="true">#</a> exist\u548C in</h2><p>select \u3002\u3002from table where exist/in(\u5B50\u67E5\u8BE2)\uFF1B</p><p>\u5982\u679C\u4E3B\u67E5\u8BE2\u7684\u6570\u636E\u96C6\u5927\uFF0C\u5219\u4F7F\u7528In\u6548\u7387\u66F4\u9AD8</p><p>\u5982\u679C\u5B50\u67E5\u8BE2\u7684\u6570\u636E\u96C6\u5927\uFF0C\u5219\u4F7F\u7528exist\u6548\u7387\u66F4\u9AD8</p><p>exist\u8BED\u6CD5\uFF1A\u5C06\u4E3B\u67E5\u8BE2\u7684\u7ED3\u679C\uFF0C\u653E\u5230\u5B50\u67E5\u8BE2\u7ED3\u679C\u4E2D\u8FDB\u884C\u6761\u4EF6\u6821\u9A8C\uFF08\u770B\u5B50\u67E5\u8BE2\u662F\u5426\u6709\u6570\u636E\uFF0C\u5982\u679C\u6709\u6570\u636E\uFF0C\u5219\u6821\u9A8C\u6210\u529F\uFF0C\u4FDD\u7559\u6570\u636E\uFF09</p><h2 id="order-by-1" tabindex="-1"><a class="header-anchor" href="#order-by-1" aria-hidden="true">#</a> order by</h2><p>using filesort \u6709\u4E24\u79CD\u7B97\u6CD5\uFF1A\u53CC\u8DEF\u6392\u5E8F\u3001\u5355\u8DEF\u6392\u5E8F \uFF08\u6839\u636EIO\u7684\u6B21\u6570\uFF09 MySQL4.1\u4E4B\u524D \u9ED8\u8BA4\u4F7F\u7528 \u53CC\u8DEF\u6392\u5E8F\uFF1B\u53CC\u8DEF\uFF1A\u626B\u63CF2\u6B21\u78C1\u76D8\uFF081\uFF1A\u4ECE\u78C1\u76D8\u8BFB\u53D6\u6392\u5E8F\u5B57\u6BB5 ,\u5BF9\u6392\u5E8F\u5B57\u6BB5\u8FDB\u884C\u6392\u5E8F\uFF08\u5728buffer\u4E2D\u8FDB\u884C\u7684\u6392\u5E8F\uFF09 2\uFF1A\u626B\u63CF\u5176\u4ED6\u5B57\u6BB5 \uFF09 --IO\u8F83\u6D88\u8017\u6027\u80FD MySQL4.1\u4E4B\u540E \u9ED8\u8BA4\u4F7F\u7528 \u5355\u8DEF\u6392\u5E8F \uFF1A \u53EA\u8BFB\u53D6\u4E00\u6B21\uFF08\u5168\u90E8\u5B57\u6BB5\uFF09\uFF0C\u5728buffer\u4E2D\u8FDB\u884C\u6392\u5E8F\u3002\u4F46\u79CD\u5355\u8DEF\u6392\u5E8F \u4F1A\u6709\u4E00\u5B9A\u7684\u9690\u60A3 \uFF08\u4E0D\u4E00\u5B9A\u771F\u7684\u662F\u201C\u5355\u8DEF|1\u6B21IO\u201D\uFF0C\u6709\u53EF\u80FD\u591A\u6B21IO\uFF09\u3002\u539F\u56E0\uFF1A\u5982\u679C\u6570\u636E\u91CF\u7279\u522B\u5927\uFF0C\u5219\u65E0\u6CD5 \u5C06\u6240\u6709\u5B57\u6BB5\u7684\u6570\u636E \u4E00\u6B21\u6027\u8BFB\u53D6\u5B8C\u6BD5\uFF0C\u56E0\u6B64 \u4F1A\u8FDB\u884C\u201C\u5206\u7247\u8BFB\u53D6\u3001\u591A\u6B21\u8BFB\u53D6\u201D\u3002 \u6CE8\u610F\uFF1A\u5355\u8DEF\u6392\u5E8F \u6BD4\u53CC\u8DEF\u6392\u5E8F \u4F1A\u5360\u7528\u66F4\u591A\u7684buffer\u3002 \u5355\u8DEF\u6392\u5E8F\u5728\u4F7F\u7528\u65F6\uFF0C\u5982\u679C\u6570\u636E\u5927\uFF0C\u53EF\u4EE5\u8003\u8651\u8C03\u5927buffer\u7684\u5BB9\u91CF\u5927\u5C0F\uFF1A set max_length_for_sort_data = 1024 \u5355\u4F4Dbyte</p><p>\u5982\u679Cmax_length_for_sort_data\u503C\u592A\u4F4E\uFF0C\u5219mysql\u4F1A\u81EA\u52A8\u4ECE \u5355\u8DEF-&gt;\u53CC\u8DEF \uFF08\u592A\u4F4E\uFF1A\u9700\u8981\u6392\u5E8F\u7684\u5217\u7684\u603B\u5927\u5C0F\u8D85\u8FC7\u4E86max_length_for_sort_data\u5B9A\u4E49\u7684\u5B57\u8282\u6570\uFF09</p><p>\u63D0\u9AD8order by\u67E5\u8BE2\u7684\u7B56\u7565\uFF1A a.\u9009\u62E9\u4F7F\u7528\u5355\u8DEF\u3001\u53CC\u8DEF \uFF1B\u8C03\u6574buffer\u7684\u5BB9\u91CF\u5927\u5C0F\uFF1B b.\u907F\u514Dselect * ... \uFF08*\u4F1A\u591A\u82B1\u4E00\u4E9B\u65F6\u95F4\uFF0C\u4E14\u65E0\u6CD5\u7D22\u5F15\u8986\u76D6\uFF09 c.\u590D\u5408\u7D22\u5F15 \u4E0D\u8981\u8DE8\u5217\u4F7F\u7528 \uFF0C\u907F\u514Dusing filesort d.\u4FDD\u8BC1\u5168\u90E8\u7684\u6392\u5E8F\u5B57\u6BB5 \u6392\u5E8F\u7684\u4E00\u81F4\u6027\uFF08\u90FD\u662F\u5347\u5E8F \u6216 \u964D\u5E8F\uFF09</p><h1 id="\u6162\u67E5\u8BE2\u9600\u503C\u548Cmysqldumpslow\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#\u6162\u67E5\u8BE2\u9600\u503C\u548Cmysqldumpslow\u5DE5\u5177" aria-hidden="true">#</a> \u6162\u67E5\u8BE2\u9600\u503C\u548Cmysqldumpslow\u5DE5\u5177</h1><p>:MySQL\u63D0\u4F9B\u7684\u4E00\u79CD\u65E5\u5FD7\u8BB0\u5F55\uFF0C\u7528\u4E8E\u8BB0\u5F55MySQL\u79CD\u54CD\u5E94\u65F6\u95F4\u8D85\u8FC7\u9600\u503C\u7684SQL\u8BED\u53E5 \uFF08long_query_time\uFF0C\u9ED8\u8BA410\u79D2\uFF09 \u6162\u67E5\u8BE2\u65E5\u5FD7\u9ED8\u8BA4\u662F\u5173\u95ED\u7684\uFF1B\u5EFA\u8BAE\uFF1A\u5F00\u53D1\u8C03\u4F18\u662F \u6253\u5F00\uFF0C\u800C \u6700\u7EC8\u90E8\u7F72\u65F6\u5173\u95ED\u3002</p><pre><code>\u68C0\u67E5\u662F\u5426\u5F00\u542F\u4E86 \u6162\u67E5\u8BE2\u65E5\u5FD7 \uFF1A   show variables like &#39;%slow_query_log%&#39; ;

\u4E34\u65F6\u5F00\u542F\uFF1A
	set global slow_query_log = 1 ;  --\u5728\u5185\u5B58\u79CD\u5F00\u542F
	exit
	service mysql restart

\u6C38\u4E45\u5F00\u542F\uFF1A
	/etc/my.cnf \u4E2D\u8FFD\u52A0\u914D\u7F6E\uFF1A
	vi /etc/my.cnf 
	[mysqld]
	slow_query_log=1
	slow_query_log_file=/var/lib/mysql/localhost-slow.log
</code></pre><p>\u200B \u200B \u6162\u67E5\u8BE2\u9600\u503C\uFF1A \u200B show variables like &#39;%long_query_time%&#39; ; \u200B \u200B \u4E34\u65F6\u8BBE\u7F6E\u9600\u503C\uFF1A \u200B set global long_query_time = 5 ; --\u8BBE\u7F6E\u5B8C\u6BD5\u540E\uFF0C\u91CD\u65B0\u767B\u9646\u540E\u8D77\u6548 \uFF08\u4E0D\u9700\u8981\u91CD\u542F\u670D\u52A1\uFF09 \u200B \u200B \u6C38\u4E45\u8BBE\u7F6E\u9600\u503C\uFF1A \u200B \u200B /etc/my.cnf \u4E2D\u8FFD\u52A0\u914D\u7F6E\uFF1A \u200B vi /etc/my.cnf \u200B [mysqld] \u200B long_query_time=3</p><pre><code>select sleep(4);
select sleep(5);
select sleep(3);
select sleep(3);
--\u67E5\u8BE2\u8D85\u8FC7\u9600\u503C\u7684SQL\u6570\u91CF\uFF1A  show global status like &#39;%slow_queries%&#39; ;

(1)\u6162\u67E5\u8BE2\u7684sql\u88AB\u8BB0\u5F55\u5728\u4E86\u65E5\u5FD7\u4E2D\uFF0C\u56E0\u6B64\u53EF\u4EE5\u901A\u8FC7\u65E5\u5FD7 \u67E5\u770B\u5177\u4F53\u7684\u6162SQL\u3002
cat /var/lib/mysql/localhost-slow.log

(2)\u901A\u8FC7mysqldumpslow\u5DE5\u5177\u67E5\u770B\u6162SQL,\u53EF\u4EE5\u901A\u8FC7\u4E00\u4E9B\u8FC7\u6EE4\u6761\u4EF6 \u5FEB\u901F\u67E5\u627E\u51FA\u9700\u8981\u5B9A\u4F4D\u7684\u6162SQL
mysqldumpslow --help
s\uFF1A\u6392\u5E8F\u65B9\u5F0F
r:\u9006\u5E8F
l:\u9501\u5B9A\u65F6\u95F4
g:\u6B63\u5219\u5339\u914D\u6A21\u5F0F		


--\u83B7\u53D6\u8FD4\u56DE\u8BB0\u5F55\u6700\u591A\u76843\u4E2ASQL
	mysqldumpslow -s r -t 3  /var/lib/mysql/localhost-slow.log

--\u83B7\u53D6\u8BBF\u95EE\u6B21\u6570\u6700\u591A\u76843\u4E2ASQL
	mysqldumpslow -s c -t 3 /var/lib/mysql/localhost-slow.log

--\u6309\u7167\u65F6\u95F4\u6392\u5E8F\uFF0C\u524D10\u6761\u5305\u542Bleft join\u67E5\u8BE2\u8BED\u53E5\u7684SQL
	mysqldumpslow -s t -t 10 -g &quot;left join&quot; /var/lib/mysql/localhost-slow.log

\u8BED\u6CD5\uFF1A
	mysqldumpslow \u5404\u79CD\u53C2\u6570  \u6162\u67E5\u8BE2\u65E5\u5FD7\u7684\u6587\u4EF6
</code></pre><h1 id="\u6A21\u62DF\u5E76\u901A\u8FC7profiles\u5206\u6790\u6D77\u91CF\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u6A21\u62DF\u5E76\u901A\u8FC7profiles\u5206\u6790\u6D77\u91CF\u6570\u636E" aria-hidden="true">#</a> \u6A21\u62DF\u5E76\u901A\u8FC7profiles\u5206\u6790\u6D77\u91CF\u6570\u636E</h1><h2 id="a-\u6A21\u62DF\u6D77\u91CF\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#a-\u6A21\u62DF\u6D77\u91CF\u6570\u636E" aria-hidden="true">#</a> a.\u6A21\u62DF\u6D77\u91CF\u6570\u636E</h2><pre><code>a.\u6A21\u62DF\u6D77\u91CF\u6570\u636E  \u5B58\u50A8\u8FC7\u7A0B\uFF08\u65E0return\uFF09/\u5B58\u50A8\u51FD\u6570\uFF08\u6709return\uFF09
create database testdata ;
use testdata
</code></pre><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>create table dept
(
dno int(5) primary key default 0,
dname varchar(20) not null default &#39;&#39;,
loc varchar(30) default &#39;&#39;
)engine=innodb default charset=utf8;

create table emp
(
eid int(5) primary key,
ename varchar(20) not null default &#39;&#39;,
job varchar(20) not null default &#39;&#39;,
deptno int(5) not null default 0
)engine=innodb default charset=utf8;
	\u901A\u8FC7\u5B58\u50A8\u51FD\u6570 \u63D2\u5165\u6D77\u91CF\u6570\u636E\uFF1A
	\u521B\u5EFA\u5B58\u50A8\u51FD\u6570\uFF1A
		randstring(6)  -&gt;aXiayx  \u7528\u4E8E\u6A21\u62DF\u5458\u5DE5\u540D\u79F0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>delimiter $ #\u58F0\u660E\u5206\u53F7\u4E0D\u662F\u7ED3\u675F\u7B26
create function randstring(n int)   returns varchar(255) 
begin
	declare  all_str varchar(100) default &#39;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#39; ;
	declare return_str varchar(255) default &#39;&#39; ;
	declare i int default 0 ; 
	while i\\&lt;n		 
	do									
		set return_str = concat(  return_str,      substring(all_str,   FLOOR(1+rand()*52)   ,1)       );
		set i=i+1 ;
	end while ;
	return return_str;
	
end $ 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>--\u5982\u679C\u62A5\u9519\uFF1AYou have an error in your SQL syntax\uFF0C\u8BF4\u660ESQL\u8BED\u53E5\u8BED\u6CD5\u6709\u9519\uFF0C\u9700\u8981\u4FEE\u6539SQL\u8BED\u53E5\uFF1B</p><p>\u5982\u679C\u62A5\u9519This function has none of DETERMINISTIC, NO SQL, or READS SQL DATA in its declaration and binary logging is enabled (you <em>might</em> want to use the less safe log_bin_trust_function_creators variable) \u662F\u56E0\u4E3A \u5B58\u50A8\u8FC7\u7A0B/\u5B58\u50A8\u51FD\u6570\u5728\u521B\u5EFA\u65F6 \u4E0E\u4E4B\u524D\u7684 \u5F00\u542F\u6162\u67E5\u8BE2\u65E5\u5FD7\u51B2\u7A81\u4E86 \u89E3\u51B3\u51B2\u7A81\uFF1A \u4E34\u65F6\u89E3\u51B3( \u5F00\u542Flog_bin_trust_function_creators ) show variables like &#39;%log_bin_trust_function_creators%&#39;; set global log_bin_trust_function_creators = 1; \u6C38\u4E45\u89E3\u51B3\uFF1A /etc/my.cnf [mysqld] log_bin_trust_function_creators = 1</p><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>--\u4EA7\u751F\u968F\u673A\u6574\u6570
create function ran_num() returns int(5)
begin
	declare i int default 0;
	set i =floor( rand()*100 ) ;
	return i ;

end $
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>--\u901A\u8FC7\u5B58\u50A8\u8FC7\u7A0B\u63D2\u5165\u6D77\u91CF\u6570\u636E\uFF1Aemp\u8868\u4E2D  \uFF0C  10000,   100000
create procedure insert_emp( in eid_start int(10),in data_times int(10))
begin 
	declare i int default 0;
	set autocommit = 0 ;
	
	repeat
		
		insert into emp values(eid_start + i, randstring(5) ,&#39;other&#39; ,ran_num()) ;
		set i=i+1 ;
		until i=data_times
	end repeat ;
	commit ;
end $
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>--\u901A\u8FC7\u5B58\u50A8\u8FC7\u7A0B\u63D2\u5165\u6D77\u91CF\u6570\u636E\uFF1Adept\u8868\u4E2D  
	create procedure insert_dept(in dno_start int(10) ,in data_times int(10))
	begin
		declare i int default 0;
		set autocommit = 0 ;
		repeat
		
			insert into dept values(dno_start+i ,randstring(6),randstring(8)) ;
			set i=i+1 ;
			until i=data_times
		end repeat ;
	commit ;
	end$
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>--\u63D2\u5165\u6570\u636E
	delimiter ; 
	call insert_emp(1000,800000) ;
	call insert_dept(10,30) ;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u200B</p><h2 id="b-\u5206\u6790\u6D77\u91CF\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#b-\u5206\u6790\u6D77\u91CF\u6570\u636E" aria-hidden="true">#</a> b.\u5206\u6790\u6D77\u91CF\u6570\u636E:</h2><p>\u200B \uFF081\uFF09<strong>profiles</strong> \u200B show profiles ; --\u9ED8\u8BA4\u5173\u95ED \u200B show variables like &#39;%profiling%&#39;; \u200B set profiling = on ; \u200B show profiles \uFF1A\u4F1A\u8BB0\u5F55\u6240\u6709profiling\u6253\u5F00\u4E4B\u540E\u7684 \u5168\u90E8SQL\u67E5\u8BE2\u8BED\u53E5\u6240\u82B1\u8D39\u7684\u65F6\u95F4\u3002\u7F3A\u70B9\uFF1A\u4E0D\u591F\u7CBE\u786E\uFF0C\u53EA\u80FD\u770B\u5230 \u603B\u5171\u6D88\u8D39\u7684\u65F6\u95F4\uFF0C\u4E0D\u80FD\u770B\u5230\u5404\u4E2A\u786C\u4EF6\u6D88\u8D39\u7684\u65F6\u95F4\uFF08cpu io \uFF09 \u200B \u200B (2)<strong>\u7CBE\u786E\u5206\u6790:sql\u8BCA\u65AD</strong> \u200B show profile all for query \u4E0A\u4E00\u6B65\u67E5\u8BE2\u7684\u7684Query_Id \u200B show profile cpu,block io for query \u4E0A\u4E00\u6B65\u67E5\u8BE2\u7684\u7684Query_Id \u200B \u200B (3)<strong>\u5168\u5C40\u67E5\u8BE2\u65E5\u5FD7</strong> \uFF1A\u8BB0\u5F55\u5F00\u542F\u4E4B\u540E\u7684 \u5168\u90E8SQL\u8BED\u53E5\u3002 \uFF08\u8FD9\u6B21\u5168\u5C40\u7684\u8BB0\u5F55\u64CD\u4F5C \u4EC5\u4EC5\u5728\u8C03\u4F18\u3001\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u6253\u5F00\u5373\u53EF\uFF0C\u5728\u6700\u7EC8\u7684\u90E8\u7F72\u5B9E\u65BD\u65F6 \u4E00\u5B9A\u5173\u95ED\uFF09 \u200B show variables like &#39;%general_log%&#39;; \u200B</p><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>	--\u6267\u884C\u7684\u6240\u6709SQL\u8BB0\u5F55\u5728\u8868\u4E2D
	set global general_log = 1 ;--\u5F00\u542F\u5168\u5C40\u65E5\u5FD7
	set global log_output=&#39;table&#39; ; --\u8BBE\u7F6E \u5C06\u5168\u90E8\u7684SQL \u8BB0\u5F55\u5728\u8868\u4E2D

	--\u6267\u884C\u7684\u6240\u6709SQL\u8BB0\u5F55\u5728\u6587\u4EF6\u4E2D
	set global log_output=&#39;file&#39; ;
	set global general_log = on ;
	set global general_log_file=&#39;/tmp/general.log&#39; ;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>	\u5F00\u542F\u540E\uFF0C\u4F1A\u8BB0\u5F55\u6240\u6709SQL \uFF1A \u4F1A\u88AB\u8BB0\u5F55 mysql.general_log\u8868\u4E2D\u3002
		select * from  mysql.general_log ;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u9501\u673A\u5236\u8BE6\u89E3" tabindex="-1"><a class="header-anchor" href="#\u9501\u673A\u5236\u8BE6\u89E3" aria-hidden="true">#</a> \u9501\u673A\u5236\u8BE6\u89E3</h1><p>\u9501\u673A\u5236 \uFF1A\u89E3\u51B3\u56E0\u8D44\u6E90\u5171\u4EAB \u800C\u9020\u6210\u7684\u5E76\u53D1\u95EE\u9898\u3002 \u793A\u4F8B\uFF1A\u4E70\u6700\u540E\u4E00\u4EF6\u8863\u670DX A: X \u4E70 \uFF1A X\u52A0\u9501 -&gt;\u8BD5\u8863\u670D...\u4E0B\u5355..\u4ED8\u6B3E..\u6253\u5305 -&gt;X\u89E3\u9501 B: X \u4E70\uFF1A\u53D1\u73B0X\u5DF2\u88AB\u52A0\u9501\uFF0C\u7B49\u5F85X\u89E3\u9501\uFF0C X\u5DF2\u552E\u7A7A</p><p>\u5206\u7C7B\uFF1A \u64CD\u4F5C\u7C7B\u578B\uFF1A a.<strong>\u8BFB\u9501</strong>\uFF08\u5171\u4EAB\u9501\uFF09\uFF1A \u5BF9\u540C\u4E00\u4E2A\u6570\u636E\uFF08\u8863\u670D\uFF09\uFF0C\u591A\u4E2A<strong>\u8BFB\u64CD\u4F5C</strong>\u53EF\u4EE5\u540C\u65F6\u8FDB\u884C\uFF0C\u4E92\u4E0D\u5E72\u6270\u3002 b.\u5199\u9501\uFF08\u4E92\u65A5\u9501\uFF09\uFF1A \u5982\u679C\u5F53\u524D\u5199\u64CD\u4F5C\u6CA1\u6709\u5B8C\u6BD5\uFF08\u4E70\u8863\u670D\u7684\u4E00\u7CFB\u5217\u64CD\u4F5C\uFF09\uFF0C\u5219\u65E0\u6CD5\u8FDB\u884C\u5176\u4ED6\u7684\u8BFB\u64CD\u4F5C\u3001\u5199\u64CD\u4F5C</p><p>\u64CD\u4F5C\u8303\u56F4\uFF1A a.<strong>\u8868\u9501</strong> \uFF1A\u4E00\u6B21\u6027\u5BF9\u4E00\u5F20\u8868\u6574\u4F53\u52A0\u9501\u3002\u5982MyISAM\u5B58\u50A8\u5F15\u64CE\u4F7F\u7528\u8868\u9501\uFF0C\u5F00\u9500\u5C0F\u3001\u52A0\u9501\u5FEB\uFF1B\u65E0\u6B7B\u9501\uFF1B\u4F46\u9501\u7684\u8303\u56F4\u5927\uFF0C\u5BB9\u6613\u53D1\u751F\u9501\u51B2\u7A81\u3001\u5E76\u53D1\u5EA6\u4F4E\u3002 b.\u884C\u9501 \uFF1A\u4E00\u6B21\u6027\u5BF9\u4E00\u6761\u6570\u636E\u52A0\u9501\u3002\u5982InnoDB\u5B58\u50A8\u5F15\u64CE\u4F7F\u7528\u884C\u9501\uFF0C\u5F00\u9500\u5927\uFF0C\u52A0\u9501\u6162\uFF1B\u5BB9\u6613\u51FA\u73B0\u6B7B\u9501\uFF1B\u9501\u7684\u8303\u56F4\u8F83\u5C0F\uFF0C\u4E0D\u6613\u53D1\u751F\u9501\u51B2\u7A81\uFF0C\u5E76\u53D1\u5EA6\u9AD8\uFF08\u5F88\u5C0F\u6982\u7387 \u53D1\u751F\u9AD8\u5E76\u53D1\u95EE\u9898\uFF1A\u810F\u8BFB\u3001\u5E7B\u8BFB\u3001\u4E0D\u53EF\u91CD\u590D\u5EA6\u3001\u4E22\u5931\u66F4\u65B0\u7B49\u95EE\u9898\uFF09\u3002 c.<strong>\u9875\u9501</strong></p><p>\u793A\u4F8B\uFF1A</p><pre><code>\uFF081\uFF09\u8868\u9501 \uFF1A  --\u81EA\u589E\u64CD\u4F5C MYSQL/SQLSERVER \u652F\u6301\uFF1Boracle\u9700\u8981\u501F\u52A9\u4E8E\u5E8F\u5217\u6765\u5B9E\u73B0\u81EA\u589E
</code></pre><p>create table tablelock ( id int primary key auto_increment , name varchar(20) )engine myisam;</p><p>insert into tablelock(name) values(&#39;a1&#39;); insert into tablelock(name) values(&#39;a2&#39;); insert into tablelock(name) values(&#39;a3&#39;); insert into tablelock(name) values(&#39;a4&#39;); insert into tablelock(name) values(&#39;a5&#39;); commit;</p><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>\u589E\u52A0\u9501\uFF1A
locak table \u88681  read/write  ,\u88682  read/write   ,...

\u67E5\u770B\u52A0\u9501\u7684\u8868\uFF1A
show open tables ;

\u4F1A\u8BDD\uFF1Asession :\u6BCF\u4E00\u4E2A\u8BBF\u95EE\u6570\u636E\u7684dos\u547D\u4EE4\u884C\u3001\u6570\u636E\u5E93\u5BA2\u6237\u7AEF\u5DE5\u5177  \u90FD\u662F\u4E00\u4E2A\u4F1A\u8BDD

===\u52A0\u8BFB\u9501\uFF1A
	\u4F1A\u8BDD0\uFF1A
		lock table  tablelock read ;
		select * from tablelock; --\u8BFB\uFF08\u67E5\uFF09\uFF0C\u53EF\u4EE5
		delete from tablelock where id =1 ; --\u5199\uFF08\u589E\u5220\u6539\uFF09\uFF0C\u4E0D\u53EF\u4EE5

		select * from emp ; --\u8BFB\uFF0C\u4E0D\u53EF\u4EE5
		delete from emp where eid = 1; --\u5199\uFF0C\u4E0D\u53EF\u4EE5
		\u7ED3\u8BBA1\uFF1A
		--\u5982\u679C\u67D0\u4E00\u4E2A\u4F1A\u8BDD \u5BF9A\u8868\u52A0\u4E86read\u9501\uFF0C\u5219 \u8BE5\u4F1A\u8BDD \u53EF\u4EE5\u5BF9A\u8868\u8FDB\u884C\u8BFB\u64CD\u4F5C\u3001\u4E0D\u80FD\u8FDB\u884C\u5199\u64CD\u4F5C\uFF1B \u4E14 \u8BE5\u4F1A\u8BDD\u4E0D\u80FD\u5BF9\u5176\u4ED6\u8868\u8FDB\u884C\u8BFB\u3001\u5199\u64CD\u4F5C\u3002
		--\u5373\u5982\u679C\u7ED9A\u8868\u52A0\u4E86\u8BFB\u9501\uFF0C\u5219\u5F53\u524D\u4F1A\u8BDD\u53EA\u80FD\u5BF9A\u8868\u8FDB\u884C\u8BFB\u64CD\u4F5C\u3002

	\u4F1A\u8BDD1\uFF08\u5176\u4ED6\u4F1A\u8BDD\uFF09\uFF1A
		select * from tablelock;   --\u8BFB\uFF08\u67E5\uFF09\uFF0C\u53EF\u4EE5
		delete from tablelock where id =1 ; --\u5199\uFF0C\u4F1A\u201C\u7B49\u5F85\u201D\u4F1A\u8BDD0\u5C06\u9501\u91CA\u653E
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>	\u4F1A\u8BDD1\uFF08\u5176\u4ED6\u4F1A\u8BDD\uFF09\uFF1A
		select * from emp ;  --\u8BFB\uFF08\u67E5\uFF09\uFF0C\u53EF\u4EE5
		delete from emp where eno = 1; --\u5199\uFF0C\u53EF\u4EE5
		\u7ED3\u8BBA2\uFF1A
		--\u603B\u7ED3\uFF1A
			\u4F1A\u8BDD0\u7ED9A\u8868\u52A0\u4E86\u9501\uFF1B\u5176\u4ED6\u4F1A\u8BDD\u7684\u64CD\u4F5C\uFF1Aa.\u53EF\u4EE5\u5BF9\u5176\u4ED6\u8868\uFF08A\u8868\u4EE5\u5916\u7684\u8868\uFF09\u8FDB\u884C\u8BFB\u3001\u5199\u64CD\u4F5C
							b.\u5BF9A\u8868\uFF1A\u8BFB-\u53EF\u4EE5\uFF1B  \u5199-\u9700\u8981\u7B49\u5F85\u91CA\u653E\u9501\u3002
	\u91CA\u653E\u9501: unlock tables ;
</code></pre><h1 id="\u5199\u9501\u793A\u4F8B\u4E0Emyisam\u6A21\u5F0F\u7279\u5F81" tabindex="-1"><a class="header-anchor" href="#\u5199\u9501\u793A\u4F8B\u4E0Emyisam\u6A21\u5F0F\u7279\u5F81" aria-hidden="true">#</a> \u5199\u9501\u793A\u4F8B\u4E0EMyISAM\u6A21\u5F0F\u7279\u5F81</h1><pre><code>===\u52A0\u5199\u9501\uFF1A
	\u4F1A\u8BDD0\uFF1A
		lock table tablelock write ;

		\u5F53\u524D\u4F1A\u8BDD\uFF08\u4F1A\u8BDD0\uFF09 \u53EF\u4EE5\u5BF9\u52A0\u4E86\u5199\u9501\u7684\u8868  \u8FDB\u884C\u4EFB\u4F55\u64CD\u4F5C\uFF08\u589E\u5220\u6539\u67E5\uFF09\uFF1B\u4F46\u662F\u4E0D\u80FD \u64CD\u4F5C\uFF08\u589E\u5220\u6539\u67E5\uFF09\u5176\u4ED6\u8868
	\u5176\u4ED6\u4F1A\u8BDD\uFF1A
		\u5BF9\u4F1A\u8BDD0\u4E2D\u52A0\u5199\u9501\u7684\u8868 \u53EF\u4EE5\u8FDB\u884C\u589E\u5220\u6539\u67E5\u7684\u524D\u63D0\u662F\uFF1A\u7B49\u5F85\u4F1A\u8BDD0\u91CA\u653E\u5199\u9501
</code></pre><h2 id="mysql\u8868\u7EA7\u9501\u7684\u9501\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#mysql\u8868\u7EA7\u9501\u7684\u9501\u6A21\u5F0F" aria-hidden="true">#</a> MySQL\u8868\u7EA7\u9501\u7684\u9501\u6A21\u5F0F</h2><p>MyISAM\u5728\u6267\u884C\u67E5\u8BE2\u8BED\u53E5\uFF08SELECT\uFF09\u524D\uFF0C\u4F1A\u81EA\u52A8\u7ED9\u6D89\u53CA\u7684\u6240\u6709\u8868\u52A0\u8BFB\u9501\uFF0C \u5728\u6267\u884C\u66F4\u65B0\u64CD\u4F5C\uFF08DML\uFF09\u524D\uFF0C\u4F1A\u81EA\u52A8\u7ED9\u6D89\u53CA\u7684\u8868\u52A0\u5199\u9501\u3002 \u6240\u4EE5\u5BF9MyISAM\u8868\u8FDB\u884C\u64CD\u4F5C\uFF0C\u4F1A\u6709\u4EE5\u4E0B\u60C5\u51B5\uFF1A a\u3001\u5BF9MyISAM\u8868\u7684\u8BFB\u64CD\u4F5C\uFF08\u52A0\u8BFB\u9501\uFF09\uFF0C\u4E0D\u4F1A\u963B\u585E\u5176\u4ED6\u8FDB\u7A0B\uFF08\u4F1A\u8BDD\uFF09\u5BF9\u540C\u4E00\u8868\u7684\u8BFB\u8BF7\u6C42\uFF0C \u4F46\u4F1A\u963B\u585E\u5BF9\u540C\u4E00\u8868\u7684\u5199\u8BF7\u6C42\u3002\u53EA\u6709\u5F53\u8BFB\u9501\u91CA\u653E\u540E\uFF0C\u624D\u4F1A\u6267\u884C\u5176\u5B83\u8FDB\u7A0B\u7684\u5199\u64CD\u4F5C\u3002 b\u3001\u5BF9MyISAM\u8868\u7684\u5199\u64CD\u4F5C\uFF08\u52A0\u5199\u9501\uFF09\uFF0C\u4F1A\u963B\u585E\u5176\u4ED6\u8FDB\u7A0B\uFF08\u4F1A\u8BDD\uFF09\u5BF9\u540C\u4E00\u8868\u7684\u8BFB\u548C\u5199\u64CD\u4F5C\uFF0C \u53EA\u6709\u5F53\u5199\u9501\u91CA\u653E\u540E\uFF0C\u624D\u4F1A\u6267\u884C\u5176\u5B83\u8FDB\u7A0B\u7684\u8BFB\u5199\u64CD\u4F5C\u3002</p><h1 id="\u8868\u9501\u60C5\u51B5\u5206\u6790\u53CA\u884C\u9501\u89E3\u6790" tabindex="-1"><a class="header-anchor" href="#\u8868\u9501\u60C5\u51B5\u5206\u6790\u53CA\u884C\u9501\u89E3\u6790" aria-hidden="true">#</a> \u8868\u9501\u60C5\u51B5\u5206\u6790\u53CA\u884C\u9501\u89E3\u6790</h1><p>\u5206\u6790\u8868\u9501\u5B9A\uFF1A \u67E5\u770B\u54EA\u4E9B\u8868\u52A0\u4E86\u9501\uFF1A show open tables ; 1\u4EE3\u8868\u88AB\u52A0\u4E86\u9501 \u5206\u6790\u8868\u9501\u5B9A\u7684\u4E25\u91CD\u7A0B\u5EA6\uFF1A show status like &#39;table%&#39; ; Table_locks_immediate :\u7ACB\u523B\u80FD\u83B7\u53D6\u5230\u7684\u9501\u6570 Table_locks_waited\uFF1A\u9700\u8981\u7B49\u5F85\u7684\u8868\u9501\u6570(\u5982\u679C\u8BE5\u503C\u8D8A\u5927\uFF0C\u8BF4\u660E\u5B58\u5728\u8D8A\u5927\u7684\u9501\u7ADE\u4E89) \u4E00\u822C\u5EFA\u8BAE\uFF1A Table_locks_immediate/Table_locks_waited &gt; 5000\uFF0C \u5EFA\u8BAE\u91C7\u7528InnoDB\u5F15\u64CE\uFF0C\u5426\u5219MyISAM\u5F15\u64CE</p><p>\u200B</p><p>\uFF082\uFF09\u884C\u8868\uFF08InnoDB\uFF09 create table linelock( id int(5) primary key auto_increment, name varchar(20) )engine=innodb ; insert into linelock(name) values(&#39;1&#39;) ; insert into linelock(name) values(&#39;2&#39;) ; insert into linelock(name) values(&#39;3&#39;) ; insert into linelock(name) values(&#39;4&#39;) ; insert into linelock(name) values(&#39;5&#39;) ;</p><p>--mysql\u9ED8\u8BA4\u81EA\u52A8commit; oracle\u9ED8\u8BA4\u4E0D\u4F1A\u81EA\u52A8commit ;</p><p>\u4E3A\u4E86\u7814\u7A76\u884C\u9501\uFF0C\u6682\u65F6\u5C06\u81EA\u52A8commit\u5173\u95ED; set autocommit =0 ; \u4EE5\u540E\u9700\u8981\u901A\u8FC7commit</p><pre><code>\u4F1A\u8BDD0\uFF1A \u5199\u64CD\u4F5C
	insert into linelock values(	&#39;a6&#39;) ;
   
\u4F1A\u8BDD1\uFF1A \u5199\u64CD\u4F5C \u540C\u6837\u7684\u6570\u636E
	update linelock set name=&#39;ax&#39; where id = 6;

\u5BF9\u884C\u9501\u60C5\u51B5\uFF1A
	1.\u5982\u679C\u4F1A\u8BDDx\u5BF9\u67D0\u6761\u6570\u636Ea\u8FDB\u884C DML\u64CD\u4F5C\uFF08\u7814\u7A76\u65F6\uFF1A\u5173\u95ED\u4E86\u81EA\u52A8commit\u7684\u60C5\u51B5\u4E0B\uFF09\uFF0C\u5219\u5176\u4ED6\u4F1A\u8BDD\u5FC5\u987B\u7B49\u5F85\u4F1A\u8BDDx\u7ED3\u675F\u4E8B\u52A1(commit/rollback)\u540E  \u624D\u80FD\u5BF9\u6570\u636Ea\u8FDB\u884C\u64CD\u4F5C\u3002
	2.\u8868\u9501 \u662F\u901A\u8FC7unlock tables\uFF0C\u4E5F\u53EF\u4EE5\u901A\u8FC7\u4E8B\u52A1\u89E3\u9501 ; \u884C\u9501 \u662F\u901A\u8FC7\u4E8B\u52A1\u89E3\u9501\u3002
</code></pre><p>\u200B</p><pre><code>\u884C\u9501\uFF0C\u64CD\u4F5C\u4E0D\u540C\u6570\u636E\uFF1A

\u4F1A\u8BDD0\uFF1A \u5199\u64CD\u4F5C

	insert into linelock values(8,&#39;a8&#39;) ;
\u4F1A\u8BDD1\uFF1A \u5199\u64CD\u4F5C\uFF0C \u4E0D\u540C\u7684\u6570\u636E
	update linelock set name=&#39;ax&#39; where id = 5;
	\u884C\u9501\uFF0C\u4E00\u6B21\u9501\u4E00\u884C\u6570\u636E\uFF1B\u56E0\u6B64 \u5982\u679C\u64CD\u4F5C\u7684\u662F\u4E0D\u540C\u6570\u636E\uFF0C\u5219\u4E0D\u5E72\u6270\u3002
</code></pre><h1 id="\u884C\u9501\u7684\u6CE8\u610F\u4E8B\u9879\u53CA\u4F7F\u7528\u60C5\u51B5\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#\u884C\u9501\u7684\u6CE8\u610F\u4E8B\u9879\u53CA\u4F7F\u7528\u60C5\u51B5\u5206\u6790" aria-hidden="true">#</a> \u884C\u9501\u7684\u6CE8\u610F\u4E8B\u9879\u53CA\u4F7F\u7528\u60C5\u51B5\u5206\u6790</h1><p>\u200B \u884C\u9501\u7684\u6CE8\u610F\u4E8B\u9879\uFF1A \u200B <strong>a.\u5982\u679C\u6CA1\u6709\u7D22\u5F15\uFF0C\u5219\u884C\u9501\u4F1A\u8F6C\u4E3A\u8868\u9501</strong> \u200B show index from linelock ; \u200B alter table linelock add index idx_linelock_name(name);</p><p>\u200B \u4F1A\u8BDD0\uFF1A \u5199\u64CD\u4F5C \u200B update linelock set name = &#39;ai&#39; where name = &#39;3&#39; ; \u200B \u200B \u4F1A\u8BDD1\uFF1A \u5199\u64CD\u4F5C\uFF0C \u4E0D\u540C\u7684\u6570\u636E \u200B update linelock set name = &#39;aiX&#39; where name = &#39;4&#39; ;</p><p>\u200B \u4F1A\u8BDD0\uFF1A \u5199\u64CD\u4F5C \u200B update linelock set name = &#39;ai&#39; where name = 3 ; \u200B \u200B \u4F1A\u8BDD1\uFF1A \u5199\u64CD\u4F5C\uFF0C \u4E0D\u540C\u7684\u6570\u636E \u200B update linelock set name = &#39;aiX&#39; where name = 4 ; \u200B \u200B --\u53EF\u4EE5\u53D1\u73B0\uFF0C\u6570\u636E\u88AB\u963B\u585E\u4E86\uFF08\u52A0\u9501\uFF09 \u200B -- \u539F\u56E0\uFF1A\u5982\u679C\u7D22\u5F15\u7C7B \u53D1\u751F\u4E86<strong>\u7C7B\u578B\u8F6C\u6362\uFF0C\u5219\u7D22\u5F15\u5931\u6548</strong>\u3002 \u56E0\u6B64 \u6B64\u6B21\u64CD\u4F5C\uFF0C\u4F1A\u4ECE\u884C\u9501 \u8F6C\u4E3A\u8868\u9501\u3002 \u200B \u200B <strong>b.\u884C\u9501\u7684\u4E00\u79CD\u7279\u6B8A\u60C5\u51B5\uFF1A\u95F4\u9699\u9501\uFF1A\u503C\u5728\u8303\u56F4\u5185\uFF0C\u4F46\u5374\u4E0D\u5B58\u5728</strong> \u200B --\u6B64\u65F6linelock\u8868\u4E2D \u6CA1\u6709id=7\u7684\u6570\u636E \u200B update linelock set name =&#39;x&#39; where id &gt;1 and id&lt;9 ; --\u5373\u5728\u6B64where\u8303\u56F4\u4E2D\uFF0C\u6CA1\u6709id=7\u7684\u6570\u636E\uFF0C\u5219id=7\u7684\u6570\u636E\u6210\u4E3A\u95F4\u9699\u3002 \u200B \u95F4\u9699\uFF1AMysql\u4F1A\u81EA\u52A8\u7ED9 \u95F4\u9699 \u52A0\u7D22 -&gt;\u95F4\u9699\u9501\u3002\u5373 \u672C\u9898 \u4F1A\u81EA\u52A8\u7ED9id=7\u7684\u6570\u636E\u52A0 \u95F4\u9699\u9501\uFF08\u884C\u9501\uFF09\u3002 \u200B \u884C\u9501\uFF1A\u5982\u679C\u6709where\uFF0C\u5219\u5B9E\u9645\u52A0\u7D22\u7684\u8303\u56F4 \u5C31\u662Fwhere\u540E\u9762\u7684\u8303\u56F4\uFF08\u4E0D\u662F\u5B9E\u9645\u7684\u503C\uFF09</p><h1 id="\u67E5\u8BE2\u884C\u9501" tabindex="-1"><a class="header-anchor" href="#\u67E5\u8BE2\u884C\u9501" aria-hidden="true">#</a> \u67E5\u8BE2\u884C\u9501</h1><p>\u200B \u5982\u4F55\u4EC5\u4EC5\u662F\u67E5\u8BE2\u6570\u636E\uFF0C\u80FD\u5426\u52A0\u9501\uFF1F \u53EF\u4EE5 for update \u200B \u7814\u7A76\u5B66\u4E60\u65F6\uFF0C\u5C06\u81EA\u52A8\u63D0\u4EA4\u5173\u95ED\uFF1A \u200B set autocommit =0 ; \u200B start transaction ; \u200B begin ; \u200B select * from linelock where id =2 for update ; \u200B \u200B \u901A\u8FC7for update\u5BF9query\u8BED\u53E5\u8FDB\u884C\u52A0\u9501\u3002 \u200B \u200B \u884C\u9501\uFF1A \u200B InnoDB\u9ED8\u8BA4\u91C7\u7528\u884C\u9501\uFF1B \u200B \u7F3A\u70B9\uFF1A \u6BD4\u8868\u9501\u6027\u80FD\u635F\u8017\u5927\u3002 \u200B \u4F18\u70B9\uFF1A\u5E76\u53D1\u80FD\u529B\u5F3A\uFF0C\u6548\u7387\u9AD8\u3002 \u200B \u56E0\u6B64\u5EFA\u8BAE\uFF0C\u9AD8\u5E76\u53D1\u7528InnoDB\uFF0C\u5426\u5219\u7528MyISAM\u3002 \u200B \u200B \u884C\u9501\u5206\u6790\uFF1A \u200B show status like &#39;%innodb_row_lock%&#39; ; \u200B Innodb_row_lock_current_waits :\u5F53\u524D\u6B63\u5728\u7B49\u5F85\u9501\u7684\u6570\u91CF<br> \u200B Innodb_row_lock_time\uFF1A\u7B49\u5F85\u603B\u65F6\u957F\u3002\u4ECE\u7CFB\u7EDF\u542F\u5230\u73B0\u5728 \u4E00\u5171\u7B49\u5F85\u7684\u65F6\u95F4 \u200B Innodb_row_lock_time_avg \uFF1A\u5E73\u5747\u7B49\u5F85\u65F6\u957F\u3002\u4ECE\u7CFB\u7EDF\u542F\u5230\u73B0\u5728\u5E73\u5747\u7B49\u5F85\u7684\u65F6\u95F4 \u200B Innodb_row_lock_time_max \uFF1A\u6700\u5927\u7B49\u5F85\u65F6\u957F\u3002\u4ECE\u7CFB\u7EDF\u542F\u5230\u73B0\u5728\u6700\u5927\u4E00\u6B21\u7B49\u5F85\u7684\u65F6\u95F4 \u200B Innodb_row_lock_waits \uFF1A \u7B49\u5F85\u6B21\u6570\u3002\u4ECE\u7CFB\u7EDF\u542F\u5230\u73B0\u5728\u4E00\u5171\u7B49\u5F85\u7684\u6B21\u6570</p><h1 id="\u4E3B\u4ECE\u590D\u5236" tabindex="-1"><a class="header-anchor" href="#\u4E3B\u4ECE\u590D\u5236" aria-hidden="true">#</a> \u4E3B\u4ECE\u590D\u5236</h1><p>\u200B windows:mysql \u4E3B \u200B linux:mysql\u4ECE</p><pre><code>\u5B89\u88C5windows\u7248mysql:
	\u5982\u679C\u4E4B\u524D\u8BA1\u7B97\u673A\u4E2D\u5B89\u88C5\u8FC7Mysql\uFF0C\u8981\u91CD\u65B0\u518D\u5B89\u88C5  \u5219\u9700\u8981\uFF1A\u5148\u5378\u8F7D \u518D\u5B89\u88C5
	\u5148\u5378\u8F7D\uFF1A
		\u901A\u8FC7\u7535\u8111\u81EA\u5E26\u5378\u8F7D\u5DE5\u5177\u5378\u8F7DMysql (\u7535\u8111\u7BA1\u5BB6\u4E5F\u53EF\u4EE5)
		\u5220\u9664\u4E00\u4E2Amysql\u7F13\u5B58\u6587\u4EF6C:\\ProgramData\\MySQL
		\u5220\u9664\u6CE8\u518C\u8868regedit\u4E2D\u6240\u6709mysql\u76F8\u5173\u914D\u7F6E
		--\u91CD\u542F\u8BA1\u7B97\u673A
		
	\u5B89\u88C5MYSQL\uFF1A
		\u5B89\u88C5\u65F6\uFF0C\u5982\u679C\u51FA\u73B0\u672A\u54CD\u5E94\uFF1A  \u5219\u91CD\u65B0\u6253\u5F00D:\\MySQL\\MySQL Server 5.5\\bin\\MySQLInstanceConfig.exe

	\u56FE\u5F62\u5316\u5BA2\u6237\u7AEF\uFF1A SQLyog, Navicat


	\u5982\u679C\u8981\u8FDC\u7A0B\u8FDE\u63A5\u6570\u636E\u5E93\uFF0C\u5219\u9700\u8981\u6388\u6743\u8FDC\u7A0B\u8BBF\u95EE\u3002 
	\u6388\u6743\u8FDC\u7A0B\u8BBF\u95EE :(A-&gt;B,\u5219\u518DB\u8BA1\u7B97\u673A\u7684Mysql\u4E2D\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4)
	GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;root&#39; WITH GRANT OPTION;
	FLUSH PRIVILEGES;

	\u5982\u679C\u4ECD\u7136\u62A5\u9519\uFF1A\u53EF\u80FD\u662F\u9632\u706B\u5899\u6CA1\u5173\u95ED \uFF1A  \u5728B\u5173\u95ED\u9632\u706B\u5899  service iptables stop 



\u5B9E\u73B0\u4E3B\u4ECE\u540C\u6B65\uFF08\u4E3B\u4ECE\u590D\u5236\uFF09\uFF1A\u56FE
	1.master\u5C06\u6539\u53D8\u7684\u6570 \u8BB0\u5F55\u5728\u672C\u5730\u7684 \u4E8C\u8FDB\u5236\u65E5\u5FD7\u4E2D\uFF08binary log\uFF09 \uFF1B\u8BE5\u8FC7\u7A0B \u79F0\u4E4B\u4E3A\uFF1A\u4E8C\u8FDB\u5236\u65E5\u5FD7\u4EF6\u4E8B
	2.slave\u5C06master\u7684binary log\u62F7\u8D1D\u5230\u81EA\u5DF1\u7684 relay log\uFF08\u4E2D\u7EE7\u65E5\u5FD7\u6587\u4EF6\uFF09\u4E2D
	3.\u4E2D\u7EE7\u65E5\u5FD7\u4E8B\u4EF6\uFF0C\u5C06\u6570\u636E\u8BFB\u53D6\u5230\u81EA\u5DF1\u7684\u6570\u636E\u5E93\u4E4B\u4E2D
MYSQL\u4E3B\u4ECE\u590D\u5236 \u662F\u5F02\u6B65\u7684\uFF0C\u4E32\u884C\u5316\u7684\uFF0C \u6709\u5EF6\u8FDF

master:slave = 1:n

\u914D\u7F6E\uFF1A 
windows(mysql: my.ini)
  linux(mysql: my.cnf)

\u914D\u7F6E\u524D\uFF0C\u4E3A\u4E86\u65E0\u8BEF\uFF0C\u5148\u5C06\u6743\u9650(\u8FDC\u7A0B\u8BBF\u95EE)\u3001\u9632\u706B\u5899\u7B49\u5904\u7406\uFF1A
	\u5173\u95EDwindows/linux\u9632\u706B\u5899\uFF1A windows\uFF1A\u53F3\u952E\u201C\u7F51\u7EDC\u201D   ,linux: service iptables stop
	Mysql\u5141\u8BB8\u8FDC\u7A0B\u8FDE\u63A5(windowos/linux)\uFF1A
		GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;root&#39; WITH GRANT OPTION;
		FLUSH PRIVILEGES;
</code></pre><p>\u4E3B\u673A\uFF08\u4EE5\u4E0B\u4EE3\u7801\u548C\u64CD\u4F5C \u5168\u90E8\u5728\u4E3B\u673Awindows\u4E2D\u64CD\u4F5C\uFF09\uFF1A my.ini [mysqld] #id server-id=1 #\u4E8C\u8FDB\u5236\u65E5\u5FD7\u6587\u4EF6\uFF08\u6CE8\u610F\u662F/ \u4E0D\u662F\\\uFF09 log-bin=&quot;D:/MySQL/MySQL Server 5.5/data/mysql-bin&quot; #\u9519\u8BEF\u8BB0\u5F55\u6587\u4EF6 log-error=&quot;D:/MySQL/MySQL Server 5.5/data/mysql-error&quot; #\u4E3B\u4ECE\u540C\u6B65\u65F6 \u5FFD\u7565\u7684\u6570\u636E\u5E93 binlog-ignore-db=mysql #(\u53EF\u9009)\u6307\u5B9A\u4E3B\u4ECE\u540C\u6B65\u65F6\uFF0C\u540C\u6B65\u54EA\u4E9B\u6570\u636E\u5E93 binlog-do-db=test</p><p>windows\u4E2D\u7684\u6570\u636E\u5E93 \u6388\u6743\u54EA\u53F0\u8BA1\u7B97\u673A\u4E2D\u7684\u6570\u636E\u5E93 \u662F\u81EA\u5DF1\u7684\u4ECE\u6570\u636E\u5E93\uFF1A GRANT REPLICATION slave,reload,super ON <em>.</em> TO &#39;root&#39;@&#39;192.168.2.%&#39; IDENTIFIED BY &#39;root&#39;; flush privileges ;</p><pre><code>\u67E5\u770B\u4E3B\u6570\u636E\u5E93\u7684\u72B6\u6001\uFF08\u6BCF\u6B21\u5728\u5DE6\u4E3B\u4ECE\u540C\u6B65\u524D\uFF0C\u9700\u8981\u89C2\u5BDF \u4E3B\u673A\u72B6\u6001\u7684\u6700\u65B0\u503C\uFF09
	show master status;  \uFF08mysql-bin.000001\u3001 107\uFF09
</code></pre><p>\u4ECE\u673A\uFF08\u4EE5\u4E0B\u4EE3\u7801\u548C\u64CD\u4F5C \u5168\u90E8\u5728\u4ECE\u673Alinux\u4E2D\u64CD\u4F5C\uFF09\uFF1A</p><p>my.cnf [mysqld] server-id=2 log-bin=mysql-bin replicate-do-db=test</p><p>linux\u4E2D\u7684\u6570\u636E \u6388\u6743\u54EA\u53F0\u8BA1\u7B97\u673A\u4E2D\u7684\u6570\u63A7 \u662F\u81EA\u5DF1\u7684\u4E3B\u8BA1\u7B97\u673A CHANGE MASTER TO MASTER_HOST = &#39;192.168.2.2&#39;, MASTER_USER = &#39;root&#39;, MASTER_PASSWORD = &#39;root&#39;, MASTER_PORT = 3306, master_log_file=&#39;mysql-bin.000001&#39;, master_log_pos=107; \u5982\u679C\u62A5\u9519\uFF1AThis operation cannot be performed with a running slave; run STOP SLAVE first \u89E3\u51B3\uFF1ASTOP SLAVE ;\u518D\u6B21\u6267\u884C\u4E0A\u6761\u6388\u6743\u8BED\u53E5</p><p>\u5F00\u542F\u4E3B\u4ECE\u540C\u6B65\uFF1A \u4ECE\u673Alinux: start slave ; \u68C0\u9A8C show slave status \\G \u4E3B\u8981\u89C2\u5BDF\uFF1A Slave_IO_Running\u548C Slave_SQL_Running\uFF0C\u786E\u4FDD\u4E8C\u8005\u90FD\u662Fyes\uFF1B\u5982\u679C\u4E0D\u90FD\u662Fyes\uFF0C\u5219\u770B\u4E0B\u65B9\u7684 Last_IO_Error\u3002 \u672C\u6B21 \u901A\u8FC7 Last_IO_Error\u53D1\u73B0\u9519\u8BEF\u7684\u539F\u56E0\u662F \u4E3B\u4ECE\u4F7F\u7528\u4E86\u76F8\u540C\u7684server-id\uFF0C \u68C0\u67E5:\u5728\u4E3B\u4ECE\u4E2D\u5206\u522B\u67E5\u770Bserverid: show variables like &#39;server_id&#39; ; \u53EF\u4EE5\u53D1\u73B0\uFF0C\u5728Linux\u4E2D\u7684my.cnf\u4E2D\u8BBE\u7F6E\u4E86server-id=2\uFF0C\u4F46\u5B9E\u9645\u6267\u884C\u65F6 \u786E\u5B9Eserver-id=1\uFF0C\u539F\u56E0\uFF1A\u53EF\u80FD\u662F linux\u7248Mysql\u7684\u4E00\u4E2Abug\uFF0C\u4E5F\u53EF\u80FD\u662F windows\u548CLinux\u7248\u672C\u4E0D\u4E00\u81F4\u9020\u6210\u7684\u517C\u5BB9\u6027\u95EE\u9898\u3002 \u89E3\u51B3\u6539bug\uFF1A set global server_id =2 ;</p><pre><code>stop slave ;
 set global server_id =2 ;
start slave ;
 show slave status \\G

\u6F14\u793A\uFF1A
\u4E3Bwindows =&gt;\u4ECE

windows:
\u5C06\u8868\uFF0C\u63D2\u5165\u6570\u636E  
\u89C2\u5BDF\u4ECE\u6570\u636E\u5E93\u4E2D\u8BE5\u8868\u7684\u6570\u636E
</code></pre><p>\u6570\u636E\u5E93+\u540E\u7AEF</p><pre><code>spring boot\uFF08\u4F01\u4E1A\u7EA7\u6846\u67B6,\u76EE\u524D\u4F7F\u7528\u8F83\u591A\uFF09  
</code></pre><h1 id="\u547D\u4EE4\u96C6\u5408" tabindex="-1"><a class="header-anchor" href="#\u547D\u4EE4\u96C6\u5408" aria-hidden="true">#</a> \u547D\u4EE4\u96C6\u5408</h1><p>mysql -u root -p \u767B\u5F55 show engines; \u663E\u793A\u652F\u6301\u5F15\u64CE show variables like \u2018%storage_engine%\u2019; \u67E5\u770B\u5F53\u524D\u4F7F\u7528\u5F15\u64CE</p><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>-- \u6307\u5B9A\u6570\u636E\u5E93\u5F15\u64CE
create table tb(
\u200B	id int(4) auto_increment,
\u200B	name varchar(5),
\u200B	dept varchar(5),
\u200B	primary key(id)
)ENGINE=MyISAM AUTO_INCREMENT=1
DEFAULT CHARSET=utf-8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="\u5E38\u7528\u8BED\u53E5" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u8BED\u53E5" aria-hidden="true">#</a> \u5E38\u7528\u8BED\u53E5</h1><h2 id="\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5E93" aria-hidden="true">#</a> \u6570\u636E\u5E93</h2><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>#1.\u67E5\u770B\u5DF2\u6709\u5E93
\u3000\u3000show databases;
#2.\u521B\u5EFA\u5E93(\u6307\u5B9A\u5B57\u7B26\u96C6)
\u3000\u3000create database \u5E93\u540D character set utf8 \uFF1B\u6216 charset=utf8; 
\u3000\u3000create database \u5E93\u540D default charset utf8 collate utf8_general_ci;
#\u6848\u4F8B\uFF1A\u521B\u5EFAstu\u6570\u636E\u5E93\uFF0C\u7F16\u7801\u4E3Autf8
\u3000\u3000create database stu character set utf8;
\u3000\u3000create database stu charset=utf8;
#3.\u67E5\u770B\u521B\u5EFA\u5E93\u7684\u8BED\u53E5(\u5B57\u7B26\u96C6)
\u3000\u3000show create database \u5E93\u540D;
#\u6848\u4F8B\uFF1A\u67E5\u770Bstu\u521B\u5EFA\u65B9\u6CD5\u3000\u3000show create database stu;
#4.\u67E5\u770B\u5F53\u524D\u6240\u5728\u5E93
\u3000\u3000select database();
#5.\u5207\u6362\u5E93
\u3000\u3000use \u5E93\u540D;
#\u6848\u4F8B\uFF1A\u4F7F\u7528stu\u6570\u636E\u5E93\u3000\u3000use stu;
#6.\u5220\u9664\u5E93
\u3000\u3000drop database \u5E93\u540D;
#\u6848\u4F8B\uFF1A\u5220\u9664test\u6570\u636E\u5E93 \u3000\u3000drop database test; 
#7.\u5E93\u540D\u7684\u547D\u540D\u89C4\u5219
##\u6570\u5B57\u3001\u5B57\u6BCD\u3001\u4E0B\u5212\u7EBF,\u4F46\u4E0D\u80FD\u4F7F\u7528\u7EAF\u6570\u5B57
##\u5E93\u540D\u533A\u5206\u5B57\u6BCD\u5927\u5C0F\u5199
##\u4E0D\u80FD\u4F7F\u7528\u7279\u6B8A\u5B57\u7B26\u548Cmysql\u5173\u952E\u5B57
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u8868" tabindex="-1"><a class="header-anchor" href="#\u8868" aria-hidden="true">#</a> \u8868</h2><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>#\u521B\u5EFA
CREATE TABLE IF NOT EXISTS \`\u8868\u540D\`(
   \`\u5B57\u6BB5\u540D\` INT UNSIGNED AUTO_INCREMENT,
   \`\u5B57\u6BB5\u540D\` VARCHAR(100) NOT NULL,
   \`\u5B57\u6BB5\u540D\` VARCHAR(40) NOT NULL,
   \`\u5B57\u6BB5\u540D\` DATE,
   PRIMARY KEY ( \`\u4E3B\u952E\u5B57\u6BB5\u540D\` )
)ENGINE=InnoDB DEFAULT CHARSET=utf8;

#\u5BF9\u521B\u5EFA\u540E\u7684\u8868\u6DFB\u52A0\u5217
alter table \u8868\u540D add column \u65B0\u589E\u5217\u540D \u7C7B\u578B not null  DEFAULT \u9ED8\u8BA4\u503C after \u524D\u4E00\u4E2A\u5217\u540D

#\u5BF9\u521B\u5EFA\u8868\u540E\u6DFB\u52A0\u4E3B\u5916\u952E
alter table \u8868\u540D  add constraint 
primary key \u8868\u540D\uFF08\u4E3B\u952E\u5B57\u6BB5\u540D\uFF09
foreign  key (\u5916\u5EFA\u540D) references \u5916\u5EFA\u5B57\u6BB5\u6240\u5728\u8868\u540D (\u5916\u5EFA\u5B57\u6BB5\u540D) on delete cascade; #on delete cascade \u7EA7\u8054\u5220\u9664
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E" aria-hidden="true">#</a> \u6570\u636E</h2><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>INSERT INTO \u8868\u540D(\u52171,\u52172,...,\u5217N) values(\u503C1,\u503C2,...,\u503CN)
DELETE\u8BED\u6CD5\uFF1ADELETE FROM \u8868\u540D WHERE \u6761\u4EF6
UPDATE \u8868\u540D set \u52171=\u503C1,\u52172=\u503C2,... WHERE \u6761\u4EF6
SELECT * FROM \u8868\u540D WHERE \u6761\u4EF6
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u8FDE\u63A5" tabindex="-1"><a class="header-anchor" href="#\u8FDE\u63A5" aria-hidden="true">#</a> \u8FDE\u63A5</h2><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>#\u5185\u8FDE\u63A5 inner join  on  \u4EA4\u96C6

#\u5916\u8FDE\u63A5
##\u5DE6\u8FDE\u63A5 left join on / left outer join on \u5DE6\u8868+\u53F3\u8868\u7B26\u5408\u6761\u4EF6\u6570\u636E\uFF0C\u8BB0\u5F55\u4E0D\u8DB3\u7684\u5730\u65B9\u4E3Anull
##\u53F3\u8FDE\u63A5 right join on / right outer join on \u53F3\u8868+\u5DE6\u8868\u7B26\u5408\u6761\u4EF6\u6570\u636E\uFF0C\u8BB0\u5F55\u4E0D\u8DB3\u7684\u5730\u65B9\u4E3Anull

#\u5168\u8FDE\u63A5 union /union all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u7D22\u5F15-2" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15-2" aria-hidden="true">#</a> \u7D22\u5F15</h2><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>#\u521B\u5EFA\u7D22\u5F15
create \u7D22\u5F15\u7C7B\u578B \u7D22\u5F15\u540D on \u8868\u540D(\u5B57\u6BB5\u540D);
alter table \u8868\u540D add \u7D22\u5F15\u7C7B\u578B \u7D22\u5F15\u540D(\u5B57\u6BB5\u540D);

#\u4F7F\u7528\u5F3A\u5236\u7D22\u5F15
select * from \u8868\u540D FORCE INDEX (\u7D22\u5F15\u540D) where \u6761\u4EF6;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u89C6\u56FE-1" tabindex="-1"><a class="header-anchor" href="#\u89C6\u56FE-1" aria-hidden="true">#</a> \u89C6\u56FE</h2><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>#\u521B\u5EFA\u89C6\u56FE
create view \u89C6\u56FE\u540D\u79F0 as select\u8BED\u53E5;
#--\u67E5\u770B\u89C6\u56FE\u7ED3\u6784\uFF1A
desc user_view; 
show create view user_view;
#--\u67E5\u770B\u89C6\u56FE\u5185\u5BB9\uFF1A
select * from user_view;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u6E38\u6807" tabindex="-1"><a class="header-anchor" href="#\u6E38\u6807" aria-hidden="true">#</a> \u6E38\u6807</h2><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>#\u5B9A\u4E49
DECLARE \u5149\u6807\u540D\u79F0 CURSOR FOR \u67E5\u8BE2\u8BED\u6CD5
declare cursor_name cursor for select_statement

#\u6253\u5F00
OPEN \u5149\u6807\u540D\u79F0
open cursor_name

#\u53D6\u6E38\u6807\u4E2D\u7684\u6570\u636E
FETCH \u5149\u6807\u540D\u79F0 INFO var_name [\uFF0Cvar_name ].....
fetch cursor_name info var_name

#\u5173\u95ED\u6E38\u6807
CLOSE curso_name;
close \u5149\u6807\u540D\u79F0

#\u91CA\u653E\u6E38\u6807
DEALLOCATE \u5149\u6807\u540D\u79F0
deallocate cursor_name;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u89E6\u53D1\u5668-1" tabindex="-1"><a class="header-anchor" href="#\u89E6\u53D1\u5668-1" aria-hidden="true">#</a> <a href="#%E8%A7%A6%E5%8F%91%E5%99%A8">\u89E6\u53D1\u5668</a></h2><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>#\u521B\u5EFA
##\u53EA\u6709\u4E00\u4E2A\u6267\u884C\u8BED\u53E5
CREATE TRIGGER \u89E6\u53D1\u5668\u540D BEFORE|AFTER \u89E6\u53D1\u4E8B\u4EF6 ON \u8868\u540D FOR EACH ROW \u6267\u884C\u8BED\u53E5;
##\u591A\u4E2A\u4E2A\u6267\u884C\u8BED\u53E5
CREATE TRIGGER \u89E6\u53D1\u5668\u540D BEFORE|AFTER \u89E6\u53D1\u4E8B\u4EF6
ON \u8868\u540D FOR EACH ROW
BEGIN
        \u6267\u884C\u8BED\u53E5\u5217\u8868
END;
#\u793A\u4F8B
create TRIGGER audit_log after INSERT on employees_test for each row 
begin  
INSERT INTO audit VALUES (NEW.ID, NEW.NAME);
end
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5176\u4ED6" tabindex="-1"><a class="header-anchor" href="#\u5176\u4ED6" aria-hidden="true">#</a> \u5176\u4ED6</h2><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>#\u67E5\u770B\u8868\u5B57\u6BB5\u4FE1\u606F
desc \u8868\u540D
#\u67E5\u770B\u521B\u5EFA\u8868sql\uFF08\u8868\u6240\u6709\u4FE1\u606F\uFF09
show create table \u8868\u540D;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>#\u8F93\u51FA\u683C\u5F0F
date_format(date,&quot;%Y-%m&quot;) 
#\u63D2\u5165\u5B58\u5728\u5FFD\u7565
insert ignore\u5B58\u5728\u5FFD\u7565

#\u53BB\u9664\u91CD\u590D
distinct\u5B57\u6BB5\u53BB\u91CD

#\u5206\u7EC4
group by \u3002\u3002having
##group by \u5728where \u6700\u540E\u4E00\u4E2A\u9650\u5236\u6761\u4EF6\u540E\u9762\uFF0C\u4E0D\u80FD\u5728\u9650\u5236\u6761\u4EF6\u4E2D\u95F4\uFF0CHAVING\u662F\u5728\u5206\u7EC4\u540E\u627E\u5230\u7279\u5B9A\u7684\u5206\u7EC4\u3002
select user_id from order_info where date &gt; &#39;2025-10-15&#39; and product_name in (&#39;C++&#39;,&#39;Java&#39;,&#39;Python&#39;) and status=&#39;completed&#39; group by user_id HAVING count(user_id)&gt;1 order by user_id 

# in exists
##in\u5148\u5185\u518D\u5916
not in
##EXISTS\u5148\u5916\u518D\u5185
SELECT \u5B57\u6BB5 from \u8868\u540D where  not EXISTS (select emp_no from dept_emp where employees.emp_no = dept_emp.emp_no)

#\u8FDE\u63A5,
concat(last_name,&#39;\\&#39;&#39;,first_name)
SELECT dept_no,GROUP_CONCAT(emp_no SEPARATOR &#39;,&#39;) as employees from dept_emp group by dept_no
#\u8BED\u6CD5: group_concat([distinct] \u5B57\u6BB5 [order by \u6392\u5E8F\u5B57\u6BB5 asc/desc]  separator  &#39;\u5206\u9694\u7B26&#39;)
#\u51FD\u6570\u9ED8\u8BA4\u7684\u5206\u9694\u7B26\u662F &quot;,&quot;\uFF0C\u9ED8\u8BA4\u53EF\u4EE5\u7701\u7565

#\u66FF\u6362
replace
update titles_test set emp_no=replace(emp_no,&#39;10001&#39;,&#39;10005&#39;) where id=5

#\u66F4\u6362\u8868\u540D
alter table titles_test rename to titles_2017

round(avg(score),3)

#\u6B63\u5219\u5339\u914D\uFF0C\u66FF\u6362\uFF0C\u8BA1\u7B97\u957F\u5EA6
select id,length( regexp_replace(STRING, &#39;[A-Z0-9]&#39;, &#39;&#39;)) from strings

#\u622A\u53D6
select \u5B57\u6BB5 from \u8868\u540D order by 
right/left(\u5B57\u6BB5,2)
substring(str,index)
substring_index(str,delim,count)
subdate(date,day)
subtime(expr1,expr2)

#\u5206\u9875
select * from employees LIMIT 5 offset 5
select * from employees LIMIT 5,5

#\u7A97\u53E3\u51FD\u6570
# \u6392\u5E8F\u51FD\u6570
#mysql\u2014\u6392\u5E8F\u51FD\u6570rank() over()\u3001dense_rank() over()\u3001row_num() over()
#\u6761\u4EF6\u76F8\u540C\u6392\u540D\u76F8\u540C\uFF0C    \u95F4\u65AD\u4E0D\u8FDE\u7EED rank() over()                       \u8DF3\u8FC7\u91CD\u590D\uFF0C\u6BD4\u5982 113446
#\u6761\u4EF6\u76F8\u540C\u6392\u540D\u76F8\u540C\uFF0C    \u95F4\u65AD\u8FDE\u7EED dense_rank() over()    	            \u4E0D\u8DF3\u8FC7\u91CD\u590D\uFF0C\u6BD4\u5982 112334
#\u6761\u4EF6\u76F8\u540C\u6392\u540D\u4E0D\u76F8\u540C\uFF0C\u4E0D\u95F4\u65AD\u8FDE\u7EED row_num() over()                      \u4F9D\u6B21\u76F8\u52A0\uFF0C\u6BD4\u5982 123456
select id,number,dense_rank() over(order by number desc) as &#39;rank&#39; from passing_number 
#\u4EE5grade\u6392\u5E8F\uFF0Cnumber\u6309\u987A\u5E8F\u4EE5\u53CAgrade\u5206\u7EC4\u7D2F\u52A0
#grade	number
#A	2
#D	1
#C	2
#B	2
select grade,sum(number) over(order by grade) t_rank from class_grade

#\u65F6\u95F4
##\u5F53\u524D\u65F6\u95F4
current_date/curdate()  
now()
current_timestamp, current_timestamp()
#\u683C\u5F0F\u8F6C\u6362  \u5B57\u7B26\u4E32\u8F6C\u65F6\u95F4
str_to_date(&#39;08/09/2008&#39;, &#39;%m/%d/%Y&#39;); -- 2008-08-09
str_to_date(&#39;08/09/08&#39; , &#39;%m/%d/%y&#39;); -- 2008-08-09
str_to_date(&#39;08.09.2008&#39;, &#39;%m.%d.%Y&#39;); -- 2008-08-09
str_to_date(&#39;08:09:30&#39;, &#39;%h:%i:%s&#39;); -- 08:09:30
str_to_date(&#39;08.09.2008 08:09:30&#39;, &#39;%m.%d.%Y %h:%i:%s&#39;); -- 2008-08-09 08:09:30
#\u65F6\u95F4\u589E\u51CF

#\u6761\u4EF6\u5206\u652F
(case when \u6761\u4EF6 then \u8BED\u53E5
 	  when  \u6761\u4EF6 then \u8BED\u53E5 
 	  else \u8BED\u53E5 end) as bonus
select e.emp_no,e.first_name,e.last_name,eb.btype,s.salary,
(case when eb.btype = 1 then s.salary*0.1 when  eb.btype= 2 then s.salary*0.2 else s.salary*0.3 end) as bonus 
from employees e INNER join emp_bonus eb on e.emp_no=eb.emp_no INNER join salaries s on e.emp_no=s.emp_no where s.to_date=&#39;9999-01-01&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,315),ve={id:"\u7A97\u53E3\u51FD\u6570",tabindex:"-1"},ye=e("a",{class:"header-anchor",href:"#\u7A97\u53E3\u51FD\u6570","aria-hidden":"true"},"#",-1),_e=n(),fe={href:"https://blog.csdn.net/weixin_39010770/article/details/87862407",target:"_blank",rel:"noopener noreferrer"},xe=n("\u7A97\u53E3\u51FD\u6570"),Ee=i(`<p><strong>1.\u7A97\u53E3\u51FD\u6570\u8BED\u6CD5</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\\&lt;\u7A97\u53E3\u51FD\u6570&gt; over (partition by \\&lt;\u7528\u4E8E\u5206\u7EC4\u7684\u5217\u540D&gt;
                order by \\&lt;\u7528\u4E8E\u6392\u5E8F\u7684\u5217\u540D&gt;)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>&lt;\u7A97\u53E3\u51FD\u6570&gt;\u7684\u4F4D\u7F6E\uFF0C\u53EF\u4EE5\u653E\u4EE5\u4E0B\u4E24\u79CD\u51FD\u6570\uFF1A</p><h4 id="_1-\u4E13\u7528\u7A97\u53E3\u51FD\u6570-\u6BD4\u5982" tabindex="-1"><a class="header-anchor" href="#_1-\u4E13\u7528\u7A97\u53E3\u51FD\u6570-\u6BD4\u5982" aria-hidden="true">#</a> 1\uFF09 \u4E13\u7528\u7A97\u53E3\u51FD\u6570\uFF0C\u6BD4\u5982</h4><p><strong>\u5E8F\u53F7\u51FD\u6570</strong> rank, dense_rank, row_number\u3001</p><p><strong>\u5206\u5E03\u51FD\u6570</strong>\uFF1A<code>PERCENT_RANK()</code>\u3001<code>CUME_DIST()</code>\u3001<code>PERCENT_RANK()</code></p><p><strong>\u524D\u540E\u51FD\u6570</strong>\uFF1A<code>LAG(expr,n)</code>\u3001<code>LEAD(expr,n)</code></p><p><strong>\u524D\u540E\u51FD\u6570</strong>\uFF1A<code>LAG(expr,n)</code>\u3001<code>LEAD(expr,n)</code></p><p><strong>\u5176\u5B83\u51FD\u6570</strong>\uFF1A<code>NTH_VALUE(expr, n)</code>\u3001<code>NTILE(n)</code>\u3001<code>NTH_VALUE(expr,n)</code></p><h4 id="_2-\u805A\u5408\u51FD\u6570-\u5982sum-avg-count-max-min\u7B49" tabindex="-1"><a class="header-anchor" href="#_2-\u805A\u5408\u51FD\u6570-\u5982sum-avg-count-max-min\u7B49" aria-hidden="true">#</a> 2\uFF09 \u805A\u5408\u51FD\u6570\uFF0C\u5982sum. avg, count, max, min\u7B49</h4><p><strong>2.\u7A97\u53E3\u51FD\u6570\u6709\u4EE5\u4E0B\u529F\u80FD\uFF1A</strong></p><p>1\uFF09\u540C\u65F6\u5177\u6709\u5206\u7EC4\uFF08partition by\uFF09\u548C\u6392\u5E8F\uFF08order by\uFF09\u7684\u529F\u80FD</p><p>2\uFF09\u4E0D\u51CF\u5C11\u539F\u8868\u7684\u884C\u6570\uFF0C\u6240\u4EE5\u7ECF\u5E38\u7528\u6765\u5728\u6BCF\u7EC4\u5185\u6392\u540D</p><p><strong>3.\u6CE8\u610F\u4E8B\u9879</strong></p><p>\u7A97\u53E3\u51FD\u6570\u539F\u5219\u4E0A\u53EA\u80FD\u5199\u5728select\u5B50\u53E5\u4E2D</p><p><strong>4.\u7A97\u53E3\u51FD\u6570\u4F7F\u7528\u573A\u666F</strong></p><p>1\uFF09\u4E1A\u52A1\u9700\u6C42\u201C<strong>\u5728\u6BCF\u7EC4\u5185\u6392\u540D\u201D</strong></p><h3 id="mysql\u622A\u53D6\u5B57\u7B26\u4E32\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#mysql\u622A\u53D6\u5B57\u7B26\u4E32\u51FD\u6570" aria-hidden="true">#</a> mysql\u622A\u53D6\u5B57\u7B26\u4E32\u51FD\u6570</h3><p>1\u3001left(str,length) \u4ECE\u5DE6\u8FB9\u622A\u53D6length 2\u3001right(str,length)\u4ECE\u53F3\u8FB9\u622A\u53D6length 3\u3001substring(str,index)\u5F53index&gt;0\u4ECE\u5DE6\u8FB9\u5F00\u59CB\u622A\u53D6\u76F4\u5230\u7ED3\u675F \u5F53index&lt;0\u4ECE\u53F3\u8FB9\u5F00\u59CB\u622A\u53D6\u76F4\u5230\u7ED3\u675F \u5F53index=0\u8FD4\u56DE\u7A7A 4\u3001substring(str,index,len) \u622A\u53D6str,\u4ECEindex\u5F00\u59CB\uFF0C\u622A\u53D6len\u957F\u5EA6 5\u3001substring_index(str,delim,count)\uFF0Cstr\u662F\u8981\u622A\u53D6\u7684\u5B57\u7B26\u4E32\uFF0Cdelim\u662F\u622A\u53D6\u7684\u5B57\u6BB5 count\u662F\u4ECE\u54EA\u91CC\u5F00\u59CB\u622A\u53D6(\u4E3A0\u5219\u662F\u5DE6\u8FB9\u7B2C0\u4E2A\u5F00\u59CB\uFF0C1\u4F4D\u5DE6\u8FB9\u5F00\u59CB\u7B2C\u4E00\u4E2A\u9009\u53D6\u5DE6\u8FB9\u7684\uFF0C-1\u4ECE\u53F3\u8FB9\u7B2C\u4E00\u4E2A\u5F00\u59CB\u9009\u53D6\u53F3\u8FB9\u7684 6\u3001subdate(date,day)\u622A\u53D6\u65F6\u95F4\uFF0C\u65F6\u95F4\u51CF\u53BB\u540E\u9762\u7684day 7\u3001subtime(expr1,expr2) \u65F6\u5206\u79D2expr1-expr2 8\u3001mysql\u7D22\u5F15\u4ECE1\u5F00\u59CB</p><p><strong>\u5168\u6587\u7D22\u5F15\uFF1A \u662F\u76EE\u524D\u641C\u7D22\u5F15\u64CE\u4F7F\u7528\u7684\u4E00\u79CD\u5173\u952E\u6280\u672F\u3002 \u53EF\u4EE5\u901A\u8FC7ALTER TABLE table_name ADD FULLTEXT (column);\u521B\u5EFA\u5168\u6587\u7D22\u5F15</strong></p><p>\u67E5\u8BE2\u6570\u636E\u5E93\u4E2D\u8868\u4FE1\u606F</p><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>SELECT
    *
FROM
    information_schema.\`TABLES\`
WHERE
    TABLE_SCHEMA = &#39;hz_hbzy&#39;;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="postgres" tabindex="-1"><a class="header-anchor" href="#postgres" aria-hidden="true">#</a> Postgres</h1><h2 id="\u5B57\u6BB5\u6620\u5C04" tabindex="-1"><a class="header-anchor" href="#\u5B57\u6BB5\u6620\u5C04" aria-hidden="true">#</a> \u5B57\u6BB5\u6620\u5C04</h2>`,24),Te={id:"postgres\u4E0Emysql\u4E0D\u540C",tabindex:"-1"},Le=e("a",{class:"header-anchor",href:"#postgres\u4E0Emysql\u4E0D\u540C","aria-hidden":"true"},"#",-1),Se=n(),ke={href:"https://blog.csdn.net/u012843873/article/details/60745287",target:"_blank",rel:"noopener noreferrer"},qe=n("Postgres\u4E0EMysql\u4E0D\u540C"),Ne=i(`<h2 id="\u67E5\u8BE2\u5B57\u6BB5\u5907\u6CE8" tabindex="-1"><a class="header-anchor" href="#\u67E5\u8BE2\u5B57\u6BB5\u5907\u6CE8" aria-hidden="true">#</a> \u67E5\u8BE2\u5B57\u6BB5\u5907\u6CE8</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> a<span class="token punctuation">.</span>attnum<span class="token punctuation">,</span>a<span class="token punctuation">.</span>attname<span class="token punctuation">,</span>concat_ws<span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>t<span class="token punctuation">.</span>typname<span class="token punctuation">,</span>SUBSTRING<span class="token punctuation">(</span>format_type<span class="token punctuation">(</span>a<span class="token punctuation">.</span>atttypid<span class="token punctuation">,</span>a<span class="token punctuation">.</span>atttypmod<span class="token punctuation">)</span> <span class="token keyword">from</span> <span class="token string">&#39;\\(.*\\)&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token keyword">type</span><span class="token punctuation">,</span>d<span class="token punctuation">.</span>description <span class="token keyword">from</span> pg_class c<span class="token punctuation">,</span>pg_attribute a<span class="token punctuation">,</span>pg_type t<span class="token punctuation">,</span>pg_description d
<span class="token keyword">where</span> c<span class="token punctuation">.</span>relname<span class="token operator">=</span><span class="token string">&#39;com_capture&#39;</span> <span class="token operator">and</span> a<span class="token punctuation">.</span>attnum<span class="token operator">&gt;</span><span class="token number">0</span> <span class="token operator">and</span> a<span class="token punctuation">.</span>attrelid<span class="token operator">=</span>c<span class="token punctuation">.</span>oid <span class="token operator">and</span> a<span class="token punctuation">.</span>atttypid<span class="token operator">=</span>t<span class="token punctuation">.</span>oid <span class="token operator">and</span> d<span class="token punctuation">.</span>objoid<span class="token operator">=</span>a<span class="token punctuation">.</span>attrelid <span class="token operator">and</span> d<span class="token punctuation">.</span>objsubid<span class="token operator">=</span>a<span class="token punctuation">.</span>attnum<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u53D6geom\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#\u53D6geom\u6570\u636E" aria-hidden="true">#</a> \u53D6geom\u6570\u636E</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> st_astext<span class="token punctuation">(</span>geom<span class="token punctuation">)</span> <span class="token keyword">from</span> ttt  <span class="token comment"># test\u5F62\u5F0F</span>
<span class="token keyword">SELECT</span> st_asgeojson<span class="token punctuation">(</span>geom<span class="token punctuation">)</span> <span class="token keyword">FROM</span> <span class="token string">&quot;ygjcgd&quot;</span> <span class="token comment"># geojson\u5F62\u5F0F</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u5B58geom" tabindex="-1"><a class="header-anchor" href="#\u5B58geom" aria-hidden="true">#</a> \u5B58geom</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>\u70B9<span class="token keyword">INSERT</span> <span class="token keyword">into</span>  ttt <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span>ST_GeomFromText<span class="token punctuation">(</span><span class="token string">&#39;POINT(119.104393005 29.3091735840001)&#39;</span><span class="token punctuation">,</span><span class="token number">4490</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
\u9762<span class="token keyword">INSERT</span> <span class="token keyword">into</span>  ttt <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span>ST_GeomFromText<span class="token punctuation">(</span><span class="token string">&#39;POLYGON((120.489420304 30.2855081450001,120.48927819 30.2855092200001,120.489034534 30.2855205130001,120.488415416 30.2855540510001,120.488238647 30.285563627,120.487775051 30.2856122420001,120.487543209 30.2856365540001,120.48696129 30.28571928,120.486939727 30.285722842,120.486661766 30.2857687420001,120.48676176 30.2859599880001,120.486786439 30.2860551310001,120.486803289 30.286632664,120.487353662 30.2866268860001,120.487351682 30.2864715210001,120.487351632 30.286467605,120.487350721 30.2863964210001,120.487346937 30.2860998030001,120.487342737 30.285770433,120.487400427 30.2857633680001,120.487405079 30.285760184,120.48740623 30.285961001,120.487409165 30.2864727900001,120.487409564 30.286542108,120.487409728 30.2865708910001,120.487410051 30.2866269530001,120.487415064 30.2866269360001,120.487781689 30.2866291820001,120.488148313 30.286631426,120.488229104 30.286631782,120.488646675 30.2866336280001,120.488672652 30.2866335310001,120.489108909 30.286635501,120.489545164 30.286637469,120.489554908 30.2866377670001,120.489587466 30.2866073650001,120.489631665 30.286574779,120.489633218 30.2865468840001,120.489635952 30.286497766,120.489630193 30.2864750590001,120.489620367 30.286436291,120.489576415 30.2862629480001,120.489538252 30.286111927,120.489518579 30.286034075,120.489490667 30.2859208350001,120.489445946 30.285699532,120.489442796 30.285683949,120.489435137 30.2856060400001,120.489420304 30.2855081450001))&#39;</span><span class="token punctuation">,</span><span class="token number">4490</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u6DFB\u52A0geom\u6269\u5C55" tabindex="-1"><a class="header-anchor" href="#\u6DFB\u52A0geom\u6269\u5C55" aria-hidden="true">#</a> \u6DFB\u52A0geom\u6269\u5C55</h2><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>CREATE EXTENSION postgis;
CREATE EXTENSION fuzzystrmatch;
CREATE EXTENSION postgis_tiger_geocoder;
CREATE EXTENSION address_standardizer;
CREATE EXTENSION postgis_topology;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="postgrest" tabindex="-1"><a class="header-anchor" href="#postgrest" aria-hidden="true">#</a> PostgREST</h2><p>\u670D\u52A1\u53D1\u5E03</p><h2 id="\u5E38\u7528\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u51FD\u6570" aria-hidden="true">#</a> \u5E38\u7528\u51FD\u6570</h2><img src="http://qnimg.gisfsde.com/work/image-20220329200655063.png" alt="image-20220329200655063" style="zoom:67%;"><h3 id="\u56FE\u5F62\u548C\u5730\u7406\u4F4D\u7F6E" tabindex="-1"><a class="header-anchor" href="#\u56FE\u5F62\u548C\u5730\u7406\u4F4D\u7F6E" aria-hidden="true">#</a> \u56FE\u5F62\u548C\u5730\u7406\u4F4D\u7F6E</h3><ul><li><strong>ST_GeometryType(geometry)</strong> \u2014\u2014 \u8FD4\u56DE\u51E0\u4F55\u56FE\u5F62\u7684\u7C7B\u578B</li><li><strong>ST_Transform(geometry, srid)</strong>\u2014\u2014\u5C06\u51E0\u4F55\u56FE\u5F62\u6295\u5F71\u4E3A\u5730\u7406\u5750\u6807\u6570\u636E \u6216 \u8F6C\u6362\u4E3A\u4E0D\u540Csrid\u5750\u6807\u7CFB\u7EDF\u7684\u5750\u6807\u6570\u636E</li><li><strong>Geography(geometry)</strong>\u2014\u2014\u5C06\u57FA\u4E8EEPSG:4326(srid=4326)\u7684geometry\u6570\u636E\u7C7B\u578B\u8F6C\u6362\u4E3Ageography\u6570\u636E\u7C7B\u578B</li><li><strong>ST_NDims(geometry)</strong> \u2014\u2014 \u8FD4\u56DE\u51E0\u4F55\u56FE\u5F62\u7684\u7EF4\u6570</li><li><strong>ST_SRID(geometry)</strong> \u2014\u2014 \u8FD4\u56DE\u51E0\u4F55\u56FE\u5F62\u7684\u7A7A\u95F4\u53C2\u8003\u6807\u8BC6\u7801 srid</li><li><strong>ST_SetSRID(geometry\uFF0CSRID\uFF09</strong>\u2014\u2014\u8BBE\u7F6Esrid</li><li><strong>sum(expression)</strong> \u2014\u2014\u8FD4\u56DE\u4E00\u4E2A\u8BA1\u7B97\u5F0F/\u8868\u8FBE\u5F0F\u7684\u548C</li><li><strong>count(expression)</strong> \u2014\u2014\u8FD4\u56DE\u4E00\u4E2A\u8868\u8FBE\u5F0F\u4E2D\u7684\u6B21\u6570</li></ul><p>PS : geometry\uFF0C\u662F\u51E0\u4F55\u7C7B\u578B\u7684\u5217\u7684\u5217\u540D</p><p>srid\uFF0C\u4E0D\u540C\u7684srid\u5C31\u662F\u4E0D\u540C\u6807\u51C6\u7684\u5750\u6807\u7CFB</p><p><strong>\u70B9\u7A7A\u95F4\u51FD\u6570</strong>\uFF1A</p><ul><li><strong>ST_X(geometry)</strong> \u2014\u2014 \u8FD4\u56DEX\u5750\u6807</li><li><strong>ST_Y(geometry)</strong> \u2014\u2014 \u8FD4\u56DEY\u5750\u6807</li></ul><p><strong>\u7EBF\u4E32\u7A7A\u95F4\u51FD\u6570</strong>\uFF1A</p><ul><li><strong>ST_Length(geometry)</strong> \u2014\u2014 \u8FD4\u56DE\u7EBF\u4E32\u7684\u957F\u5EA6</li><li><strong>ST_StartPoint(geometry)</strong> \u2014\u2014 \u5C06\u7EBF\u4E32\u7684\u7B2C\u4E00\u4E2A\u5750\u6807\u4F5C\u4E3A\u70B9\u8FD4\u56DE</li><li><strong>ST_EndPoint(geometry\uFF09</strong> \u2014\u2014 \u5C06\u7EBF\u4E32\u7684\u6700\u540E\u4E00\u4E2A\u5750\u6807\u4F5C\u4E3A\u70B9\u8FD4\u56DE</li><li><strong>ST_NPoints(geometry)</strong> \u2014\u2014 \u8FD4\u56DE\u7EBF\u4E32\u7684\u5750\u6807\u6570\u91CF</li></ul><p><strong>\u591A\u8FB9\u5F62\u7A7A\u95F4\u51FD\u6570</strong>\uFF1A</p><ul><li><strong>ST_Area(geometry)</strong> \u2014\u2014 \u8FD4\u56DE\u591A\u8FB9\u5F62\u7684\u9762\u79EF</li><li><strong>ST_NRings(geometry)</strong> \u2014\u2014 \u8FD4\u56DE\u591A\u8FB9\u5F62\u4E2D\u73AF\u7684\u6570\u91CF\uFF08\u901A\u5E38\u4E3A1\u4E2A\uFF0C\u5176\u4ED6\u662F\u5B54\uFF09</li><li><strong>ST_ExteriorRing(geometry)</strong> \u2014\u2014 \u4EE5\u7EBF\u4E32\u7684\u5F62\u5F0F\u8FD4\u56DE\u591A\u8FB9\u5F62\u6700\u5916\u9762\u7684\u73AF</li><li><strong>ST_InteriorRingN(geometry, n)</strong> \u2014\u2014 \u4EE5\u7EBF\u4E32\u5F62\u5F0F\u8FD4\u56DE\u6307\u5B9A\u7684\u5185\u90E8\u73AF</li><li><strong>ST_Perimeter(geometry)</strong> \u2014\u2014 \u8FD4\u56DE\u6240\u6709\u73AF\u7684\u957F\u5EA6</li></ul><p><strong>\u96C6\u5408\u7A7A\u95F4\u51FD\u6570</strong>(\u591A\u70B9\u3001\u591A\u7EBF\u3001\u591A\u9762\u3001\u4EFB\u610F\u56FE\u5F62\u7EC4\u5408)\uFF1A</p><ul><li><strong>ST_NumGeometries(geometry)</strong> \u2014\u2014 \u8FD4\u56DE\u96C6\u5408\u4E2D\u7684\u7EC4\u6210\u90E8\u5206\u7684\u6570\u91CF</li><li><strong>ST_GeometryN(geometry, n)</strong> \u2014\u2014 \u8FD4\u56DE\u96C6\u5408\u4E2D\u6307\u5B9A\u7684\u7EC4\u6210\u90E8\u5206</li><li><strong>ST_Area(geometry)</strong> \u2014\u2014 \u8FD4\u56DE\u96C6\u5408\u4E2D\u6240\u6709\u591A\u8FB9\u5F62\u7EC4\u6210\u90E8\u5206\u7684\u603B\u9762\u79EF</li><li><strong>ST_Length(geometry)</strong> \u2014\u2014 \u8FD4\u56DE\u6240\u6709\u7EBF\u6BB5\u7EC4\u6210\u90E8\u5206\u7684\u603B\u957F\u5EA6</li></ul><h3 id="\u51E0\u4F55\u56FE\u5F62\u8F93\u5165\u548C\u8F93\u51FA" tabindex="-1"><a class="header-anchor" href="#\u51E0\u4F55\u56FE\u5F62\u8F93\u5165\u548C\u8F93\u51FA" aria-hidden="true">#</a> \u51E0\u4F55\u56FE\u5F62\u8F93\u5165\u548C\u8F93\u51FA</h3><p>\u5728\u6570\u636E\u5E93\u4E2D\uFF0C<strong>\u51E0\u4F55\u56FE\u5F62</strong>\uFF08Geometry\uFF09\u4EE5\u4EC5\u4F9BPostGIS\u4F7F\u7528\u7684\u683C\u5F0F\u5B58\u50A8\u5728\u78C1\u76D8\u4E0A\u3002\u4E3A\u4E86\u8BA9\u5916\u90E8\u7A0B\u5E8F\u63D2\u5165\u548C\u68C0\u7D22\u6709\u7528\u7684<strong>\u51E0\u4F55\u56FE\u5F62</strong>\u4FE1\u606F\uFF0C\u9700\u8981\u5C06\u5B83\u4EEC\u8F6C\u6362\u4E3A\u5176\u4ED6\u5E94\u7528\u7A0B\u5E8F\u53EF\u4EE5\u7406\u89E3\u7684\u683C\u5F0F\u3002</p>`,26),Ie=n("\u2460Well-known text\uFF08"),Ae={href:"https://link.zhihu.com/?target=https%3A//postgis.net/workshops/postgis-intro/glossary.html%23term-wkt",target:"_blank",rel:"noopener noreferrer"},we=n("WKT"),Re=n("\uFF09"),Oe=e("ul",null,[e("li",null,[e("strong",null,"ST_GeomFromText(text, srid)"),n(" \u2014\u2014 \u8FD4\u56DEgeometry\uFF0C\u9664\u975E\u6307\u5B9ASRID\uFF0C\u5426\u5219\u5C06\u5F97\u5230\u4E00\u4E2A\u5305\u542B\u672A\u77E5SRID\u7684"),e("strong",null,"\u51E0\u4F55\u56FE\u5F62")]),e("li",null,[e("strong",null,"ST_GeographyFromText(text)"),n("\u2014\u2014\u8FD4\u56DEGeography")]),e("li",null,[e("strong",null,"ST_AsText(geometry)"),n(" \u2014\u2014 \u8FD4\u56DEtext")]),e("li",null,[e("strong",null,"ST_AsEWKT(geometry)"),n(" \u2014\u2014 \u8FD4\u56DEtext")])],-1),Me=n("\u2461Well-known binary\uFF08"),De={href:"https://link.zhihu.com/?target=https%3A//postgis.net/workshops/postgis-intro/glossary.html%23term-wkb",target:"_blank",rel:"noopener noreferrer"},Be=n("WKB"),Ce=n("\uFF09"),Ue=e("ul",null,[e("li",null,[e("strong",null,"ST_GeomFromWKB(bytea)"),n(" \u2014\u2014 \u8FD4\u56DEgeometry")]),e("li",null,[e("strong",null,"ST_AsBinary(geometry)"),n(" \u2014\u2014 \u8FD4\u56DEbytea")]),e("li",null,[e("strong",null,"ST_AsEWKB(geometry)"),n(" \u2014\u2014 \u8FD4\u56DEbytea")])],-1),Qe=n("\u2462Geographic Mark-up Language\uFF08"),Ge={href:"https://link.zhihu.com/?target=https%3A//postgis.net/workshops/postgis-intro/glossary.html%23term-gml",target:"_blank",rel:"noopener noreferrer"},Fe=n("GML"),He=n("\uFF09"),Ye=e("ul",null,[e("li",null,[e("strong",null,"ST_GeomFromGML(text)"),n(" \u2014\u2014 \u8FD4\u56DEgeometry")]),e("li",null,[e("strong",null,"ST_ASGML(geometry)"),n(" \u2014\u2014 \u8FD4\u56DEtext")])],-1),Pe=n("\u2463Keyhole Mark-up Language\uFF08"),je={href:"https://link.zhihu.com/?target=https%3A//postgis.net/workshops/postgis-intro/glossary.html%23term-kml",target:"_blank",rel:"noopener noreferrer"},We=n("KML"),Ke=n("\uFF09"),Ve=e("ul",null,[e("li",null,[e("strong",null,"ST_GeomFromKML(text)"),n(" \u2014\u2014 \u8FD4\u56DEgeometry")]),e("li",null,[e("strong",null,"ST_ASKML(geometry)"),n(" \u2014\u2014 \u8FD4\u56DEtext")])],-1),Xe=n("\u2464"),Je={href:"https://link.zhihu.com/?target=https%3A//postgis.net/workshops/postgis-intro/glossary.html%23term-geojson",target:"_blank",rel:"noopener noreferrer"},ze=n("GeoJson"),$e=e("ul",null,[e("li",null,[e("strong",null,"ST_AsGeoJSON(geometry)"),n(" \u2014\u2014 \u8FD4\u56DEtext")])],-1),Ze=n("\u2465Scalable Vector Graphics("),en={href:"https://link.zhihu.com/?target=https%3A//postgis.net/workshops/postgis-intro/glossary.html%23term-svg",target:"_blank",rel:"noopener noreferrer"},nn=n("SVG"),an=n("\uFF09"),tn=i('<ul><li><strong>ST_AsSVG(geometry)</strong> \u2014\u2014 \u8FD4\u56DEtext</li></ul><p>\u4EE5\u4E0A\u51FD\u6570\u6700\u5E38\u89C1\u7684\u7528\u6CD5\u662F\u5C06<strong>\u51E0\u4F55\u56FE\u5F62</strong>\u7684<strong>\u6587\u672C</strong>\uFF08text\uFF09\u8868\u793A\u5F62\u5F0F\u8F6C\u6362\u4E3A\u5185\u90E8\u8868\u793A\u5F62\u5F0F</p><p>\u8BF7\u6CE8\u610F\uFF0C\u9664\u4E86\u5177\u6709<strong>\u51E0\u4F55\u56FE</strong>\u5F62\u8868\u793A\u5F62\u5F0F\u7684<strong>\u6587\u672C</strong>\u53C2\u6570\u5916\uFF0C\u8FD8\u53EF\u4EE5\u6307\u5B9A\u4E00\u4E2A\u63D0\u4F9B\u51E0\u4F55\u56FE\u5F62<strong>SRID</strong>\u7684\u6570\u5B57\u53C2\u6570\u3002</p><h3 id="\u56FE\u5F62\u5173\u7CFB" tabindex="-1"><a class="header-anchor" href="#\u56FE\u5F62\u5173\u7CFB" aria-hidden="true">#</a> \u56FE\u5F62\u5173\u7CFB</h3><p><strong>ST_Equals(geometry A, geometry B)</strong></p><ul><li>\u7528\u4E8E\u6D4B\u8BD5\u4E24\u4E2A\u56FE\u5F62\u7684\u7A7A\u95F4\u76F8\u7B49\u6027\u3002</li><li>\u5982\u679C\u4E24\u4E2A\u76F8\u540C\u7C7B\u578B\u7684\u51E0\u4F55\u56FE\u5F62\u5177\u6709\u76F8\u540C\u7684x\u3001y\u5750\u6807\u503C\uFF0C\u5373\u5982\u679C\u7B2C\u4E8C\u4E2A\u56FE\u5F62\u4E0E\u7B2C\u4E00\u4E2A\u56FE\u5F62\u7684\u5750\u6807\u4FE1\u606F\u76F8\u7B49\uFF08\u76F8\u540C\uFF09\uFF0C\u5219ST_Equals()\u8FD4\u56DETRUE\u3002</li></ul><p><strong>ST_Intersects\u3001ST_Disjoint\u3001ST_Crosses\u548CST_Overlaps</strong></p><ul><li><strong>ST_Intersects</strong>\u3001<strong>ST_Crosses</strong>\u548C<strong>ST_Overlaps</strong>\u6D4B\u8BD5\u51E0\u4F55\u56FE\u5F62\u662F\u5426\u76F8\u4EA4\u3002</li><li>\u5982\u679C<strong>\u4E24\u4E2A\u56FE\u5F62\u6709\u91CD\u5408\u7684\u90E8\u5206\uFF0C\u5373\u5982\u679C\u5B83\u4EEC\u7684\u8FB9\u754C\u6216\u5185\u90E8\u76F8\u4EA4</strong>\uFF0C\u5219**ST_Intersects(geometry A, geometry B)**\u8FD4\u56DETRUE</li><li><strong>ST_Disjoint(geometry A, geometry B)</strong>\uFF0C\u5982\u679C\u4E24\u4E2A\u51E0\u4F55\u56FE\u5F62\u6CA1\u6709\u91CD\u5408\u7684\u90E8\u5206\uFF0C\u5219\u5B83\u4EEC\u4E0D\u76F8\u4EA4\uFF0C\u53CD\u4E4B\u4EA6\u7136\u3002\u4E8B\u5B9E\u4E0A\u6D4B\u8BD5&quot;not intersect&quot;\u901A\u5E38\u6BD4\u6D4B\u8BD5&quot;disjoint&quot;\u66F4\u6709\u6548\uFF0C\u56E0\u4E3Aintersect\u6D4B\u8BD5\u53EF\u4EE5\u4F7F\u7528<strong>\u7A7A\u95F4\u7D22\u5F15</strong></li><li>\u5BF9\u4E8Emultipoint/polygon\u3001multipoint/linestring\u3001linestring/linestring\u3001linestring/polygon\u548Clinestring/multipolygon\u7684\u6BD4\u8F83\uFF0C<strong>\u5982\u679C\u76F8\u4EA4\u751F\u6210\u7684\u51E0\u4F55\u56FE\u5F62\u7684\u7EF4\u5EA6\u5C0F\u4E8E\u4E24\u4E2A\u6E90\u51E0\u4F55\u56FE\u5F62\u7684\u6700\u5927\u7EF4\u5EA6\uFF0C\u4E14\u76F8\u4EA4\u96C6\u4F4D\u4E8E\u4E24\u4E2A\u6E90\u51E0\u4F55\u56FE\u5F62\u7684\u5185\u90E8</strong>\uFF0C\u5219**ST_Crosses(geometry A, geometry B)**\u5C06\u8FD4\u56DETRUE\u3002</li><li><strong>ST_Overlaps(geometry A, geometry B)<strong>\u6BD4\u8F83\u4E24\u4E2A</strong>\u76F8\u540C\u7EF4\u5EA6</strong>\u7684\u51E0\u4F55\u56FE\u5F62\uFF0C<strong>\u5982\u679C\u5B83\u4EEC\u7684\u7ED3\u679C\u96C6\u4E0E\u4E24\u4E2A\u6E90\u51E0\u4F55\u56FE\u5F62\u90FD\u4E0D\u540C\u4F46\u5177\u6709\u76F8\u540C\u7EF4\u5EA6</strong>\uFF0C\u5219\u8FD4\u56DETRUE\u3002</li></ul><p><strong>ST_Touches()</strong></p><ul><li>\u6D4B\u8BD5\u4E24\u4E2A\u51E0\u4F55\u56FE\u5F62\u662F\u5426\u5728\u5B83\u4EEC\u7684\u8FB9\u754C\u4E0A\u63A5\u89E6\uFF0C\u4F46\u5728\u5B83\u4EEC\u7684\u5185\u90E8\u4E0D\u76F8\u4EA4</li><li>\u5982\u679C\u4E24\u4E2A\u51E0\u4F55\u56FE\u5F62\u7684<strong>\u8FB9\u754C\u76F8\u4EA4</strong>\uFF0C\u6216\u8005\u53EA\u6709\u4E00\u4E2A\u51E0\u4F55\u56FE\u5F62\u7684\u5185\u90E8\u4E0E\u53E6\u4E00\u4E2A\u51E0\u4F55\u56FE\u5F62\u7684\u8FB9\u754C\u76F8\u4EA4\uFF0C\u5219**ST_Touches(geometry A, geometry B)**\u5C06\u8FD4\u56DETRUE</li></ul><p><strong>ST_Within\u548CST_Contains</strong></p><ul><li>ST_Within()\u548CST_Contains()\u6D4B\u8BD5\u4E00\u4E2A\u51E0\u4F55\u56FE\u5F62\u662F\u5426\u5B8C\u5168\u4F4D\u4E8E\u53E6\u4E00\u4E2A\u51E0\u4F55\u56FE\u5F62\u5185</li><li>\u5982\u679C\u7B2C\u4E00\u4E2A\u51E0\u4F55\u56FE\u5F62\u5B8C\u5168\u4F4D\u4E8E\u7B2C\u4E8C\u4E2A\u51E0\u4F55\u56FE\u5F62\u5185\uFF0C\u5219ST_Within(geometry A, geometry B)\u8FD4\u56DETRUE\uFF0CST_Within()\u6D4B\u8BD5\u7684\u7ED3\u679C\u4E0EST_Contains()\u5B8C\u5168\u76F8\u53CD</li><li>\u5982\u679C\u7B2C\u4E8C\u4E2A\u51E0\u4F55\u56FE\u5F62\u5B8C\u5168\u5305\u542B\u5728\u7B2C\u4E00\u4E2A\u51E0\u4F55\u56FE\u5F62\u5185\uFF0C\u5219ST_Contains(geometry A, geometry B)\u8FD4\u56DETRUE</li></ul><p><strong>ST_Distance\u548CST_DWithin</strong></p><ul><li>**ST_Distance(geometry A, geometry B)**\u8BA1\u7B97\u4E24\u4E2A\u51E0\u4F55\u56FE\u5F62\u4E4B\u95F4\u7684\u6700\u77ED\u8DDD\u79BB\uFF0C\u5E76\u5C06\u5176\u4F5C\u4E3A\u6D6E\u70B9\u6570\u8FD4\u56DE\u3002\u8FD9\u5BF9\u4E8E\u5B9E\u9645\u62A5\u544A\u51E0\u4F55\u56FE\u5F62\u4E4B\u95F4\u7684\u8DDD\u79BB\u975E\u5E38\u6709\u7528</li><li><strong>ST_DWithin()</strong>\uFF0C\u6D4B\u8BD5\u4E24\u4E2A\u51E0\u4F55\u56FE\u5F62\u4E4B\u95F4\u7684\u8DDD\u79BB\u662F\u5426\u5728\u67D0\u4E2A\u8303\u56F4\u4E4B\u5185\uFF0C</li></ul><h3 id="geography\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#geography\u7C7B\u578B" aria-hidden="true">#</a> geography\u7C7B\u578B</h3>',15),sn=i("<li><strong>ST_AsText(geography)</strong> returns <code>text</code></li><li><strong>ST_GeographyFromText(text)</strong> returns <code>geography</code></li><li><strong>ST_AsBinary(geography)</strong> returns <code>bytea</code></li><li><strong>ST_GeogFromWKB(bytea)</strong> returns <code>geography</code></li><li><strong>ST_AsSVG(geography)</strong> returns <code>text</code></li><li><strong>ST_AsGML(geography)</strong> returns <code>text</code></li><li><strong>ST_AsKML(geography)</strong> returns <code>text</code></li><li><strong>ST_AsGeoJson(geography)</strong> returns <code>text</code></li><li><strong>ST_Distance(geography, geography)</strong> returns <code>double</code></li><li><strong>ST_DWithin(geography, geography, float8)</strong> returns <code>boolean</code></li><li><strong>ST_Area(geography)</strong> returns <code>double</code></li><li><strong>ST_Length(geography)</strong> returns <code>double</code></li><li><strong>ST_Covers(geography, geography)</strong> returns <code>boolean</code></li><li><strong>ST_CoveredBy(geography, geography)</strong> returns <code>boolean</code></li><li><strong>ST_Intersects(geography, geography)</strong> returns <code>boolean</code></li>",15),rn=e("strong",null,"ST_Buffer(geography, float8)",-1),dn=n(" returns "),ln=e("code",null,"geography",-1),on=n("["),cn={href:"https://link.zhihu.com/?target=https%3A//postgis.net/workshops/postgis-intro/geography.html%23casting-note",target:"_blank",rel:"noopener noreferrer"},hn=n("1]"),un=e("strong",null,"ST_Intersection(geography, geography)",-1),pn=n(" returns "),mn=e("code",null,"geography",-1),bn=n("["),gn={href:"https://link.zhihu.com/?target=https%3A//postgis.net/workshops/postgis-intro/geography.html%23casting-note",target:"_blank",rel:"noopener noreferrer"},vn=n("1]"),yn=i(`<p><strong>geography\u8F6C\u6362\u4E3Ageometry</strong></p><p>PostgreSQL\u7684\u7C7B\u578B\u8F6C\u6362\u8BED\u6CD5\u662F\u5C06 <strong>::typename</strong> \u9644\u52A0\u5230\u5E0C\u671B\u8F6C\u6362\u7684\u503C\u7684\u672B\u5C3E\u3002\u56E0\u6B64\uFF0C2::text\u5C06\u6570\u5B572\u8F6C\u6362\u4E3A\u6587\u672C\u5B57\u7B26\u4E32&quot;2&quot;\uFF1B&#39;POINT(0 0)&#39; :: geometry\u5C06\u70B9\u7684\u6587\u672C\u8868\u793A\u5F62\u5F0F\u8F6C\u6362\u4E3Ageometry\u70B9</p><h1 id="\u4E0A\u597D\u4F8B\u9898" tabindex="-1"><a class="header-anchor" href="#\u4E0A\u597D\u4F8B\u9898" aria-hidden="true">#</a> \u4E0A\u597D\u4F8B\u9898</h1><p>\u65F6\u95F4\u683C\u5F0F\uFF0C\u622A\u53D6\u5339\u914D\uFF0C\u5206\u7EC4\uFF0C\u6392\u5E8F</p><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>select job,date_format(date,&quot;%Y-%m&quot;) as mon,sum(num) as cnt from resume_info where left(date,4)= &#39;2025&#39; group by job,mon order by mon desc,cnt desc
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5355\u8F93\u5165\uFF0C\u591A\u5B57\u6BB5\u67E5\u8BE2</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\\&lt;if test=&quot;text!=null and text!=&#39;&#39;&quot;&gt;
    and CONCAT(t.city,t.bh,t.cun,t.jsztmc,t.xmxmmc) like concat (&#39;%&#39;,#{text},&#39;%&#39;)
\\&lt;/if&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u6709\u6CA1\u6709\u8FDB\u884C\u8FC7\u5206\u5E93\u5206\u8868\u64CD\u4F5C-\u5206\u5E93\u4E4B\u540E\u5982\u4F55\u4FDD\u6301\u4E8B\u52A1\u4E00\u81F4" tabindex="-1"><a class="header-anchor" href="#\u6709\u6CA1\u6709\u8FDB\u884C\u8FC7\u5206\u5E93\u5206\u8868\u64CD\u4F5C-\u5206\u5E93\u4E4B\u540E\u5982\u4F55\u4FDD\u6301\u4E8B\u52A1\u4E00\u81F4" aria-hidden="true">#</a> \u6709\u6CA1\u6709\u8FDB\u884C\u8FC7\u5206\u5E93\u5206\u8868\u64CD\u4F5C\uFF1F\u5206\u5E93\u4E4B\u540E\u5982\u4F55\u4FDD\u6301\u4E8B\u52A1\u4E00\u81F4\uFF1F</h2><h1 id="java\u5B57\u6BB5\u6620\u5C04" tabindex="-1"><a class="header-anchor" href="#java\u5B57\u6BB5\u6620\u5C04" aria-hidden="true">#</a> Java\u5B57\u6BB5\u6620\u5C04</h1><h2 id="\u5168\u5B57\u6BB5\u8BE6\u8868" tabindex="-1"><a class="header-anchor" href="#\u5168\u5B57\u6BB5\u8BE6\u8868" aria-hidden="true">#</a> \u5168\u5B57\u6BB5\u8BE6\u8868</h2><h2 id="\u6570\u503C" tabindex="-1"><a class="header-anchor" href="#\u6570\u503C" aria-hidden="true">#</a> \u6570\u503C</h2>`,11),_n={href:"https://www.runoob.com/mysql/mysql-data-types.html",target:"_blank",rel:"noopener noreferrer"},fn=n("\u53C2\u8003"),xn=i('<table><thead><tr><th style="text-align:left;">\u7C7B\u578B</th><th style="text-align:left;">\u5927\u5C0F</th><th style="text-align:left;">\u8303\u56F4\uFF08\u6709\u7B26\u53F7\uFF09</th><th style="text-align:left;">\u8303\u56F4\uFF08\u65E0\u7B26\u53F7UNSIGNED\uFF09</th><th style="text-align:left;">\u7528\u9014</th></tr></thead><tbody><tr><td style="text-align:left;">TINYINT</td><td style="text-align:left;">1 Bytes</td><td style="text-align:left;">(-128\uFF0C127)</td><td style="text-align:left;">(0\uFF0C255)</td><td style="text-align:left;">\u5C0F\u6574\u6570\u503C</td></tr><tr><td style="text-align:left;">SMALLINT</td><td style="text-align:left;">2 Bytes</td><td style="text-align:left;">(-32 768\uFF0C32 767)</td><td style="text-align:left;">(0\uFF0C65 535)</td><td style="text-align:left;">\u5927\u6574\u6570\u503C</td></tr><tr><td style="text-align:left;">MEDIUMINT</td><td style="text-align:left;">3 Bytes</td><td style="text-align:left;">(-8 388 608\uFF0C8 388 607)</td><td style="text-align:left;">(0\uFF0C16 777 215)</td><td style="text-align:left;">\u5927\u6574\u6570\u503C</td></tr><tr><td style="text-align:left;">INT\u6216INTEGER</td><td style="text-align:left;">4 Bytes</td><td style="text-align:left;">(-2 147 483 648\uFF0C2 147 483 647)</td><td style="text-align:left;">(0\uFF0C4 294 967 295)</td><td style="text-align:left;">\u5927\u6574\u6570\u503C</td></tr><tr><td style="text-align:left;">BIGINT</td><td style="text-align:left;">8 Bytes</td><td style="text-align:left;">(-9,223,372,036,854,775,808\uFF0C9 223 372 036 854 775 807)</td><td style="text-align:left;">(0\uFF0C18 446 744 073 709 551 615)</td><td style="text-align:left;">\u6781\u5927\u6574\u6570\u503C</td></tr><tr><td style="text-align:left;">FLOAT</td><td style="text-align:left;">4 Bytes</td><td style="text-align:left;">(-3.402 823 466 E+38\uFF0C-1.175 494 351 E-38)\uFF0C0\uFF0C(1.175 494 351 E-38\uFF0C3.402 823 466 351 E+38)</td><td style="text-align:left;">0\uFF0C(1.175 494 351 E-38\uFF0C3.402 823 466 E+38)</td><td style="text-align:left;">\u5355\u7CBE\u5EA6 \u6D6E\u70B9\u6570\u503C</td></tr><tr><td style="text-align:left;">DOUBLE</td><td style="text-align:left;">8 Bytes</td><td style="text-align:left;">(-1.797 693 134 862 315 7 E+308\uFF0C-2.225 073 858 507 201 4 E-308)\uFF0C0\uFF0C(2.225 073 858 507 201 4 E-308\uFF0C1.797 693 134 862 315 7 E+308)</td><td style="text-align:left;">0\uFF0C(2.225 073 858 507 201 4 E-308\uFF0C1.797 693 134 862 315 7 E+308)</td><td style="text-align:left;">\u53CC\u7CBE\u5EA6 \u6D6E\u70B9\u6570\u503C</td></tr><tr><td style="text-align:left;">DECIMAL</td><td style="text-align:left;">\u5BF9DECIMAL(M,D) \uFF0C\u5982\u679CM&gt;D\uFF0C\u4E3AM+2\u5426\u5219\u4E3AD+2</td><td style="text-align:left;">\u4F9D\u8D56\u4E8EM\u548CD\u7684\u503C</td><td style="text-align:left;">\u4F9D\u8D56\u4E8EM\u548CD\u7684\u503C</td><td style="text-align:left;">\u5C0F\u6570\u503C</td></tr></tbody></table><h2 id="\u65F6\u95F4" tabindex="-1"><a class="header-anchor" href="#\u65F6\u95F4" aria-hidden="true">#</a> \u65F6\u95F4</h2><table><thead><tr><th style="text-align:left;">\u7C7B\u578B</th><th style="text-align:left;">\u5927\u5C0F ( bytes)</th><th style="text-align:left;">\u8303\u56F4</th><th style="text-align:left;">\u683C\u5F0F</th><th style="text-align:left;">\u7528\u9014</th></tr></thead><tbody><tr><td style="text-align:left;">DATE</td><td style="text-align:left;">3</td><td style="text-align:left;">1000-01-01/9999-12-31</td><td style="text-align:left;">YYYY-MM-DD</td><td style="text-align:left;">\u65E5\u671F\u503C</td></tr><tr><td style="text-align:left;">TIME</td><td style="text-align:left;">3</td><td style="text-align:left;">&#39;-838:59:59&#39;/&#39;838:59:59&#39;</td><td style="text-align:left;">HH:MM:SS</td><td style="text-align:left;">\u65F6\u95F4\u503C\u6216\u6301\u7EED\u65F6\u95F4</td></tr><tr><td style="text-align:left;">YEAR</td><td style="text-align:left;">1</td><td style="text-align:left;">1901/2155</td><td style="text-align:left;">YYYY</td><td style="text-align:left;">\u5E74\u4EFD\u503C</td></tr><tr><td style="text-align:left;">DATETIME</td><td style="text-align:left;">8</td><td style="text-align:left;">1000-01-01 00:00:00/9999-12-31 23:59:59</td><td style="text-align:left;">YYYY-MM-DD HH:MM:SS</td><td style="text-align:left;">\u6DF7\u5408\u65E5\u671F\u548C\u65F6\u95F4\u503C</td></tr><tr><td style="text-align:left;">TIMESTAMP</td><td style="text-align:left;">4</td><td style="text-align:left;">1970-01-01 00:00:00/2038\u7ED3\u675F\u65F6\u95F4\u662F\u7B2C <strong>2147483647</strong> \u79D2\uFF0C\u5317\u4EAC\u65F6\u95F4 <strong>2038-1-19 11:14:07</strong>\uFF0C\u683C\u6797\u5C3C\u6CBB\u65F6\u95F4 2038\u5E741\u670819\u65E5 \u51CC\u6668 03:14:07</td><td style="text-align:left;">YYYYMMDD HHMMSS</td><td style="text-align:left;">\u6DF7\u5408\u65E5\u671F\u548C\u65F6\u95F4\u503C\uFF0C\u65F6\u95F4\u6233</td></tr></tbody></table><h2 id="\u5B57\u7B26\u4E32" tabindex="-1"><a class="header-anchor" href="#\u5B57\u7B26\u4E32" aria-hidden="true">#</a> \u5B57\u7B26\u4E32</h2><table><thead><tr><th style="text-align:left;">\u7C7B\u578B</th><th style="text-align:left;">\u5927\u5C0F</th><th style="text-align:left;">\u7528\u9014</th></tr></thead><tbody><tr><td style="text-align:left;">CHAR</td><td style="text-align:left;">0-255 bytes</td><td style="text-align:left;">\u5B9A\u957F\u5B57\u7B26\u4E32</td></tr><tr><td style="text-align:left;">VARCHAR</td><td style="text-align:left;">0-65535 bytes</td><td style="text-align:left;">\u53D8\u957F\u5B57\u7B26\u4E32</td></tr><tr><td style="text-align:left;">TINYBLOB</td><td style="text-align:left;">0-255 bytes</td><td style="text-align:left;">\u4E0D\u8D85\u8FC7 255 \u4E2A\u5B57\u7B26\u7684\u4E8C\u8FDB\u5236\u5B57\u7B26\u4E32</td></tr><tr><td style="text-align:left;">TINYTEXT</td><td style="text-align:left;">0-255 bytes</td><td style="text-align:left;">\u77ED\u6587\u672C\u5B57\u7B26\u4E32</td></tr><tr><td style="text-align:left;">BLOB</td><td style="text-align:left;">0-65 535 bytes</td><td style="text-align:left;">\u4E8C\u8FDB\u5236\u5F62\u5F0F\u7684\u957F\u6587\u672C\u6570\u636E</td></tr><tr><td style="text-align:left;">TEXT</td><td style="text-align:left;">0-65 535 bytes</td><td style="text-align:left;">\u957F\u6587\u672C\u6570\u636E</td></tr><tr><td style="text-align:left;">MEDIUMBLOB</td><td style="text-align:left;">0-16 777 215 bytes</td><td style="text-align:left;">\u4E8C\u8FDB\u5236\u5F62\u5F0F\u7684\u4E2D\u7B49\u957F\u5EA6\u6587\u672C\u6570\u636E</td></tr><tr><td style="text-align:left;">MEDIUMTEXT</td><td style="text-align:left;">0-16 777 215 bytes</td><td style="text-align:left;">\u4E2D\u7B49\u957F\u5EA6\u6587\u672C\u6570\u636E</td></tr><tr><td style="text-align:left;">LONGBLOB</td><td style="text-align:left;">0-4 294 967 295 bytes</td><td style="text-align:left;">\u4E8C\u8FDB\u5236\u5F62\u5F0F\u7684\u6781\u5927\u6587\u672C\u6570\u636E</td></tr><tr><td style="text-align:left;">LONGTEXT</td><td style="text-align:left;">0-4 294 967 295 bytes</td><td style="text-align:left;">\u6781\u5927\u6587\u672C\u6570\u636E</td></tr></tbody></table><p><img src="http://qnimg.gisfsde.com/work/image-20210706135508764.png" alt="image-20210706135508764" loading="lazy"></p><blockquote><p>1bit \u4F4D 1\u5B57\u8282=8bit 1k=1024\u5B57\u8282 1\u5146=1024k 1G=1023M 1T=1024G</p></blockquote><h2 id="\u5E38\u7528java\u6620\u5C04" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528java\u6620\u5C04" aria-hidden="true">#</a> \u5E38\u7528Java\u6620\u5C04</h2><table><thead><tr><th>Mysql</th><th>Java</th><th>\u5305</th><th>\u5B57\u6BB5\u540D</th><th></th><th>\u5907\u6CE8</th></tr></thead><tbody><tr><td>datetime</td><td>Date</td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><h1 id="\u6570\u636E\u5E93\u8BBE\u8BA1" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5E93\u8BBE\u8BA1" aria-hidden="true">#</a> \u6570\u636E\u5E93\u8BBE\u8BA1</h1><h2 id="\u540D\u79F0" tabindex="-1"><a class="header-anchor" href="#\u540D\u79F0" aria-hidden="true">#</a> \u540D\u79F0</h2><p>**\u8868\u662F\u5426\uFF1A**is_xxx \u7C7B\u578B\uFF1A\u4EFB\u4F55\u5B57\u6BB5\u975E\u8D1F\u6570\u5FC5\u987B\u662F unsigned tinyint (1\u662F 0\u5426) POJO\u4E2D\u9700\u8981\u4ECEis_xxx \u53BB\u6389is\u524D\u7F00\u6620\u5C04\u5230 xxx</p><p>**\u8868\u540D\u3001\u5B57\u6BB5\u540D\uFF1A**\u5168\u5C0F\u5199\u3010windows\u4E0D\u533A\u5206\u5927\u5C0F\u5199\uFF0Clinux\u533A\u5206\u3011\u3001\u975E\u6570\u5B57\u5F00\u5934\u3001\u4E24\u4E2A\u4E0B\u5212\u7EBF\u4E2D\u4E0D\u80FD\u53EA\u662F\u6570\u5B57\u3001\u8868\u540D\u4E0D\u4F7F\u7528\u590D\u6570\u3002\u4E0D\u4F7F\u7528\u4FDD\u7559\u5B57\u3002\u8868\u540D\u79F0\u5EFA\u8BAE\uFF1A\u4E1A\u52A1\u540D\u79F0_\u8868\u7684\u4F5C\u7528\u3002</p><p>**\u7D22\u5F15\u540D\uFF1A**\u4E3B\u952E\u7D22\u5F15\uFF1Apk_xxx\u3001\u552F\u4E00\u7D22\u5F15\u540D\uFF1Auk_xxx\u3001\u666E\u901A\u7D22\u5F15\uFF1Aidx_xxx</p><p>**\u5C0F\u6570\uFF1A**decimal \uFF08\u8D85\u8FC7\u5176\u8303\u56F4\u5EFA\u8BAE\u62C6\u6210\u6574\u6570\u548C\u5C0F\u6570\u5206\u5F00\u5B58\u50A8\uFF09\uFF0C<strong>\u7981\u7528float\u3001double</strong> \u3010\u7CBE\u5EA6\u95EE\u9898\u3011</p><p>**\u5B57\u7B26\u4E32\uFF1A**\u6570\u636E\u957F\u5EA6\u51E0\u4E4E\u76F8\u7B49\u7528char\u5B9A\u957F\uFF0Cvachar\u4E3A\u53EF\u53D8\u957F\u5B57\u7B26\u4E32\uFF0C\u957F\u5EA6\u8D85\u8FC75000 \u65F6 \u4F7F\u7528text\u7C7B\u578B\u72EC\u7ACB\u8868\u5B58\u50A8</p><p>**\u8868\u5355\u5FC5\u5907\u4E09\u5B57\u6BB5\uFF1A**id\uFF08bigint unsigned\uFF09\u65E0\u7B26\u53F7\u5373\u6B63\u503C\u8303\u56F4\u66F4\u5927\u3001gmt_create / gmt_modified(datetime,\u524D\u8005\u73B0\u5728\u65F6\u8868\u793A\u4E3B\u52A8\u5F0F\u521B\u5EFA\uFF0C\u540E\u8005\u8FC7\u53BB\u5206\u8BCD\u8868\u793A\u88AB\u52A8\u5F0F\u66F4\u65B0)</p><p>**\u5E93\u540D\uFF1A**\u5EFA\u8BAE\u540C\u5E94\u7528\u540D</p><p>**\u5907\u6CE8\uFF1A**\u4FEE\u6539\u5B57\u6BB5\u542B\u4E49\u4E0E\u72B6\u6001\u6DFB\u52A0\u65F6\u53CA\u65F6\u66F4\u65B0\u5907\u6CE8\u3002</p><p>**\u5176\u4ED6\uFF1A**\u5B57\u6BB5\u9002\u5F53\u957F\u5EA6\u5197\u4F59\uFF0C\u5355\u6807\u6570\u636E\u8D85\u8FC7500\u4E07\u884C\u6216\u5BB9\u91CF\u8D85\u8FC72GB\u624D\u5EFA\u8BAE\u5206\u5E93\u5206\u8868\u3002\u4E09\u5E74\u7684\u65F6\u95F4\u4F30\u8BA1\u3002</p><h2 id="\u7D22\u5F15-3" tabindex="-1"><a class="header-anchor" href="#\u7D22\u5F15-3" aria-hidden="true">#</a> \u7D22\u5F15</h2><ol><li>\u5177\u6709\u552F\u4E00\u7279\u6027\u7684\u5B57\u6BB5\uFF0C\u5373\u4F7F\u662F\u7EC4\u5408\u5B57\u6BB5\uFF0C\u4E5F\u5FC5\u987B\u5EFA\u6210\u552F\u4E00\u7D22\u5F15</li><li>\u8D85\u8FC7\u4E09\u4E2A\u8868\u7981\u6B62join\u3002\u9700\u8981join\u7684\u5B57\u6BB5\uFF0C\u6570\u636E\u7C7B\u578B\u4FDD\u6301\u7EDD\u5BF9\u4E00\u81F4\uFF1B\u591A\u8868\u5173\u8054\u67E5\u8BE2\u65F6\uFF0C\u4FDD\u8BC1\u88AB\u5173\u8054\u7684\u5B57\u6BB5\u9700\u8981\u6709\u7D22\u5F15\u3002</li><li>\u5728varchar\u5B57\u6BB5\u4E0A\u5EFA\u7ACB\u7D22\u5F15\u65F6\uFF0C\u5FC5\u987B\u6307\u5B9A\u7D22\u5F15\u957F\u5EA6\uFF0C\u6CA1\u5FC5\u8981\u5BF9\u5168\u5B57\u6BB5\u5EFA\u7ACB\u7D22\u5F15\uFF0C\u6839\u636E\u5B9E\u9645\u6587\u672C\u533A\u5206\u5EA6\u51B3\u5B9A\u7D22\u5F15\u957F\u5EA6</li><li>\u9875\u9762\u641C\u7D22\u4E25\u7981\u5DE6\u6A21\u7CCA\u6216\u8005\u5168\u6A21\u7CCA\uFF0C\u5982\u679C\u9700\u8981\u8BF7\u8D70\u641C\u7D22\u5F15\u64CE\u6765\u89E3\u51B3\u3002</li><li>\u5982\u679C\u6709order by\u7684\u573A\u666F\uFF0C\u8BF7\u6CE8\u610F\u5229\u7528\u7D22\u5F15\u7684\u6709\u5E8F\u6027\u3002order by \u6700\u540E\u7684\u5B57\u6BB5\u662F\u7EC4\u5408\u7D22\u5F15\u7684\u4E00\u90E8\u5206\uFF0C\u5E76\u4E14\u653E\u5728\u7D22\u5F15\u7EC4\u5408\u987A\u5E8F\u7684\u6700\u540E\uFF0C\u907F\u514D\u51FA\u73B0file_sort\u7684\u60C5\u51B5\uFF0C\u5F71\u54CD\u67E5\u8BE2\u6027\u80FD\u3002</li><li>\u5229\u7528\u8986\u76D6\u7D22\u5F15\u6765\u8FDB\u884C\u67E5\u8BE2\u64CD\u4F5C\uFF0C\u907F\u514D\u56DE\u8868\u3002</li><li>\u5229\u7528\u5EF6\u8FDF\u5173\u8054\u6216\u8005\u5B50\u67E5\u8BE2\u4F18\u5316\u8D85\u591A\u5206\u9875\u573A\u666F\u3002</li><li>SQL\u6027\u80FD\u4F18\u5316\u7684\u76EE\u6807\uFF1A\u81F3\u5C11\u8981\u8FBE\u5230 range \u7EA7\u522B\uFF0C\u8981\u6C42\u662Fref\u7EA7\u522B\uFF0C\u5982\u679C\u53EF\u4EE5\u662Fconsts\u6700\u597D\u3002</li><li>\u5EFA\u7EC4\u5408\u7D22\u5F15\u7684\u65F6\u5019\uFF0C\u533A\u5206\u5EA6\u6700\u9AD8\u7684\u5728\u6700\u5DE6\u8FB9\u3002</li><li>\u9632\u6B62\u56E0\u5B57\u6BB5\u7C7B\u578B\u4E0D\u540C\u9020\u6210\u7684\u9690\u5F0F\u8F6C\u6362\uFF0C\u5BFC\u81F4\u7D22\u5F15\u5931\u6548\u3002</li></ol><h2 id="\u8BED\u53E5" tabindex="-1"><a class="header-anchor" href="#\u8BED\u53E5" aria-hidden="true">#</a> \u8BED\u53E5</h2><ol><li>\u4E0D\u8981\u4F7F\u7528count(\u5217\u540D)\u6216count(\u5E38\u91CF)\u6765\u66FF\u4EE3count(<em>)\uFF0Ccount(</em>)\u662FSQL92\u5B9A\u4E49\u7684\u6807\u51C6\u7EDF\u8BA1\u884C\u6570\u7684\u8BED\u6CD5\uFF0C\u8DDF\u6570\u636E\u5E93\u65E0\u5173\uFF0C\u8DDFNULL\u548C\u975ENULL\u65E0\u5173\u3002 \u8BF4\u660E\uFF1Acount(*)\u4F1A\u7EDF\u8BA1\u503C\u4E3ANULL\u7684\u884C\uFF0C\u800Ccount(\u5217\u540D)\u4E0D\u4F1A\u7EDF\u8BA1\u6B64\u5217\u4E3ANULL\u503C\u7684\u884C\u3002</li><li>\u3011count(distinct col) \u8BA1\u7B97\u8BE5\u5217\u9664NULL\u4E4B\u5916\u7684\u4E0D\u91CD\u590D\u884C\u6570\uFF0C\u6CE8\u610F count(distinct col1, col2) \u5982\u679C\u5176\u4E2D\u4E00\u5217\u5168\u4E3ANULL\uFF0C\u90A3\u4E48\u5373\u4F7F\u53E6\u4E00\u5217\u6709\u4E0D\u540C\u7684\u503C\uFF0C\u4E5F\u8FD4\u56DE\u4E3A0\u3002</li><li>\u5F53\u67D0\u4E00\u5217\u7684\u503C\u5168\u662FNULL\u65F6\uFF0Ccount(col)\u7684\u8FD4\u56DE\u7ED3\u679C\u4E3A0\uFF0C\u4F46sum(col)\u7684\u8FD4\u56DE\u7ED3\u679C\u4E3ANULL\uFF0C\u56E0\u6B64\u4F7F\u7528sum()\u65F6\u9700\u6CE8\u610FNPE\u95EE\u9898\u3002 \u6B63\u4F8B\uFF1A\u53EF\u4EE5\u4F7F\u7528\u5982\u4E0B\u65B9\u5F0F\u6765\u907F\u514Dsum\u7684NPE\u95EE\u9898\uFF1ASELECT IFNULL(SUM(column), 0) FROM table;</li><li>\u4F7F\u7528ISNULL()\u6765\u5224\u65AD\u662F\u5426\u4E3ANULL\u503C\u3002 \u8BF4\u660E\uFF1ANULL\u4E0E\u4EFB\u4F55\u503C\u7684\u76F4\u63A5\u6BD4\u8F83\u90FD\u4E3ANULL\u3002 1\uFF09 NULL&lt;&gt;NULL\u7684\u8FD4\u56DE\u7ED3\u679C\u662FNULL\uFF0C\u800C\u4E0D\u662Ffalse\u3002 2\uFF09 NULL=NULL\u7684\u8FD4\u56DE\u7ED3\u679C\u662FNULL\uFF0C\u800C\u4E0D\u662Ftrue\u3002 3\uFF09 NULL&lt;&gt;1\u7684\u8FD4\u56DE\u7ED3\u679C\u662FNULL\uFF0C\u800C\u4E0D\u662Ftrue\u3002</li><li>\u4EE3\u7801\u4E2D\u5199\u5206\u9875\u67E5\u8BE2\u903B\u8F91\u65F6\uFF0C\u82E5count\u4E3A0\u5E94\u76F4\u63A5\u8FD4\u56DE\uFF0C\u907F\u514D\u6267\u884C\u540E\u9762\u7684\u5206\u9875\u8BED\u53E5\u3002</li><li>\u4E0D\u5F97\u4F7F\u7528\u5916\u952E\u4E0E\u7EA7\u8054\uFF0C\u4E00\u5207\u5916\u952E\u6982\u5FF5\u5FC5\u987B\u5728\u5E94\u7528\u5C42\u89E3\u51B3\u3002</li><li>\u7981\u6B62\u4F7F\u7528\u5B58\u50A8\u8FC7\u7A0B\uFF0C\u5B58\u50A8\u8FC7\u7A0B\u96BE\u4EE5\u8C03\u8BD5\u548C\u6269\u5C55\uFF0C\u66F4\u6CA1\u6709\u79FB\u690D\u6027\u3002</li><li>\u6570\u636E\u8BA2\u6B63\uFF08\u7279\u522B\u662F\u5220\u9664\u6216\u4FEE\u6539\u8BB0\u5F55\u64CD\u4F5C\uFF09\u65F6\uFF0C\u8981\u5148select\uFF0C\u907F\u514D\u51FA\u73B0\u8BEF\u5220\u9664\uFF0C\u786E\u8BA4\u65E0\u8BEF\u624D\u80FD\u6267\u884C\u66F4\u65B0\u8BED\u53E5\u3002</li><li>\u5BF9\u4E8E\u6570\u636E\u5E93\u4E2D\u8868\u8BB0\u5F55\u7684\u67E5\u8BE2\u548C\u53D8\u66F4\uFF0C\u53EA\u8981\u6D89\u53CA\u591A\u4E2A\u8868\uFF0C\u90FD\u9700\u8981\u5728\u5217\u540D\u524D\u52A0\u8868\u7684\u522B\u540D\uFF08\u6216\u8868\u540D\uFF09\u8FDB\u884C\u9650\u5B9A\uFF0C\u5426\u5219\u540C\u540D\u5B57\u6BB5\u5B58\u5728\u591A\u8868\u4E2D\u4F1A\u62A5\u9519\u3002\u522B\u540D\u524D\u52A0as\u4F7F\u522B\u540D\u66F4\u5BB9\u6613\u8BC6\u522B\u3002</li><li>n\u64CD\u4F5C\u80FD\u907F\u514D\u5219\u907F\u514D\uFF0C\u82E5\u5B9E\u5728\u907F\u514D\u4E0D\u4E86\uFF0C\u9700\u8981\u4ED4\u7EC6\u8BC4\u4F30in\u540E\u8FB9\u7684\u96C6\u5408\u5143\u7D20\u6570\u91CF\uFF0C\u63A7\u5236\u57281000\u4E2A\u4E4B\u5185\u3002</li></ol><h2 id="orm\u6620\u5C04" tabindex="-1"><a class="header-anchor" href="#orm\u6620\u5C04" aria-hidden="true">#</a> ORM\u6620\u5C04</h2><ol><li>\u4E00\u5F8B\u4E0D\u8981\u4F7F\u7528 * \u4F5C\u4E3A\u67E5\u8BE2\u7684\u5B57\u6BB5\u5217\u8868\uFF0C\u9700\u8981\u54EA\u4E9B\u5B57\u6BB5\u5FC5\u987B\u660E\u786E\u5199\u660E\u3002\u56E0\u4E3A\u4F1A 1\uFF09\u589E\u52A0\u67E5\u8BE2\u5206\u6790\u5668\u89E3\u6790\u6210\u672C\u30022\uFF09\u589E\u51CF\u5B57\u6BB5\u5BB9\u6613\u4E0EresultMap\u914D\u7F6E\u4E0D\u4E00\u81F4\u30023\uFF09\u65E0\u7528\u5B57\u6BB5\u589E\u52A0\u7F51\u7EDC\u6D88\u8017\uFF0C\u5C24\u5176\u662Ftext\u7C7B\u578B\u7684\u5B57\u6BB5\u3002</li><li>POJO\u7C7B\u7684\u5E03\u5C14\u5C5E\u6027\u4E0D\u80FD\u52A0is\uFF0C\u800C\u6570\u636E\u5E93\u5B57\u6BB5\u5FC5\u987B\u52A0is_\uFF0C\u8981\u6C42\u5728resultMap\u4E2D\u8FDB\u884C\u5B57\u6BB5\u4E0E\u5C5E\u6027\u4E4B\u95F4\u7684\u6620\u5C04\u3002</li><li>\u4E0D\u8981\u7528resultClass\u5F53\u8FD4\u56DE\u53C2\u6570\uFF0C\u5373\u4F7F\u6240\u6709\u7C7B\u5C5E\u6027\u540D\u4E0E\u6570\u636E\u5E93\u5B57\u6BB5\u4E00\u4E00\u5BF9\u5E94\uFF0C\u4E5F\u9700\u8981\u5B9A\u4E49&lt;resultMap&gt;\uFF1B\u53CD\u8FC7\u6765\uFF0C\u6BCF\u4E00\u4E2A\u8868\u4E5F\u5FC5\u7136\u6709\u4E00\u4E2A&lt;resultMap&gt;\u4E0E\u4E4B\u5BF9\u5E94\u3002\u914D\u7F6E\u6620\u5C04\u5173\u7CFB\uFF0C\u4F7F\u5B57\u6BB5\u4E0EDO\u7C7B\u89E3\u8026\uFF0C\u65B9\u4FBF\u7EF4\u62A4\u3002</li><li>sql.xml\u914D\u7F6E\u53C2\u6570\u4F7F\u7528\uFF1A#{}\uFF0C#param# \u4E0D\u8981\u4F7F\u7528${} \u6B64\u79CD\u65B9\u5F0F\u5BB9\u6613\u51FA\u73B0SQL\u6CE8\u5165</li><li>iBATIS\u81EA\u5E26\u7684queryForList(String statementName,int start,int size)\u4E0D\u63A8\u8350\u4F7F\u7528\u3002</li><li>\u4E0D\u5141\u8BB8\u76F4\u63A5\u62FFHashMap\u4E0EHashtable\u4F5C\u4E3A\u67E5\u8BE2\u7ED3\u679C\u96C6\u7684\u8F93\u51FA\u3002</li><li>\u66F4\u65B0\u6570\u636E\u8868\u8BB0\u5F55\u65F6\uFF0C\u5FC5\u987B\u540C\u65F6\u66F4\u65B0\u8BB0\u5F55\u5BF9\u5E94\u7684gmt_modified\u5B57\u6BB5\u503C\u4E3A\u5F53\u524D\u65F6\u95F4\u3002</li><li>\u6267\u884CSQL\u65F6\uFF0C\u4E0D\u8981\u66F4\u65B0\u65E0\u6539\u52A8\u7684\u5B57\u6BB5\uFF0C\u4E00\u662F\u6613\u51FA\u9519\uFF1B\u4E8C\u662F\u6548\u7387\u4F4E\uFF1B\u4E09\u662F\u589E\u52A0binlog\u5B58\u50A8</li><li>@Transactional\u4E8B\u52A1\u4E0D\u8981\u6EE5\u7528\u3002\u4E8B\u52A1\u4F1A\u5F71\u54CD\u6570\u636E\u5E93\u7684QPS\uFF0C\u53E6\u5916\u4F7F\u7528\u4E8B\u52A1\u7684\u5730\u65B9\u9700\u8981\u8003\u8651\u5404\u65B9\u9762\u7684\u56DE\u6EDA\u65B9\u6848\uFF0C\u5305\u62EC\u7F13\u5B58\u56DE\u6EDA\u3001\u641C\u7D22\u5F15\u64CE\u56DE\u6EDA\u3001\u6D88\u606F\u8865\u507F\u3001\u7EDF\u8BA1\u4FEE\u6B63\u7B49\u3002</li><li>&lt;isEqual&gt;\u4E2D\u7684compareValue\u662F\u4E0E\u5C5E\u6027\u503C\u5BF9\u6BD4\u7684\u5E38\u91CF\uFF0C\u4E00\u822C\u662F\u6570\u5B57\uFF0C\u8868\u793A\u76F8\u7B49\u65F6\u5E26\u4E0A\u6B64\u6761\u4EF6\uFF1B&lt;isNotEmpty&gt;\u8868\u793A\u4E0D\u4E3A\u7A7A\u4E14\u4E0D\u4E3Anull\u65F6\u6267\u884C\uFF1B&lt;isNotNull&gt;\u8868\u793A\u4E0D\u4E3Anull\u503C\u65F6\u6267\u884C\u3002</li></ol>',26),En={id:"\u4E3B\u952Euuid-or-int-\u81EA\u589E",tabindex:"-1"},Tn=e("a",{class:"header-anchor",href:"#\u4E3B\u952Euuid-or-int-\u81EA\u589E","aria-hidden":"true"},"#",-1),Ln=n(),Sn={href:"https://blog.csdn.net/Liu_Wd/article/details/53011128",target:"_blank",rel:"noopener noreferrer"},kn=n("\u4E3B\u952EUUID or INT \u81EA\u589E\uFF1F"),qn=i('<h1 id="\u963F\u91CC\u89C4\u8303\u6458\u8981" tabindex="-1"><a class="header-anchor" href="#\u963F\u91CC\u89C4\u8303\u6458\u8981" aria-hidden="true">#</a> \u963F\u91CC\u89C4\u8303\u6458\u8981</h1><h1 id="\u6570\u636E\u5E93\u5B57\u6BB5\u8BBE\u8BA1\u53CA\u5BF9\u5E94\u5173\u7CFB" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5E93\u5B57\u6BB5\u8BBE\u8BA1\u53CA\u5BF9\u5E94\u5173\u7CFB" aria-hidden="true">#</a> \u6570\u636E\u5E93\u5B57\u6BB5\u8BBE\u8BA1\u53CA\u5BF9\u5E94\u5173\u7CFB</h1><h1 id="\u6570\u636E\u5E93\u4E09\u539F\u5219" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5E93\u4E09\u539F\u5219" aria-hidden="true">#</a> \u6570\u636E\u5E93\u4E09\u539F\u5219</h1><h1 id="\u6570\u636E\u5E93\u8BBE\u8BA1\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#\u6570\u636E\u5E93\u8BBE\u8BA1\u5DE5\u5177" aria-hidden="true">#</a> \u6570\u636E\u5E93\u8BBE\u8BA1\u5DE5\u5177</h1><h1 id="\u5982\u4F55\u8BBE\u8BA1\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u8BBE\u8BA1\u6570\u636E\u5E93" aria-hidden="true">#</a> \u5982\u4F55\u8BBE\u8BA1\u6570\u636E\u5E93</h1><h1 id="\u5E94\u7528" tabindex="-1"><a class="header-anchor" href="#\u5E94\u7528" aria-hidden="true">#</a> \u5E94\u7528</h1><h2 id="\u5206\u5E93\u5206\u8868mycat" tabindex="-1"><a class="header-anchor" href="#\u5206\u5E93\u5206\u8868mycat" aria-hidden="true">#</a> \u5206\u5E93\u5206\u8868Mycat</h2><p>\u963F\u91CC\u5DF4\u5DF4\u89C4\u8303\u624B\u518C\uFF1A\u3010\u63A8\u8350\u3011\u5355\u8868\u884C\u6570\u8D85\u8FC7500\u4E07\u884C\u6216\u8005\u5355\u8868\u5BB9\u91CF\u8D85\u8FC72GB\uFF0C\u624D\u63A8\u8350\u8FDB\u884C\u5206\u5E93\u5206\u8868\u3002 \u8BF4\u660E\uFF1A\u5982\u679C\u9884\u8BA1\u4E09\u5E74\u540E\u7684\u6570\u636E\u91CF\u6839\u672C\u8FBE\u4E0D\u5230\u8FD9\u4E2A\u7EA7\u522B\uFF0C\u8BF7\u4E0D\u8981\u5728\u521B\u5EFA\u8868\u65F6\u5C31\u5206\u5E93\u5206\u8868\u3002</p><h3 id="-2" tabindex="-1"><a class="header-anchor" href="#-2" aria-hidden="true">#</a></h3>',9);function Nn(In,An){const a=r("ExternalLinkIcon");return d(),l("div",null,[c,e("p",null,[h,e("a",u,[p,t(a)]),m,e("a",b,[g,t(a)]),v,e("a",y,[_,t(a)])]),f,e("p",null,[x,e("a",E,[T,t(a)]),L,e("a",S,[k,t(a)]),q,e("a",N,[I,t(a)])]),A,e("p",null,[w,e("a",R,[O,t(a)]),M,e("a",D,[B,t(a)]),C,e("a",U,[Q,t(a)]),G]),F,e("p",null,[H,e("a",Y,[P,t(a)]),j,e("a",W,[K,t(a)])]),V,e("p",null,[X,e("a",J,[z,t(a)]),$,Z,ee,e("a",ne,[ae,t(a)]),te]),ie,e("h2",se,[re,de,e("a",le,[oe,t(a)])]),ce,e("h2",he,[ue,pe,e("a",me,[be,t(a)])]),ge,e("h3",ve,[ye,_e,e("a",fe,[xe,t(a)])]),Ee,e("h2",Te,[Le,Se,e("a",ke,[qe,t(a)])]),Ne,e("p",null,[Ie,e("a",Ae,[we,t(a)]),Re]),Oe,e("p",null,[Me,e("a",De,[Be,t(a)]),Ce]),Ue,e("p",null,[Qe,e("a",Ge,[Fe,t(a)]),He]),Ye,e("p",null,[Pe,e("a",je,[We,t(a)]),Ke]),Ve,e("p",null,[Xe,e("a",Je,[ze,t(a)])]),$e,e("p",null,[Ze,e("a",en,[nn,t(a)]),an]),tn,e("ul",null,[sn,e("li",null,[rn,dn,ln,on,e("a",cn,[hn,t(a)])]),e("li",null,[un,pn,mn,bn,e("a",gn,[vn,t(a)])])]),yn,e("p",null,[e("a",_n,[fn,t(a)])]),xn,e("h2",En,[Tn,Ln,e("a",Sn,[kn,t(a)])]),qn])}var On=s(o,[["render",Nn],["__file","MYSQLOptimize.html.vue"]]);export{On as default};
